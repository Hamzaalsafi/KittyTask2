function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e_={exports:{}},eh={},t_={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),AP=Symbol.for("react.portal"),RP=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),OP=Symbol.for("react.context"),VP=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),jP=Symbol.for("react.memo"),BP=Symbol.for("react.lazy"),Sy=Symbol.iterator;function FP(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var n_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r_=Object.assign,i_={};function na(t,e,n){this.props=t,this.context=e,this.refs=i_,this.updater=n||n_}na.prototype.isReactComponent={};na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s_(){}s_.prototype=na.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=i_,this.updater=n||n_}var lg=ag.prototype=new s_;lg.constructor=ag;r_(lg,na.prototype);lg.isPureReactComponent=!0;var ky=Array.isArray,o_=Object.prototype.hasOwnProperty,ug={current:null},a_={key:!0,ref:!0,__self:!0,__source:!0};function l_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)o_.call(e,r)&&!a_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tu,type:t,key:s,ref:o,props:i,_owner:ug.current}}function UP(t,e){return{$$typeof:tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===tu}function zP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cy=/\/+/g;function pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zP(""+t.key):e.toString(36)}function wc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tu:case AP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pf(o,0):r,ky(i)?(n="",t!=null&&(n=t.replace(Cy,"$&/")+"/"),wc(i,e,n,"",function(u){return u})):i!=null&&(cg(i)&&(i=UP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ky(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pf(s,a);o+=wc(s,e,n,l,i)}else if(l=FP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pf(s,a++),o+=wc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $u(t,e,n){if(t==null)return t;var r=[],i=0;return wc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $P(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},_c={transition:null},WP={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:_c,ReactCurrentOwner:ug};function u_(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:$u,forEach:function(t,e,n){$u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $u(t,function(){e++}),e},toArray:function(t){return $u(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=na;Ce.Fragment=RP;Ce.Profiler=NP;Ce.PureComponent=ag;Ce.StrictMode=DP;Ce.Suspense=LP;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;Ce.act=u_;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=r_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)o_.call(e,l)&&!a_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:OP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MP,_context:t},t.Consumer=t};Ce.createElement=l_;Ce.createFactory=function(t){var e=l_.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:VP,render:t}};Ce.isValidElement=cg;Ce.lazy=function(t){return{$$typeof:BP,_payload:{_status:-1,_result:t},_init:$P}};Ce.memo=function(t,e){return{$$typeof:jP,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};Ce.unstable_act=u_;Ce.useCallback=function(t,e){return gn.current.useCallback(t,e)};Ce.useContext=function(t){return gn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return gn.current.useEffect(t,e)};Ce.useId=function(){return gn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return gn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};Ce.useRef=function(t){return gn.current.useRef(t)};Ce.useState=function(t){return gn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return gn.current.useTransition()};Ce.version="18.3.1";t_.exports=Ce;var M=t_.exports;const be=Zw(M),HP=IP({__proto__:null,default:be},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=M,GP=Symbol.for("react.element"),qP=Symbol.for("react.fragment"),QP=Object.prototype.hasOwnProperty,XP=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YP={key:!0,ref:!0,__self:!0,__source:!0};function c_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QP.call(e,r)&&!YP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GP,type:t,key:s,ref:o,props:i,_owner:XP.current}}eh.Fragment=qP;eh.jsx=c_;eh.jsxs=c_;e_.exports=eh;var C=e_.exports,d_={exports:{}},Vn={},h_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var G=L.length;L.push(W);e:for(;0<G;){var oe=G-1>>>1,re=L[oe];if(0<i(re,W))L[oe]=W,L[G]=re,G=oe;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],G=L.pop();if(G!==W){L[0]=G;e:for(var oe=0,re=L.length,le=re>>>1;oe<le;){var Ve=2*(oe+1)-1,De=L[Ve],se=Ve+1,Ne=L[se];if(0>i(De,G))se<re&&0>i(Ne,De)?(L[oe]=Ne,L[se]=G,oe=se):(L[oe]=De,L[Ve]=G,oe=Ve);else if(se<re&&0>i(Ne,G))L[oe]=Ne,L[se]=G,oe=se;else break e}}return W}function i(L,W){var G=L.sortIndex-W.sortIndex;return G!==0?G:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,h=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function R(L){if(m=!1,E(L),!g)if(n(l)!==null)g=!0,J(w);else{var W=n(u);W!==null&&F(R,W.startTime-L)}}function w(L,W){g=!1,m&&(m=!1,x(y),y=-1),h=!0;var G=p;try{for(E(W),f=n(l);f!==null&&(!(f.expirationTime>W)||L&&!A());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var re=oe(f.expirationTime<=W);W=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),E(W)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var Ve=n(u);Ve!==null&&F(R,Ve.startTime-W),le=!1}return le}finally{f=null,p=G,h=!1}}var I=!1,T=null,y=-1,S=5,k=-1;function A(){return!(t.unstable_now()-k<S)}function D(){if(T!==null){var L=t.unstable_now();k=L;var W=!0;try{W=T(!0,L)}finally{W?N():(I=!1,T=null)}}else I=!1}var N;if(typeof b=="function")N=function(){b(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=D,N=function(){z.postMessage(null)}}else N=function(){v(D,0)};function J(L){T=L,I||(I=!0,N())}function F(L,W){y=v(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,J(w))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var G=p;p=W;try{return L()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=p;p=L;try{return W()}finally{p=G}},t.unstable_scheduleCallback=function(L,W,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,L){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,L={id:c++,callback:W,priorityLevel:L,startTime:G,expirationTime:re,sortIndex:-1},G>oe?(L.sortIndex=G,e(u,L),n(l)===null&&L===n(u)&&(m?(x(y),y=-1):m=!0,F(R,G-oe))):(L.sortIndex=re,e(l,L),g||h||(g=!0,J(w))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var W=p;return function(){var G=p;p=W;try{return L.apply(this,arguments)}finally{p=G}}}})(f_);h_.exports=f_;var JP=h_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZP=M,Mn=JP;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p_=new Set,bl={};function Os(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(bl[t]=e,t=0;t<e.length;t++)p_.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,e5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},Iy={};function t5(t){return mp.call(Iy,t)?!0:mp.call(Py,t)?!1:e5.test(t)?Iy[t]=!0:(Py[t]=!0,!1)}function n5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r5(t,e,n,r){if(e===null||typeof e>"u"||n5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,hg);Wt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,hg);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,hg);Wt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r5(e,n,i,r)&&(n=null),r||i===null?t5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=ZP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),g_=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),v_=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,mf;function La(t){if(mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mf=e&&e[1]||""}return`
`+mf+t}var gf=!1;function vf(t,e){if(!t||gf)return"";gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function i5(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=vf(t.type,!1),t;case 11:return t=vf(t.type.render,!1),t;case 1:return t=vf(t.type,!0),t;default:return""}}function xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case gp:return"Profiler";case pg:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g_:return(t.displayName||"Context")+".Consumer";case m_:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:xp(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return xp(t(e))}catch{}}return null}function s5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o5(t){var e=y_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=o5(t))}function x_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bp(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ry(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b_(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function wp(t,e){b_(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,n):e.hasOwnProperty("defaultValue")&&_p(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _p(t,e,n){(e!=="number"||Qc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ja=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(ja(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function w_(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function My(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function __(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?__(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,E_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a5=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(t){a5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ja[e]=Ja[t]})});function T_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ja.hasOwnProperty(t)&&Ja[t]?(""+e).trim():e+"px"}function S_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=T_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l5=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(l5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function kp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pp=null,Po=null,Io=null;function Oy(t){if(t=iu(t)){if(typeof Pp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=sh(e),Pp(t.stateNode,t.type,e))}}function k_(t){Po?Io?Io.push(t):Io=[t]:Po=t}function C_(){if(Po){var t=Po,e=Io;if(Io=Po=null,Oy(t),e)for(t=0;t<e.length;t++)Oy(e[t])}}function P_(t,e){return t(e)}function I_(){}var yf=!1;function A_(t,e,n){if(yf)return t(e,n);yf=!0;try{return P_(t,e,n)}finally{yf=!1,(Po!==null||Io!==null)&&(I_(),C_())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Ip=!1;if(Kr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Ip=!1}function u5(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Za=!1,Xc=null,Yc=!1,Ap=null,c5={onError:function(t){Za=!0,Xc=t}};function d5(t,e,n,r,i,s,o,a,l){Za=!1,Xc=null,u5.apply(c5,arguments)}function h5(t,e,n,r,i,s,o,a,l){if(d5.apply(this,arguments),Za){if(Za){var u=Xc;Za=!1,Xc=null}else throw Error(K(198));Yc||(Yc=!0,Ap=u)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vy(t){if(Vs(t)!==t)throw Error(K(188))}function f5(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vy(i),t;if(s===r)return Vy(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function D_(t){return t=f5(t),t!==null?N_(t):null}function N_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N_(t);if(e!==null)return e;t=t.sibling}return null}var M_=Mn.unstable_scheduleCallback,Ly=Mn.unstable_cancelCallback,p5=Mn.unstable_shouldYield,m5=Mn.unstable_requestPaint,vt=Mn.unstable_now,g5=Mn.unstable_getCurrentPriorityLevel,yg=Mn.unstable_ImmediatePriority,O_=Mn.unstable_UserBlockingPriority,Jc=Mn.unstable_NormalPriority,v5=Mn.unstable_LowPriority,V_=Mn.unstable_IdlePriority,th=null,xr=null;function y5(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:w5,x5=Math.log,b5=Math.LN2;function w5(t){return t>>>=0,t===0?32:31-(x5(t)/b5|0)|0}var Gu=64,qu=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=n&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function _5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ar(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L_(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function T5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function j_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B_,bg,F_,U_,z_,Dp=!1,Qu=[],Ti=null,Si=null,ki=null,El=new Map,Tl=new Map,pi=[],S5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=iu(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k5(t,e,n,r,i){switch(e){case"focusin":return Ti=Aa(Ti,t,e,n,r,i),!0;case"dragenter":return Si=Aa(Si,t,e,n,r,i),!0;case"mouseover":return ki=Aa(ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return El.set(s,Aa(El.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tl.set(s,Aa(Tl.get(s)||null,t,e,n,r,i)),!0}return!1}function $_(t){var e=gs(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=R_(n),e!==null){t.blockedOn=e,z_(t.priority,function(){F_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return e=iu(n),e!==null&&bg(e),t.blockedOn=n,!1;e.shift()}return!0}function By(t,e,n){Ec(t)&&n.delete(e)}function C5(){Dp=!1,Ti!==null&&Ec(Ti)&&(Ti=null),Si!==null&&Ec(Si)&&(Si=null),ki!==null&&Ec(ki)&&(ki=null),El.forEach(By),Tl.forEach(By)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,C5)))}function Sl(t){function e(i){return Ra(i,t)}if(0<Qu.length){Ra(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&Ra(Ti,t),Si!==null&&Ra(Si,t),ki!==null&&Ra(ki,t),El.forEach(e),Tl.forEach(e),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)$_(n),n.blockedOn===null&&pi.shift()}var Ao=ti.ReactCurrentBatchConfig,ed=!0;function P5(t,e,n,r){var i=We,s=Ao.transition;Ao.transition=null;try{We=1,wg(t,e,n,r)}finally{We=i,Ao.transition=s}}function I5(t,e,n,r){var i=We,s=Ao.transition;Ao.transition=null;try{We=4,wg(t,e,n,r)}finally{We=i,Ao.transition=s}}function wg(t,e,n,r){if(ed){var i=Np(t,e,n,r);if(i===null)If(t,e,r,td,n),jy(t,r);else if(k5(i,t,e,n,r))r.stopPropagation();else if(jy(t,r),e&4&&-1<S5.indexOf(t)){for(;i!==null;){var s=iu(i);if(s!==null&&B_(s),s=Np(t,e,n,r),s===null&&If(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else If(t,e,r,null,n)}}var td=null;function Np(t,e,n,r){if(td=null,t=vg(r),t=gs(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function W_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g5()){case yg:return 1;case O_:return 4;case Jc:case v5:return 16;case V_:return 536870912;default:return 16}default:return 16}}var bi=null,_g=null,Tc=null;function H_(){if(Tc)return Tc;var t,e=_g,n=e.length,r,i="value"in bi?bi.value:bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tc=i.slice(t,1<r?1-r:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function Fy(){return!1}function Ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xu:Fy,this.isPropagationStopped=Fy,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=Ln(ra),ru=lt({},ra,{view:0,detail:0}),A5=Ln(ru),bf,wf,Da,nh=lt({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(bf=t.screenX-Da.screenX,wf=t.screenY-Da.screenY):wf=bf=0,Da=t),bf)},movementY:function(t){return"movementY"in t?t.movementY:wf}}),Uy=Ln(nh),R5=lt({},nh,{dataTransfer:0}),D5=Ln(R5),N5=lt({},ru,{relatedTarget:0}),_f=Ln(N5),M5=lt({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),O5=Ln(M5),V5=lt({},ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L5=Ln(V5),j5=lt({},ra,{data:0}),zy=Ln(j5),B5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U5[t])?!!e[t]:!1}function Tg(){return z5}var $5=lt({},ru,{key:function(t){if(t.key){var e=B5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W5=Ln($5),H5=lt({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Ln(H5),K5=lt({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),G5=Ln(K5),q5=lt({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q5=Ln(q5),X5=lt({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y5=Ln(X5),J5=[9,13,27,32],Sg=Kr&&"CompositionEvent"in window,el=null;Kr&&"documentMode"in document&&(el=document.documentMode);var Z5=Kr&&"TextEvent"in window&&!el,K_=Kr&&(!Sg||el&&8<el&&11>=el),Wy=" ",Hy=!1;function G_(t,e){switch(t){case"keyup":return J5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function eI(t,e){switch(t){case"compositionend":return q_(e);case"keypress":return e.which!==32?null:(Hy=!0,Wy);case"textInput":return t=e.data,t===Wy&&Hy?null:t;default:return null}}function tI(t,e){if(uo)return t==="compositionend"||!Sg&&G_(t,e)?(t=H_(),Tc=_g=bi=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K_&&e.locale!=="ko"?null:e.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nI[t.type]:e==="textarea"}function Q_(t,e,n,r){k_(r),e=nd(e,"onChange"),0<e.length&&(n=new Eg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tl=null,kl=null;function rI(t){oE(t,0)}function rh(t){var e=fo(t);if(x_(e))return t}function iI(t,e){if(t==="change")return e}var X_=!1;if(Kr){var Ef;if(Kr){var Tf="oninput"in document;if(!Tf){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Tf=typeof Gy.oninput=="function"}Ef=Tf}else Ef=!1;X_=Ef&&(!document.documentMode||9<document.documentMode)}function qy(){tl&&(tl.detachEvent("onpropertychange",Y_),kl=tl=null)}function Y_(t){if(t.propertyName==="value"&&rh(kl)){var e=[];Q_(e,kl,t,vg(t)),A_(rI,e)}}function sI(t,e,n){t==="focusin"?(qy(),tl=e,kl=n,tl.attachEvent("onpropertychange",Y_)):t==="focusout"&&qy()}function oI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(kl)}function aI(t,e){if(t==="click")return rh(e)}function lI(t,e){if(t==="input"||t==="change")return rh(e)}function uI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:uI;function Cl(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mp.call(e,i)||!cr(t[i],e[i]))return!1}return!0}function Qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=Qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qy(n)}}function J_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z_(){for(var t=window,e=Qc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qc(t.document)}return e}function kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cI(t){var e=Z_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J_(n.ownerDocument.documentElement,n)){if(r!==null&&kg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xy(n,s);var o=Xy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dI=Kr&&"documentMode"in document&&11>=document.documentMode,co=null,Mp=null,nl=null,Op=!1;function Yy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||co==null||co!==Qc(r)||(r=co,"selectionStart"in r&&kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nl&&Cl(nl,r)||(nl=r,r=nd(Mp,"onSelect"),0<r.length&&(e=new Eg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Sf={},eE={};Kr&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ih(t){if(Sf[t])return Sf[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eE)return Sf[t]=e[n];return t}var tE=ih("animationend"),nE=ih("animationiteration"),rE=ih("animationstart"),iE=ih("transitionend"),sE=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){sE.set(t,e),Os(e,[t])}for(var kf=0;kf<Jy.length;kf++){var Cf=Jy[kf],hI=Cf.toLowerCase(),fI=Cf[0].toUpperCase()+Cf.slice(1);Qi(hI,"on"+fI)}Qi(tE,"onAnimationEnd");Qi(nE,"onAnimationIteration");Qi(rE,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(iE,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h5(r,e,void 0,t),t.currentTarget=null}function oE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,u),s=l}}}if(Yc)throw t=Ap,Yc=!1,Ap=null,t}function Je(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(aE(e,t,2,!1),n.add(r))}function Pf(t,e,n){var r=0;e&&(r|=4),aE(n,t,r,e)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[Ju]){t[Ju]=!0,p_.forEach(function(n){n!=="selectionchange"&&(pI.has(n)||Pf(n,!1,t),Pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ju]||(e[Ju]=!0,Pf("selectionchange",!1,e))}}function aE(t,e,n,r){switch(W_(e)){case 1:var i=P5;break;case 4:i=I5;break;default:i=wg}n=i.bind(null,e,n,t),i=void 0,!Ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function If(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}A_(function(){var u=s,c=vg(n),f=[];e:{var p=sE.get(t);if(p!==void 0){var h=Eg,g=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":h=W5;break;case"focusin":g="focus",h=_f;break;case"focusout":g="blur",h=_f;break;case"beforeblur":case"afterblur":h=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=D5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=G5;break;case tE:case nE:case rE:h=O5;break;case iE:h=Q5;break;case"scroll":h=A5;break;case"wheel":h=Y5;break;case"copy":case"cut":case"paste":h=L5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$y}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?p!==null?p+"Capture":null:p;m=[];for(var b=u,E;b!==null;){E=b;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,x!==null&&(R=_l(b,x),R!=null&&m.push(Il(b,R,E)))),v)break;b=b.return}0<m.length&&(p=new h(p,g,null,n,c),f.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==Cp&&(g=n.relatedTarget||n.fromElement)&&(gs(g)||g[Gr]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?gs(g):null,g!==null&&(v=Vs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(m=Uy,R="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=$y,R="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?p:fo(h),E=g==null?p:fo(g),p=new m(R,b+"leave",h,n,c),p.target=v,p.relatedTarget=E,R=null,gs(c)===u&&(m=new m(x,b+"enter",g,n,c),m.target=E,m.relatedTarget=v,R=m),v=R,h&&g)t:{for(m=h,x=g,b=0,E=m;E;E=Ys(E))b++;for(E=0,R=x;R;R=Ys(R))E++;for(;0<b-E;)m=Ys(m),b--;for(;0<E-b;)x=Ys(x),E--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break t;m=Ys(m),x=Ys(x)}m=null}else m=null;h!==null&&e1(f,p,h,m,!1),g!==null&&v!==null&&e1(f,v,g,m,!0)}}e:{if(p=u?fo(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=iI;else if(Ky(p))if(X_)w=lI;else{w=oI;var I=sI}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=aI);if(w&&(w=w(t,u))){Q_(f,w,n,c);break e}I&&I(t,p,u),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&_p(p,"number",p.value)}switch(I=u?fo(u):window,t){case"focusin":(Ky(I)||I.contentEditable==="true")&&(co=I,Mp=u,nl=null);break;case"focusout":nl=Mp=co=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,Yy(f,n,c);break;case"selectionchange":if(dI)break;case"keydown":case"keyup":Yy(f,n,c)}var T;if(Sg)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else uo?G_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(K_&&n.locale!=="ko"&&(uo||y!=="onCompositionStart"?y==="onCompositionEnd"&&uo&&(T=H_()):(bi=c,_g="value"in bi?bi.value:bi.textContent,uo=!0)),I=nd(u,y),0<I.length&&(y=new zy(y,t,null,n,c),f.push({event:y,listeners:I}),T?y.data=T:(T=q_(n),T!==null&&(y.data=T)))),(T=Z5?eI(t,n):tI(t,n))&&(u=nd(u,"onBeforeInput"),0<u.length&&(c=new zy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}oE(f,e)})}function Il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(t,n),s!=null&&r.unshift(Il(t,s,i)),s=_l(t,e),s!=null&&r.push(Il(t,s,i))),t=t.return}return r}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function e1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_l(n,s),l!=null&&o.unshift(Il(n,l,a))):i||(l=_l(n,s),l!=null&&o.push(Il(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mI=/\r\n?/g,gI=/\u0000|\uFFFD/g;function t1(t){return(typeof t=="string"?t:""+t).replace(mI,`
`).replace(gI,"")}function Zu(t,e,n){if(e=t1(e),t1(t)!==e&&n)throw Error(K(425))}function rd(){}var Vp=null,Lp=null;function jp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,yI=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(t){return n1.resolve(null).then(t).catch(xI)}:Bp;function xI(t){setTimeout(function(){throw t})}function Af(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),vr="__reactFiber$"+ia,Al="__reactProps$"+ia,Gr="__reactContainer$"+ia,Fp="__reactEvents$"+ia,bI="__reactListeners$"+ia,wI="__reactHandles$"+ia;function gs(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r1(t);t!==null;){if(n=t[vr])return n;t=r1(t)}return e}t=n,n=t.parentNode}return null}function iu(t){return t=t[vr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function sh(t){return t[Al]||null}var Up=[],po=-1;function Xi(t){return{current:t}}function Ze(t){0>po||(t.current=Up[po],Up[po]=null,po--)}function Qe(t,e){po++,Up[po]=t.current,t.current=e}var Bi={},ln=Xi(Bi),_n=Xi(!1),Ts=Bi;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function id(){Ze(_n),Ze(ln)}function i1(t,e,n){if(ln.current!==Bi)throw Error(K(168));Qe(ln,e),Qe(_n,n)}function lE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,s5(t)||"Unknown",i));return lt({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Ts=ln.current,Qe(ln,t),Qe(_n,_n.current),!0}function s1(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=lE(t,e,Ts),r.__reactInternalMemoizedMergedChildContext=t,Ze(_n),Ze(ln),Qe(ln,t)):Ze(_n),Qe(_n,n)}var Vr=null,oh=!1,Rf=!1;function uE(t){Vr===null?Vr=[t]:Vr.push(t)}function _I(t){oh=!0,uE(t)}function Yi(){if(!Rf&&Vr!==null){Rf=!0;var t=0,e=We;try{var n=Vr;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,oh=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),M_(yg,Yi),i}finally{We=e,Rf=!1}}return null}var mo=[],go=0,od=null,ad=0,Un=[],zn=0,Ss=null,Lr=1,jr="";function ds(t,e){mo[go++]=ad,mo[go++]=od,od=t,ad=e}function cE(t,e,n){Un[zn++]=Lr,Un[zn++]=jr,Un[zn++]=Ss,Ss=t;var r=Lr;t=jr;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var s=32-ar(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-ar(e)+i|n<<i|r,jr=s+t}else Lr=1<<s|n<<i|r,jr=t}function Cg(t){t.return!==null&&(ds(t,1),cE(t,1,0))}function Pg(t){for(;t===od;)od=mo[--go],mo[go]=null,ad=mo[--go],mo[go]=null;for(;t===Ss;)Ss=Un[--zn],Un[zn]=null,jr=Un[--zn],Un[zn]=null,Lr=Un[--zn],Un[zn]=null}var Dn=null,An=null,nt=!1,rr=null;function dE(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,An=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Lr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,An=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $p(t){if(nt){var e=An;if(e){var n=e;if(!o1(t,e)){if(zp(t))throw Error(K(418));e=Ci(n.nextSibling);var r=Dn;e&&o1(t,e)?dE(r,n):(t.flags=t.flags&-4097|2,nt=!1,Dn=t)}}else{if(zp(t))throw Error(K(418));t.flags=t.flags&-4097|2,nt=!1,Dn=t}}}function a1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function ec(t){if(t!==Dn)return!1;if(!nt)return a1(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jp(t.type,t.memoizedProps)),e&&(e=An)){if(zp(t))throw hE(),Error(K(418));for(;e;)dE(t,e),e=Ci(e.nextSibling)}if(a1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Dn?Ci(t.stateNode.nextSibling):null;return!0}function hE(){for(var t=An;t;)t=Ci(t.nextSibling)}function Fo(){An=Dn=null,nt=!1}function Ig(t){rr===null?rr=[t]:rr.push(t)}var EI=ti.ReactCurrentBatchConfig;function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function tc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l1(t){var e=t._init;return e(t._payload)}function fE(t){function e(x,b){if(t){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ri(x,b),x.index=0,x.sibling=null,x}function s(x,b,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,E,R){return b===null||b.tag!==6?(b=jf(E,x.mode,R),b.return=x,b):(b=i(b,E),b.return=x,b)}function l(x,b,E,R){var w=E.type;return w===lo?c(x,b,E.props.children,R,E.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===di&&l1(w)===b.type)?(R=i(b,E.props),R.ref=Na(x,b,E),R.return=x,R):(R=Dc(E.type,E.key,E.props,null,x.mode,R),R.ref=Na(x,b,E),R.return=x,R)}function u(x,b,E,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Bf(E,x.mode,R),b.return=x,b):(b=i(b,E.children||[]),b.return=x,b)}function c(x,b,E,R,w){return b===null||b.tag!==7?(b=_s(E,x.mode,R,w),b.return=x,b):(b=i(b,E),b.return=x,b)}function f(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jf(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:return E=Dc(b.type,b.key,b.props,null,x.mode,E),E.ref=Na(x,null,b),E.return=x,E;case ao:return b=Bf(b,x.mode,E),b.return=x,b;case di:var R=b._init;return f(x,R(b._payload),E)}if(ja(b)||Pa(b))return b=_s(b,x.mode,E,null),b.return=x,b;tc(x,b)}return null}function p(x,b,E,R){var w=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return w!==null?null:a(x,b,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wu:return E.key===w?l(x,b,E,R):null;case ao:return E.key===w?u(x,b,E,R):null;case di:return w=E._init,p(x,b,w(E._payload),R)}if(ja(E)||Pa(E))return w!==null?null:c(x,b,E,R,null);tc(x,E)}return null}function h(x,b,E,R,w){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(E)||null,a(b,x,""+R,w);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Wu:return x=x.get(R.key===null?E:R.key)||null,l(b,x,R,w);case ao:return x=x.get(R.key===null?E:R.key)||null,u(b,x,R,w);case di:var I=R._init;return h(x,b,E,I(R._payload),w)}if(ja(R)||Pa(R))return x=x.get(E)||null,c(b,x,R,w,null);tc(b,R)}return null}function g(x,b,E,R){for(var w=null,I=null,T=b,y=b=0,S=null;T!==null&&y<E.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var k=p(x,T,E[y],R);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(x,T),b=s(k,b,y),I===null?w=k:I.sibling=k,I=k,T=S}if(y===E.length)return n(x,T),nt&&ds(x,y),w;if(T===null){for(;y<E.length;y++)T=f(x,E[y],R),T!==null&&(b=s(T,b,y),I===null?w=T:I.sibling=T,I=T);return nt&&ds(x,y),w}for(T=r(x,T);y<E.length;y++)S=h(T,x,y,E[y],R),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?y:S.key),b=s(S,b,y),I===null?w=S:I.sibling=S,I=S);return t&&T.forEach(function(A){return e(x,A)}),nt&&ds(x,y),w}function m(x,b,E,R){var w=Pa(E);if(typeof w!="function")throw Error(K(150));if(E=w.call(E),E==null)throw Error(K(151));for(var I=w=null,T=b,y=b=0,S=null,k=E.next();T!==null&&!k.done;y++,k=E.next()){T.index>y?(S=T,T=null):S=T.sibling;var A=p(x,T,k.value,R);if(A===null){T===null&&(T=S);break}t&&T&&A.alternate===null&&e(x,T),b=s(A,b,y),I===null?w=A:I.sibling=A,I=A,T=S}if(k.done)return n(x,T),nt&&ds(x,y),w;if(T===null){for(;!k.done;y++,k=E.next())k=f(x,k.value,R),k!==null&&(b=s(k,b,y),I===null?w=k:I.sibling=k,I=k);return nt&&ds(x,y),w}for(T=r(x,T);!k.done;y++,k=E.next())k=h(T,x,y,k.value,R),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?y:k.key),b=s(k,b,y),I===null?w=k:I.sibling=k,I=k);return t&&T.forEach(function(D){return e(x,D)}),nt&&ds(x,y),w}function v(x,b,E,R){if(typeof E=="object"&&E!==null&&E.type===lo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wu:e:{for(var w=E.key,I=b;I!==null;){if(I.key===w){if(w=E.type,w===lo){if(I.tag===7){n(x,I.sibling),b=i(I,E.props.children),b.return=x,x=b;break e}}else if(I.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===di&&l1(w)===I.type){n(x,I.sibling),b=i(I,E.props),b.ref=Na(x,I,E),b.return=x,x=b;break e}n(x,I);break}else e(x,I);I=I.sibling}E.type===lo?(b=_s(E.props.children,x.mode,R,E.key),b.return=x,x=b):(R=Dc(E.type,E.key,E.props,null,x.mode,R),R.ref=Na(x,b,E),R.return=x,x=R)}return o(x);case ao:e:{for(I=E.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(x,b.sibling),b=i(b,E.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Bf(E,x.mode,R),b.return=x,x=b}return o(x);case di:return I=E._init,v(x,b,I(E._payload),R)}if(ja(E))return g(x,b,E,R);if(Pa(E))return m(x,b,E,R);tc(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,E),b.return=x,x=b):(n(x,b),b=jf(E,x.mode,R),b.return=x,x=b),o(x)):n(x,b)}return v}var Uo=fE(!0),pE=fE(!1),ld=Xi(null),ud=null,vo=null,Ag=null;function Rg(){Ag=vo=ud=null}function Dg(t){var e=ld.current;Ze(ld),t._currentValue=e}function Wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){ud=t,Ag=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(Ag!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if(ud===null)throw Error(K(308));vo=t,ud.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var vs=null;function Ng(t){vs===null?vs=[t]:vs.push(t)}function mE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function kc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xg(t,n)}}function u1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(p=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=lt({},f,p);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=f}}function c1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var su={},br=Xi(su),Rl=Xi(su),Dl=Xi(su);function ys(t){if(t===su)throw Error(K(174));return t}function Og(t,e){switch(Qe(Dl,e),Qe(Rl,t),Qe(br,su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}Ze(br),Qe(br,e)}function zo(){Ze(br),Ze(Rl),Ze(Dl)}function vE(t){ys(Dl.current);var e=ys(br.current),n=Tp(e,t.type);e!==n&&(Qe(Rl,t),Qe(br,n))}function Vg(t){Rl.current===t&&(Ze(br),Ze(Rl))}var st=Xi(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Df=[];function Lg(){for(var t=0;t<Df.length;t++)Df[t]._workInProgressVersionPrimary=null;Df.length=0}var Cc=ti.ReactCurrentDispatcher,Nf=ti.ReactCurrentBatchConfig,ks=0,at=null,Et=null,Nt=null,hd=!1,rl=!1,Nl=0,TI=0;function Zt(){throw Error(K(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function Bg(t,e,n,r,i,s){if(ks=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cc.current=t===null||t.memoizedState===null?PI:II,t=n(r,i),rl){s=0;do{if(rl=!1,Nl=0,25<=s)throw Error(K(301));s+=1,Nt=Et=null,e.updateQueue=null,Cc.current=AI,t=n(r,i)}while(rl)}if(Cc.current=fd,e=Et!==null&&Et.next!==null,ks=0,Nt=Et=at=null,hd=!1,e)throw Error(K(300));return t}function Fg(){var t=Nl!==0;return Nl=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Gn(){if(Et===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Nt===null?at.memoizedState:Nt.next;if(e!==null)Nt=e,Et=t;else{if(t===null)throw Error(K(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?at.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ml(t,e){return typeof e=="function"?e(t):e}function Mf(t){var e=Gn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ks&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,at.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,cr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Of(t){var e=Gn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cr(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yE(){}function xE(t,e){var n=at,r=Gn(),i=e(),s=!cr(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,Ug(_E.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Ol(9,wE.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(K(349));ks&30||bE(n,e,i)}return i}function bE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wE(t,e,n,r){e.value=n,e.getSnapshot=r,EE(e)&&TE(t)}function _E(t,e,n){return n(function(){EE(e)&&TE(t)})}function EE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function TE(t){var e=qr(t,1);e!==null&&lr(e,t,1,-1)}function d1(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=CI.bind(null,at,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SE(){return Gn().memoizedState}function Pc(t,e,n,r){var i=mr();at.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function ah(t,e,n,r){var i=Gn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&jg(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}at.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function h1(t,e){return Pc(8390656,8,t,e)}function Ug(t,e){return ah(2048,8,t,e)}function kE(t,e){return ah(4,2,t,e)}function CE(t,e){return ah(4,4,t,e)}function PE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IE(t,e,n){return n=n!=null?n.concat([t]):null,ah(4,4,PE.bind(null,e,t),n)}function zg(){}function AE(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RE(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DE(t,e,n){return ks&21?(cr(n,e)||(n=L_(),at.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function SI(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Nf.transition;Nf.transition={};try{t(!1),e()}finally{We=n,Nf.transition=r}}function NE(){return Gn().memoizedState}function kI(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ME(t))OE(e,n);else if(n=mE(t,e,n,r),n!==null){var i=mn();lr(n,t,r,i),VE(n,e,r)}}function CI(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ME(t))OE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cr(a,o)){var l=e.interleaved;l===null?(i.next=i,Ng(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mE(t,e,i,r),n!==null&&(i=mn(),lr(n,t,r,i),VE(n,e,r))}}function ME(t){var e=t.alternate;return t===at||e!==null&&e===at}function OE(t,e){rl=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xg(t,n)}}var fd={readContext:Kn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},PI={readContext:Kn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:h1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4194308,4,PE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kI.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:d1,useDebugValue:zg,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=d1(!1),e=t[0];return t=SI.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=mr();if(nt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ot===null)throw Error(K(349));ks&30||bE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,h1(_E.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,wE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=Ot.identifierPrefix;if(nt){var n=jr,r=Lr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},II={readContext:Kn,useCallback:AE,useContext:Kn,useEffect:Ug,useImperativeHandle:IE,useInsertionEffect:kE,useLayoutEffect:CE,useMemo:RE,useReducer:Mf,useRef:SE,useState:function(){return Mf(Ml)},useDebugValue:zg,useDeferredValue:function(t){var e=Gn();return DE(e,Et.memoizedState,t)},useTransition:function(){var t=Mf(Ml)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:xE,useId:NE,unstable_isNewReconciler:!1},AI={readContext:Kn,useCallback:AE,useContext:Kn,useEffect:Ug,useImperativeHandle:IE,useInsertionEffect:kE,useLayoutEffect:CE,useMemo:RE,useReducer:Of,useRef:SE,useState:function(){return Of(Ml)},useDebugValue:zg,useDeferredValue:function(t){var e=Gn();return Et===null?e.memoizedState=t:DE(e,Et.memoizedState,t)},useTransition:function(){var t=Of(Ml)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:xE,useId:NE,unstable_isNewReconciler:!1};function er(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lh={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Ai(t),s=Ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(lr(e,t,i,r),kc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Ai(t),s=Ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(lr(e,t,i,r),kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=Ai(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pi(t,i,r),e!==null&&(lr(e,t,r,n),kc(e,t,r))}};function f1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,s):!0}function LE(t,e,n){var r=!1,i=Bi,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=En(e)?Ts:ln.current,r=e.contextTypes,s=(r=r!=null)?Bo(t,i):Bi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function p1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lh.enqueueReplaceState(e,e.state,null)}function Kp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=En(e)?Ts:ln.current,i.context=Bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lh.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e){try{var n="",r=e;do n+=i5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RI=typeof WeakMap=="function"?WeakMap:Map;function jE(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,rm=r),Gp(t,e)},n}function BE(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HI.bind(null,t,e,n),e.then(t,t))}function g1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var DI=ti.ReactCurrentOwner,wn=!1;function pn(t,e,n,r){e.child=t===null?pE(e,null,n,r):Uo(e,t.child,n,r)}function y1(t,e,n,r,i){n=n.render;var s=e.ref;return Ro(e,i),r=Bg(t,e,n,r,s,i),n=Fg(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(nt&&n&&Cg(e),e.flags|=1,pn(t,e,r,i),e.child)}function x1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FE(t,e,s,r,i)):(t=Dc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function FE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cl(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return qp(t,e,n,r,i)}function UE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(xo,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(xo,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(xo,In),In|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(xo,In),In|=r;return pn(t,e,i,n),e.child}function zE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=En(n)?Ts:ln.current;return s=Bo(e,s),Ro(e,i),n=Bg(t,e,n,r,s,i),r=Fg(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(nt&&r&&Cg(e),e.flags|=1,pn(t,e,n,i),e.child)}function b1(t,e,n,r,i){if(En(n)){var s=!0;sd(e)}else s=!1;if(Ro(e,i),e.stateNode===null)Ic(t,e),LE(e,n,r),Kp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=En(n)?Ts:ln.current,u=Bo(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&p1(e,o,r,u),hi=!1;var p=e.memoizedState;o.state=p,cd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||_n.current||hi?(typeof c=="function"&&(Hp(e,n,c,r),l=e.memoizedState),(a=hi||f1(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:er(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=En(n)?Ts:ln.current,l=Bo(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&p1(e,o,r,l),hi=!1,p=e.memoizedState,o.state=p,cd(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||_n.current||hi?(typeof h=="function"&&(Hp(e,n,h,r),g=e.memoizedState),(u=hi||f1(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Qp(t,e,n,r,s,i)}function Qp(t,e,n,r,i,s){zE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&s1(e,n,!1),Qr(t,e,s);r=e.stateNode,DI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):pn(t,e,a,s),e.memoizedState=r.state,i&&s1(e,n,!0),e.child}function $E(t){var e=t.stateNode;e.pendingContext?i1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i1(t,e.context,!1),Og(t,e.containerInfo)}function w1(t,e,n,r,i){return Fo(),Ig(i),e.flags|=256,pn(t,e,n,r),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function WE(t,e,n){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(st,i&1),t===null)return $p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=_s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yp(n),e.memoizedState=Xp,t):$g(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=_s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xp,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nc(t,e,n,r){return r!==null&&Ig(r),Uo(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vf(Error(K(422))),nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=_s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=Yp(o),e.memoizedState=Xp,s);if(!(e.mode&1))return nc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Vf(s,r,void 0),nc(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qr(t,i),lr(r,t,i,-1))}return Qg(),r=Vf(Error(K(421))),nc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,An=Ci(i.nextSibling),Dn=e,nt=!0,rr=null,t!==null&&(Un[zn++]=Lr,Un[zn++]=jr,Un[zn++]=Ss,Lr=t.id,jr=t.overflow,Ss=e),e=$g(e,r.children),e.flags|=4096,e)}function _1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wp(t.return,e,n)}function Lf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function HE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_1(t,n,e);else if(t.tag===19)_1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lf(e,!0,n,null,s);break;case"together":Lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MI(t,e,n){switch(e.tag){case 3:$E(e),Fo();break;case 5:vE(e);break;case 1:En(e.type)&&sd(e);break;case 4:Og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?WE(t,e,n):(Qe(st,st.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,UE(t,e,n)}return Qr(t,e,n)}var KE,Jp,GE,qE;KE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jp=function(){};GE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(br.current);var s=null;switch(n){case"input":i=bp(t,i),r=bp(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=Ep(t,i),r=Ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Sp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OI(t,e,n){var r=e.pendingProps;switch(Pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return En(e.type)&&id(),en(e),null;case 3:return r=e.stateNode,zo(),Ze(_n),Ze(ln),Lg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(om(rr),rr=null))),Jp(t,e),en(e),null;case 5:Vg(e);var i=ys(Dl.current);if(n=e.type,t!==null&&e.stateNode!=null)GE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return en(e),null}if(t=ys(br.current),ec(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Al]=s,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Fa.length;i++)Je(Fa[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Ry(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":Ny(r,s),Je("invalid",r)}Sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",""+a]):bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":Hu(r),Dy(r,s,!0);break;case"textarea":Hu(r),My(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=__(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Al]=r,KE(t,e,!1,!1),e.stateNode=t;e:{switch(o=kp(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fa.length;i++)Je(Fa[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":Ry(t,r),i=bp(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":Ny(t,r),i=Ep(t,r),Je("invalid",t);break;default:i=r}Sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?S_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&fg(t,s,l,o))}switch(n){case"input":Hu(t),Dy(t,r,!1);break;case"textarea":Hu(t),My(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Co(t,!!r.multiple,s,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)qE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ys(Dl.current),ys(br.current),ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return en(e),null;case 13:if(Ze(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&An!==null&&e.mode&1&&!(e.flags&128))hE(),Fo(),e.flags|=98560,s=!1;else if(s=ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[vr]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else rr!==null&&(om(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?kt===0&&(kt=3):Qg())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return zo(),Jp(t,e),t===null&&Pl(e.stateNode.containerInfo),en(e),null;case 10:return Dg(e.type._context),en(e),null;case 17:return En(e.type)&&id(),en(e),null;case 19:if(Ze(st),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ma(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dd(t),o!==null){for(e.flags|=128,Ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>Wo&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return en(e),null}else 2*vt()-s.renderingStartTime>Wo&&n!==1073741824&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return qg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function VI(t,e){switch(Pg(e),e.tag){case 1:return En(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(),Ze(_n),Ze(ln),Lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(Ze(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(st),null;case 4:return zo(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var rc=!1,sn=!1,LI=typeof WeakSet=="function"?WeakSet:Set,ie=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function Zp(t,e,n){try{n()}catch(r){ht(t,e,r)}}var E1=!1;function jI(t,e){if(Vp=ed,t=Z_(),kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:t,selectionRange:n},ed=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:er(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(R){ht(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return g=E1,E1=!1,g}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zp(e,n,s)}i=i.next}while(i!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QE(t){var e=t.alternate;e!==null&&(t.alternate=null,QE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Al],delete e[Fp],delete e[bI],delete e[wI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XE(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}var Bt=null,nr=!1;function ai(t,e,n){for(n=n.child;n!==null;)YE(t,e,n),n=n.sibling}function YE(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:sn||yo(n,e);case 6:var r=Bt,i=nr;Bt=null,ai(t,e,n),Bt=r,nr=i,Bt!==null&&(nr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(nr?(t=Bt,n=n.stateNode,t.nodeType===8?Af(t.parentNode,n):t.nodeType===1&&Af(t,n),Sl(t)):Af(Bt,n.stateNode));break;case 4:r=Bt,i=nr,Bt=n.stateNode.containerInfo,nr=!0,ai(t,e,n),Bt=r,nr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zp(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!sn&&(yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,ai(t,e,n),sn=r):ai(t,e,n);break;default:ai(t,e,n)}}function S1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LI),e.forEach(function(r){var i=GI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,nr=!1;break e;case 3:Bt=a.stateNode.containerInfo,nr=!0;break e;case 4:Bt=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(Bt===null)throw Error(K(160));YE(s,o,i),Bt=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JE(e,t),e=e.sibling}function JE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),fr(t),r&4){try{il(3,t,t.return),uh(3,t)}catch(m){ht(t,t.return,m)}try{il(5,t,t.return)}catch(m){ht(t,t.return,m)}}break;case 1:Yn(e,t),fr(t),r&512&&n!==null&&yo(n,n.return);break;case 5:if(Yn(e,t),fr(t),r&512&&n!==null&&yo(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(m){ht(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b_(i,s),kp(a,o);var u=kp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?S_(i,f):c==="dangerouslySetInnerHTML"?E_(i,f):c==="children"?wl(i,f):fg(i,c,f,u)}switch(a){case"input":wp(i,s);break;case"textarea":w_(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Co(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Co(i,!!s.multiple,s.defaultValue,!0):Co(i,!!s.multiple,s.multiple?[]:"",!1))}i[Al]=s}catch(m){ht(t,t.return,m)}}break;case 6:if(Yn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ht(t,t.return,m)}}break;case 3:if(Yn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(m){ht(t,t.return,m)}break;case 4:Yn(e,t),fr(t);break;case 13:Yn(e,t),fr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kg=vt())),r&4&&S1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,Yn(e,t),sn=u):Yn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(f=ie=c;ie!==null;){switch(p=ie,h=p.child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:yo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ht(r,n,m)}}break;case 5:yo(p,p.return);break;case 22:if(p.memoizedState!==null){C1(f);continue}}h!==null?(h.return=p,ie=h):C1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T_("display",o))}catch(m){ht(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ht(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yn(e,t),fr(t),r&4&&S1(t);break;case 21:break;default:Yn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XE(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=T1(t);nm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T1(t);tm(t,a,o);break;default:throw Error(K(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BI(t,e,n){ie=t,ZE(t)}function ZE(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=rc;var u=sn;if(rc=o,(sn=l)&&!u)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?P1(i):l!==null?(l.return=o,ie=l):P1(i);for(;s!==null;)ie=s,ZE(s),s=s.sibling;ie=i,rc=a,sn=u}k1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):k1(t)}}function k1(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}sn||e.flags&512&&em(e)}catch(p){ht(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function C1(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function P1(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ht(e,i,l)}}var s=e.return;try{em(e)}catch(l){ht(e,s,l)}break;case 5:var o=e.return;try{em(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var FI=Math.ceil,pd=ti.ReactCurrentDispatcher,Wg=ti.ReactCurrentOwner,Hn=ti.ReactCurrentBatchConfig,Be=0,Ot=null,wt=null,$t=0,In=0,xo=Xi(0),kt=0,Vl=null,Cs=0,ch=0,Hg=0,sl=null,xn=null,Kg=0,Wo=1/0,Or=null,md=!1,rm=null,Ii=null,ic=!1,wi=null,gd=0,ol=0,im=null,Ac=-1,Rc=0;function mn(){return Be&6?vt():Ac!==-1?Ac:Ac=vt()}function Ai(t){return t.mode&1?Be&2&&$t!==0?$t&-$t:EI.transition!==null?(Rc===0&&(Rc=L_()),Rc):(t=We,t!==0||(t=window.event,t=t===void 0?16:W_(t.type)),t):1}function lr(t,e,n,r){if(50<ol)throw ol=0,im=null,Error(K(185));nu(t,n,r),(!(Be&2)||t!==Ot)&&(t===Ot&&(!(Be&2)&&(ch|=n),kt===4&&mi(t,$t)),Tn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Wo=vt()+500,oh&&Yi()))}function Tn(t,e){var n=t.callbackNode;E5(t,e);var r=Zc(t,t===Ot?$t:0);if(r===0)n!==null&&Ly(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ly(n),e===1)t.tag===0?_I(I1.bind(null,t)):uE(I1.bind(null,t)),yI(function(){!(Be&6)&&Yi()}),n=null;else{switch(j_(r)){case 1:n=yg;break;case 4:n=O_;break;case 16:n=Jc;break;case 536870912:n=V_;break;default:n=Jc}n=aT(n,eT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eT(t,e){if(Ac=-1,Rc=0,Be&6)throw Error(K(327));var n=t.callbackNode;if(Do()&&t.callbackNode!==n)return null;var r=Zc(t,t===Ot?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vd(t,r);else{e=r;var i=Be;Be|=2;var s=nT();(Ot!==t||$t!==e)&&(Or=null,Wo=vt()+500,ws(t,e));do try{$I();break}catch(a){tT(t,a)}while(!0);Rg(),pd.current=s,Be=i,wt!==null?e=0:(Ot=null,$t=0,e=kt)}if(e!==0){if(e===2&&(i=Rp(t),i!==0&&(r=i,e=sm(t,i))),e===1)throw n=Vl,ws(t,0),mi(t,r),Tn(t,vt()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!UI(i)&&(e=vd(t,r),e===2&&(s=Rp(t),s!==0&&(r=s,e=sm(t,s))),e===1))throw n=Vl,ws(t,0),mi(t,r),Tn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:hs(t,xn,Or);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=Kg+500-vt(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bp(hs.bind(null,t,xn,Or),e);break}hs(t,xn,Or);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ar(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FI(r/1960))-r,10<r){t.timeoutHandle=Bp(hs.bind(null,t,xn,Or),r);break}hs(t,xn,Or);break;case 5:hs(t,xn,Or);break;default:throw Error(K(329))}}}return Tn(t,vt()),t.callbackNode===n?eT.bind(null,t):null}function sm(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=vd(t,e),t!==2&&(e=xn,xn=n,e!==null&&om(e)),t}function om(t){xn===null?xn=t:xn.push.apply(xn,t)}function UI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~Hg,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function I1(t){if(Be&6)throw Error(K(327));Do();var e=Zc(t,0);if(!(e&1))return Tn(t,vt()),null;var n=vd(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=sm(t,r))}if(n===1)throw n=Vl,ws(t,0),mi(t,e),Tn(t,vt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,xn,Or),Tn(t,vt()),null}function Gg(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Wo=vt()+500,oh&&Yi())}}function Ps(t){wi!==null&&wi.tag===0&&!(Be&6)&&Do();var e=Be;Be|=1;var n=Hn.transition,r=We;try{if(Hn.transition=null,We=1,t)return t()}finally{We=r,Hn.transition=n,Be=e,!(Be&6)&&Yi()}}function qg(){In=xo.current,Ze(xo)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vI(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:zo(),Ze(_n),Ze(ln),Lg();break;case 5:Vg(r);break;case 4:zo();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Dg(r.type._context);break;case 22:case 23:qg()}n=n.return}if(Ot=t,wt=t=Ri(t.current,null),$t=In=e,kt=0,Vl=null,Hg=ch=Cs=0,xn=sl=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function tT(t,e){do{var n=wt;try{if(Rg(),Cc.current=fd,hd){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hd=!1}if(ks=0,Nt=Et=at=null,rl=!1,Nl=0,Wg.current=null,n===null||n.return===null){kt=1,Vl=e,wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=g1(o);if(h!==null){h.flags&=-257,v1(h,o,a,s,e),h.mode&1&&m1(s,u,e),e=h,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){m1(s,u,e),Qg();break e}l=Error(K(426))}}else if(nt&&a.mode&1){var v=g1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),v1(v,o,a,s,e),Ig($o(l,a));break e}}s=l=$o(l,a),kt!==4&&(kt=2),sl===null?sl=[s]:sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=jE(s,l,e);u1(s,x);break e;case 1:a=l;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ii===null||!Ii.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=BE(s,a,e);u1(s,R);break e}}s=s.return}while(s!==null)}iT(n)}catch(w){e=w,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function nT(){var t=pd.current;return pd.current=fd,t===null?fd:t}function Qg(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||!(Cs&268435455)&&!(ch&268435455)||mi(Ot,$t)}function vd(t,e){var n=Be;Be|=2;var r=nT();(Ot!==t||$t!==e)&&(Or=null,ws(t,e));do try{zI();break}catch(i){tT(t,i)}while(!0);if(Rg(),Be=n,pd.current=r,wt!==null)throw Error(K(261));return Ot=null,$t=0,kt}function zI(){for(;wt!==null;)rT(wt)}function $I(){for(;wt!==null&&!p5();)rT(wt)}function rT(t){var e=oT(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?iT(t):wt=e,Wg.current=null}function iT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VI(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,wt=null;return}}else if(n=OI(n,e,In),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);kt===0&&(kt=5)}function hs(t,e,n){var r=We,i=Hn.transition;try{Hn.transition=null,We=1,WI(t,e,n,r)}finally{Hn.transition=i,We=r}return null}function WI(t,e,n,r){do Do();while(wi!==null);if(Be&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(T5(t,s),t===Ot&&(wt=Ot=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ic||(ic=!0,aT(Jc,function(){return Do(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=We;We=1;var a=Be;Be|=4,Wg.current=null,jI(t,n),JE(n,t),cI(Lp),ed=!!Vp,Lp=Vp=null,t.current=n,BI(n),m5(),Be=a,We=o,Hn.transition=s}else t.current=n;if(ic&&(ic=!1,wi=t,gd=i),s=t.pendingLanes,s===0&&(Ii=null),y5(n.stateNode),Tn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=rm,rm=null,t;return gd&1&&t.tag!==0&&Do(),s=t.pendingLanes,s&1?t===im?ol++:(ol=0,im=t):ol=0,Yi(),null}function Do(){if(wi!==null){var t=j_(gd),e=Hn.transition,n=We;try{if(Hn.transition=null,We=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,gd=0,Be&6)throw Error(K(331));var i=Be;for(Be|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:il(8,c,s)}var f=c.child;if(f!==null)f.return=c,ie=f;else for(;ie!==null;){c=ie;var p=c.sibling,h=c.return;if(QE(c),c===u){ie=null;break}if(p!==null){p.return=h,ie=p;break}ie=h}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ie=x;break e}ie=s.return}}var b=t.current;for(ie=b;ie!==null;){o=ie;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ie=E;else e:for(o=b;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uh(9,a)}}catch(w){ht(a,a.return,w)}if(a===o){ie=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ie=R;break e}ie=a.return}}if(Be=i,Yi(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(th,t)}catch{}r=!0}return r}finally{We=n,Hn.transition=e}}return!1}function A1(t,e,n){e=$o(n,e),e=jE(t,e,1),t=Pi(t,e,1),e=mn(),t!==null&&(nu(t,1,e),Tn(t,e))}function ht(t,e,n){if(t.tag===3)A1(t,t,n);else for(;e!==null;){if(e.tag===3){A1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=$o(n,t),t=BE(e,t,1),e=Pi(e,t,1),t=mn(),e!==null&&(nu(e,1,t),Tn(e,t));break}}e=e.return}}function HI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&($t&n)===n&&(kt===4||kt===3&&($t&130023424)===$t&&500>vt()-Kg?ws(t,0):Hg|=n),Tn(t,e)}function sT(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var n=mn();t=qr(t,e),t!==null&&(nu(t,e,n),Tn(t,n))}function KI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sT(t,n)}function GI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),sT(t,n)}var oT;oT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,MI(t,e,n);wn=!!(t.flags&131072)}else wn=!1,nt&&e.flags&1048576&&cE(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=Bo(e,ln.current);Ro(e,n),i=Bg(null,e,r,t,i,n);var s=Fg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mg(e),i.updater=lh,e.stateNode=i,i._reactInternals=e,Kp(e,r,t,n),e=Qp(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&Cg(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QI(r),t=er(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=b1(null,e,r,t,n);break e;case 11:e=y1(null,e,r,t,n);break e;case 14:e=x1(null,e,r,er(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),b1(t,e,r,i,n);case 3:e:{if($E(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gE(t,e),cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$o(Error(K(423)),e),e=w1(t,e,r,n,i);break e}else if(r!==i){i=$o(Error(K(424)),e),e=w1(t,e,r,n,i);break e}else for(An=Ci(e.stateNode.containerInfo.firstChild),Dn=e,nt=!0,rr=null,n=pE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=Qr(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return vE(e),t===null&&$p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jp(r,i)?o=null:s!==null&&jp(r,s)&&(e.flags|=32),zE(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&$p(e),null;case 13:return WE(t,e,n);case 4:return Og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),y1(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(ld,r._currentValue),r._currentValue=o,s!==null)if(cr(s.value,o)){if(s.children===i.children&&!_n.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=Kn(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=er(r,e.pendingProps),i=er(r.type,i),x1(t,e,r,i,n);case 15:return FE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),Ic(t,e),e.tag=1,En(r)?(t=!0,sd(e)):t=!1,Ro(e,n),LE(e,r,i),Kp(e,r,i,n),Qp(null,e,r,!0,t,n);case 19:return HE(t,e,n);case 22:return UE(t,e,n)}throw Error(K(156,e.tag))};function aT(t,e){return M_(t,e)}function qI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new qI(t,e,n,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QI(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return _s(n.children,i,s,e);case pg:o=8,i|=8;break;case gp:return t=Wn(12,n,e,i|2),t.elementType=gp,t.lanes=s,t;case vp:return t=Wn(13,n,e,i),t.elementType=vp,t.lanes=s,t;case yp:return t=Wn(19,n,e,i),t.elementType=yp,t.lanes=s,t;case v_:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m_:o=10;break e;case g_:o=9;break e;case mg:o=11;break e;case gg:o=14;break e;case di:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _s(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=v_,t.lanes=n,t.stateNode={isHidden:!1},t}function jf(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Bf(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yg(t,e,n,r,i,s,o,a,l){return t=new XI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(s),t}function YI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lT(t){if(!t)return Bi;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(En(n))return lE(t,n,e)}return e}function uT(t,e,n,r,i,s,o,a,l){return t=Yg(n,r,!0,t,i,s,o,a,l),t.context=lT(null),n=t.current,r=mn(),i=Ai(n),s=Ur(r,i),s.callback=e??null,Pi(n,s,i),t.current.lanes=i,nu(t,i,r),Tn(t,r),t}function hh(t,e,n,r){var i=e.current,s=mn(),o=Ai(i);return n=lT(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(i,e,o),t!==null&&(lr(t,i,o,s),kc(t,i,o)),o}function yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){R1(t,e),(t=t.alternate)&&R1(t,e)}function JI(){return null}var cT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}fh.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));hh(t,e,null,null)};fh.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){hh(null,t,null,null)}),e[Gr]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=U_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&$_(t)}};function e0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D1(){}function ZI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=yd(o);s.call(u)}}var o=uT(e,r,t,0,null,!1,!1,"",D1);return t._reactRootContainer=o,t[Gr]=o.current,Pl(t.nodeType===8?t.parentNode:t),Ps(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yd(l);a.call(u)}}var l=Yg(t,0,!1,null,null,!1,!1,"",D1);return t._reactRootContainer=l,t[Gr]=l.current,Pl(t.nodeType===8?t.parentNode:t),Ps(function(){hh(e,l,n,r)}),l}function mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yd(o);a.call(l)}}hh(e,o,t,i)}else o=ZI(n,e,t,i,r);return yd(o)}B_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(xg(e,n|1),Tn(e,vt()),!(Be&6)&&(Wo=vt()+500,Yi()))}break;case 13:Ps(function(){var r=qr(t,1);if(r!==null){var i=mn();lr(r,t,1,i)}}),Jg(t,1)}};bg=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=mn();lr(e,t,134217728,n)}Jg(t,134217728)}};F_=function(t){if(t.tag===13){var e=Ai(t),n=qr(t,e);if(n!==null){var r=mn();lr(n,t,e,r)}Jg(t,e)}};U_=function(){return We};z_=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Pp=function(t,e,n){switch(e){case"input":if(wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sh(r);if(!i)throw Error(K(90));x_(r),wp(r,i)}}}break;case"textarea":w_(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};P_=Gg;I_=Ps;var eA={usingClientEntryPoint:!1,Events:[iu,fo,sh,k_,C_,Gg]},Oa={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tA={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D_(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||JI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{th=sc.inject(tA),xr=sc}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e0(e))throw Error(K(200));return YI(t,e,null,n)};Vn.createRoot=function(t,e){if(!e0(t))throw Error(K(299));var n=!1,r="",i=cT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yg(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new Zg(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=D_(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return Ps(t)};Vn.hydrate=function(t,e,n){if(!ph(e))throw Error(K(200));return mh(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!e0(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uT(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fh(e)};Vn.render=function(t,e,n){if(!ph(e))throw Error(K(200));return mh(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!ph(t))throw Error(K(40));return t._reactRootContainer?(Ps(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Vn.unstable_batchedUpdates=Gg;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ph(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return mh(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function dT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dT)}catch(t){console.error(t)}}dT(),d_.exports=Vn;var bo=d_.exports,hT,N1=bo;hT=N1.createRoot,N1.hydrateRoot;const fT=M.createContext(),nA=({children:t})=>{const[e,n]=M.useState(!1),r=()=>n(i=>!i);return C.jsx(fT.Provider,{value:{menuOpen:e,setMenuOpen:n,toggleMenu:r},children:t})},am=()=>M.useContext(fT);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var _i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_i||(_i={}));const M1="popstate";function rA(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ls(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),lm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:xd(s))}function r(i,s){t0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return sA(e,n,r,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iA(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function lm(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ls(e):e,{state:n,key:e&&e.key||r||iA()})}function xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_i.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ll({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=_i.Pop;let v=c(),x=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:x})}function p(v,x){a=_i.Push;let b=lm(m.location,v,x);n&&n(b,v),u=c()+1;let E=O1(b,u),R=m.createHref(b);try{o.pushState(E,"",R)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(R)}s&&l&&l({action:a,location:m.location,delta:1})}function h(v,x){a=_i.Replace;let b=lm(m.location,v,x);n&&n(b,v),u=c();let E=O1(b,u),R=m.createHref(b);o.replaceState(E,"",R),s&&l&&l({action:a,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:xd(v);return b=b.replace(/ $/,"%20"),_t(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M1,f),l=v,()=>{i.removeEventListener(M1,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:h,go(v){return o.go(v)}};return m}var V1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V1||(V1={}));function oA(t,e,n){return n===void 0&&(n="/"),aA(t,e,n)}function aA(t,e,n,r){let i=typeof e=="string"?Ls(e):e,s=n0(i.pathname||"/",n);if(s==null)return null;let o=pT(t);lA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=bA(s);a=vA(o[l],u)}return a}function pT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Di([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:mA(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mT(s.path))i(s,o,l)}),e}function mT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uA=/^:[\w-]+$/,cA=3,dA=2,hA=1,fA=10,pA=-2,L1=t=>t==="*";function mA(t,e){let n=t.split("/"),r=n.length;return n.some(L1)&&(r+=pA),e&&(r+=dA),n.filter(i=>!L1(i)).reduce((i,s)=>i+(uA.test(s)?cA:s===""?hA:fA),r)}function gA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=yA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Di([s,f.pathname]),pathnameBase:TA(Di([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Di([s,f.pathnameBase]))}return o}function yA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function xA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),t0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ls(t):t;return{pathname:n?n.startsWith("/")?n:_A(n,e):e,search:SA(r),hash:kA(i)}}function _A(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gT(t,e){let n=EA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ls(t):(i=Ll({},t),_t(!i.pathname||!i.pathname.includes("?"),Ff("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Ff("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Ff("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=wA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Di=t=>t.join("/").replace(/\/\/+/g,"/"),TA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yT=["post","put","patch","delete"];new Set(yT);const PA=["get",...yT];new Set(PA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const r0=M.createContext(null),IA=M.createContext(null),js=M.createContext(null),gh=M.createContext(null),Bs=M.createContext({outlet:null,matches:[],isDataRoute:!1}),xT=M.createContext(null);function AA(t,e){let{relative:n}=e===void 0?{}:e;ou()||_t(!1);let{basename:r,navigator:i}=M.useContext(js),{hash:s,pathname:o,search:a}=wT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Di([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ou(){return M.useContext(gh)!=null}function sa(){return ou()||_t(!1),M.useContext(gh).location}function bT(t){M.useContext(js).static||M.useLayoutEffect(t)}function Fs(){let{isDataRoute:t}=M.useContext(Bs);return t?$A():RA()}function RA(){ou()||_t(!1);let t=M.useContext(r0),{basename:e,future:n,navigator:r}=M.useContext(js),{matches:i}=M.useContext(Bs),{pathname:s}=sa(),o=JSON.stringify(gT(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return bT(()=>{a.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=vT(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Di([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function wT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(js),{matches:i}=M.useContext(Bs),{pathname:s}=sa(),o=JSON.stringify(gT(i,r.v7_relativeSplatPath));return M.useMemo(()=>vT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function DA(t,e){return NA(t,e)}function NA(t,e,n,r){ou()||_t(!1);let{navigator:i}=M.useContext(js),{matches:s}=M.useContext(Bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=sa(),c;if(e){var f;let v=typeof e=="string"?Ls(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||_t(!1),c=v}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=oA(t,{pathname:h}),m=jA(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Di([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Di([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?M.createElement(gh.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_i.Pop}},m):m}function MA(){let t=zA(),e=CA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const OA=M.createElement(MA,null);class VA extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Bs.Provider,{value:this.props.routeContext},M.createElement(xT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LA(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(r0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Bs.Provider,{value:e},r)}function jA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||_t(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:h}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let h,g=!1,m=null,v=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||OA,l&&(u<0&&p===0?(WA("route-fallback"),g=!0,v=null):u===p&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),b=()=>{let E;return h?E=m:g?E=v:f.route.Component?E=M.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,M.createElement(LA,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(VA,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var _T=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_T||{}),ET=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ET||{});function BA(t){let e=M.useContext(r0);return e||_t(!1),e}function FA(t){let e=M.useContext(IA);return e||_t(!1),e}function UA(t){let e=M.useContext(Bs);return e||_t(!1),e}function TT(t){let e=UA(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function zA(){var t;let e=M.useContext(xT),n=FA(),r=TT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $A(){let{router:t}=BA(_T.UseNavigateStable),e=TT(ET.UseNavigateStable),n=M.useRef(!1);return bT(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jl({fromRouteId:e},s)))},[t,e])}const j1={};function WA(t,e,n){j1[t]||(j1[t]=!0)}function HA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function no(t){_t(!1)}function KA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_i.Pop,navigator:s,static:o=!1,future:a}=t;ou()&&_t(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:s,static:o,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ls(r));let{pathname:c="/",search:f="",hash:p="",state:h=null,key:g="default"}=r,m=M.useMemo(()=>{let v=n0(c,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:h,key:g},navigationType:i}},[l,c,f,p,h,g,i]);return m==null?null:M.createElement(js.Provider,{value:u},M.createElement(gh.Provider,{children:n,value:m}))}function GA(t){let{children:e,location:n}=t;return DA(um(e),n)}new Promise(()=>{});function um(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,um(r.props.children,s));return}r.type!==no&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=um(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function qA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XA(t,e){return t.button===0&&(!e||e==="_self")&&!QA(t)}const YA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JA="6";try{window.__reactRouterVersion=JA}catch{}const ZA="startTransition",B1=HP[ZA];function eR(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=rA({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&B1?B1(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>o.listen(c),[o,c]),M.useEffect(()=>HA(r),[r]),M.createElement(KA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dm=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,p=qA(e,YA),{basename:h}=M.useContext(js),g,m=!1;if(typeof u=="string"&&nR.test(u)&&(g=u,tR))try{let E=new URL(window.location.href),R=u.startsWith("//")?new URL(E.protocol+u):new URL(u),w=n0(R.pathname,h);R.origin===E.origin&&w!=null?u=w+R.search+R.hash:m=!0}catch{}let v=AA(u,{relative:i}),x=rR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function b(E){r&&r(E),E.defaultPrevented||x(E)}return M.createElement("a",cm({},p,{href:g||v,onClick:m||s?r:b,ref:n,target:l}))});var F1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F1||(F1={}));var U1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U1||(U1={}));function rR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Fs(),u=sa(),c=wT(t,{relative:o});return M.useCallback(f=>{if(XA(f,n)){f.preventDefault();let p=r!==void 0?r:xd(u)===xd(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const iR=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(p=64)),r.push(n[c],n[f],n[p],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ST(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new oR;const p=s<<2|a>>4;if(r.push(p),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=ST(t);return kT.encodeByteArray(e,!0)},bd=function(t){return aR(t).replace(/\./g,"")},CT=function(t){try{return kT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CT(t[1]);return e&&JSON.parse(e)},vh=()=>{try{return iR()||uR()||cR()||dR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PT=t=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hR=t=>{const e=PT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IT=()=>{var t;return(t=vh())===null||t===void 0?void 0:t.config},AT=t=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){return t.endsWith(".cloudworkstations.dev")}async function RT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bd(JSON.stringify(n)),bd(JSON.stringify(o)),""].join(".")}const al={};function mR(){const t={prod:[],emulator:[]};for(const e of Object.keys(al))al[e]?t.emulator.push(e):t.prod.push(e);return t}function gR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $1=!1;function yh(t,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||al[t]===e||al[t]||$1)return;al[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=mR().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,h){p.setAttribute("width","24"),p.setAttribute("id",h),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{$1=!0,o()},p}function c(p,h){p.setAttribute("id",h),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=gR(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),v=document.getElementById(m)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),c(v,m);const R=u();l(b,x),E.append(b,g,v,R),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function yR(){var t;const e=(t=vh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ER(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function SR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kR,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function CR(t,e){return t.replace(PR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PR=/\{\$([^}]+)}/g;function IR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Is(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(W1(s)&&W1(o)){if(!Is(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AR(t,e){const n=new RR(t,e);return n.subscribe.bind(n)}class RR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uf),i.error===void 0&&(i.error=Uf),i.complete===void 0&&(i.complete=Uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(t){return t===fs?void 0:t}function OR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const LR={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},jR=Ie.INFO,BR={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},FR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i0{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=FR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const UR=(t,e)=>e.some(n=>t instanceof n);let H1,K1;function zR(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return K1||(K1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,hm=new WeakMap,NT=new WeakMap,zf=new WeakMap,s0=new WeakMap;function WR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),s0.set(e,t),e}function HR(t){if(hm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hm.set(t,e)}let fm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KR(t){fm=t(fm)}function GR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($f(this),e,...n);return NT.set(r,e.sort?e.sort():[e]),Ni(r)}:$R().includes(t)?function(...e){return t.apply($f(this),e),Ni(DT.get(this))}:function(...e){return Ni(t.apply($f(this),e))}}function qR(t){return typeof t=="function"?GR(t):(t instanceof IDBTransaction&&HR(t),UR(t,zR())?new Proxy(t,fm):t)}function Ni(t){if(t instanceof IDBRequest)return WR(t);if(zf.has(t))return zf.get(t);const e=qR(t);return e!==t&&(zf.set(t,e),s0.set(e,t)),e}const $f=t=>s0.get(t);function QR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ni(o.result),l.oldVersion,l.newVersion,Ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const XR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],Wf=new Map;function G1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Wf.set(e,s),s}KR(t=>({...t,get:(e,n,r)=>G1(e,n)||t.get(e,n,r),has:(e,n)=>!!G1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",q1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new i0("@firebase/app"),eD="@firebase/app-compat",tD="@firebase/analytics-compat",nD="@firebase/analytics",rD="@firebase/app-check-compat",iD="@firebase/app-check",sD="@firebase/auth",oD="@firebase/auth-compat",aD="@firebase/database",lD="@firebase/data-connect",uD="@firebase/database-compat",cD="@firebase/functions",dD="@firebase/functions-compat",hD="@firebase/installations",fD="@firebase/installations-compat",pD="@firebase/messaging",mD="@firebase/messaging-compat",gD="@firebase/performance",vD="@firebase/performance-compat",yD="@firebase/remote-config",xD="@firebase/remote-config-compat",bD="@firebase/storage",wD="@firebase/storage-compat",_D="@firebase/firestore",ED="@firebase/ai",TD="@firebase/firestore-compat",SD="firebase",kD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",CD={[pm]:"fire-core",[eD]:"fire-core-compat",[nD]:"fire-analytics",[tD]:"fire-analytics-compat",[iD]:"fire-app-check",[rD]:"fire-app-check-compat",[sD]:"fire-auth",[oD]:"fire-auth-compat",[aD]:"fire-rtdb",[lD]:"fire-data-connect",[uD]:"fire-rtdb-compat",[cD]:"fire-fn",[dD]:"fire-fn-compat",[hD]:"fire-iid",[fD]:"fire-iid-compat",[pD]:"fire-fcm",[mD]:"fire-fcm-compat",[gD]:"fire-perf",[vD]:"fire-perf-compat",[yD]:"fire-rc",[xD]:"fire-rc-compat",[bD]:"fire-gcs",[wD]:"fire-gcs-compat",[_D]:"fire-fst",[TD]:"fire-fst-compat",[ED]:"fire-vertex","fire-js":"fire-js",[SD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,PD=new Map,gm=new Map;function Q1(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(gm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(const n of wd.values())Q1(n,t);for(const n of PD.values())Q1(n,t);return!0}function o0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new lu("app","Firebase",ID);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=kD;function MT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(n||(n=IT()),!n)throw Mi.create("no-options");const s=wd.get(i);if(s){if(Is(n,s.options)&&Is(r,s.config))return s;throw Mi.create("duplicate-app",{appName:i})}const o=new VR(i);for(const l of gm.values())o.addComponent(l);const a=new AD(n,r,o);return wd.set(i,a),a}function OT(t=mm){const e=wd.get(t);if(!e&&t===mm&&IT())return MT();if(!e)throw Mi.create("no-app",{appName:t});return e}function Oi(t,e,n){var r;let i=(r=CD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}Ho(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",DD=1,Bl="firebase-heartbeat-store";let Hf=null;function VT(){return Hf||(Hf=QR(RD,DD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Hf}async function ND(t){try{const n=(await VT()).transaction(Bl),r=await n.objectStore(Bl).get(LT(t));return await n.done,r}catch(e){if(e instanceof ni)Xr.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function X1(t,e){try{const r=(await VT()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,LT(t)),await r.done}catch(n){if(n instanceof ni)Xr.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(r.message)}}}function LT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1024,OD=30;class VD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>OD){const o=BD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y1(),{heartbeatsToSend:r,unsentEntries:i}=LD(this._heartbeatsCache.heartbeats),s=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xr.warn(n),""}}}function Y1(){return new Date().toISOString().substring(0,10)}function LD(t,e=MD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?SR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ND(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J1(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}function BD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){Ho(new As("platform-logger",e=>new JR(e),"PRIVATE")),Ho(new As("heartbeat",e=>new VD(e),"PRIVATE")),Oi(pm,q1,t),Oi(pm,q1,"esm2017"),Oi("fire-js","")}FD("");var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,jT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function S(){}S.prototype=y.prototype,T.D=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(k,A,D){for(var N=Array(arguments.length-2),B=2;B<arguments.length;B++)N[B-2]=arguments[B];return y.prototype[A].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,S){S||(S=0);var k=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)k[A]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(A=0;16>A;++A)k[A]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],A=T.g[2];var D=T.g[3],N=y+(D^S&(A^D))+k[0]+3614090360&4294967295;y=S+(N<<7&4294967295|N>>>25),N=D+(A^y&(S^A))+k[1]+3905402710&4294967295,D=y+(N<<12&4294967295|N>>>20),N=A+(S^D&(y^S))+k[2]+606105819&4294967295,A=D+(N<<17&4294967295|N>>>15),N=S+(y^A&(D^y))+k[3]+3250441966&4294967295,S=A+(N<<22&4294967295|N>>>10),N=y+(D^S&(A^D))+k[4]+4118548399&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(A^y&(S^A))+k[5]+1200080426&4294967295,D=y+(N<<12&4294967295|N>>>20),N=A+(S^D&(y^S))+k[6]+2821735955&4294967295,A=D+(N<<17&4294967295|N>>>15),N=S+(y^A&(D^y))+k[7]+4249261313&4294967295,S=A+(N<<22&4294967295|N>>>10),N=y+(D^S&(A^D))+k[8]+1770035416&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(A^y&(S^A))+k[9]+2336552879&4294967295,D=y+(N<<12&4294967295|N>>>20),N=A+(S^D&(y^S))+k[10]+4294925233&4294967295,A=D+(N<<17&4294967295|N>>>15),N=S+(y^A&(D^y))+k[11]+2304563134&4294967295,S=A+(N<<22&4294967295|N>>>10),N=y+(D^S&(A^D))+k[12]+1804603682&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(A^y&(S^A))+k[13]+4254626195&4294967295,D=y+(N<<12&4294967295|N>>>20),N=A+(S^D&(y^S))+k[14]+2792965006&4294967295,A=D+(N<<17&4294967295|N>>>15),N=S+(y^A&(D^y))+k[15]+1236535329&4294967295,S=A+(N<<22&4294967295|N>>>10),N=y+(A^D&(S^A))+k[1]+4129170786&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^A&(y^S))+k[6]+3225465664&4294967295,D=y+(N<<9&4294967295|N>>>23),N=A+(y^S&(D^y))+k[11]+643717713&4294967295,A=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(A^D))+k[0]+3921069994&4294967295,S=A+(N<<20&4294967295|N>>>12),N=y+(A^D&(S^A))+k[5]+3593408605&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^A&(y^S))+k[10]+38016083&4294967295,D=y+(N<<9&4294967295|N>>>23),N=A+(y^S&(D^y))+k[15]+3634488961&4294967295,A=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(A^D))+k[4]+3889429448&4294967295,S=A+(N<<20&4294967295|N>>>12),N=y+(A^D&(S^A))+k[9]+568446438&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^A&(y^S))+k[14]+3275163606&4294967295,D=y+(N<<9&4294967295|N>>>23),N=A+(y^S&(D^y))+k[3]+4107603335&4294967295,A=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(A^D))+k[8]+1163531501&4294967295,S=A+(N<<20&4294967295|N>>>12),N=y+(A^D&(S^A))+k[13]+2850285829&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^A&(y^S))+k[2]+4243563512&4294967295,D=y+(N<<9&4294967295|N>>>23),N=A+(y^S&(D^y))+k[7]+1735328473&4294967295,A=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(A^D))+k[12]+2368359562&4294967295,S=A+(N<<20&4294967295|N>>>12),N=y+(S^A^D)+k[5]+4294588738&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^A)+k[8]+2272392833&4294967295,D=y+(N<<11&4294967295|N>>>21),N=A+(D^y^S)+k[11]+1839030562&4294967295,A=D+(N<<16&4294967295|N>>>16),N=S+(A^D^y)+k[14]+4259657740&4294967295,S=A+(N<<23&4294967295|N>>>9),N=y+(S^A^D)+k[1]+2763975236&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^A)+k[4]+1272893353&4294967295,D=y+(N<<11&4294967295|N>>>21),N=A+(D^y^S)+k[7]+4139469664&4294967295,A=D+(N<<16&4294967295|N>>>16),N=S+(A^D^y)+k[10]+3200236656&4294967295,S=A+(N<<23&4294967295|N>>>9),N=y+(S^A^D)+k[13]+681279174&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^A)+k[0]+3936430074&4294967295,D=y+(N<<11&4294967295|N>>>21),N=A+(D^y^S)+k[3]+3572445317&4294967295,A=D+(N<<16&4294967295|N>>>16),N=S+(A^D^y)+k[6]+76029189&4294967295,S=A+(N<<23&4294967295|N>>>9),N=y+(S^A^D)+k[9]+3654602809&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^A)+k[12]+3873151461&4294967295,D=y+(N<<11&4294967295|N>>>21),N=A+(D^y^S)+k[15]+530742520&4294967295,A=D+(N<<16&4294967295|N>>>16),N=S+(A^D^y)+k[2]+3299628645&4294967295,S=A+(N<<23&4294967295|N>>>9),N=y+(A^(S|~D))+k[0]+4096336452&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~A))+k[7]+1126891415&4294967295,D=y+(N<<10&4294967295|N>>>22),N=A+(y^(D|~S))+k[14]+2878612391&4294967295,A=D+(N<<15&4294967295|N>>>17),N=S+(D^(A|~y))+k[5]+4237533241&4294967295,S=A+(N<<21&4294967295|N>>>11),N=y+(A^(S|~D))+k[12]+1700485571&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~A))+k[3]+2399980690&4294967295,D=y+(N<<10&4294967295|N>>>22),N=A+(y^(D|~S))+k[10]+4293915773&4294967295,A=D+(N<<15&4294967295|N>>>17),N=S+(D^(A|~y))+k[1]+2240044497&4294967295,S=A+(N<<21&4294967295|N>>>11),N=y+(A^(S|~D))+k[8]+1873313359&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~A))+k[15]+4264355552&4294967295,D=y+(N<<10&4294967295|N>>>22),N=A+(y^(D|~S))+k[6]+2734768916&4294967295,A=D+(N<<15&4294967295|N>>>17),N=S+(D^(A|~y))+k[13]+1309151649&4294967295,S=A+(N<<21&4294967295|N>>>11),N=y+(A^(S|~D))+k[4]+4149444226&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~A))+k[11]+3174756917&4294967295,D=y+(N<<10&4294967295|N>>>22),N=A+(y^(D|~S))+k[2]+718787259&4294967295,A=D+(N<<15&4294967295|N>>>17),N=S+(D^(A|~y))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var S=y-this.blockSize,k=this.B,A=this.h,D=0;D<y;){if(A==0)for(;D<=S;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<y;)if(k[A++]=T.charCodeAt(D++),A==this.blockSize){i(this,k),A=0;break}}else for(;D<y;)if(k[A++]=T[D++],A==this.blockSize){i(this,k),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var S=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=S&255,S/=256;for(this.u(T),T=Array(16),y=S=0;4>y;++y)for(var k=0;32>k;k+=8)T[S++]=this.g[y]>>>k&255;return T};function s(T,y){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function o(T,y){this.h=y;for(var S=[],k=!0,A=T.length-1;0<=A;A--){var D=T[A]|0;k&&D==y||(S[A]=D,k=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(u(-T));for(var y=[],S=1,k=0;T>=S;k++)y[k]=T/S|0,S*=4294967296;return new o(y,0)}function c(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return v(c(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(y,8)),k=f,A=0;A<T.length;A+=8){var D=Math.min(8,T.length-A),N=parseInt(T.substring(A,A+D),y);8>D?(D=u(Math.pow(y,D)),k=k.j(D).add(u(N))):(k=k.j(S),k=k.add(u(N)))}return k}var f=l(0),p=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,y=1,S=0;S<this.g.length;S++){var k=this.i(S);T+=(0<=k?k:4294967296+k)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var y=u(Math.pow(T,6)),S=this,k="";;){var A=R(S,y).g;S=x(S,A.j(y));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=A,g(S))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=x(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var y=T.g.length,S=[],k=0;k<y;k++)S[k]=~T.g[k];return new o(S,~T.h).add(p)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0,A=0;A<=y;A++){var D=k+(this.i(A)&65535)+(T.i(A)&65535),N=(D>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);k=N>>>16,D&=65535,N&=65535,S[A]=N<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(T,y){return T.add(v(y))}t.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,S=[],k=0;k<2*y;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<T.g.length;A++){var D=this.i(k)>>>16,N=this.i(k)&65535,B=T.i(A)>>>16,z=T.i(A)&65535;S[2*k+2*A]+=N*z,b(S,2*k+2*A),S[2*k+2*A+1]+=D*z,b(S,2*k+2*A+1),S[2*k+2*A+1]+=N*B,b(S,2*k+2*A+1),S[2*k+2*A+2]+=D*B,b(S,2*k+2*A+2)}for(k=0;k<y;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=y;k<2*y;k++)S[k]=0;return new o(S,0)};function b(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function E(T,y){this.g=T,this.h=y}function R(T,y){if(g(y))throw Error("division by zero");if(g(T))return new E(f,f);if(m(T))return y=R(v(T),y),new E(v(y.g),v(y.h));if(m(y))return y=R(T,v(y)),new E(v(y.g),y.h);if(30<T.g.length){if(m(T)||m(y))throw Error("slowDivide_ only works with positive integers.");for(var S=p,k=y;0>=k.l(T);)S=w(S),k=w(k);var A=I(S,1),D=I(k,1);for(k=I(k,2),S=I(S,2);!g(k);){var N=D.add(k);0>=N.l(T)&&(A=A.add(S),D=N),k=I(k,1),S=I(S,1)}return y=x(T,A.j(y)),new E(A,y)}for(A=f;0<=T.l(y);){for(S=Math.max(1,Math.floor(T.m()/y.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(S),N=D.j(y);m(N)||0<N.l(T);)S-=k,D=u(S),N=D.j(y);g(D)&&(D=p),A=A.add(D),T=x(T,N)}return new E(A,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)&T.i(k);return new o(S,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)|T.i(k);return new o(S,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)^T.i(k);return new o(S,this.h^T.h)};function w(T){for(var y=T.g.length+1,S=[],k=0;k<y;k++)S[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(S,T.h)}function I(T,y){var S=y>>5;y%=32;for(var k=T.g.length-S,A=[],D=0;D<k;D++)A[D]=0<y?T.i(D+S)>>>y|T.i(D+S+1)<<32-y:T.i(D+S);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Vi=o}).apply(typeof Z1<"u"?Z1:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BT,$a,FT,Nc,vm,UT,zT,$T;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,P){return d==Array.prototype||d==Object.prototype||(d[_]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var _=0;_<d.length;++_){var P=d[_];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var P=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var V=d[O];if(!(V in P))break e;P=P[V]}d=d[d.length-1],O=P[d],_=_(O),_!=O&&_!=null&&e(P,d,{configurable:!0,writable:!0,value:_})}}function s(d,_){d instanceof String&&(d+="");var P=0,O=!1,V={next:function(){if(!O&&P<d.length){var j=P++;return{value:_(j,d[j]),done:!1}}return O=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return s(this,function(_,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function c(d,_,P){return d.call.apply(d.bind,arguments)}function f(d,_,P){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,O),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function p(d,_,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,p.apply(null,arguments)}function h(d,_){var P=Array.prototype.slice.call(arguments,1);return function(){var O=P.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function g(d,_){function P(){}P.prototype=_.prototype,d.aa=_.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(O,V,j){for(var Y=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Y[Ge-2]=arguments[Ge];return _.prototype[V].apply(O,Y)}}function m(d){const _=d.length;if(0<_){const P=Array(_);for(let O=0;O<_;O++)P[O]=d[O];return P}return[]}function v(d,_){for(let P=1;P<arguments.length;P++){const O=arguments[P];if(l(O)){const V=d.length||0,j=O.length||0;d.length=V+j;for(let Y=0;Y<j;Y++)d[V+Y]=O[Y]}else d.push(O)}}class x{constructor(_,P){this.i=_,this.j=P,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var w=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(d,_,P){for(const O in d)_.call(P,d[O],O,d)}function T(d,_){for(const P in d)_.call(void 0,d[P],P,d)}function y(d){const _={};for(const P in d)_[P]=d[P];return _}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,_){let P,O;for(let V=1;V<arguments.length;V++){O=arguments[V];for(P in O)d[P]=O[P];for(let j=0;j<S.length;j++)P=S[j],Object.prototype.hasOwnProperty.call(O,P)&&(d[P]=O[P])}}function A(d){var _=1;d=d.split(":");const P=[];for(;0<_&&d.length;)P.push(d.shift()),_--;return d.length&&P.push(d.join(":")),P}function D(d){a.setTimeout(()=>{throw d},0)}function N(){var d=W;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,P){const O=z.get();O.set(_,P),this.h?this.h.next=O:this.g=O,this.h=O}}var z=new x(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,P){this.h=_,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,W=new B,G=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(oe)}};var oe=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(P){D(P)}var _=z;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}L=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,_),a.removeEventListener("test",P,_)}catch{}return d}();function De(d,_){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(w){e:{try{R(_.nodeName);var V=!0;break e}catch{}V=!1}V||(_=null)}}else P=="mouseover"?_=d.fromElement:P=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&De.aa.h.call(this)}}g(De,le);var se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Xe(d,_,P,O,V){this.listener=d,this.proxy=null,this.src=_,this.type=P,this.capture=!!O,this.ha=V,this.key=++Ee,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ke(d){this.src=d,this.g={},this.h=0}Ke.prototype.add=function(d,_,P,O,V){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var Y=At(d,_,O,V);return-1<Y?(_=d[Y],P||(_.fa=!1)):(_=new Xe(_,this.src,j,!!O,V),_.fa=P,d.push(_)),_};function Re(d,_){var P=_.type;if(P in d.g){var O=d.g[P],V=Array.prototype.indexOf.call(O,_,void 0),j;(j=0<=V)&&Array.prototype.splice.call(O,V,1),j&&(he(_),d.g[P].length==0&&(delete d.g[P],d.h--))}}function At(d,_,P,O){for(var V=0;V<d.length;++V){var j=d[V];if(!j.da&&j.listener==_&&j.capture==!!P&&j.ha==O)return V}return-1}var it="closure_lm_"+(1e6*Math.random()|0),Rt={};function ft(d,_,P,O,V){if(Array.isArray(_)){for(var j=0;j<_.length;j++)ft(d,_[j],P,O,V);return null}return P=Q(P),d&&d[Ne]?d.K(_,P,u(O)?!!O.capture:!1,V):cn(d,_,P,!1,O,V)}function cn(d,_,P,O,V,j){if(!_)throw Error("Invalid event type");var Y=u(V)?!!V.capture:!!V,Ge=Pe(d);if(Ge||(d[it]=Ge=new Ke(d)),P=Ge.add(_,P,O,Y,j),P.proxy)return P;if(O=Z(),P.proxy=O,O.src=d,O.listener=P,d.addEventListener)Ve||(V=Y),V===void 0&&(V=!1),d.addEventListener(_.toString(),O,V);else if(d.attachEvent)d.attachEvent(Te(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Z(){function d(P){return _.call(d.src,d.listener,P)}const _=Me;return d}function te(d,_,P,O,V){if(Array.isArray(_))for(var j=0;j<_.length;j++)te(d,_[j],P,O,V);else O=u(O)?!!O.capture:!!O,P=Q(P),d&&d[Ne]?(d=d.i,_=String(_).toString(),_ in d.g&&(j=d.g[_],P=At(j,P,O,V),-1<P&&(he(j[P]),Array.prototype.splice.call(j,P,1),j.length==0&&(delete d.g[_],d.h--)))):d&&(d=Pe(d))&&(_=d.g[_.toString()],d=-1,_&&(d=At(_,P,O,V)),(P=-1<d?_[d]:null)&&me(P))}function me(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ne])Re(_.i,d);else{var P=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(P,O,d.capture):_.detachEvent?_.detachEvent(Te(P),O):_.addListener&&_.removeListener&&_.removeListener(O),(P=Pe(_))?(Re(P,d),P.h==0&&(P.src=null,_[it]=null)):he(d)}}}function Te(d){return d in Rt?Rt[d]:Rt[d]="on"+d}function Me(d,_){if(d.da)d=!0;else{_=new De(_,this);var P=d.listener,O=d.ha||d.src;d.fa&&me(d),d=P.call(O,_)}return d}function Pe(d){return d=d[it],d instanceof Ke?d:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(d){return typeof d=="function"?d:(d[ke]||(d[ke]=function(_){return d.handleEvent(_)}),d[ke])}function q(){re.call(this),this.i=new Ke(this),this.M=this,this.F=null}g(q,re),q.prototype[Ne]=!0,q.prototype.removeEventListener=function(d,_,P,O){te(this,d,_,P,O)};function ee(d,_){var P,O=d.F;if(O)for(P=[];O;O=O.F)P.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new le(_,d);else if(_ instanceof le)_.target=_.target||d;else{var V=_;_=new le(O,d),k(_,V)}if(V=!0,P)for(var j=P.length-1;0<=j;j--){var Y=_.g=P[j];V=de(Y,O,!0,_)&&V}if(Y=_.g=d,V=de(Y,O,!0,_)&&V,V=de(Y,O,!1,_)&&V,P)for(j=0;j<P.length;j++)Y=_.g=P[j],V=de(Y,O,!1,_)&&V}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var P=d.g[_],O=0;O<P.length;O++)he(P[O]);delete d.g[_],d.h--}}this.F=null},q.prototype.K=function(d,_,P,O){return this.i.add(String(d),_,!1,P,O)},q.prototype.L=function(d,_,P,O){return this.i.add(String(d),_,!0,P,O)};function de(d,_,P,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var V=!0,j=0;j<_.length;++j){var Y=_[j];if(Y&&!Y.da&&Y.capture==P){var Ge=Y.listener,jt=Y.ha||Y.src;Y.fa&&Re(d.i,Y),V=Ge.call(jt,O)!==!1&&V}}return V&&!O.defaultPrevented}function U(d,_,P){if(typeof d=="function")P&&(d=p(d,P));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function X(d){d.g=U(()=>{d.g=null,d.i&&(d.i=!1,X(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class ge extends re{constructor(_,P){super(),this.m=_,this.l=P,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:X(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(d){re.call(this),this.h=d,this.g={}}g(He,re);var yt=[];function dn(d){I(d.g,function(_,P){this.g.hasOwnProperty(P)&&me(_)},d),d.g={}}He.prototype.N=function(){He.aa.N.call(this),dn(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=a.JSON.stringify,ri=a.JSON.parse,ya=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Gs(){}Gs.prototype.h=null;function Cu(d){return d.h||(d.h=d.i())}function Pu(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xt(){le.call(this,"d")}g(xt,le);function Vt(){le.call(this,"c")}g(Vt,le);var pt={},qn=null;function Lt(){return qn=qn||new q}pt.La="serverreachability";function qt(d){le.call(this,pt.La,d)}g(qt,le);function Qt(d){const _=Lt();ee(_,new qt(_))}pt.STAT_EVENT="statevent";function Rr(d,_){le.call(this,pt.STAT_EVENT,d),this.stat=_}g(Rr,le);function Le(d){const _=Lt();ee(_,new Rr(_,d))}pt.Ma="timingevent";function Qn(d,_){le.call(this,pt.Ma,d),this.size=_}g(Qn,le);function Xt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function is(d,_,P,O,V,j){d.info(function(){if(d.g)if(j)for(var Y="",Ge=j.split("&"),jt=0;jt<Ge.length;jt++){var Fe=Ge[jt].split("=");if(1<Fe.length){var Yt=Fe[0];Fe=Fe[1];var Jt=Yt.split("_");Y=2<=Jt.length&&Jt[1]=="type"?Y+(Yt+"="+Fe+"&"):Y+(Yt+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+O+") [attempt "+V+"]: "+_+`
`+P+`
`+Y})}function ss(d,_,P,O,V,j,Y){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+V+"]: "+_+`
`+P+`
`+j+" "+Y})}function fn(d,_,P,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+xa(d,P)+(O?" "+O:"")})}function os(d,_){d.info(function(){return"TIMEOUT: "+_})}hn.prototype.info=function(){};function xa(d,_){if(!d.g)return _;if(!_)return null;try{var P=JSON.parse(_);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var O=P[d];if(!(2>O.length)){var V=O[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<V.length;Y++)V[Y]=""}}}}return Gt(P)}catch{return _}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ef;function Au(){}g(Au,Gs),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},ef=new Au;function ii(d,_,P,O){this.j=d,this.i=_,this.l=P,this.R=O||1,this.U=new He(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}var zv={},tf={};function nf(d,_,P){d.L=1,d.v=Mu(Dr(_)),d.m=P,d.P=!0,$v(d,null)}function $v(d,_){d.F=Date.now(),Ru(d),d.A=Dr(d.v);var P=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),ry(P.i,"t",O),d.C=0,P=d.j.J,d.h=new Uv,d.g=wy(d.j,P?_:null,!d.m),0<d.O&&(d.M=new ge(p(d.Y,d,d.g),d.O)),_=d.U,P=d.g,O=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(yt[0]=V.toString()),V=yt);for(var j=0;j<V.length;j++){var Y=ft(P,V[j],O||_.handleEvent,!1,_.h||_);if(!Y)break;_.g[Y.key]=Y}_=d.H?y(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Qt(),is(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const _=this.M;_&&Nr(d)==3?_.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=Nr(this.g);var _=this.g.Ba();const Xs=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||cy(this.g)))){this.J||Jt!=4||_==7||(_==8||0>=Xs?Qt(3):Qt(2)),rf(this);var P=this.g.Z();this.X=P;t:if(Wv(this)){var O=cy(this.g);d="";var V=O.length,j=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),ba(this);var Y="";break t}this.h.i=new a.TextDecoder}for(_=0;_<V;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(j&&_==V-1)});O.length=0,this.h.g+=d,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=P==200,ss(this.i,this.u,this.A,this.l,this.R,Jt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,jt=this.g;if((Ge=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ge)){var Fe=Ge;break t}}Fe=null}if(P=Fe)fn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sf(this,P);else{this.o=!1,this.s=3,Le(12),as(this),ba(this);break e}}if(this.P){P=!0;let Xn;for(;!this.J&&this.C<Y.length;)if(Xn=cP(this,Y),Xn==tf){Jt==4&&(this.s=4,Le(14),P=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==zv){this.s=4,Le(15),fn(this.i,this.l,Y,"[Invalid Chunk]"),P=!1;break}else fn(this.i,this.l,Xn,null),sf(this,Xn);if(Wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||Y.length!=0||this.h.h||(this.s=1,Le(16),P=!1),this.o=this.o&&P,!P)fn(this.i,this.l,Y,"[Invalid Chunked Response]"),as(this),ba(this);else if(0<Y.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),df(Yt),Yt.M=!0,Le(11))}}else fn(this.i,this.l,Y,null),sf(this,Y);Jt==4&&as(this),this.o&&!this.J&&(Jt==4?vy(this.j,this):(this.o=!1,Ru(this)))}else CP(this.g),P==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),as(this),ba(this)}}}catch{}finally{}};function Wv(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function cP(d,_){var P=d.C,O=_.indexOf(`
`,P);return O==-1?tf:(P=Number(_.substring(P,O)),isNaN(P)?zv:(O+=1,O+P>_.length?tf:(_=_.slice(O,O+P),d.C=O+P,_)))}ii.prototype.cancel=function(){this.J=!0,as(this)};function Ru(d){d.S=Date.now()+d.I,Hv(d,d.I)}function Hv(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Xt(p(d.ba,d),_)}function rf(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(os(this.i,this.A),this.L!=2&&(Qt(),Le(17)),as(this),this.s=2,ba(this)):Hv(this,this.S-d)};function ba(d){d.j.G==0||d.J||vy(d.j,d)}function as(d){rf(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,dn(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function sf(d,_){try{var P=d.j;if(P.G!=0&&(P.g==d||of(P.h,d))){if(!d.K&&of(P.h,d)&&P.G==3){try{var O=P.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var V=O;if(V[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)Fu(P),ju(P);else break e;cf(P),Le(18)}}else P.za=V[1],0<P.za-P.T&&37500>V[2]&&P.F&&P.v==0&&!P.C&&(P.C=Xt(p(P.Za,P),6e3));if(1>=qv(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else us(P,11)}else if((d.K||P.g==d)&&Fu(P),!b(_))for(V=P.Da.g.parse(_),_=0;_<V.length;_++){let Fe=V[_];if(P.T=Fe[0],Fe=Fe[1],P.G==2)if(Fe[0]=="c"){P.K=Fe[1],P.ia=Fe[2];const Yt=Fe[3];Yt!=null&&(P.la=Yt,P.j.info("VER="+P.la));const Jt=Fe[4];Jt!=null&&(P.Aa=Jt,P.j.info("SVER="+P.Aa));const Xs=Fe[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(O=1.5*Xs,P.L=O,P.j.info("backChannelRequestTimeoutMs_="+O)),O=P;const Xn=d.g;if(Xn){const zu=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var j=O.h;j.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(af(j,j.h),j.h=null))}if(O.D){const hf=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;hf&&(O.ya=hf,Ye(O.I,O.D,hf))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),O=P;var Y=d;if(O.qa=by(O,O.J?O.ia:null,O.W),Y.K){Qv(O.h,Y);var Ge=Y,jt=O.L;jt&&(Ge.I=jt),Ge.B&&(rf(Ge),Ru(Ge)),O.g=Y}else my(O);0<P.i.length&&Bu(P)}else Fe[0]!="stop"&&Fe[0]!="close"||us(P,7);else P.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?us(P,7):uf(P):Fe[0]!="noop"&&P.l&&P.l.ta(Fe),P.v=0)}}Qt(4)}catch{}}var dP=class{constructor(d,_){this.g=d,this.map=_}};function Kv(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gv(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qv(d){return d.h?1:d.g?d.g.size:0}function of(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function af(d,_){d.g?d.g.add(_):d.h=_}function Qv(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Kv.prototype.cancel=function(){if(this.i=Xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xv(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const P of d.g.values())_=_.concat(P.D);return _}return m(d.i)}function hP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],P=d.length,O=0;O<P;O++)_.push(d[O]);return _}_=[],P=0;for(O in d)_[P++]=d[O];return _}function fP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var P=0;P<d;P++)_.push(P);return _}_=[],P=0;for(const O in d)_[P++]=O;return _}}}function Yv(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var P=fP(d),O=hP(d),V=O.length,j=0;j<V;j++)_.call(void 0,O[j],P&&P[j],d)}var Jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pP(d,_){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var O=d[P].indexOf("="),V=null;if(0<=O){var j=d[P].substring(0,O);V=d[P].substring(O+1)}else j=d[P];_(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ls(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ls){this.h=d.h,Du(this,d.j),this.o=d.o,this.g=d.g,Nu(this,d.s),this.l=d.l;var _=d.i,P=new Ea;P.i=_.i,_.g&&(P.g=new Map(_.g),P.h=_.h),Zv(this,P),this.m=d.m}else d&&(_=String(d).match(Jv))?(this.h=!1,Du(this,_[1]||"",!0),this.o=wa(_[2]||""),this.g=wa(_[3]||"",!0),Nu(this,_[4]),this.l=wa(_[5]||"",!0),Zv(this,_[6]||"",!0),this.m=wa(_[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}ls.prototype.toString=function(){var d=[],_=this.j;_&&d.push(_a(_,ey,!0),":");var P=this.g;return(P||_=="file")&&(d.push("//"),(_=this.o)&&d.push(_a(_,ey,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(_a(P,P.charAt(0)=="/"?vP:gP,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",_a(P,xP)),d.join("")};function Dr(d){return new ls(d)}function Du(d,_,P){d.j=P?wa(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Nu(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Zv(d,_,P){_ instanceof Ea?(d.i=_,bP(d.i,d.h)):(P||(_=_a(_,yP)),d.i=new Ea(_,d.h))}function Ye(d,_,P){d.i.set(_,P)}function Mu(d){return Ye(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function wa(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _a(d,_,P){return typeof d=="string"?(d=encodeURI(d).replace(_,mP),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function mP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ey=/[#\/\?@]/g,gP=/[#\?:]/g,vP=/[#\?]/g,yP=/[#\?@]/g,xP=/#/g;function Ea(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function si(d){d.g||(d.g=new Map,d.h=0,d.i&&pP(d.i,function(_,P){d.add(decodeURIComponent(_.replace(/\+/g," ")),P)}))}t=Ea.prototype,t.add=function(d,_){si(this),this.i=null,d=qs(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(_),this.h+=1,this};function ty(d,_){si(d),_=qs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ny(d,_){return si(d),_=qs(d,_),d.g.has(_)}t.forEach=function(d,_){si(this),this.g.forEach(function(P,O){P.forEach(function(V){d.call(_,V,O,this)},this)},this)},t.na=function(){si(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),P=[];for(let O=0;O<_.length;O++){const V=d[O];for(let j=0;j<V.length;j++)P.push(_[O])}return P},t.V=function(d){si(this);let _=[];if(typeof d=="string")ny(this,d)&&(_=_.concat(this.g.get(qs(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)_=_.concat(d[P])}return _},t.set=function(d,_){return si(this),this.i=null,d=qs(this,d),ny(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function ry(d,_,P){ty(d,_),0<P.length&&(d.i=null,d.g.set(qs(d,_),m(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var P=0;P<_.length;P++){var O=_[P];const j=encodeURIComponent(String(O)),Y=this.V(O);for(O=0;O<Y.length;O++){var V=j;Y[O]!==""&&(V+="="+encodeURIComponent(String(Y[O]))),d.push(V)}}return this.i=d.join("&")};function qs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function bP(d,_){_&&!d.j&&(si(d),d.i=null,d.g.forEach(function(P,O){var V=O.toLowerCase();O!=V&&(ty(this,O),ry(this,V,P))},d)),d.j=_}function wP(d,_){const P=new hn;if(a.Image){const O=new Image;O.onload=h(oi,P,"TestLoadImage: loaded",!0,_,O),O.onerror=h(oi,P,"TestLoadImage: error",!1,_,O),O.onabort=h(oi,P,"TestLoadImage: abort",!1,_,O),O.ontimeout=h(oi,P,"TestLoadImage: timeout",!1,_,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function _P(d,_){const P=new hn,O=new AbortController,V=setTimeout(()=>{O.abort(),oi(P,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(j=>{clearTimeout(V),j.ok?oi(P,"TestPingServer: ok",!0,_):oi(P,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(V),oi(P,"TestPingServer: error",!1,_)})}function oi(d,_,P,O,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),O(P)}catch{}}function EP(){this.g=new ya}function TP(d,_,P){const O=P||"";try{Yv(d,function(V,j){let Y=V;u(V)&&(Y=Gt(V)),_.push(O+j+"="+encodeURIComponent(Y))})}catch(V){throw _.push(O+"type="+encodeURIComponent("_badmap")),V}}function Ou(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Ou,Gs),Ou.prototype.g=function(){return new Vu(this.l,this.j)},Ou.prototype.i=function(d){return function(){return d}}({});function Vu(d,_){q.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Vu,q),t=Vu.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Sa(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iy(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function iy(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ta(this):Sa(this),this.readyState==3&&iy(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ta(this))},t.Qa=function(d){this.g&&(this.response=d,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Sa(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var P=_.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=_.next();return d.join(`\r
`)};function Sa(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sy(d){let _="";return I(d,function(P,O){_+=O,_+=":",_+=P,_+=`\r
`}),_}function lf(d,_,P){e:{for(O in P){var O=!1;break e}O=!0}O||(P=sy(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Ye(d,_,P))}function ct(d){q.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ct,q);var SP=/^https?$/i,kP=["POST","PUT"];t=ct.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,P,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ef.g(),this.v=this.o?Cu(this.o):Cu(ef),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(j){oy(this,j);return}if(d=P||"",P=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var V in O)P.set(V,O[V]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const j of O.keys())P.set(j,O.get(j));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(P.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kP,_,void 0))||O||V||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of P)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uy(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){oy(this,j)}};function oy(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,ay(d),Lu(d)}function ay(d){d.A||(d.A=!0,ee(d,"complete"),ee(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ee(this,"complete"),ee(this,"abort"),Lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ly(this):this.bb())},t.bb=function(){ly(this)};function ly(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Nr(d)!=4||d.Z()!=2)){if(d.u&&Nr(d)==4)U(d.Ea,0,d);else if(ee(d,"readystatechange"),Nr(d)==4){d.h=!1;try{const Y=d.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var P;if(!(P=_)){var O;if(O=Y===0){var V=String(d.D).match(Jv)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),O=!SP.test(V?V.toLowerCase():"")}P=O}if(P)ee(d,"complete"),ee(d,"success");else{d.m=6;try{var j=2<Nr(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",ay(d)}}finally{Lu(d)}}}}function Lu(d,_){if(d.g){uy(d);const P=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||ee(d,"ready");try{P.onreadystatechange=O}catch{}}}function uy(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Nr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),ri(_)}};function cy(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function CP(d){const _={};d=(d.g&&2<=Nr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(b(d[O]))continue;var P=A(d[O]);const V=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const j=_[V]||[];_[V]=j,j.push(P)}T(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(d,_,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||_}function dy(d){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,d),this.cb=ka("retryDelaySeedMs",1e4,d),this.Wa=ka("forwardChannelMaxRetries",2,d),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Kv(d&&d.concurrentRequestLimit),this.Da=new EP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dy.prototype,t.la=8,t.G=1,t.connect=function(d,_,P,O){Le(0),this.W=d,this.H=_||{},P&&O!==void 0&&(this.H.OSID=P,this.H.OAID=O),this.F=this.X,this.I=by(this,null,this.W),Bu(this)};function uf(d){if(hy(d),d.G==3){var _=d.U++,P=Dr(d.I);if(Ye(P,"SID",d.K),Ye(P,"RID",_),Ye(P,"TYPE","terminate"),Ca(d,P),_=new ii(d,d.j,_),_.L=2,_.v=Mu(Dr(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=_.v,P=!0),P||(_.g=wy(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ru(_)}xy(d)}function ju(d){d.g&&(df(d),d.g.cancel(),d.g=null)}function hy(d){ju(d),d.u&&(a.clearTimeout(d.u),d.u=null),Fu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Bu(d){if(!Gv(d.h)&&!d.s){d.s=!0;var _=d.Ga;F||G(),L||(F(),L=!0),W.add(_,d),d.B=0}}function PP(d,_){return qv(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Xt(p(d.Ga,d,_),yy(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new ii(this,this.j,d);let j=this.o;if(this.S&&(j?(j=y(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var _=0,P=0;P<this.i.length;P++){t:{var O=this.i[P];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=P;break e}if(_===4096||P===this.i.length-1){_=P+1;break e}}_=1e3}else _=1e3;_=py(this,V,_),P=Dr(this.I),Ye(P,"RID",d),Ye(P,"CVER",22),this.D&&Ye(P,"X-HTTP-Session-Id",this.D),Ca(this,P),j&&(this.O?_="headers="+encodeURIComponent(String(sy(j)))+"&"+_:this.m&&lf(P,this.m,j)),af(this.h,V),this.Ua&&Ye(P,"TYPE","init"),this.P?(Ye(P,"$req",_),Ye(P,"SID","null"),V.T=!0,nf(V,P,null)):nf(V,P,_),this.G=2}}else this.G==3&&(d?fy(this,d):this.i.length==0||Gv(this.h)||fy(this))};function fy(d,_){var P;_?P=_.l:P=d.U++;const O=Dr(d.I);Ye(O,"SID",d.K),Ye(O,"RID",P),Ye(O,"AID",d.T),Ca(d,O),d.m&&d.o&&lf(O,d.m,d.o),P=new ii(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),_&&(d.i=_.D.concat(d.i)),_=py(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),af(d.h,P),nf(P,O,_)}function Ca(d,_){d.H&&I(d.H,function(P,O){Ye(_,O,P)}),d.l&&Yv({},function(P,O){Ye(_,O,P)})}function py(d,_,P){P=Math.min(d.i.length,P);var O=d.l?p(d.l.Na,d.l,d):null;e:{var V=d.i;let j=-1;for(;;){const Y=["count="+P];j==-1?0<P?(j=V[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let Ge=!0;for(let jt=0;jt<P;jt++){let Fe=V[jt].g;const Yt=V[jt].map;if(Fe-=j,0>Fe)j=Math.max(0,V[jt].g-100),Ge=!1;else try{TP(Yt,Y,"req"+Fe+"_")}catch{O&&O(Yt)}}if(Ge){O=Y.join("&");break e}}}return d=d.i.splice(0,P),_.D=d,O}function my(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;F||G(),L||(F(),L=!0),W.add(_,d),d.v=0}}function cf(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Xt(p(d.Fa,d),yy(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,gy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Xt(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),ju(this),gy(this))};function df(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function gy(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Dr(d.qa);Ye(_,"RID","rpc"),Ye(_,"SID",d.K),Ye(_,"AID",d.T),Ye(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ye(_,"TO",d.ja),Ye(_,"TYPE","xmlhttp"),Ca(d,_),d.m&&d.o&&lf(_,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=Mu(Dr(_)),P.m=null,P.P=!0,$v(P,d)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),cf(this),Le(19))};function Fu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function vy(d,_){var P=null;if(d.g==_){Fu(d),df(d),d.g=null;var O=2}else if(of(d.h,_))P=_.D,Qv(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){P=_.m?_.m.length:0,_=Date.now()-_.F;var V=d.B;O=Lt(),ee(O,new Qn(O,P)),Bu(d)}else my(d);else if(V=_.s,V==3||V==0&&0<_.X||!(O==1&&PP(d,_)||O==2&&cf(d)))switch(P&&0<P.length&&(_=d.h,_.i=_.i.concat(P)),V){case 1:us(d,5);break;case 4:us(d,10);break;case 3:us(d,6);break;default:us(d,2)}}}function yy(d,_){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*_}function us(d,_){if(d.j.info("Error code "+_),_==2){var P=p(d.fb,d),O=d.Xa;const V=!O;O=new ls(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Du(O,"https"),Mu(O),V?wP(O.toString(),P):_P(O.toString(),P)}else Le(2);d.G=0,d.l&&d.l.sa(_),xy(d),hy(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function xy(d){if(d.G=0,d.ka=[],d.l){const _=Xv(d.h);(_.length!=0||d.i.length!=0)&&(v(d.ka,_),v(d.ka,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.ra()}}function by(d,_,P){var O=P instanceof ls?Dr(P):new ls(P);if(O.g!="")_&&(O.g=_+"."+O.g),Nu(O,O.s);else{var V=a.location;O=V.protocol,_=_?_+"."+V.hostname:V.hostname,V=+V.port;var j=new ls(null);O&&Du(j,O),_&&(j.g=_),V&&Nu(j,V),P&&(j.l=P),O=j}return P=d.D,_=d.ya,P&&_&&Ye(O,P,_),Ye(O,"VER",d.la),Ca(d,O),O}function wy(d,_,P){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new ct(new Ou({eb:P})):new ct(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _y(){}t=_y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uu(){}Uu.prototype.g=function(d,_){return new Cn(d,_)};function Cn(d,_){q.call(this),this.g=new dy(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!b(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!b(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Qs(this)}g(Cn,q),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){uf(this.g)},Cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Gt(d),d=P);_.i.push(new dP(_.Ya++,d)),_.G==3&&Bu(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,uf(this.g),delete this.g,Cn.aa.N.call(this)};function Ey(d){xt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const P in _){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}g(Ey,xt);function Ty(){Vt.call(this),this.status=1}g(Ty,Vt);function Qs(d){this.g=d}g(Qs,_y),Qs.prototype.ua=function(){ee(this.g,"a")},Qs.prototype.ta=function(d){ee(this.g,new Ey(d))},Qs.prototype.sa=function(d){ee(this.g,new Ty)},Qs.prototype.ra=function(){ee(this.g,"b")},Uu.prototype.createWebChannel=Uu.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,$T=function(){return new Uu},zT=function(){return Lt()},UT=pt,vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Nc=Iu,Fv.COMPLETE="complete",FT=Fv,Pu.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",q.prototype.listen=q.prototype.K,$a=Pu,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,BT=ct}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore",tx="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new i0("@firebase/firestore");function ro(){return Rs.logLevel}function ne(t,...e){if(Rs.logLevel<=Ie.DEBUG){const n=e.map(a0);Rs.debug(`Firestore (${aa}): ${t}`,...n)}}function Yr(t,...e){if(Rs.logLevel<=Ie.ERROR){const n=e.map(a0);Rs.error(`Firestore (${aa}): ${t}`,...n)}}function Ko(t,...e){if(Rs.logLevel<=Ie.WARN){const n=e.map(a0);Rs.warn(`Firestore (${aa}): ${t}`,...n)}}function a0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(t,r,n)}function WT(t,e,n){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WT(e,i,r)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $D{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new HT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class WD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=GD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function ym(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Se(r,i);{const s=KT(),o=qD(s.encode(rx(t,n)),s.encode(rx(e,n)));return o!==0?o:Se(r,i)}}n+=r>65535?2:1}return Se(t.length,e.length)}function rx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Se(t[n],e[n]);return Se(t.length,e.length)}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-62135596800,sx=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sx);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ix)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sx}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__name__";class gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=gr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Se(e.length,n.length)}static compareSegments(e,n){const r=gr.isNumericId(e),i=gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gr.extractNumericId(e).compare(gr.extractNumericId(n)):ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class rt extends gr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends gr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return QD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ox}static keyField(){return new zt([ox])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function XD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Fi(i,pe.empty(),e)}function YD(t){return new Fi(t.readTime,t.key,Fl)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(we.min(),pe.empty(),Fl)}static max(){return new Fi(we.max(),pe.empty(),Fl)}}function JD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==ZD)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function tN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}xh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-1;function bh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function nN(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function rN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ax(e)),e=iN(t.get(n),e);return ax(e)}function iN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case qT:n+="";break;default:n+=s}}return n}function ax(t){return t+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XT("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const sN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=sN.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="server_timestamp",JT="__type__",ZT="__previous_value__",eS="__local_write_time__";function u0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JT])===null||n===void 0?void 0:n.stringValue)===YT}function wh(t){const e=t.mapValue.fields[ZT];return u0(e)?wh(e):e}function Ul(t){const e=Ui(t.mapValue.fields[eS].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ed="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||Ed}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",aN="__max__",lc={mapValue:{}},nS="__vector__",Td="value";function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u0(t)?4:uN(t)?9007199254740991:lN(t)?10:11:xe(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ui(i.timestampValue),a=Ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zi(i.bytesValue).isEqual(zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?_d(o)===_d(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lx(o)!==lx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function $l(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cx(t.timestampValue,e.timestampValue);case 4:return cx(Ul(t),Ul(e));case 5:return ym(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zi(s),l=zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(gt(s.latitude),gt(o.latitude));return a!==0?a:Se(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const f=s.fields||{},p=o.fields||{},h=(a=f[Td])===null||a===void 0?void 0:a.arrayValue,g=(l=p[Td])===null||l===void 0?void 0:l.arrayValue,m=Se(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:dx(h,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===lc.mapValue&&o===lc.mapValue)return 0;if(s===lc.mapValue)return 1;if(o===lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=ym(l[f],c[f]);if(p!==0)return p;const h=qo(a[l[f]],u[c[f]]);if(h!==0)return h}return Se(l.length,c.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{Pe:n})}}function cx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Ui(t),r=Ui(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function dx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qo(n[i],r[i]);if(s)return s}return Se(n.length,r.length)}function Qo(t){return xm(t)}function xm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xm(n.fields[o])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Mc(t){switch($i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(t);return e?16+Mc(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Mc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ji(r.fields,(s,o)=>{i+=s.length+Mc(o)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function bm(t){return!!t&&"integerValue"in t}function c0(t){return!!t&&"arrayValue"in t}function hx(t){return!!t&&"nullValue"in t}function fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function lN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===nS}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(ll(this.value))}}function rS(t){const e=[];return Ji(t.fields,(n,r)=>{const i=new zt([n]);if(Oc(r)){const s=rS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function px(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class St extends iS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hN(e,n,r):n==="array-contains"?new mN(e,r):n==="in"?new gN(e,r):n==="not-in"?new vN(e,r):n==="array-contains-any"?new yN(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fN(e,r):new pN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Pr(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sS(t){return t.op==="and"}function oS(t){return dN(t)&&sS(t)}function dN(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function wm(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(oS(t))return t.filters.map(e=>wm(e)).join(",");{const e=t.filters.map(n=>wm(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aS(o,i.filters[a]),!0):!1}(t,e):void xe(19439)}function lS(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}class hN extends St{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fN extends St{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pN extends St{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class mN extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c0(n)&&$l(n.arrayValue,this.value)}}class gN extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class vN extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class yN extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function gx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xN(t,e,n,r,i,s,o)}function d0(t){const e=_e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.Ie=n}return e.Ie}function h0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mx(t.startAt,e.startAt)&&mx(t.endAt,e.endAt)}function _m(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bN(t,e,n,r,i,s,o,a){return new _h(t,e,n,r,i,s,o,a)}function f0(t){return new _h(t)}function vx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wN(t){return t.collectionGroup!==null}function ul(t){const e=_e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new kd(s,r))}),n.has(zt.keyField().canonicalString())||e.Ee.push(new kd(zt.keyField(),r))}return e.Ee}function wr(t){const e=_e(t);return e.de||(e.de=_N(e,ul(t))),e.de}function _N(t,e){if(t.limitType==="F")return gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new kd(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Em(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return h0(wr(t),wr(e))&&t.limitType===e.limitType}function cS(t){return`${d0(wr(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lS(i)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ul(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=px(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ul(r),i)||r.endAt&&!function(o,a,l){const u=px(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ul(r),i))}(t,e)}function EN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let r=!1;for(const i of ul(t)){const s=TN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TN(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?qo(l,u):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new ut(pe.comparator);function Jr(){return SN}const hS=new ut(pe.comparator);function Wa(...t){let e=hS;for(const n of t)e=e.insert(n.key,n);return e}function fS(t){let e=hS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return cl()}function pS(){return cl()}function cl(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const kN=new ut(pe.comparator),CN=new Pt(pe.comparator);function Ae(...t){let e=CN;for(const n of t)e=e.add(n);return e}const PN=new Pt(Se);function IN(){return PN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function mS(t){return{integerValue:""+t}}function AN(t,e){return nN(e)?mS(e):p0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function RN(t,e,n){return t instanceof Cd?function(i,s){const o={fields:{[JT]:{stringValue:YT},[eS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&u0(s)&&(s=wh(s)),s&&(o.fields[ZT]=s),{mapValue:o}}(n,e):t instanceof Wl?vS(t,e):t instanceof Hl?yS(t,e):function(i,s){const o=gS(i,s),a=yx(o)+yx(i.Re);return bm(o)&&bm(i.Re)?mS(a):p0(i.serializer,a)}(t,e)}function DN(t,e,n){return t instanceof Wl?vS(t,e):t instanceof Hl?yS(t,e):n}function gS(t,e){return t instanceof Pd?function(r){return bm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cd extends Sh{}class Wl extends Sh{constructor(e){super(),this.elements=e}}function vS(t,e){const n=xS(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Sh{constructor(e){super(),this.elements=e}}function yS(t,e){let n=xS(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class Pd extends Sh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function yx(t){return gt(t.integerValue||t.doubleValue)}function xS(t){return c0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wl&&i instanceof Wl||r instanceof Hl&&i instanceof Hl?Go(r.elements,i.elements,Cr):r instanceof Pd&&i instanceof Pd?Cr(r.Re,i.Re):r instanceof Cd&&i instanceof Cd}(t.transform,e.transform)}class MN{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function bS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,ur.none()):new cu(t.key,t.data,ur.none());{const n=t.data,r=bn.empty();let i=new Pt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new Rn(i.toArray()),ur.none())}}function ON(t,e,n){t instanceof cu?function(i,s,o){const a=i.value.clone(),l=bx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!Vc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof cu?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const u=s.value.clone(),c=wx(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const u=wx(s.fieldTransforms,l,o),c=o.data;return c.setAll(wS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gS(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function xx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(s,o)=>NN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends kh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bx(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DN(o,a,n[i]))}return r}function wx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RN(s,o,e))}return r}class m0 extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ON(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>xx(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>xx(n,r))}}class g0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return kN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Oe;function UN(t){switch(t){case H.OK:return xe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function _S(t){if(t===void 0)return Yr("GRPC error has no .code"),H.UNKNOWN;switch(t){case bt.OK:return H.OK;case bt.CANCELLED:return H.CANCELLED;case bt.UNKNOWN:return H.UNKNOWN;case bt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case bt.INTERNAL:return H.INTERNAL;case bt.UNAVAILABLE:return H.UNAVAILABLE;case bt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case bt.NOT_FOUND:return H.NOT_FOUND;case bt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case bt.ABORTED:return H.ABORTED;case bt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case bt.DATA_LOSS:return H.DATA_LOSS;default:return xe(39323,{code:t})}}(Oe=bt||(bt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Vi([4294967295,4294967295],0);function _x(t){const e=KT().encode(t),n=new jT;return n.update(e),new Uint8Array(n.digest())}function Ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}class v0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Vi.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Vi.fromNumber(r)));return i.compare(zN)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new v0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ch(we.min(),i,new ut(Se),Jr(),Ae())}}class du{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new du(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class ES{constructor(e,n){this.targetId=e,this.Ce=n}}class TS{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tx{constructor(){this.Fe=0,this.Me=Sx(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),n=Ae(),r=Ae();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe(38017,{changeType:s})}}),new du(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Sx()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $N{constructor(e){this.ze=e,this.je=new Map,this.He=Jr(),this.Je=uc(),this.Ye=uc(),this.Ze=new ut(Se)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(_m(s))if(r===0){const o=new pe(s.path);this.tt(n,o,on.newNoDocument(o,we.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(l){if(l instanceof XT)return Ko("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new v0(o,i,s)}catch(l){return Ko(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&_m(a.target)){const l=new pe(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,on.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Ae();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Ch(e,n,this.Ze,this.He,r);return this.He=Jr(),this.Je=uc(),this.Ye=uc(),this.Ze=new ut(Se),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Tx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Pt(Se),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Pt(Se),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Tx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function uc(){return new ut(pe.comparator)}function Sx(){return new ut(pe.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qN(t,e){return Id(t,e.toTimestamp())}function _r(t){return ze(!!t,49232),we.fromTimestamp(function(n){const r=Ui(n);return new Ct(r.seconds,r.nanos)}(t))}function y0(t,e){return Sm(t,e).canonicalString()}function Sm(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kS(t){const e=rt.fromString(t);return ze(RS(e),10190,{key:e.toString()}),e}function km(t,e){return y0(t.databaseId,e.path)}function Kf(t,e){const n=kS(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(PS(n))}function CS(t,e){return y0(t.databaseId,e)}function QN(t){const e=kS(t);return e.length===4?rt.emptyPath():PS(e)}function Cm(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kx(t,e,n){return{name:km(t,e),fields:n.value.mapValue.fields}}function XN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string",58123),Kt.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?H.UNKNOWN:_S(u.code);return new ce(c,u.message||"")}(o);n=new TS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kf(t,r.document.name),s=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):we.min(),a=new bn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kf(t,r.document),s=r.readTime?_r(r.readTime):we.min(),o=on.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kf(t,r.document),s=r.removedTargetIds||[];n=new Lc([],s,i,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new FN(i,s),a=r.targetId;n=new ES(a,o)}}return n}function YN(t,e){let n;if(e instanceof cu)n={update:kx(t,e.key,e.value)};else if(e instanceof m0)n={delete:km(t,e.key)};else if(e instanceof Zi)n={update:kx(t,e.key,e.data),updateMask:oM(e.fieldMask)};else{if(!(e instanceof LN))return xe(16599,{ft:e.type});n={verify:km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw xe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe(27497)}(t,e.precondition)),n}function JN(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?_r(i.updateTime):_r(s);return o.isEqual(we.min())&&(o=_r(s)),new MN(o,i.transformResults||[])}(n,e))):[]}function ZN(t,e){return{documents:[CS(t,e.path)]}}function eM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CS(t,i);const s=function(u){if(u.length!==0)return AS(Pr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:so(p.field),direction:rM(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function tM(t){let e=QN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const p=IS(f);return p instanceof Pr&&oS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(g){return new kd(oo(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,bh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new Sd(h,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,h=f.values||[];return new Sd(h,p)}(n.endAt)),bN(e,i,o,s,a,"F",l,u)}function nM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oo(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oo(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oo(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return St.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>IS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function rM(t){return WN[t]}function iM(t){return HN[t]}function sM(t){return KN[t]}function so(t){return{fieldPath:t.canonicalString()}}function oo(t){return zt.fromServerFormat(t.fieldPath)}function AS(t){return t instanceof St?function(n){if(n.op==="=="){if(fx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(hx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(hx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:iM(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>AS(i));return r.length===1?r[0]:{compositeFilter:{op:sM(n.op),filters:r}}}(t):xe(54877,{filter:t})}function oM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.wt=e}}function lM(t){const e=tM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Cn=new cM}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Fi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class cM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(DS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="LruGarbageCollector",dM=1048576;function Ix([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class hM{constructor(e){this.Er=e,this.buffer=new Pt(Ix),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ix(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ne(Px,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ua(n)?ne(Px,"Ignoring IndexedDB error during garbage collection: ",n):await la(n)}await this.mr(3e5)})}}class pM{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(xh.le);const r=new hM(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Cx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ro()<=Ie.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function mM(t,e){return new pM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,Rn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jr();const o=cl(),a=function(){return cl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),dl(c.mutation,u,c.mutation.getFieldMask(),Ct.now())):o.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new vM(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let i=new ut((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=pS();c.forEach(p=>{if(!s.has(p)){const h=bS(n.get(p),r.get(p));h!==null&&f.set(p,h),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(xs());let a=Fl,l=s;return o.next(u=>$.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:a,changes:fS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(f,p){return new _h(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,on.newInvalidDocument(c)))});let a=Wa();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&dl(c.mutation,u,Rn.empty(),Ct.now()),Th(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:lM(i.bundledQuery),readTime:_r(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.overlays=new ut(pe.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BN(n,r));let s=this.Qr.get(n);s===void 0&&(s=Ae(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.$r=new Pt(Dt.Ur),this.Kr=new Pt(Dt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Dt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new pe(new rt([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new rt([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Ae();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Se(e.Zr,n.Zr)}static Wr(e,n){return Se(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Pt(Dt.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?l0:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Se);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new pe(s),0);let a=new Pt(Se);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),$.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Xr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.ii=e,this.docs=function(){return new ut(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():on.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jr();const o=n.path,a=new pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JD(YD(c),r)<=0||(i.has(c.key)||Th(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe(9500)}si(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TM(this)}getSize(e){return $.resolve(this.size)}}class TM extends gM{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.persistence=e,this.oi=new Us(n=>d0(n),h0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new x0,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.ci={},this.overlays={},this.li=new xh(0),this.hi=!1,this.hi=!0,this.Pi=new wM,this.referenceDelegate=e(this),this.Ti=new SM(this),this.indexManager=new uM,this.remoteDocumentCache=function(i){return new EM(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new aM(n),this.Ei=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new _M(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new kM(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class kM extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class b0{constructor(e){this.persistence=e,this.Vi=new x0,this.mi=null}static fi(e){return new b0(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const i=pe.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.yi=new Us(r=>rN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mM(this,n)}static fi(e,n){return new Ad(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,we.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}Dr(e,n,r){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new w0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ER()?8:tN(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CM;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ro()<=Ie.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(ro()<=Ie.DEBUG&&ne("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ro()<=Ie.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):$.resolve())}ws(e,n){if(vx(n))return $.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Em(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,Em(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,i){return vx(n)||i.isEqual(we.min())?$.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?$.resolve(null):(ro()<=Ie.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(n)),this.Fs(e,o,n,XD(i,Fl)).next(a=>a))})}vs(e,n){let r=new Pt(dS(e));return n.forEach((i,s)=>{Th(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return ro()<=Ie.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",io(n)),this.ys.getDocumentsMatchingQuery(e,n,Fi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LocalStore",IM=3e8;class AM{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new ut(Se),this.Os=new Us(s=>d0(s),h0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function RM(t,e,n,r){return new AM(t,e,n,r)}async function MS(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ae();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function DM(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,p=f.keys();let h=$.resolve();return p.forEach(g=>{h=h.next(()=>c.getEntry(l,g)).next(m=>{const v=u.docVersions.get(g);ze(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OS(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function NM(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,c.addedDocuments,f)));let h=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=IM?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,h,c)&&a.push(n.Ti.updateTargetData(s,h))});let l=Jr(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(MM(s,o,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(we.min())){const c=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function MM(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne(_0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function OM(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=l0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VM(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Pm(t,e,n){const r=_e(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ua(o))throw o;ne(_0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Ax(t,e,n){const r=_e(t);let i=we.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=_e(l),p=f.Os.get(c);return p!==void 0?$.resolve(f.xs.get(p)):f.Ti.getTargetData(u,c)}(r,o,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Ae())).next(a=>(LM(r,EN(e),a),{documents:a,$s:s})))}function LM(t,e,n){let r=t.Ns.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class Rx{constructor(){this.activeTargetIds=IN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(){this.xo=new Rx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="ConnectivityMonitor";class Nx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ne(Dx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ne(Dx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Im(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ed?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Im(),a=this.jo(e,n.toUriEncodedString());ne(Gf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),c=au(u);return this.Jo(e,a,l,r,c).then(f=>(ne(Gf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ko(Gf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=FM[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class $M extends UM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Im();return new Promise((a,l)=>{const u=new BT;u.setWithCredentials(!0),u.listenOnce(FT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nc.NO_ERROR:const f=u.getResponseJson();ne(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Nc.TIMEOUT:ne(tn,`RPC '${e}' ${o} timed out`),l(new ce(H.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const p=u.getStatus();if(ne(tn,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const m=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(g.status);l(new ce(m,g.message))}else l(new ce(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ce(H.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(tn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ne(tn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=Im(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$T(),a=zT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ne(tn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,h=!1;const g=new zM({Zo:v=>{h?ne(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(ne(tn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ne(tn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Xo:()=>f.close()}),m=(v,x,b)=>{v.listen(x,E=>{try{b(E)}catch(R){setTimeout(()=>{throw R},0)}})};return m(f,$a.EventType.OPEN,()=>{h||(ne(tn,`RPC '${e}' stream ${i} transport opened.`),g.__())}),m(f,$a.EventType.CLOSE,()=>{h||(h=!0,ne(tn,`RPC '${e}' stream ${i} transport closed`),g.u_())}),m(f,$a.EventType.ERROR,v=>{h||(h=!0,Ko(tn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.u_(new ce(H.UNAVAILABLE,"The operation could not be completed")))}),m(f,$a.EventType.MESSAGE,v=>{var x;if(!h){const b=v.data[0];ze(!!b,16349);const E=b,R=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(R){ne(tn,`RPC '${e}' stream ${i} received error:`,R);const w=R.status;let I=function(S){const k=bt[S];if(k!==void 0)return _S(k)}(w),T=R.message;I===void 0&&(I=H.INTERNAL,T="Unknown error status: "+w+" with message "+R.message),h=!0,g.u_(new ce(I,T)),f.close()}else ne(tn,`RPC '${e}' stream ${i} received:`,b),g.c_(b)}}),m(a,UT.STAT_EVENT,v=>{v.stat===vm.PROXY?ne(tn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===vm.NOPROXY&&ne(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new GN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="PersistentStream";class LS{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new VS(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new ce(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ne(Mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ne(Mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WM extends LS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=XN(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?_r(o.readTime):we.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_m(l)?{documents:ZN(s,l)}:{query:eM(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SS(s,o.resumeToken);const u=Tm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Id(s,o.snapshotVersion.toTimestamp());const u=Tm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=nM(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.L_(n)}}class HM extends LS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=JN(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Cm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YN(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class GM extends KM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Sm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(H.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Sm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(H.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class qM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Yr(n),this.oa=!1):ne("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="RemoteStore";class QM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{zs(this)&&(ne(Ds,"Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.Ta.add(4),await hu(u),u.da.set("Unknown"),u.Ta.delete(4),await Ih(u)}(this))})}),this.da=new qM(r,i)}}async function Ih(t){if(zs(t))for(const e of t.Ia)await e(!0)}async function hu(t){for(const e of t.Ia)await e(!1)}function jS(t,e){const n=_e(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),k0(n)?S0(n):ca(n).M_()&&T0(n,e))}function E0(t,e){const n=_e(t),r=ca(n);n.Pa.delete(e),r.M_()&&BS(n,e),n.Pa.size===0&&(r.M_()?r.N_():zs(n)&&n.da.set("Unknown"))}function T0(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ca(t).H_(e)}function BS(t,e){t.Aa.Ke(e),ca(t).J_(e)}function S0(t){t.Aa=new $N({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ca(t).start(),t.da._a()}function k0(t){return zs(t)&&!ca(t).F_()&&t.Pa.size>0}function zs(t){return _e(t).Ta.size===0}function FS(t){t.Aa=void 0}async function XM(t){t.da.set("Online")}async function YM(t){t.Pa.forEach((e,n)=>{T0(t,e)})}async function JM(t,e){FS(t),k0(t)?(t.da.ca(e),S0(t)):t.da.set("Unknown")}async function ZM(t,e,n){if(t.da.set("Online"),e instanceof TS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){ne(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Lc?t.Aa.Xe(e):e instanceof ES?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(we.min()))try{const r=await OS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Pa.get(u);c&&s.Pa.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Pa.get(l);if(!c)return;s.Pa.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),BS(s,l);const f=new Ei(c.target,l,u,c.sequenceNumber);T0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(Ds,"Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,n){if(!ua(e))throw e;t.Ta.add(1),await hu(t),t.da.set("Offline"),n||(n=()=>OS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ds,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Ih(t)})}function US(t,e){return e().catch(n=>Rd(t,n,e))}async function Ah(t){const e=_e(t),n=Wi(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:l0;for(;eO(e);)try{const i=await OM(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,tO(e,i)}catch(i){await Rd(e,i)}zS(e)&&$S(e)}function eO(t){return zs(t)&&t.ha.length<10}function tO(t,e){t.ha.push(e);const n=Wi(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function zS(t){return zs(t)&&!Wi(t).F_()&&t.ha.length>0}function $S(t){Wi(t).start()}async function nO(t){Wi(t).ta()}async function rO(t){const e=Wi(t);for(const n of t.ha)e.Z_(n.mutations)}async function iO(t,e,n){const r=t.ha.shift(),i=g0.from(r,e,n);await US(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function sO(t,e){e&&Wi(t).Y_&&await async function(r,i){if(function(o){return UN(o)&&o!==H.ABORTED}(i.code)){const s=r.ha.shift();Wi(r).O_(),await US(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ah(r)}}(t,e),zS(t)&&$S(t)}async function Ox(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ne(Ds,"RemoteStore received new credentials");const r=zs(n);n.Ta.add(3),await hu(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Ih(n)}async function oO(t,e){const n=_e(t);e?(n.Ta.delete(2),await Ih(n)):e||(n.Ta.add(2),await hu(n),n.da.set("Unknown"))}function ca(t){return t.Ra||(t.Ra=function(n,r,i){const s=_e(n);return s.ra(),new WM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:XM.bind(null,t),n_:YM.bind(null,t),i_:JM.bind(null,t),j_:ZM.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),k0(t)?S0(t):t.da.set("Unknown")):(await t.Ra.stop(),FS(t))})),t.Ra}function Wi(t){return t.Va||(t.Va=function(n,r,i){const s=_e(n);return s.ra(),new HM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:nO.bind(null,t),i_:sO.bind(null,t),X_:rO.bind(null,t),ea:iO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Ah(t)):(await t.Va.stop(),t.ha.length>0&&(ne(Ds,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new C0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),ua(t))return new ce(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.ma=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yo(e,n,No.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class lO{constructor(){this.queries=Lx(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=Lx(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ce(H.ABORTED,"Firestore shutting down"))}}function Lx(){return new Us(t=>cS(t),Eh)}async function WS(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new aO,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=P0(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&I0(n)}async function HS(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uO(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&I0(n)}function cO(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function I0(t){t.ba.forEach(e=>{e.next()})}var Am,jx;(jx=Am||(Am={})).Ca="default",jx.Cache="cache";class KS{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class qS{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ae(),this.mutatedKeys=Ae(),this.Ha=dS(e),this.Ja=new No(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new Vx,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),h=Th(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;p&&h?p.data.isEqual(h.data)?g!==m&&(r.track({type:3,doc:h}),v=!0):this.eu(p,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Ha(h,l)>0||u&&this.Ha(h,u)<0)&&(a=!0)):!p&&h?(r.track({type:0,doc:h}),v=!0):p&&!h&&(r.track({type:1,doc:p}),v=!0,(l||u)&&(a=!0)),v&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((c,f)=>function(h,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:v})}};return m(h)-m(g)}(c.type,f.type)||this.Ha(c.doc,f.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Yo(this.query,e.Ja,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Vx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ae(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new qS(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new GS(r))}),n}su(e){this.Ga=e.$s,this.ja=Ae();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Yo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const A0="SyncEngine";class hO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fO{constructor(e){this.key=e,this._u=!1}}class pO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Us(a=>cS(a),Eh),this.cu=new Map,this.lu=new Set,this.hu=new ut(pe.comparator),this.Pu=new Map,this.Tu=new x0,this.Iu={},this.Eu=new Map,this.du=Xo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function mO(t,e,n=!0){const r=e2(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await QS(r,e,n,!0),i}async function gO(t,e){const n=e2(t);await QS(n,e,!0,!1)}async function QS(t,e,n,r){const i=await VM(t.localStore,wr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await vO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jS(t.remoteStore,i),a}async function vO(t,e,n,r,i){t.Ru=(f,p,h)=>async function(m,v,x,b){let E=v.view.Za(x);E.Cs&&(E=await Ax(m.localStore,v.query,!1).then(({documents:T})=>v.view.Za(T,E)));const R=b&&b.targetChanges.get(v.targetId),w=b&&b.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(E,m.isPrimaryClient,R,w);return Fx(m,v.targetId,I.ru),I.snapshot}(t,f,p,h);const s=await Ax(t.localStore,e,!0),o=new dO(e,s.$s),a=o.Za(s.documents),l=du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Fx(t,n,u.ru);const c=new hO(e,n,o);return t.uu.set(e,c),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function yO(t,e,n){const r=_e(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!Eh(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&E0(r.remoteStore,i.targetId),Rm(r,i.targetId)}).catch(la)):(Rm(r,i.targetId),await Pm(r.localStore,i.targetId,!0))}async function xO(t,e){const n=_e(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E0(n.remoteStore,r.targetId))}async function bO(t,e,n){const r=CO(t);try{const i=await function(o,a){const l=_e(o),u=Ct.now(),c=a.reduce((h,g)=>h.add(g.key),Ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Jr(),m=Ae();return l.Bs.getEntries(h,c).next(v=>{g=v,g.forEach((x,b)=>{b.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(v=>{f=v;const x=[];for(const b of a){const E=VN(b,f.get(b.key).overlayedDocument);E!=null&&x.push(new Zi(b.key,E,rS(E.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,x,a)}).next(v=>{p=v;const x=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,x)})}).then(()=>({batchId:p.batchId,changes:fS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new ut(Se)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await fu(r,i.changes),await Ah(r.remoteStore)}catch(i){const s=P0(i,"Failed to persist write");n.reject(s)}}async function XS(t,e){const n=_e(t);try{const r=await NM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?ze(o._u,14607):i.removedDocuments.size>0&&(ze(o._u,42227),o._u=!1))}),await fu(n,r,e)}catch(r){await la(r)}}function Bx(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.ya)p.Da(a)&&(u=!0)}),u&&I0(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wO(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new ut(pe.comparator);o=o.insert(s,on.newNoDocument(s,we.min()));const a=Ae().add(s),l=new Ch(we.min(),new Map,new ut(Se),o,a);await XS(r,l),r.hu=r.hu.remove(s),r.Pu.delete(e),R0(r)}else await Pm(r.localStore,e,!1).then(()=>Rm(r,e,n)).catch(la)}async function _O(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await DM(n.localStore,e);JS(n,r,null),YS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await la(i)}}async function EO(t,e,n){const r=_e(t);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ze(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);JS(r,e,n),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await la(i)}}function YS(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function JS(t,e,n){const r=_e(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(E0(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),R0(t))}function Fx(t,e,n){for(const r of n)r instanceof GS?(t.Tu.addReference(r.key,e),TO(t,r)):r instanceof qS?(ne(A0,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||ZS(t,r.key)):xe(19791,{mu:r})}function TO(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(ne(A0,"New document in limbo: "+n),t.lu.add(r),R0(t))}function R0(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new pe(rt.fromString(e)),r=t.du.next();t.Pu.set(r,new fO(n)),t.hu=t.hu.insert(n,r),jS(t.remoteStore,new Ei(wr(f0(n.path)),r,"TargetPurposeLimboResolution",xh.le))}}async function fu(t,e,n){const r=_e(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=w0.Rs(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.au.j_(i),await async function(l,u){const c=_e(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.ds,h=>c.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>$.forEach(p.As,h=>c.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!ua(f))throw f;ne(_0,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const h=c.xs.get(p),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);c.xs=c.xs.insert(p,m)}}}(r.localStore,s))}async function SO(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ne(A0,"User change. New user:",e.toKey());const r=await MS(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ce(H.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.ks)}}function kO(t,e){const n=_e(t),r=n.Pu.get(e);if(r&&r._u)return Ae().add(r.key);{let i=Ae();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function e2(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.au.j_=uO.bind(null,e.eventManager),e.au.Vu=cO.bind(null,e.eventManager),e}function CO(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EO.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return RM(this.persistence,new PM,e.initialUser,this.serializer)}yu(e){return new NS(b0.fi,this.serializer)}pu(e){return new jM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class PO extends Dd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ze(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fM(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new NS(r=>Ad.fi(r,n),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lO}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(s){return new $M(s)}(e.databaseInfo);return function(s,o,a,l){return new GM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Bx(this.syncEngine,n,0),function(){return Nx.C()?new Nx:new BM}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new pO(i,s,o,a,l,u);return c&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);ne(Ds,"RemoteStore shutting down."),s.Ta.add(5),await hu(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class IO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=GT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ne(Hi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Hi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ux(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AO(t);ne(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ox(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ox(e.remoteStore,i)),t._onlineComponents=e}async function AO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Hi,"Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new Dd)}}else ne(Hi,"Using default OfflineComponentProvider"),await Qf(t,new PO(void 0));return t._offlineComponents}async function n2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Hi,"Using user provided OnlineComponentProvider"),await Ux(t,t._uninitializedComponentsProvider._online)):(ne(Hi,"Using default OnlineComponentProvider"),await Ux(t,new Dm))),t._onlineComponents}function RO(t){return n2(t).then(e=>e.syncEngine)}async function r2(t){const e=await n2(t),n=e.eventManager;return n.onListen=mO.bind(null,e.syncEngine),n.onUnlisten=yO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xO.bind(null,e.syncEngine),n}function DO(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t2({next:p=>{c.Cu(),o.enqueueAndForget(()=>HS(s,f));const h=p.docs.has(a);!h&&p.fromCache?u.reject(new ce(H.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&l&&l.source==="server"?u.reject(new ce(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new KS(f0(a.path),c,{includeMetadataChanges:!0,La:!0});return WS(s,f)}(await r2(t),t.asyncQueue,e,n,r)),r.promise}function NO(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t2({next:p=>{c.Cu(),o.enqueueAndForget(()=>HS(s,f)),p.fromCache&&l.source==="server"?u.reject(new ce(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new KS(a,c,{includeMetadataChanges:!0,La:!0});return WS(s,f)}(await r2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e,n){if(!n)throw new ce(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MO(t,e,n,r){if(e===!0&&r===!0)throw new ce(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $x(t){if(!pe.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wx(t){if(pe.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function D0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=D0(t);throw new ce(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firestore.googleapis.com",Hx=!0;class Kx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o2,this.ssl=Hx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Hx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dM)throw new ce(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UD;switch(r.type){case"firstParty":return new HD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,yh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zx.get(n);r&&(ne("ComponentProvider","Removing Datastore"),zx.delete(n),r.terminate())}(this),Promise.resolve()}}function OO(t,e,n,r={}){var i;t=Ir(t,Rh);const s=au(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==o2&&o.host!==l&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Is(u,a)&&(t._setSettings(u),s&&(RT(`https://${l}`),yh("Firestore",!0)),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=rn.MOCK_USER;else{c=pR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new rn(p)}t._authCredentials=new zD(new HT(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Li extends Dh{constructor(e,n,r){super(e,n,f0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new pe(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function $s(t,e,...n){if(t=Ht(t),s2("collection","path",e),t instanceof Rh){const r=rt.fromString(e,...n);return Wx(r),new Li(t,null,r)}{if(!(t instanceof Sn||t instanceof Li))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return Wx(r),new Li(t.firestore,null,r)}}function fe(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=GT.newId()),s2("doc","path",e),t instanceof Rh){const r=rt.fromString(e,...n);return $x(r),new Sn(t,null,new pe(r))}{if(!(t instanceof Sn||t instanceof Li))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return $x(r),new Sn(t.firestore,t instanceof Li?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class qx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new VS(this,"async_queue_retry"),this.ec=()=>{const r=qf();r&&ne(Gx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new zr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ua(e))throw e;ne(Gx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Yr("INTERNAL UNHANDLED ERROR: ",Qx(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=C0.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&xe(47125,{_c:Qx(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Qx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class da extends Rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qx(e),this._firestoreClient=void 0,await e}}}function a2(t,e){const n=typeof t=="object"?t:OT(),r=typeof t=="string"?t:Ed,i=o0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hR("firestore");s&&OO(i,...s)}return i}function N0(t){if(t._terminated)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VO(t),t._firestoreClient}function VO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new oN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,i2(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new IO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(Kt.fromBase64String(e))}catch(n){throw new ce(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^__.*__$/;class jO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class l2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{hc:t})}}class L0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new L0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Nd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(u2(this.hc)&&LO.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class BO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}gc(e,n,r,i=!1){return new L0({hc:e,methodName:n,fc:r,path:zt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c2(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new BO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FO(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);j0("Data must be an object, but it was:",o,r);const a=d2(r,o);let l,u;if(s.merge)l=new Rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=Nm(e,f,n);if(!o.contains(p))throw new ce(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);f2(c,p)||c.push(p)}l=new Rn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new jO(new bn(a),l,u)}class Mh extends M0{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function UO(t,e,n,r){const i=t.gc(1,e,n);j0("Data must be an object, but it was:",i,r);const s=[],o=bn.empty();Ji(r,(l,u)=>{const c=B0(e,l,n);u=Ht(u);const f=i.Ac(c);if(u instanceof Mh)s.push(c);else{const p=Oh(u,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new Rn(s);return new l2(o,a,i.fieldTransforms)}function zO(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[Nm(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Nm(e,s[p])),l.push(s[p+1]);const u=[],c=bn.empty();for(let p=a.length-1;p>=0;--p)if(!f2(u,a[p])){const h=a[p];let g=l[p];g=Ht(g);const m=o.Ac(h);if(g instanceof Mh)u.push(h);else{const v=Oh(g,m);v!=null&&(u.push(h),c.set(h,v))}}const f=new Rn(u);return new l2(c,f,o.fieldTransforms)}function Oh(t,e){if(h2(t=Ht(t)))return j0("Unsupported field value:",e,t),d2(t,e);if(t instanceof M0)return function(r,i){if(!u2(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Oh(a,i.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ct.fromDate(r);return{timestampValue:Id(i.serializer,s)}}if(r instanceof Ct){const s=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,s)}}if(r instanceof O0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jo)return{bytesValue:SS(i.serializer,r._byteString)};if(r instanceof Sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:y0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof V0)return function(o,a){return{mapValue:{fields:{[tS]:{stringValue:nS},[Td]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return p0(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${D0(r)}`)}(t,e)}function d2(t,e){const n={};return QT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,i)=>{const s=Oh(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function h2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof O0||t instanceof Jo||t instanceof Sn||t instanceof M0||t instanceof V0)}function j0(t,e,n){if(!h2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=D0(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Nm(t,e,n){if((e=Ht(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return B0(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const $O=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search($O)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(H.INVALID_ARGUMENT,a+t+l)}function f2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends p2{data(){return super.data()}}function m2(t,e){return typeof e=="string"?B0(t,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KO{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Td].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>gt(o.doubleValue));return new V0(s)}convertGeoPoint(e){return new O0(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ze(RS(r),9688,{name:e});const i=new zl(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g2 extends p2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jc extends g2{data(e={}){return super.data(e)}}class qO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jc(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:QO(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){t=Ir(t,Sn);const e=Ir(t.firestore,da);return DO(N0(e),t._key).then(n=>XO(e,t,n))}class v2 extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Ws(t){t=Ir(t,Dh);const e=Ir(t.firestore,da),n=N0(e),r=new v2(e);return HO(t._query),NO(n,t._query).then(i=>new qO(e,r,t,i))}function ir(t,e,n){t=Ir(t,Sn);const r=Ir(t.firestore,da),i=GO(t.converter,e,n);return F0(r,[FO(c2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function qe(t,e,n,...r){t=Ir(t,Sn);const i=Ir(t.firestore,da),s=c2(i);let o;return o=typeof(e=Ht(e))=="string"||e instanceof Nh?zO(s,"updateDoc",t._key,e,n,r):UO(s,"updateDoc",t._key,e),F0(i,[o.toMutation(t._key,ur.exists(!0))])}function yr(t){return F0(Ir(t.firestore,da),[new m0(t._key,ur.none())])}function F0(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>bO(await RO(r),i,s)),s.promise}(N0(t),e)}function XO(t,e,n){const r=n.docs.get(e._key),i=new v2(t);return new g2(t,i,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){aa=i})(oa),Ho(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new da(new $D(r.getProvider("auth-internal")),new KD(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Oi(ex,tx,e),Oi(ex,tx,"esm2017")})();var YO="firebase",JO="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(YO,JO,"app");function U0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZO=y2,x2=new lu("auth","Firebase",y2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new i0("@firebase/auth");function e4(t,...e){Md.logLevel<=Ie.WARN&&Md.warn(`Auth (${oa}): ${t}`,...e)}function Bc(t,...e){Md.logLevel<=Ie.ERROR&&Md.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw z0(t,...e)}function Er(t,...e){return z0(t,...e)}function b2(t,e,n){const r=Object.assign(Object.assign({},ZO()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return b2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x2.create(t,...e)}function ye(t,e,...n){if(!t)throw z0(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function Zr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t4(){return Xx()==="http:"||Xx()==="https:"}function Xx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t4()||bR()||"connection"in navigator)?navigator.onLine:!0}function r4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=vR()||wR()}get(){return n4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o4=new mu(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,n,r,i={}){return _2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return xR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&au(t.emulatorConfig.host)&&(u.credentials="include"),w2.fetch()(await E2(t,t.config.apiHost,n,a),u)})}async function _2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},i4),e);try{const i=new l4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw b2(t,c,u);dr(t,c)}}catch(i){if(i instanceof ni)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function gu(t,e,n,r,i={}){const s=await ts(t,e,n,r,i);return"mfaPendingCredential"in s&&dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function E2(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?$0(t.config,i):`${t.config.apiScheme}://${i}`;return s4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function a4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),o4.get())})}}function dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function Yx(t){return t!==void 0&&t.enterprise!==void 0}class u4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function c4(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function Od(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h4(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=W0(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hl(Xf(i.auth_time)),issuedAtTime:hl(Xf(i.iat)),expirationTime:hl(Xf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xf(t){return Number(t)*1e3}function W0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=CT(n);return i?JSON.parse(i):(Bc("Failed to decode base64 JWT payload"),null)}catch(i){return Bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jx(t){const e=W0(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&f4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,Od(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?T2(s.providerUserInfo):[],a=g4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Om(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function m4(t){const e=Ht(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T2(t){return t.map(e=>{var{providerId:n}=e,r=U0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){const n=await _2(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await E2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",w2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y4(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Jx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await v4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mo;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=U0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Om(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h4(this,e)}reload(){return m4(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Kl(this,d4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:R,isAnonymous:w,providerData:I,stsTokenManager:T}=n;ye(E&&T,e,"internal-error");const y=Mo.fromJSON(this.name,T);ye(typeof E=="string",e,"internal-error"),li(f,e.name),li(p,e.name),ye(typeof R=="boolean",e,"internal-error"),ye(typeof w=="boolean",e,"internal-error"),li(h,e.name),li(g,e.name),li(m,e.name),li(v,e.name),li(x,e.name),li(b,e.name);const S=new sr({uid:E,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:w,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:y,createdAt:x,lastLoginAt:b});return I&&Array.isArray(I)&&(S.providerData=I.map(k=>Object.assign({},k))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mo;i.updateFromServerResponse(n);const s=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?T2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function Fr(t){Zr(t instanceof Function,"Expected a class definition");let e=Zx.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S2.type="NONE";const eb=S2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Od(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Fr(eb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Fr(eb);const o=Fc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const p=await Od(e,{idToken:c}).catch(()=>{});if(!p)break;f=await sr._fromGetAccountInfoResponse(e,p,c)}else f=sr._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Oo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Oo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R2(e))return"Blackberry";if(D2(e))return"Webos";if(C2(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(A2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function k2(t=un()){return/firefox\//i.test(t)}function C2(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(t=un()){return/crios\//i.test(t)}function I2(t=un()){return/iemobile/i.test(t)}function A2(t=un()){return/android/i.test(t)}function R2(t=un()){return/blackberry/i.test(t)}function D2(t=un()){return/webos/i.test(t)}function H0(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x4(t=un()){var e;return H0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b4(){return _R()&&document.documentMode===10}function N2(t=un()){return H0(t)||A2(t)||D2(t)||R2(t)||/windows phone/i.test(t)||I2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e=[]){let n;switch(t){case"Browser":n=tb(un());break;case"Worker":n=`${tb(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=6;class T4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nb(this),this.idTokenSubscription=new nb(this),this.beforeStateQueue=new w4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Od(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject($r(this));const n=e?Ht(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _4(this),n=new T4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&e4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hs(t){return Ht(t)}class nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(t){Vh=t}function O2(t){return Vh.loadJS(t)}function C4(){return Vh.recaptchaEnterpriseScript}function P4(){return Vh.gapiScript}function I4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class A4{constructor(){this.enterprise=new R4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class R4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const D4="recaptcha-enterprise",V2="NO_RECAPTCHA";class N4{constructor(e){this.type=D4,this.auth=Hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{c4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new u4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Yx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(V2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new A4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Yx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=C4();l.length!==0&&(l+=a),O2(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function rb(t,e,n,r=!1,i=!1){const s=new N4(t);let o;if(i)o=V2;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){const n=o0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Is(s,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function O4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V4(t,e,n){const r=Hs(t);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=L2(e),{host:o,port:a}=L4(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Is(u,r.config.emulator)&&Is(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,au(o)?(yh("Auth",!0),RT(`${s}//${o}${l}`)):j4()}function L2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L4(t){const e=L2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ib(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ib(o)}}}function ib(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function B4(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){return gu(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function z4(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends K0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signInWithPassword",F4);case"emailLink":return U4(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,r,"signUpPassword",B4);case"emailLink":return z4(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return gu(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="http://localhost";class Ns extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=U0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:$4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H4(t){const e=Ua(za(t)).link,n=e?Ua(za(e)).deep_link_id:null,r=Ua(za(t)).deep_link_id;return(r?Ua(za(r)).link:null)||r||n||e||t}class G0{constructor(e){var n,r,i,s,o,a;const l=Ua(za(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=W4((i=l.mode)!==null&&i!==void 0?i:null);ye(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H4(e);try{return new G0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=G0.parseLink(n);return ye(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends j2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends vu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends vu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends vu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e){return gu(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sr._fromIdTokenResponse(e,r,i),o=sb(r);return new Ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sb(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ld(e,n,r,i)}}function B2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,s,e,r):s})}async function G4(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject($r(r));const i="reauthenticate";try{const s=await Kl(t,B2(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=W0(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e,n=!1){if($n(t.app))return Promise.reject($r(t));const r="signIn",i=await B2(t,r,e),s=await Ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Q4(t,e){return F2(Hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t){const e=Hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X4(t,e,n){if($n(t.app))return Promise.reject($r(t));const r=Hs(t),o=await Vm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&U2(t),l}),a=await Ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Y4(t,e,n){return $n(t.app)?Promise.reject($r(t)):Q4(Ht(t),ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U2(t),r})}function J4(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function Z4(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function Ki(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function eV(t){return Ht(t).signOut()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1e3,nV=10;class $2 extends z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);b4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$2.type="LOCAL";const rV=$2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2 extends z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W2.type="SESSION";const H2=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await iV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=q0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function oV(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function aV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uV(){return K2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",cV=1,Bd="firebaseLocalStorage",q2="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(t,e){return t.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function dV(){const t=indexedDB.deleteDatabase(G2);return new yu(t).toPromise()}function Lm(){const t=indexedDB.open(G2,cV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bd,{keyPath:q2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await dV(),e(await Lm()))})})}async function ob(t,e,n){const r=jh(t,!0).put({[q2]:e,value:n});return new yu(r).toPromise()}async function hV(t,e){const n=jh(t,!1).get(e),r=await new yu(n).toPromise();return r===void 0?null:r.value}function ab(t,e){const n=jh(t,!0).delete(e);return new yu(n).toPromise()}const fV=800,pV=3;class Q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(uV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aV(),!this.activeServiceWorker)return;this.sender=new sV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await ob(e,jd,"1"),await ab(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jh(i,!1).getAll();return new yu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q2.type="LOCAL";const mV=Q2;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){return e?Fr(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends K0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vV(t){return F2(t.auth,new Q0(t),t.bypassAuthState)}function yV(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),q4(n,new Q0(t),t.bypassAuthState)}async function xV(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),G4(n,new Q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return xV;case"reauthViaPopup":case"reauthViaRedirect":return yV;default:dr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new mu(2e3,1e4);class wo extends X2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bV.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="pendingRedirect",Uc=new Map;class _V extends X2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await EV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EV(t,e){const n=kV(e),r=SV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TV(t,e){Uc.set(t._key(),e)}function SV(t){return Fr(t._redirectPersistence)}function kV(t){return Fc(wV,t.config.apiKey,t.name)}async function CV(t,e,n=!1){if($n(t.app))return Promise.reject($r(t));const r=Hs(t),i=gV(r,e),o=await new _V(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=10*60*1e3;class IV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PV&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NV=/^https?/;async function MV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RV(t);for(const n of e)try{if(OV(n))return}catch{}dr(t,"unauthorized-domain")}function OV(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NV.test(n))return!1;if(DV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new mu(3e4,6e4);function ub(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LV(t){return new Promise((e,n)=>{var r,i,s;function o(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),n(Er(t,"network-request-failed"))},timeout:VV.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tr().gapi)===null||s===void 0)&&s.load)o();else{const a=I4("iframefcb");return Tr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},O2(`${P4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zc=null,e})}let zc=null;function jV(t){return zc=zc||LV(t),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new mu(5e3,15e3),FV="__/auth/iframe",UV="emulator/auth/iframe",zV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WV(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$0(e,UV):`https://${t.config.authDomain}/${FV}`,r={apiKey:e.apiKey,appName:t.name,v:oa},i=$V.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uu(r).slice(1)}`}async function HV(t){const e=await jV(t),n=Tr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:WV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Tr().setTimeout(()=>{s(o)},BV.get());function l(){Tr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GV=500,qV=600,QV="_blank",XV="http://localhost";class cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YV(t,e,n,r=GV,i=qV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=un().toLowerCase();n&&(a=P2(u)?QV:n),k2(u)&&(e=e||XV,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[h,g])=>`${p}${h}=${g},`,"");if(x4(u)&&a!=="_self")return JV(e||"",a),new cb(null);const f=window.open(e||"",a,c);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new cb(f)}function JV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="__/auth/handler",eL="emulator/auth/handler",tL=encodeURIComponent("fac");async function db(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:i};if(e instanceof j2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof vu){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${tL}=${encodeURIComponent(l)}`:"";return`${nL(t)}?${uu(a).slice(1)}${u}`}function nL({config:t}){return t.emulator?$0(t,eL):`https://${t.authDomain}/${ZV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="webStorageSupport";class rL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H2,this._completeRedirectFn=CV,this._overrideRedirectResult=TV}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await db(e,n,r,Mm(),i);return YV(e,o,q0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await db(e,n,r,Mm(),i);return oV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HV(e),r=new IV(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yf,{type:Yf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Yf];o!==void 0&&n(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N2()||C2()||H0()}}const iL=rL;var hb="@firebase/auth",fb="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aL(t){Ho(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M2(t)},u=new S4(r,i,s,l);return O4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new As("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(r=>new sL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(hb,fb,oL(t)),Oi(hb,fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=5*60,uL=AT("authIdTokenMaxAge")||lL;let pb=null;const cL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uL)return;const i=n==null?void 0:n.token;pb!==i&&(pb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J2(t=OT()){const e=o0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M4(t,{popupRedirectResolver:iL,persistence:[mV,rV,H2]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=cL(s.toString());Z4(n,o,()=>o(n.currentUser)),J4(n,a=>o(a))}}const i=PT("auth");return i?V4(n,`http://${i}`):yh("Auth",!1),n}function dL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aL("Browser");const hL={apiKey:"AIzaSyDpibbohgF-9aoUymLOQIJSKrDnYqr7ThU",authDomain:"kittytask.firebaseapp.com",projectId:"kittytask",storageBucket:"kittytask.firebasestorage.app",messagingSenderId:"731649481968",appId:"1:731649481968:web:373ca9c61500eb2c5df635",measurementId:"G-19NGHN1W0S"},Z2=MT(hL),je=J2(Z2),ae=a2(Z2);function fL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function X0(t){return"nodeType"in t}function kn(t){var e,n;return t?fa(t)?t:X0(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Y0(t){const{Document:e}=kn(t);return t instanceof e}function xu(t){return fa(t)?!1:t instanceof kn(t).HTMLElement}function ek(t){return t instanceof kn(t).SVGElement}function pa(t){return t?fa(t)?t.document:X0(t)?Y0(t)?t:xu(t)||ek(t)?t.ownerDocument:document:document:document}const Ar=Bh?M.useLayoutEffect:M.useEffect;function J0(t){const e=M.useRef(t);return Ar(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function pL(){const t=M.useRef(null),e=M.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=M.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ql(t,e){e===void 0&&(e=[t]);const n=M.useRef(t);return Ar(()=>{n.current!==t&&(n.current=t)},e),n}function bu(t,e){const n=M.useRef();return M.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Fd(t){const e=J0(t),n=M.useRef(null),r=M.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function jm(t){const e=M.useRef();return M.useEffect(()=>{e.current=t},[t]),e.current}let Jf={};function wu(t,e){return M.useMemo(()=>{if(e)return e;const n=Jf[t]==null?0:Jf[t]+1;return Jf[t]=n,t+"-"+n},[t,e])}function tk(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,u]of a){const c=s[l];c!=null&&(s[l]=c+t*u)}return s},{...e})}}const Lo=tk(1),Ud=tk(-1);function mL(t){return"clientX"in t&&"clientY"in t}function Z0(t){if(!t)return!1;const{KeyboardEvent:e}=kn(t.target);return e&&t instanceof e}function gL(t){if(!t)return!1;const{TouchEvent:e}=kn(t.target);return e&&t instanceof e}function Bm(t){if(gL(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return mL(t)?{x:t.clientX,y:t.clientY}:null}const zd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[zd.Translate.toString(t),zd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),mb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vL(t){return t.matches(mb)?t:t.querySelector(mb)}const yL={display:"none"};function xL(t){let{id:e,value:n}=t;return be.createElement("div",{id:e,style:yL},n)}function bL(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function wL(){const[t,e]=M.useState("");return{announce:M.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const nk=M.createContext(null);function _L(t){const e=M.useContext(nk);M.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function EL(){const[t]=M.useState(()=>new Set),e=M.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[M.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const TL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SL={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function kL(t){let{announcements:e=SL,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=TL}=t;const{announce:s,announcement:o}=wL(),a=wu("DndLiveRegion"),[l,u]=M.useState(!1);if(M.useEffect(()=>{u(!0)},[]),_L(M.useMemo(()=>({onDragStart(f){let{active:p}=f;s(e.onDragStart({active:p}))},onDragMove(f){let{active:p,over:h}=f;e.onDragMove&&s(e.onDragMove({active:p,over:h}))},onDragOver(f){let{active:p,over:h}=f;s(e.onDragOver({active:p,over:h}))},onDragEnd(f){let{active:p,over:h}=f;s(e.onDragEnd({active:p,over:h}))},onDragCancel(f){let{active:p,over:h}=f;s(e.onDragCancel({active:p,over:h}))}}),[s,e])),!l)return null;const c=be.createElement(be.Fragment,null,be.createElement(xL,{id:r,value:i.draggable}),be.createElement(bL,{id:a,announcement:o}));return n?bo.createPortal(c,n):c}var Tt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Tt||(Tt={}));function $d(){}function Wd(t,e){return M.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function rk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const hr=Object.freeze({x:0,y:0});function CL(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PL(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function IL(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function AL(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function gb(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const ik=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=gb(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=CL(gb(l),i);s.push({id:a,data:{droppableContainer:o,value:u}})}}return s.sort(PL)};function RL(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,u=t.width*t.height,c=o*a,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const DL=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=RL(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(IL)};function NL(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function sk(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:hr}function ML(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const OL=ML(1);function VL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function LL(t,e,n){const r=VL(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),u=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const jL={ignoreTransform:!1};function ma(t,e){e===void 0&&(e=jL);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=kn(t).getComputedStyle(t);u&&(n=LL(n,u,c))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function vb(t){return ma(t,{ignoreTransform:!0})}function BL(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function FL(t,e){return e===void 0&&(e=kn(t).getComputedStyle(t)),e.position==="fixed"}function UL(t,e){e===void 0&&(e=kn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function ev(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Y0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!xu(i)||ek(i)||n.includes(i))return n;const s=kn(t).getComputedStyle(i);return i!==t&&UL(i,s)&&n.push(i),FL(i,s)?n:r(i.parentNode)}return t?r(t):n}function ok(t){const[e]=ev(t,1);return e??null}function Zf(t){return!Bh||!t?null:fa(t)?t:X0(t)?Y0(t)||t===pa(t).scrollingElement?window:xu(t)?t:null:null}function ak(t){return fa(t)?t.scrollX:t.scrollLeft}function lk(t){return fa(t)?t.scrollY:t.scrollTop}function Fm(t){return{x:ak(t),y:lk(t)}}var Mt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Mt||(Mt={}));function uk(t){return!Bh||!t?!1:t===document.scrollingElement}function ck(t){const e={x:0,y:0},n=uk(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const zL={x:.2,y:.2};function $L(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=zL);const{isTop:u,isBottom:c,isLeft:f,isRight:p}=ck(t),h={x:0,y:0},g={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+m.height?(h.y=Mt.Backward,g.y=r*Math.abs((e.top+m.height-s)/m.height)):!c&&l>=e.bottom-m.height&&(h.y=Mt.Forward,g.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!p&&a>=e.right-m.width?(h.x=Mt.Forward,g.x=r*Math.abs((e.right-m.width-a)/m.width)):!f&&o<=e.left+m.width&&(h.x=Mt.Backward,g.x=r*Math.abs((e.left+m.width-o)/m.width)),{direction:h,speed:g}}function WL(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function dk(t){return t.reduce((e,n)=>Lo(e,Fm(n)),hr)}function HL(t){return t.reduce((e,n)=>e+ak(n),0)}function KL(t){return t.reduce((e,n)=>e+lk(n),0)}function GL(t,e){if(e===void 0&&(e=ma),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);ok(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const qL=[["x",["left","right"],HL],["y",["top","bottom"],KL]];class tv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ev(n),i=dk(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of qL)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function QL(t){const{EventTarget:e}=kn(t);return t instanceof e?t:pa(t)}function ep(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Fn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Fn||(Fn={}));function yb(t){t.preventDefault()}function XL(t){t.stopPropagation()}var Ue;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ue||(Ue={}));const hk={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},YL=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ue.Right:return{...n,x:n.x+25};case Ue.Left:return{...n,x:n.x-25};case Ue.Down:return{...n,y:n.y+25};case Ue.Up:return{...n,y:n.y-25}}};class fk{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new fl(pa(n)),this.windowListeners=new fl(kn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fn.Resize,this.handleCancel),this.windowListeners.add(Fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&GL(r),n(hr)}handleKeyDown(e){if(Z0(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=hk,coordinateGetter:o=YL,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:hr;this.referenceCoordinates||(this.referenceCoordinates=c);const f=o(e,{active:n,context:r.current,currentCoordinates:c});if(f){const p=Ud(f,c),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const m of g){const v=e.code,{isTop:x,isRight:b,isLeft:E,isBottom:R,maxScroll:w,minScroll:I}=ck(m),T=WL(m),y={x:Math.min(v===Ue.Right?T.right-T.width/2:T.right,Math.max(v===Ue.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(v===Ue.Down?T.bottom-T.height/2:T.bottom,Math.max(v===Ue.Down?T.top:T.top+T.height/2,f.y))},S=v===Ue.Right&&!b||v===Ue.Left&&!E,k=v===Ue.Down&&!R||v===Ue.Up&&!x;if(S&&y.x!==f.x){const A=m.scrollLeft+p.x,D=v===Ue.Right&&A<=w.x||v===Ue.Left&&A>=I.x;if(D&&!p.y){m.scrollTo({left:A,behavior:a});return}D?h.x=m.scrollLeft-A:h.x=v===Ue.Right?m.scrollLeft-w.x:m.scrollLeft-I.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(k&&y.y!==f.y){const A=m.scrollTop+p.y,D=v===Ue.Down&&A<=w.y||v===Ue.Up&&A>=I.y;if(D&&!p.x){m.scrollTo({top:A,behavior:a});return}D?h.y=m.scrollTop-A:h.y=v===Ue.Down?m.scrollTop-w.y:m.scrollTop-I.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(e,Lo(Ud(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fk.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=hk,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function xb(t){return!!(t&&"distance"in t)}function bb(t){return!!(t&&"delay"in t)}class nv{constructor(e,n,r){var i;r===void 0&&(r=QL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=pa(o),this.documentListeners=new fl(this.document),this.listeners=new fl(r),this.windowListeners=new fl(kn(o)),this.initialCoordinates=(i=Bm(s))!=null?i:hr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Fn.Resize,this.handleCancel),this.windowListeners.add(Fn.DragStart,yb),this.windowListeners.add(Fn.VisibilityChange,this.handleCancel),this.windowListeners.add(Fn.ContextMenu,yb),this.documentListeners.add(Fn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(xb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Fn.Click,XL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=Bm(e))!=null?n:hr,u=Ud(i,l);if(!r&&a){if(xb(a)){if(a.tolerance!=null&&ep(u,a.tolerance))return this.handleCancel();if(ep(u,a.distance))return this.handleStart()}if(bb(a)&&ep(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const JL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class pk extends nv{constructor(e){const{event:n}=e,r=pa(n.target);super(e,JL,r)}}pk.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const ZL={move:{name:"mousemove"},end:{name:"mouseup"}};var Um;(function(t){t[t.RightClick=2]="RightClick"})(Um||(Um={}));class rv extends nv{constructor(e){super(e,ZL,pa(e.event.target))}}rv.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Um.RightClick?!1:(r==null||r({event:n}),!0)}}];const tp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iv extends nv{constructor(e){super(e,tp)}static setup(){return window.addEventListener(tp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(tp.move.name,e)};function e(){}}}iv.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var pl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(pl||(pl={}));var Hd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hd||(Hd={}));function e3(t){let{acceleration:e,activator:n=pl.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Hd.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:p}=t;const h=n3({delta:f,disabled:!s}),[g,m]=pL(),v=M.useRef({x:0,y:0}),x=M.useRef({x:0,y:0}),b=M.useMemo(()=>{switch(n){case pl.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case pl.DraggableRect:return i}},[n,i,l]),E=M.useRef(null),R=M.useCallback(()=>{const I=E.current;if(!I)return;const T=v.current.x*x.current.x,y=v.current.y*x.current.y;I.scrollBy(T,y)},[]),w=M.useMemo(()=>a===Hd.TreeOrder?[...u].reverse():u,[a,u]);M.useEffect(()=>{if(!s||!u.length||!b){m();return}for(const I of w){if((r==null?void 0:r(I))===!1)continue;const T=u.indexOf(I),y=c[T];if(!y)continue;const{direction:S,speed:k}=$L(I,y,b,e,p);for(const A of["x","y"])h[A][S[A]]||(k[A]=0,S[A]=0);if(k.x>0||k.y>0){m(),E.current=I,g(R,o),v.current=k,x.current=S;return}}v.current={x:0,y:0},x.current={x:0,y:0},m()},[e,R,r,m,s,o,JSON.stringify(b),JSON.stringify(h),g,u,w,c,JSON.stringify(p)])}const t3={x:{[Mt.Backward]:!1,[Mt.Forward]:!1},y:{[Mt.Backward]:!1,[Mt.Forward]:!1}};function n3(t){let{delta:e,disabled:n}=t;const r=jm(e);return bu(i=>{if(n||!r||!i)return t3;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Mt.Backward]:i.x[Mt.Backward]||s.x===-1,[Mt.Forward]:i.x[Mt.Forward]||s.x===1},y:{[Mt.Backward]:i.y[Mt.Backward]||s.y===-1,[Mt.Forward]:i.y[Mt.Forward]||s.y===1}}},[n,e,r])}function r3(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return bu(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function i3(t,e){return M.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var Ql;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ql||(Ql={}));var zm;(function(t){t.Optimized="optimized"})(zm||(zm={}));const wb=new Map;function s3(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=M.useState(null),{frequency:a,measure:l,strategy:u}=i,c=M.useRef(t),f=v(),p=ql(f),h=M.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(b=>b===null?x:b.concat(x.filter(E=>!b.includes(E))))},[p]),g=M.useRef(null),m=bu(x=>{if(f&&!n)return wb;if(!x||x===wb||c.current!==t||s!=null){const b=new Map;for(let E of t){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){b.set(E.id,E.rect.current);continue}const R=E.node.current,w=R?new tv(l(R),R):null;E.rect.current=w,w&&b.set(E.id,w)}return b}return x},[t,s,n,f,l]);return M.useEffect(()=>{c.current=t},[t]),M.useEffect(()=>{f||h()},[n,f]),M.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),M.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},a))},[a,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:s!=null};function v(){switch(u){case Ql.Always:return!1;case Ql.BeforeDragging:return n;default:return!n}}}function mk(t,e){return bu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function o3(t,e){return mk(t,e)}function a3(t){let{callback:e,disabled:n}=t;const r=J0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Fh(t){let{callback:e,disabled:n}=t;const r=J0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function l3(t){return new tv(ma(t),t)}function _b(t,e,n){e===void 0&&(e=l3);const[r,i]=M.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=e(t);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const o=a3({callback(l){if(t)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),a=Fh({callback:s});return Ar(()=>{s(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function u3(t){const e=mk(t);return sk(t,e)}const Eb=[];function c3(t){const e=M.useRef(t),n=bu(r=>t?r&&r!==Eb&&t&&e.current&&t.parentNode===e.current.parentNode?r:ev(t):Eb,[t]);return M.useEffect(()=>{e.current=t},[t]),n}function d3(t){const[e,n]=M.useState(null),r=M.useRef(t),i=M.useCallback(s=>{const o=Zf(s.target);o&&n(a=>a?(a.set(o,Fm(o)),new Map(a)):null)},[]);return M.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const u=Zf(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Fm(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const u=Zf(l);u==null||u.removeEventListener("scroll",i)})}},[i,t]),M.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Lo(s,o),hr):dk(t):hr,[t,e])}function Tb(t,e){e===void 0&&(e=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},e),M.useEffect(()=>{const r=t!==hr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Ud(t,n.current):hr}function h3(t){M.useEffect(()=>{if(!Bh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function f3(t,e){return M.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function gk(t){return M.useMemo(()=>t?BL(t):null,[t])}const Sb=[];function p3(t,e){e===void 0&&(e=ma);const[n]=t,r=gk(n?kn(n):null),[i,s]=M.useState(Sb);function o(){s(()=>t.length?t.map(l=>uk(l)?r:new tv(e(l),l)):Sb)}const a=Fh({callback:o});return Ar(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),i}function m3(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return xu(e)?e:t}function g3(t){let{measure:e}=t;const[n,r]=M.useState(null),i=M.useCallback(u=>{for(const{target:c}of u)if(xu(c)){r(f=>{const p=e(c);return f?{...f,width:p.width,height:p.height}:p});break}},[e]),s=Fh({callback:i}),o=M.useCallback(u=>{const c=m3(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),r(c?e(c):null)},[e,s]),[a,l]=Fd(o);return M.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const v3=[{sensor:pk,options:{}},{sensor:fk,options:{}}],y3={current:{}},$c={draggable:{measure:vb},droppable:{measure:vb,strategy:Ql.WhileDragging,frequency:zm.Optimized},dragOverlay:{measure:ma}};class ml extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const x3={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ml,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:$d},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$c,measureDroppableContainers:$d,windowRect:null,measuringScheduled:!1},b3={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:$d,draggableNodes:new Map,over:null,measureDroppableContainers:$d},Uh=M.createContext(b3),vk=M.createContext(x3);function w3(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ml}}}function _3(t,e){switch(e.type){case Tt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Tt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Tt.DragEnd:case Tt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tt.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new ml(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Tt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new ml(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Tt.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new ml(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function E3(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=M.useContext(Uh),s=jm(r),o=jm(n==null?void 0:n.id);return M.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Z0(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=vL(c);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function T3(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function S3(t){return M.useMemo(()=>({draggable:{...$c.draggable,...t==null?void 0:t.draggable},droppable:{...$c.droppable,...t==null?void 0:t.droppable},dragOverlay:{...$c.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function k3(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=M.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Ar(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=n(u),f=sk(c,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=ok(u);p&&p.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const yk=M.createContext({...hr,scaleX:1,scaleY:1});var fi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(fi||(fi={}));const xk=M.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:c=v3,collisionDetection:f=DL,measuring:p,modifiers:h,...g}=e;const m=M.useReducer(_3,void 0,w3),[v,x]=m,[b,E]=EL(),[R,w]=M.useState(fi.Uninitialized),I=R===fi.Initialized,{draggable:{active:T,nodes:y,translate:S},droppable:{containers:k}}=v,A=T!=null?y.get(T):null,D=M.useRef({initial:null,translated:null}),N=M.useMemo(()=>{var xt;return T!=null?{id:T,data:(xt=A==null?void 0:A.data)!=null?xt:y3,rect:D}:null},[T,A]),B=M.useRef(null),[z,J]=M.useState(null),[F,L]=M.useState(null),W=ql(g,Object.values(g)),G=wu("DndDescribedBy",o),oe=M.useMemo(()=>k.getEnabled(),[k]),re=S3(p),{droppableRects:le,measureDroppableContainers:Ve,measuringScheduled:De}=s3(oe,{dragging:I,dependencies:[S.x,S.y],config:re.droppable}),se=r3(y,T),Ne=M.useMemo(()=>F?Bm(F):null,[F]),Ee=rs(),Xe=o3(se,re.draggable.measure);k3({activeNode:T!=null?y.get(T):null,config:Ee.layoutShiftCompensation,initialRect:Xe,measure:re.draggable.measure});const he=_b(se,re.draggable.measure,Xe),Ke=_b(se?se.parentElement:null),Re=M.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),At=k.getNodeFor((n=Re.current.over)==null?void 0:n.id),it=g3({measure:re.dragOverlay.measure}),Rt=(r=it.nodeRef.current)!=null?r:se,ft=I?(i=it.rect)!=null?i:he:null,cn=!!(it.nodeRef.current&&it.rect),Z=u3(cn?null:he),te=gk(Rt?kn(Rt):null),me=c3(I?At??se:null),Te=p3(me),Me=T3(h,{transform:{x:S.x-Z.x,y:S.y-Z.y,scaleX:1,scaleY:1},activatorEvent:F,active:N,activeNodeRect:he,containerNodeRect:Ke,draggingNodeRect:ft,over:Re.current.over,overlayNodeRect:it.rect,scrollableAncestors:me,scrollableAncestorRects:Te,windowRect:te}),Pe=Ne?Lo(Ne,S):null,ke=d3(me),Q=Tb(ke),q=Tb(ke,[he]),ee=Lo(Me,Q),de=ft?OL(ft,Me):null,U=N&&de?f({active:N,collisionRect:de,droppableRects:le,droppableContainers:oe,pointerCoordinates:Pe}):null,X=AL(U,"id"),[ge,He]=M.useState(null),yt=cn?Me:Lo(Me,q),dn=NL(yt,(s=ge==null?void 0:ge.rect)!=null?s:null,he),Gt=M.useRef(null),ri=M.useCallback((xt,Vt)=>{let{sensor:pt,options:qn}=Vt;if(B.current==null)return;const Lt=y.get(B.current);if(!Lt)return;const qt=xt.nativeEvent,Qt=new pt({active:B.current,activeNode:Lt,event:qt,options:qn,context:Re,onAbort(Le){if(!y.get(Le))return;const{onDragAbort:Xt}=W.current,hn={id:Le};Xt==null||Xt(hn),b({type:"onDragAbort",event:hn})},onPending(Le,Qn,Xt,hn){if(!y.get(Le))return;const{onDragPending:ss}=W.current,fn={id:Le,constraint:Qn,initialCoordinates:Xt,offset:hn};ss==null||ss(fn),b({type:"onDragPending",event:fn})},onStart(Le){const Qn=B.current;if(Qn==null)return;const Xt=y.get(Qn);if(!Xt)return;const{onDragStart:hn}=W.current,is={activatorEvent:qt,active:{id:Qn,data:Xt.data,rect:D}};bo.unstable_batchedUpdates(()=>{hn==null||hn(is),w(fi.Initializing),x({type:Tt.DragStart,initialCoordinates:Le,active:Qn}),b({type:"onDragStart",event:is}),J(Gt.current),L(qt)})},onMove(Le){x({type:Tt.DragMove,coordinates:Le})},onEnd:Rr(Tt.DragEnd),onCancel:Rr(Tt.DragCancel)});Gt.current=Qt;function Rr(Le){return async function(){const{active:Xt,collisions:hn,over:is,scrollAdjustedTranslate:ss}=Re.current;let fn=null;if(Xt&&ss){const{cancelDrop:os}=W.current;fn={activatorEvent:qt,active:Xt,collisions:hn,delta:ss,over:is},Le===Tt.DragEnd&&typeof os=="function"&&await Promise.resolve(os(fn))&&(Le=Tt.DragCancel)}B.current=null,bo.unstable_batchedUpdates(()=>{x({type:Le}),w(fi.Uninitialized),He(null),J(null),L(null),Gt.current=null;const os=Le===Tt.DragEnd?"onDragEnd":"onDragCancel";if(fn){const xa=W.current[os];xa==null||xa(fn),b({type:os,event:fn})}})}}},[y]),ya=M.useCallback((xt,Vt)=>(pt,qn)=>{const Lt=pt.nativeEvent,qt=y.get(qn);if(B.current!==null||!qt||Lt.dndKit||Lt.defaultPrevented)return;const Qt={active:qt};xt(pt,Vt.options,Qt)===!0&&(Lt.dndKit={capturedBy:Vt.sensor},B.current=qn,ri(pt,Vt))},[y,ri]),Gs=i3(c,ya);h3(c),Ar(()=>{he&&R===fi.Initializing&&w(fi.Initialized)},[he,R]),M.useEffect(()=>{const{onDragMove:xt}=W.current,{active:Vt,activatorEvent:pt,collisions:qn,over:Lt}=Re.current;if(!Vt||!pt)return;const qt={active:Vt,activatorEvent:pt,collisions:qn,delta:{x:ee.x,y:ee.y},over:Lt};bo.unstable_batchedUpdates(()=>{xt==null||xt(qt),b({type:"onDragMove",event:qt})})},[ee.x,ee.y]),M.useEffect(()=>{const{active:xt,activatorEvent:Vt,collisions:pt,droppableContainers:qn,scrollAdjustedTranslate:Lt}=Re.current;if(!xt||B.current==null||!Vt||!Lt)return;const{onDragOver:qt}=W.current,Qt=qn.get(X),Rr=Qt&&Qt.rect.current?{id:Qt.id,rect:Qt.rect.current,data:Qt.data,disabled:Qt.disabled}:null,Le={active:xt,activatorEvent:Vt,collisions:pt,delta:{x:Lt.x,y:Lt.y},over:Rr};bo.unstable_batchedUpdates(()=>{He(Rr),qt==null||qt(Le),b({type:"onDragOver",event:Le})})},[X]),Ar(()=>{Re.current={activatorEvent:F,active:N,activeNode:se,collisionRect:de,collisions:U,droppableRects:le,draggableNodes:y,draggingNode:Rt,draggingNodeRect:ft,droppableContainers:k,over:ge,scrollableAncestors:me,scrollAdjustedTranslate:ee},D.current={initial:ft,translated:de}},[N,se,U,de,y,Rt,ft,le,k,ge,me,ee]),e3({...Ee,delta:S,draggingRect:de,pointerCoordinates:Pe,scrollableAncestors:me,scrollableAncestorRects:Te});const Cu=M.useMemo(()=>({active:N,activeNode:se,activeNodeRect:he,activatorEvent:F,collisions:U,containerNodeRect:Ke,dragOverlay:it,draggableNodes:y,droppableContainers:k,droppableRects:le,over:ge,measureDroppableContainers:Ve,scrollableAncestors:me,scrollableAncestorRects:Te,measuringConfiguration:re,measuringScheduled:De,windowRect:te}),[N,se,he,F,U,Ke,it,y,k,le,ge,Ve,me,Te,re,De,te]),Pu=M.useMemo(()=>({activatorEvent:F,activators:Gs,active:N,activeNodeRect:he,ariaDescribedById:{draggable:G},dispatch:x,draggableNodes:y,over:ge,measureDroppableContainers:Ve}),[F,Gs,N,he,x,G,y,ge,Ve]);return be.createElement(nk.Provider,{value:E},be.createElement(Uh.Provider,{value:Pu},be.createElement(vk.Provider,{value:Cu},be.createElement(yk.Provider,{value:dn},u)),be.createElement(E3,{disabled:(a==null?void 0:a.restoreFocus)===!1})),be.createElement(kL,{...a,hiddenTextDescribedById:G}));function rs(){const xt=(z==null?void 0:z.autoScrollEnabled)===!1,Vt=typeof l=="object"?l.enabled===!1:l===!1,pt=I&&!xt&&!Vt;return typeof l=="object"?{...l,enabled:pt}:{enabled:pt}}}),C3=M.createContext(null),kb="button",P3="Draggable";function I3(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=wu(P3),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:p}=M.useContext(Uh),{role:h=kb,roleDescription:g="draggable",tabIndex:m=0}=i??{},v=(l==null?void 0:l.id)===e,x=M.useContext(v?yk:C3),[b,E]=Fd(),[R,w]=Fd(),I=f3(o,e),T=ql(n);Ar(()=>(f.set(e,{id:e,key:s,node:b,activatorNode:R,data:T}),()=>{const S=f.get(e);S&&S.key===s&&f.delete(e)}),[f,e]);const y=M.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&h===kb?!0:void 0,"aria-roledescription":g,"aria-describedby":c.draggable}),[r,h,m,v,g,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:y,isDragging:v,listeners:r?void 0:I,node:b,over:p,setNodeRef:E,setActivatorNodeRef:w,transform:x}}function A3(){return M.useContext(vk)}const R3="Droppable",D3={timeout:25};function N3(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=wu(R3),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=M.useContext(Uh),c=M.useRef({disabled:n}),f=M.useRef(!1),p=M.useRef(null),h=M.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...D3,...i},x=ql(m??r),b=M.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),E=Fh({callback:b,disabled:g||!o}),R=M.useCallback((y,S)=>{E&&(S&&(E.unobserve(S),f.current=!1),y&&E.observe(y))},[E]),[w,I]=Fd(R),T=ql(e);return M.useEffect(()=>{!E||!w.current||(E.disconnect(),f.current=!1,E.observe(w.current))},[w,E]),M.useEffect(()=>(a({type:Tt.RegisterDroppable,element:{id:r,key:s,disabled:n,node:w,rect:p,data:T}}),()=>a({type:Tt.UnregisterDroppable,key:s,id:r})),[r]),M.useEffect(()=>{n!==c.current.disabled&&(a({type:Tt.SetDroppableDisabled,id:r,key:s,disabled:n}),c.current.disabled=n)},[r,s,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:w,over:l,setNodeRef:I}}function zh(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function M3(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function hc(t){return t!==null&&t>=0}function O3(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function V3(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const bk=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=zh(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},fc={scaleX:1,scaleY:1},wk=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,...fc}:null}const l=L3(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...fc}:i<n&&i>=o?{x:0,y:a.height+l,...fc}:{x:0,y:0,...fc}};function L3(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const _k="Sortable",Ek=be.createContext({activeIndex:-1,containerId:_k,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bk,disabled:{draggable:!1,droppable:!1}});function Tk(t){let{children:e,id:n,items:r,strategy:i=bk,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=A3(),f=wu(_k,n),p=a.rect!==null,h=M.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),g=o!=null,m=o?h.indexOf(o.id):-1,v=u?h.indexOf(u.id):-1,x=M.useRef(h),b=!O3(h,x.current),E=v!==-1&&m===-1||b,R=V3(s);Ar(()=>{b&&g&&c(h)},[b,h,g,c]),M.useEffect(()=>{x.current=h},[h]);const w=M.useMemo(()=>({activeIndex:m,containerId:f,disabled:R,disableTransforms:E,items:h,overIndex:v,useDragOverlay:p,sortedRects:M3(h,l),strategy:i}),[m,f,R.draggable,R.droppable,E,h,v,l,p,i]);return be.createElement(Ek.Provider,{value:w},e)}const j3=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return zh(n,r,i).indexOf(e)},B3=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},F3={duration:200,easing:"ease"},Sk="transform",U3=zd.Transition.toString({property:Sk,duration:0,easing:"linear"}),z3={roleDescription:"sortable"};function $3(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=M.useState(null),a=M.useRef(n);return Ar(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const u=ma(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&o(c)}}n!==a.current&&(a.current=n)},[e,n,r,i]),M.useEffect(()=>{s&&o(null)},[s]),s}function kk(t){let{animateLayoutChanges:e=B3,attributes:n,disabled:r,data:i,getNewIndex:s=j3,id:o,strategy:a,resizeObserverConfig:l,transition:u=F3}=t;const{items:c,containerId:f,activeIndex:p,disabled:h,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:x,strategy:b}=M.useContext(Ek),E=W3(r,h),R=c.indexOf(o),w=M.useMemo(()=>({sortable:{containerId:f,index:R,items:c},...i}),[f,i,R,c]),I=M.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:T,node:y,isOver:S,setNodeRef:k}=N3({id:o,data:w,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...l}}),{active:A,activatorEvent:D,activeNodeRect:N,attributes:B,setNodeRef:z,listeners:J,isDragging:F,over:L,setActivatorNodeRef:W,transform:G}=I3({id:o,data:w,attributes:{...z3,...n},disabled:E.draggable}),oe=fL(k,z),re=!!A,le=re&&!g&&hc(p)&&hc(v),Ve=!x&&F,De=Ve&&le?G:null,Ne=le?De??(a??b)({rects:m,activeNodeRect:N,activeIndex:p,overIndex:v,index:R}):null,Ee=hc(p)&&hc(v)?s({id:o,items:c,activeIndex:p,overIndex:v}):R,Xe=A==null?void 0:A.id,he=M.useRef({activeId:Xe,items:c,newIndex:Ee,containerId:f}),Ke=c!==he.current.items,Re=e({active:A,containerId:f,isDragging:F,isSorting:re,id:o,index:R,items:c,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:u,wasDragging:he.current.activeId!=null}),At=$3({disabled:!Re,index:R,node:y,rect:T});return M.useEffect(()=>{re&&he.current.newIndex!==Ee&&(he.current.newIndex=Ee),f!==he.current.containerId&&(he.current.containerId=f),c!==he.current.items&&(he.current.items=c)},[re,Ee,f,c]),M.useEffect(()=>{if(Xe===he.current.activeId)return;if(Xe&&!he.current.activeId){he.current.activeId=Xe;return}const Rt=setTimeout(()=>{he.current.activeId=Xe},50);return()=>clearTimeout(Rt)},[Xe]),{active:A,activeIndex:p,attributes:B,data:w,rect:T,index:R,newIndex:Ee,items:c,isOver:S,isSorting:re,isDragging:F,listeners:J,node:y,overIndex:v,over:L,setNodeRef:oe,setActivatorNodeRef:W,setDroppableNodeRef:k,setDraggableNodeRef:z,transform:At??Ne,transition:it()};function it(){if(At||Ke&&he.current.newIndex===R)return U3;if(!(Ve&&!Z0(D)||!u)&&(re||Re))return zd.Transition.toString({...u,property:Sk})}}function W3(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Ue.Down,Ue.Right,Ue.Up,Ue.Left;function H3({title:t,id:e,listid:n,labels:r,item:i,BoardId:s,onDeleteCard:o,BG:a,sharedWith:l,lists:u}){const[c,f]=M.useState({x:0,y:0}),{menuOpen:p,setMenuOpen:h,toggleMenu:g}=am(),[m,v]=M.useState({x:0,y:0}),[x,b]=M.useState(!1),[E,R]=M.useState(!1),[w,I]=M.useState(r),T=M.useRef(null),y=M.useRef(null),S=M.useRef(null),k=M.useRef(null),A=M.useRef(null),D=M.useRef(null),N=M.useRef(null),[B,z]=M.useState(!1),[J,F]=M.useState(!1),L=M.useRef(null),[W,G]=M.useState(!1),[oe,re]=M.useState(!1),[le,Ve]=M.useState(t),De=M.useRef(null),[se,Ne]=M.useState(!1),[Ee,Xe]=M.useState(a),he=U=>{switch(U){case"background1":return"bg-green-700";case"background2":return"bg-yellow-800";case"background3":return"bg-amber-700";case"background4":return"bg-red-800";case"background5":return"bg-indigo-800";case"background6":return"bg-blue-800";case"background7":return"bg-pink-900";case"background8":return"bg-gray-800"}},{attributes:Ke,listeners:Re,setNodeRef:At,transform:it,transition:Rt,isDragging:ft}=kk({id:i.id}),cn={transform:it?`translate3d(${it.x}px, ${it.y}px,0) rotate(${ft?-2:0}deg)`:void 0,transition:Rt,opacity:ft?.8:1,cursor:ft?"grabbing":"pointer",zIndex:ft?10:"auto"},Z=U=>{At(U),k.current=U},te=U=>{U.preventDefault(),h(!0);const X=k.current.getBoundingClientRect(),ge=X.left+window.scrollX+270,He=X.top+window.scrollY-6,yt=window.innerWidth;ge+200>yt?G(!0):G(!1),yt<650?re(!0):re(!1);const dn=ge+200>yt?ge-535:ge,Gt=He<0?0:He;f({x:dn,y:Gt}),document.body.classList.add("MenuisOpen"),b(!0)};M.useEffect(()=>{Te()},[w]),M.useEffect(()=>{me()},[Ee]);const me=async()=>{const U=je.currentUser;if(U)try{await qe(fe(ae,`users/${U.uid}/Boards/${s}/Lists/${n}/cards`,e),{background:Ee});const X=l.map(ge=>qe(fe(ae,`users/${ge.id}/Boards/${s}/Lists/${n}/cards`,e),{background:Ee}));await Promise.all(X)}catch(X){console.error("Error updating background: ",X)}else console.error("User is not authenticated.")},Te=async()=>{const U=je.currentUser;if(U)try{await qe(fe(ae,`users/${U.uid}/Boards/${s}/Lists/${n}/cards`,e),{labels:w});const X=l.map(ge=>qe(fe(ae,`users/${ge.id}/Boards/${s}/Lists/${n}/cards`,e),{labels:w}));await Promise.all(X)}catch(X){console.error("Error updating labels: ",X)}else console.error("User is not authenticated.")},Me=async()=>{const U=je.currentUser;if(U)try{o(e);const X=fe(ae,`users/${U.uid}/Boards/${s}/Lists/${n}/cards`,e);await yr(X);const ge=l.map(He=>{const yt=fe(ae,`users/${He.id}/Boards/${s}/Lists/${n}/cards`,e);return yr(yt)});await Promise.all(ge)}catch(X){console.error("Error deleting card: ",X)}else console.error("User is not authenticated")},Pe=()=>{const U=je.currentUser,X=document.createElement("textarea");X.value=`users/${U.uid}/Boards/${s}/Lists/${n}/cards/${e}`,document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),Ne(!0),setTimeout(()=>{Ne(!1)},1500)},ke=async U=>{const X=je.currentUser;if(X)try{const ge=$s(ae,`users/${X.uid}/Boards/${s}/Lists/${U.id}/cards`),yt=(await Ws(ge)).size,dn=fe(ae,`users/${X.uid}/Boards/${s}/Lists/${U.id}/cards`,e);await ir(dn,{id:e,title:le,labels:w,background:Ee,order:yt});const Gt=l.map(ri=>{const ya=fe(ae,`users/${ri.id}/Boards/${s}/Lists/${U.id}/cards`,e);return ir(ya,{id:e,title:le,labels:w,background:Ee,order:yt})});await Promise.all(Gt),await Me(),window.location.reload()}catch(ge){console.error("Error moving card to list: ",ge)}else console.error("User is not authenticated")},Q=async U=>{const X=U.target.value;Ve(X);const ge=je.currentUser;if(ge)try{await qe(fe(ae,`users/${ge.uid}/Boards/${s}/Lists/${n}/cards`,e),{title:X});const He=l.map(yt=>qe(fe(ae,`users/${yt.id}/Boards/${s}/Lists/${n}/cards`,e),{title:X}));await Promise.all(He)}catch(He){console.error("Error updating card title: ",He)}else console.error("User is not authenticated.")},q=()=>{R(!0);const U=N.current.getBoundingClientRect();v({x:U.left,y:U.top})},ee=()=>{z(!0);const U=S.current.getBoundingClientRect();v({x:U.left,y:U.top})},de=()=>{F(!0);const U=D.current.getBoundingClientRect();v({x:U.left,y:U.top})};return M.useEffect(()=>{const U=X=>{y.current&&!y.current.contains(X.target)&&!De.current.contains(X.target)&&(!T.current||!T.current.contains(X.target))&&(!L.current||!L.current.contains(X.target))&&(!A.current||!A.current.contains(X.target))&&(b(!1),h(!1),document.body.classList.remove("MenuisOpen")),T.current&&!T.current.contains(X.target)&&!N.current.contains(X.target)&&R(!1),L.current&&!L.current.contains(X.target)&&!S.current.contains(X.target)&&z(!1),A.current&&!A.current.contains(X.target)&&!D.current.contains(X.target)&&F(!1)};return document.addEventListener("click",U),()=>{document.removeEventListener("click",U)}},[x,E,h]),C.jsxs("div",{className:"w-full",children:[B&&C.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:L,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[C.jsx("div",{className:"flex justify-end align-top",children:C.jsx("button",{onClick:U=>{U.stopPropagation(),z(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:"✕"})}),C.jsx("div",{className:"flex justify-center gap-6",children:C.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Background Cover"})}),C.jsx("div",{className:"flex flex-col gap-1.5",children:["background1","background2","background3","background4","background5","background6","background7","background8"].map((U,X)=>C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:Ee===he(U),onChange:()=>{Xe(he(U))},id:`radio-group-${X+1}`,type:"radio",className:"w-5 h-4 cursor-pointer border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:`radio-group-${X+1}`,className:`w-44 rounded-sm mr-4 cursor-pointer border-2 border-opacity-40 border-gray-500 hover:bg-opacity-80 ${he(U)}`})]},U))})]}),J&&C.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:A,className:"flex absolute flex-col z-[10001] w-[200px]  rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[C.jsx("div",{className:"flex justify-end align-top",children:C.jsx("button",{onClick:U=>{U.stopPropagation(),F(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:"✕"})}),C.jsx("div",{className:"flex justify-center gap-6",children:C.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"To List"})}),C.jsx("div",{className:"flex flex-col gap-1",children:u.map((U,X)=>C.jsxs("div",{onClick:()=>ke(U),className:"flex py-1 justify-start ga-1 text-gray-300 hover:bg-gray-700  px-4",children:[C.jsx("p",{className:"text-lg",children:X+1}),C.jsxs("p",{className:"text-lg",children:[". ",U.title]})]},X))})]}),E&&C.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:T,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800  gap-1.5",children:[C.jsx("div",{className:"flex justify-end align-top",children:C.jsx("button",{onClick:U=>{U.stopPropagation(),R(!1)},className:" m-1 text-slate-300  px-1  rounded-md  text-sm hover:bg-gray-600",children:"✕"})}),C.jsx("div",{className:"flex justify-center gap-6",children:C.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Labels"})}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label1,onChange:()=>{I(U=>({...U,label1:!U.label1}))},id:"checkbox-group-1",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-1",className:"w-44 bg-green-600 rounded-sm mr-4 cursor-pointer hover:bg-green-500"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label2,onChange:()=>{I(U=>({...U,label2:!U.label2}))},id:"checkbox-group-2",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-2",className:"w-44 bg-yellow-800 rounded-sm mr-4 cursor-pointer hover:bg-yellow-700"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label3,onChange:()=>{I(U=>({...U,label3:!U.label3}))},id:"checkbox-group-3",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-3",className:"w-44 bg-amber-600  rounded-sm mr-4 cursor-pointer hover:bg-amber-500"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label4,onChange:()=>{I(U=>({...U,label4:!U.label4}))},id:"checkbox-group-4",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-4",className:"w-44 bg-red-700 rounded-sm mr-4 cursor-pointer hover:bg-red-600"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label5,onChange:()=>{I(U=>({...U,label5:!U.label5}))},id:"checkbox-group-5",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-5",className:"w-44 bg-indigo-800 rounded-sm mr-4 cursor-pointer hover:bg-indigo-800"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label6,onChange:()=>{I(U=>({...U,label6:!U.label6}))},id:"checkbox-group-6",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-6",className:"w-44 bg-blue-700 rounded-sm mr-4 cursor-pointer hover:bg-blue-600"})]}),C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("input",{checked:w.label7,onChange:()=>{I(U=>({...U,label7:!U.label7}))},id:"checkbox-group-7",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-7",className:"w-44 bg-pink-800 rounded-sm mr-4 cursor-pointer hover:bg-pink-700"})]}),C.jsxs("div",{className:"flex gap-1.5 mb-6",children:[C.jsx("input",{checked:w.label8,onChange:()=>{I(U=>({...U,label8:!U.label8}))},id:"checkbox-group-8",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),C.jsx("label",{htmlFor:"checkbox-group-8",className:"w-44 bg-neutral-400 rounded-sm mr-4 cursor-pointer hover:bg-neutral-300"})]})]}),C.jsx("div",{className:`overlay ${x?"visible":""}`}),x&&C.jsxs("div",{ref:y,className:"card flex item  z-[1001]  absolute  flex-col gap-[2.5px] ",style:{top:window.innerHeight>c.y+350?`${c.y+7}px`:`${c.y-180}px`,left:oe?"52.5%":`${c.x+10}px`,alignItems:`${W?"end":"start"}`},children:[C.jsxs("button",{ref:N,onClick:q,className:"flex text-gray-300 shadow-xl bg-gray-800 hover:bg-gray-700 rounded-sm font-bold p-3 pr-3.5 py-2.5 w-fit  text-sm",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),"Edit labels "]}),C.jsxs("button",{ref:S,onClick:ee,className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25 1.5 1.5.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75 1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97-.75-.75.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25 12.75 9"})}),"Change cover"]}),C.jsxs("button",{ref:D,onClick:de,className:"flex text-gray-300 shadow-xl  bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})}),"Move"]}),C.jsxs("button",{onClick:Pe,className:`flex text-gray-300 shadow-xl ${se?"bg-green-600":"bg-gray-800"}  ${se?"hover:bg-green-700":"hover:bg-gray-700"}  font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm`,children:[se?C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}):C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),se?"Copied!":"Copy"]}),C.jsxs("button",{onClick:Me,className:"flex text-gray-300  bg-gray-800  hover:bg-gray-700 font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})]}),C.jsxs("div",{ref:Z,style:cn,...Ke,...Re,onContextMenu:te,className:`CARD relative justify-center flex flex-col cursor-pointer focus:border-solid focus:border-blue-500 select-none focus:outline-none  text-gray-300 text-md p-1 px-2.5 rounded-md w-full mx-0 my-1.5 ${Ee||"bg-gray-800"}`,children:[x&&C.jsx("div",{children:C.jsx("textarea",{ref:De,className:`z-[1000]  absolute sm:w-full w-[70%] left-0  sm:right-0 top-0 pb-2 pt-3 ri text-start px-2.5 rounded-md  border-solid border-slate-400 border-0 focus:outline-none  text-slate-300 resize-none overflow-hidden ${Ee||"bg-gray-800"}`,onChange:Q,rows:"1",value:le,onInput:U=>{U.target.style.height="auto",U.target.style.height=`${U.target.scrollHeight+15}px`}})}),C.jsxs("div",{className:" absolute right-0 pointer-events-auto text-md p-2 pt-1.5 text-[1.2rem] text-gray-300 hover:opacity-65",onClick:U=>{U.stopPropagation(),te(U)},children:["   ",C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.3",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"})})]}),C.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.label1&&C.jsx("span",{className:"z-[1001]  bg-green-600 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label2&&C.jsx("span",{className:"z-[1001] bg-yellow-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label3&&C.jsx("span",{className:"z-[1001] bg-amber-600  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label4&&C.jsx("span",{className:"z-[1001] bg-red-700  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label5&&C.jsx("span",{className:"z-[1001]  bg-indigo-700 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label6&&C.jsx("span",{className:"z-[1001]  bg-blue-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label7&&C.jsx("span",{className:"z-[1001]  bg-pink-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),w.label8&&C.jsx("span",{className:"z-[1001]  bg-neutral-400  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"})]}),le||"Empty Card"]})]})}const K3=M.forwardRef(({item:t,Dragging:e,onDeleteList:n,title:r,lists:i,id:s,BoardId:o,sharedWith:a},l)=>{const[u,c]=M.useState(!1),[f,p]=M.useState(!1),[h,g]=M.useState({x:0,y:0}),m=M.useRef(null),[v,x]=M.useState(""),[b,E]=M.useState(""),[R,w]=M.useState([]),[I,T]=M.useState(r),y=M.useRef(null),S=M.useRef(null),k=M.useRef(null),[A,D]=M.useState(!1),{setMenuOpen:N}=am(),{menuOpen:B}=am(),{attributes:z,listeners:J,setNodeRef:F,transform:L,transition:W,isDragging:G}=kk({id:t.id,disabled:B}),oe=Z=>{Z.preventDefault(),console.log("asd"),N(!0);const te=k.current.getBoundingClientRect(),me=te.left+window.scrollX+270,Te=te.top+window.scrollY-6;g({x:me,y:Te}),document.body.classList.add("MenuisOpen"),p(!0)};M.useEffect(()=>{const Z=te=>{S.current&&!S.current.contains(te.target)&&!k.current.contains(te.target)&&!y.current.contains(te.target)&&(p(!1),N(!1),document.body.classList.remove("MenuisOpen"))};return document.addEventListener("click",Z),()=>{document.removeEventListener("click",Z)}},[f]);const re=()=>{const Z=je.currentUser,te=document.createElement("textarea");te.value=`users/${Z.uid}/Boards/${o}/Lists/${s}`,document.body.appendChild(te),te.select(),document.execCommand("copy"),document.body.removeChild(te),D(!0),setTimeout(()=>{D(!1)},1500)},le=Z=>{const te=Z.touches[0],me=Z.target;me.offsetWidth>0&&te.clientX>=me.clientWidth&&Z.stopPropagation()},Ve=Z=>{const te=Z.target;te.offsetWidth>0&&Z.clientX>=te.clientWidth&&Z.stopPropagation()},De=Z=>{Z.preventDefault()},se=async()=>{const Z=je.currentUser;if(Z)try{E("");const te=fe(ae,v);x("");const me=await pu(te);if(me.exists()){const Te=me.data(),Me=new Date().getTime().toString(),Pe={...Te,id:Me,order:R.length};w(q=>[...q,Pe]);const ke=fe(ae,`users/${Z.uid}/Boards/${o}/Lists/${s}/cards`,Me);await ir(ke,Pe),console.log("Card added successfully for current user");const Q=a.map(q=>{const ee=fe(ae,`users/${q.id}/Boards/${o}/Lists/${s}/cards`,Me);return ir(ee,Pe)});await Promise.all(Q),console.log("Card added successfully for all shared users")}else E("Please check the link and try again."),setTimeout(()=>E(""),3e3),console.error("The source card does not exist at the specified link")}catch{E("Please check the link and try again."),setTimeout(()=>E(""),3e3)}else E("User is not authenticated"),console.error("User is not authenticated")},Ne=async()=>{const Z=je.currentUser;if(Z)try{x("");const te=new Date().getTime().toString(),me={label1:!1,label2:!1,label3:!1,label4:!1,label5:!1,label6:!1,label7:!1,label8:!1},Te="bg-gray-800",Me={id:te,title:v,labels:me,background:Te};w(Q=>[...Q,Me]);const Pe=fe(ae,`users/${Z.uid}/Boards/${o}/Lists/${s}/cards`,te);await ir(Pe,{id:te,title:v,labels:me,order:R.length,background:Te}),console.log("Card added successfully for current user");const ke=a.map(Q=>{const q=fe(ae,`users/${Q.id}/Boards/${o}/Lists/${s}/cards`,te);return ir(q,{id:te,title:v,labels:me,order:R.length,background:Te})});await Promise.all(ke),console.log("Card added successfully for all shared users")}catch(te){console.error("Error adding card to Firestore: ",te)}else console.error("User is not authenticated")};M.useEffect(()=>{const Z=Ki(je,te=>{te?(async()=>{const Te=$s(ae,`users/${te.uid}/Boards/${o}/Lists/${s}/cards`),Pe=(await Ws(Te)).docs.map(ke=>({id:ke.id,title:ke.data().title,labels:ke.data().labels,order:ke.data().order,background:ke.data().background})).sort((ke,Q)=>ke.order-Q.order);w(Pe)})().catch(Te=>console.error("Error fetching cards:",Te)):w([])});return()=>Z()},[s]),M.useEffect(()=>{if(!u)return;const Z=te=>{m.current&&!m.current.contains(te.target)&&Xe()};return document.addEventListener("click",Z),()=>{document.removeEventListener("click",Z)}},[u]);const Ee=Z=>{Z.stopPropagation(),c(!0)},Xe=()=>{c(!1)},he=async Z=>{const te=Z.target.value;T(te);const me=je.currentUser;if(me)try{await qe(fe(ae,`users/${me.uid}/Boards/${o}/Lists`,s),{title:te});const Te=a.map(Me=>qe(fe(ae,`users/${Me.id}/Boards/${o}/Lists`,s),{title:te}));console.log("asdf"),await Promise.all(Te)}catch(Te){console.error("Error updating list title: ",Te)}else console.error("User is not authenticated.")},Ke=async Z=>{const{active:te,over:me}=Z;if(te.id&&(me!=null&&me.id)){const Te=je.currentUser;if(Te){const Me=R.findIndex(ke=>ke.id===te.id),Pe=R.findIndex(ke=>ke.id===me.id);if(Me!==-1&&Pe!==-1){const ke=zh(R,Me,Pe);try{w(ke);const Q=ke.map((ee,de)=>qe(fe(ae,`users/${Te.uid}/Boards/${o}/Lists/${s}/cards`,ee.id),{order:de,title:ee.title,labels:ee.labels,background:ee.background})),q=a.map(ee=>ke.map((de,U)=>qe(fe(ae,`users/${ee.id}/Boards/${o}/Lists/${s}/cards`,de.id),{order:U,title:de.title,labels:de.labels,background:de.background})));await Promise.all([...Q,...q.flat()])}catch(Q){console.error("Error updating cards:",Q)}}}else console.error("User is not authenticated")}},[Re,At]=M.useState(window.innerWidth<=650);M.useEffect(()=>{const Z=()=>{At(window.innerWidth<=650)};return window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}},[]);const it={transform:L?`translate3d(${L.x}px, 0, 20px) rotate(${G?-2:0}deg)`:void 0,transition:W,backgroundColor:G?"rgba(0, 0, 0, 0.8)":"",cursor:G?"grabbing":"pointer",zIndex:G?10:"auto"},Rt=rk(Wd(rv,{activationConstraint:{delay:100,tolerance:5}}),Wd(iv,{activationConstraint:{delay:100,tolerance:5}})),ft=async Z=>{const te=je.currentUser;if(w(me=>me.filter(Me=>Me.id!==Z).map((Me,Pe)=>({...Me,order:Pe}))),te)try{const me=R.filter(Pe=>Pe.id!==Z);await yr(fe(ae,`users/${te.uid}/Boards/${o}/Lists/${s}/cards`,Z));const Te=me.map((Pe,ke)=>qe(fe(ae,`users/${te.uid}/Boards/${o}/Lists/${s}/cards`,Pe.id),{order:ke,title:Pe.title,labels:Pe.labels,background:Pe.background})),Me=a.map(Pe=>{const ke=yr(fe(ae,`users/${Pe.id}/Boards/${o}/Lists/${s}/cards`,Z)),Q=me.map((q,ee)=>qe(fe(ae,`users/${Pe.id}/Boards/${o}/Lists/${s}/cards`,q.id),{order:ee,title:q.title,labels:q.labels,background:q.background}));return[ke,...Q]}).flat();await Promise.all([...Te,...Me]),console.log("Card deleted and orders updated for all shared users")}catch(me){console.error("Error updating card title: ",me)}else console.error("User is not authenticated")},cn=async()=>{const Z=je.currentUser;if(Z)try{n(s);const te=fe(ae,`users/${Z.uid}/Boards/${o}/Lists`,s);await yr(te);const me=a.map(Te=>{const Me=fe(ae,`users/${Te.id}/Boards/${o}/Lists`,s);return yr(Me)});await Promise.all(me)}catch(te){console.error("Error deleting card: ",te)}else console.error("User is not authenticated")};return C.jsxs("div",{style:it,className:`bg-black  ListCssCustom  px-2.5 py-2.5 shadow-xl  rounded-xl h-fit ${e&&!G?"swing":""} ${!e||!G?"snap-start":""}  ${G?"dragList":""}`,children:[C.jsx("div",{className:`overlay ${f?"visible":""}`}),f&&C.jsxs("div",{ref:S,className:"card flex item  z-[10000]  absolute  flex-col gap-1",style:{top:`${h.y+5}px`,left:window.innerWidth>700?`${h.x-225}px`:`${h.x-335}px`,alignItems:`${window.innerWidth>700?"start":"end"}`},children:[C.jsxs("button",{onClick:re,className:`flex text-gray-300 shadow-xl ${A?"bg-green-600":"bg-gray-800"}  ${A?"hover:bg-green-700":"hover:bg-gray-700"}  font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm`,children:[A?C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}):C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),A?"Copied!":"Copy"]}),C.jsxs("button",{onClick:cn,className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})]}),C.jsxs("div",{ref:F,...z,...J,onContextMenu:De,children:[C.jsxs("div",{className:"flex relative overflow-x-hidden w-full h-10 justify-between items-start",children:[C.jsxs("div",{className:"focus:border-solid select-none focus:border-blue-500 focus:box-shadow focus:outline-none text-slate-300 px-1 text-lg mt-1.5 w-full mr-2",children:[I.length>22?`${I.substring(0,22)}...`:I,f&&C.jsx("div",{children:C.jsx("textarea",{ref:y,className:"z-[1000] absolute sm:w-full w-[68%] h-10 left-0 sm:right-0 top-0 pb-2 pt-3 ri text-start px-2.5 rounded-md bg-gray-800 border-solid border-slate-400 border-0 focus:outline-none text-slate-300 resize-none overflow-hidden focus:text-slate-300",value:I,rows:"1",onChange:he})})]}),C.jsxs("button",{ref:k,onClick:oe,className:"text-slate-300 p-1 hover:opacity-80 select-none text-xl",children:[" ",C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})})]})]}),C.jsx("div",{onTouchStart:le,onMouseDown:Ve,className:" flex  pr-1.5 flex-col justify-start kkkk my-3 items-center",children:C.jsx(xk,{sensors:Rt,collisionDetection:ik,onDragEnd:Ke,children:C.jsx(Tk,{items:R,strategy:wk,children:R.map(Z=>C.jsx(H3,{BoardId:o,listid:s,title:Z.title,BG:Z.background,id:Z.id,labels:Z.labels,item:Z,onDeleteCard:ft,sharedWith:a,lists:i},Z.id))})})})]}),C.jsxs("div",{children:[!u&&C.jsx("button",{onClick:Ee,className:"text-slate-300 select-none text-opacity-95 hover:opacity-100 hover:bg-zinc-800 hover:bg-opacity-90 hover:shadow-xl w-full text-start px-1.5 py-1  rounded-md",children:"+ Add a card"}),u&&C.jsxs("div",{className:"mt-1",ref:m,children:[C.jsx("textarea",{placeholder:"Enter card title...",className:"pb-5 pt-1 h-16   text-start px-2.5 rounded-md w-full border-solid border-slate-400 border-0 focus:outline-none bg-gray-800 text-slate-300 resize-none overflow-hidden",onChange:Z=>x(Z.target.value),value:v,rows:"1",onInput:Z=>{Z.target.style.height="auto",Z.target.style.height=`${Z.target.scrollHeight+15}px`},onClick:Z=>Z.stopPropagation()}),C.jsxs("div",{className:"mt-3  flex justify-start gap-1.5",children:[C.jsx("button",{onClick:Ne,className:"bg-blue-600 hover:bg-blue-700 mr-1.5 text-gray-950 py-1 px-2 rounded-md text-m",children:"Add Card"}),C.jsx("button",{onClick:se,className:"text-slate-300 py-1 px-1 rounded-md text-md hover:bg-gray-800",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})})}),C.jsx("button",{onClick:()=>c(!1),className:"text-slate-300 py-1 px-1  rounded-md text-md hover:bg-gray-800",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("p",{className:"text-red-500 text-sm text-center mt-1",children:b})]})]})]})});function G3({BoardMember:t,visibility:e,id:n,Board:r}){const[i,s]=M.useState(t),[o,a]=M.useState(""),l=async()=>{try{if(!o){console.error("Email is required.");return}const u=$s(ae,"users"),c=await Ws(u);let f=null;if(c.forEach(p=>{const h=p.data();h.email===o&&(f={id:p.id,...h},console.log("User found: ",f))}),f){s(h=>[...h,f]);const p=[...i,f];try{const h=fe(ae,`users/${i[0].id}/Boards/${n}`);await qe(h,{sharedWith:p});const g=fe(ae,`users/${f.id}/Boards/${n}`);await ir(g,{...r.data,sharedWith:p},{merge:!0});const m=p.map(v=>{const x=fe(ae,`users/${v.id}/Boards/${n}`);return qe(x,{sharedWith:p})});await Promise.all(m),console.log("Member added successfully and sharedWith updated for all members.")}catch(h){console.error("Error updating sharedWith: ",h)}}else{console.log("No user found with that email.");return}}catch(u){console.error("Error fetching users: ",u)}};return C.jsxs("div",{className:"bg-zinc-800 flex flex-col absolute  sm:top-24 top-[5.55em] z-[10000]   right-3  h-fit w-fit py-3 rounded-lg px-3.5 justify-start",children:[e==="private"&&C.jsx("div",{className:"w-[100%]  top-[-.2%]  p-1 right-[.1px]  h-[100%] absolute rounded-lg bg-zinc-950 bg-opacity-85 flex justify-center items-center",children:C.jsxs("div",{className:"flex flex-col",children:[C.jsx("h1",{className:"text-gray-300 text-center text-lg",children:"This Board is private."}),C.jsx("p",{className:"text-gray-300 text-center text-sm",children:"To share it with others,switch it to shareable mode."})]})}),C.jsx("h1",{className:"text-gray-300 text-lg",children:"Share Board"}),C.jsx("div",{children:C.jsxs("div",{className:"flex gap-2.5 mt-4",children:[C.jsx("input",{onChange:u=>{a(u.target.value)},value:o,type:"email",required:!0,placeholder:"Enter Email address",className:"text:xl p-1.5 px-2.5 pr-12 h-fit rounded-md  border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-sm text-slate-300"}),C.jsx("button",{onClick:l,type:"submit",className:" text-zinc-800 bg-blue-500 hover:bg-blue-600 h-fit p-1.5 px-2 rounded-md",children:"Share"})]})}),C.jsxs("div",{className:"mt-7",children:[C.jsxs("h3",{className:"text-gray-300 text-[.9rem]",children:["Board members ",C.jsx("span",{className:" rounded-[50%] w-fit h-fit  p-.5 px-1 bg-slate-600 text-gray-300",children:i.length})]}),C.jsx("hr",{className:"w-full h-px mt-1  bg-gray-200 border-0 dark:bg-gray-500 opacity-90"})]}),C.jsx("div",{children:i.map((u,c)=>C.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[C.jsx("div",{children:C.jsx("div",{className:" pointer-events-none select-none",style:{backgroundColor:u.avatar.color,color:"#fff",width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"18px",border:"1.5px solid #555"},children:u.avatar.initials.toUpperCase()})}),C.jsxs("div",{children:[C.jsxs("h1",{className:"text-gray-300 text-opacity-95",children:[u.name," ",c===0?"(you)":""," "]}),C.jsxs("p",{className:"text-gray-300 text-sm -mt-1 text-opacity-85",children:["@",u.email," "]})]})]},u.id))})]})}const sv=M.createContext({});function ov(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const $h=M.createContext(null),av=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class q3 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Q3({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=M.useContext(av);return M.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),C.jsx(q3,{isPresent:e,childRef:r,sizeRef:i,children:M.cloneElement(t,{ref:r})})}const X3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ov(Y3),l=M.useId(),u=M.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),c=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return M.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=C.jsx(Q3,{isPresent:n,children:t})),C.jsx($h.Provider,{value:c,children:t})};function Y3(){return new Map}function Ck(t=!0){const e=M.useContext($h);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=M.useId();M.useEffect(()=>{t&&i(s)},[t]);const o=M.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const pc=t=>t.key||"";function Cb(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const lv=typeof window<"u",Pk=lv?M.useLayoutEffect:M.useEffect,Ik=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=Ck(o),u=M.useMemo(()=>Cb(t),[t]),c=o&&!a?[]:u.map(pc),f=M.useRef(!0),p=M.useRef(u),h=ov(()=>new Map),[g,m]=M.useState(u),[v,x]=M.useState(u);Pk(()=>{f.current=!1,p.current=u;for(let R=0;R<v.length;R++){const w=pc(v[R]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[v,c.length,c.join("-")]);const b=[];if(u!==g){let R=[...u];for(let w=0;w<v.length;w++){const I=v[w],T=pc(I);c.includes(T)||(R.splice(w,0,I),b.push(I))}s==="wait"&&b.length&&(R=b),x(Cb(R)),m(u);return}const{forceRender:E}=M.useContext(sv);return C.jsx(C.Fragment,{children:v.map(R=>{const w=pc(R),I=o&&!a?!1:u===v||c.includes(w),T=()=>{if(h.has(w))h.set(w,!0);else return;let y=!0;h.forEach(S=>{S||(y=!1)}),y&&(E==null||E(),x(p.current),o&&(l==null||l()),r&&r())};return C.jsx(X3,{isPresent:I,initial:!f.current||n?void 0:!1,custom:I?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:I?void 0:T,children:R},w)})})},Nn=t=>t;let Ak=Nn;function uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Wr=t=>t*1e3,Hr=t=>t/1e3,J3={useManualTiming:!1};function Z3(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const h=f&&r?e:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const mc=["read","resolveKeyframes","update","preRender","render","postRender"],e6=40;function Rk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=mc.reduce((x,b)=>(x[b]=Z3(s),x),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,h=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,e6),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},g=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:mc.reduce((x,b)=>{const E=o[b];return x[b]=(R,w=!1,I=!1)=>(n||g(),E.schedule(R,w,I)),x},{}),cancel:x=>{for(let b=0;b<mc.length;b++)o[mc[b]].cancel(x)},state:i,steps:o}}const{schedule:et,cancel:Gi,state:Ft,steps:np}=Rk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0),Dk=M.createContext({strict:!1}),Pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ea={};for(const t in Pb)ea[t]={isEnabled:e=>Pb[t].some(n=>!!e[n])};function t6(t){for(const e in t)ea[e]={...ea[e],...t[e]}}const n6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n6.has(t)}let Nk=t=>!Kd(t);function r6(t){t&&(Nk=e=>e.startsWith("on")?!Kd(e):t(e))}try{r6(require("@emotion/is-prop-valid").default)}catch{}function i6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nk(i)||n===!0&&Kd(i)||!e&&!Kd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Wh=M.createContext({});function Xl(t){return typeof t=="string"||Array.isArray(t)}function Hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...cv];function Kh(t){return Hh(t.animate)||dv.some(e=>Xl(t[e]))}function Mk(t){return!!(Kh(t)||t.variants)}function o6(t,e){if(Kh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xl(n)?n:void 0,animate:Xl(r)?r:void 0}}return t.inherit!==!1?e:{}}function a6(t){const{initial:e,animate:n}=o6(t,M.useContext(Wh));return M.useMemo(()=>({initial:e,animate:n}),[Ib(e),Ib(n)])}function Ib(t){return Array.isArray(t)?t.join(" "):t}const l6=Symbol.for("motionComponentSymbol");function _o(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u6(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):_o(n)&&(n.current=r))},[e])}const hv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),c6="framerAppearId",Ok="data-"+hv(c6),{schedule:fv}=Rk(queueMicrotask,!1),Vk=M.createContext({});function d6(t,e,n,r,i){var s,o;const{visualElement:a}=M.useContext(Wh),l=M.useContext(Dk),u=M.useContext($h),c=M.useContext(av).reducedMotion,f=M.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,h=M.useContext(Vk);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&h6(f.current,n,i,h);const g=M.useRef(!1);M.useInsertionEffect(()=>{p&&g.current&&p.update(n,u)});const m=n[Ok],v=M.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return Pk(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),fv.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,m)}),v.current=!1))}),p}function h6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Lk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&_o(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Lk(t){if(t)return t.options.allowProjection!==!1?t.projection:Lk(t.parent)}function f6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&t6(t);function a(u,c){let f;const p={...M.useContext(av),...u,layoutId:p6(u)},{isStatic:h}=p,g=a6(u),m=r(u,h);if(!h&&lv){m6();const v=g6(p);f=v.MeasureLayout,g.visualElement=d6(i,m,p,e,v.ProjectionNode)}return C.jsxs(Wh.Provider,{value:g,children:[f&&g.visualElement?C.jsx(f,{visualElement:g.visualElement,...p}):null,n(i,u,u6(m,g.visualElement,c),m,h,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=M.forwardRef(a);return l[l6]=i,l}function p6({layoutId:t}){const e=M.useContext(sv).id;return e&&t!==void 0?e+"-"+t:t}function m6(t,e){M.useContext(Dk).strict}function g6(t){const{drag:e,layout:n}=ea;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const v6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pv(t){return typeof t!="string"||t.includes("-")?!1:!!(v6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ab(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function mv(t,e,n,r){if(typeof e=="function"){const[i,s]=Ab(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Ab(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const $m=t=>Array.isArray(t),y6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),x6=t=>$m(t)?t[t.length-1]||0:t,an=t=>!!(t&&t.getVelocity);function Wc(t){const e=an(t)?t.get():t;return y6(e)?e.toValue():e}function b6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:w6(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const jk=t=>(e,n)=>{const r=M.useContext(Wh),i=M.useContext($h),s=()=>b6(t,e,r,i);return n?s():ov(s)};function w6(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Wc(s[p]);let{initial:o,animate:a}=t;const l=Kh(t),u=Mk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Hh(f)){const p=Array.isArray(f)?f:[f];for(let h=0;h<p.length;h++){const g=mv(t,p[h]);if(g){const{transitionEnd:m,transition:v,...x}=g;for(const b in x){let E=x[b];if(Array.isArray(E)){const R=c?E.length-1:0;E=E[R]}E!==null&&(i[b]=E)}for(const b in m)i[b]=m[b]}}}return i}const ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(ga),Bk=t=>e=>typeof e=="string"&&e.startsWith(t),Fk=Bk("--"),_6=Bk("var(--"),gv=t=>_6(t)?E6.test(t.split("/*")[0].trim()):!1,E6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ei=(t,e,n)=>n>e?e:n<t?t:n,va={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yl={...va,transform:t=>ei(0,1,t)},gc={...va,default:1},_u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ci=_u("deg"),Sr=_u("%"),ve=_u("px"),T6=_u("vh"),S6=_u("vw"),Rb={...Sr,parse:t=>Sr.parse(t)/100,transform:t=>Sr.transform(t*100)},k6={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},C6={rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:gc,scaleX:gc,scaleY:gc,scaleZ:gc,skew:ci,skewX:ci,skewY:ci,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Yl,originX:Rb,originY:Rb,originZ:ve},Db={...va,transform:Math.round},vv={...k6,...C6,zIndex:Db,size:ve,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:Db},P6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I6=ga.length;function A6(t,e,n){let r="",i=!0;for(let s=0;s<I6;s++){const o=ga[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Uk(a,vv[o]);if(!l){i=!1;const c=P6[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ks.has(l)){o=!0;continue}else if(Fk(l)){i[l]=u;continue}else{const c=Uk(u,vv[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=A6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const R6={offset:"stroke-dashoffset",array:"stroke-dasharray"},D6={offset:"strokeDashoffset",array:"strokeDasharray"};function N6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?R6:D6;t[s.offset]=ve.transform(-r);const o=ve.transform(e),a=ve.transform(n);t[s.array]=`${o} ${a}`}function Nb(t,e,n){return typeof t=="string"?t:ve.transform(e+n*t)}function M6(t,e,n){const r=Nb(e,t.x,t.width),i=Nb(n,t.y,t.height);return`${r} ${i}`}function xv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(yv(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:h,dimensions:g}=t;p.transform&&(g&&(h.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=M6(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&N6(p,o,a,l,!1)}const bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zk=()=>({...bv(),attrs:{}}),wv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $k(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hk(t,e,n,r){$k(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Wk.has(i)?i:hv(i),e.attrs[i])}const Gd={};function O6(t){Object.assign(Gd,t)}function Kk(t,{layout:e,layoutId:n}){return Ks.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gd[t]||t==="opacity")}function _v(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(an(i[o])||e.style&&an(e.style[o])||Kk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Gk(t,e,n){const r=_v(t,e,n);for(const i in t)if(an(t[i])||an(e[i])){const s=ga.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function V6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Mb=["x","y","width","height","cx","cy","r"],L6={useVisualState:jk({scrapeMotionValuesFromProps:Gk,createRenderState:zk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ks.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Mb.length;a++){const l=Mb[a];t[l]!==e[l]&&(o=!0)}o&&et.read(()=>{V6(n,r),et.render(()=>{xv(r,i,wv(n.tagName),t.transformTemplate),Hk(n,r)})})}})},j6={useVisualState:jk({scrapeMotionValuesFromProps:_v,createRenderState:bv})};function qk(t,e,n){for(const r in e)!an(e[r])&&!Kk(r,n)&&(t[r]=e[r])}function B6({transformTemplate:t},e){return M.useMemo(()=>{const n=bv();return yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F6(t,e){const n=t.style||{},r={};return qk(r,n,t),Object.assign(r,B6(t,e)),r}function U6(t,e){const n={},r=F6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function z6(t,e,n,r){const i=M.useMemo(()=>{const s=zk();return xv(s,e,wv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};qk(s,t.style,t),i.style={...s,...i.style}}return i}function $6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(pv(n)?z6:U6)(r,s,o,n),u=i6(r,typeof n=="string",t),c=n!==M.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=M.useMemo(()=>an(f)?f.get():f,[f]);return M.createElement(n,{...c,children:p})}}function W6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...pv(r)?L6:j6,preloadedFeatures:t,useRender:$6(i),createVisualElement:e,Component:r};return f6(o)}}function Qk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gh(t,e,n){const r=t.getProps();return mv(r,e,n!==void 0?n:r.custom,t)}const H6=uv(()=>window.ScrollTimeline!==void 0);class K6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(H6()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class G6 extends K6{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ev(t,e){return t?t[e]||t.default||t:void 0}const Wm=2e4;function Xk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wm;)e+=n,r=t.next(e);return e>=Wm?1/0:e}function Tv(t){return typeof t=="function"}function Ob(t,e){t.timeline=e,t.onfinish=null}const Sv=t=>Array.isArray(t)&&typeof t[0]=="number",q6={linearEasing:void 0};function Q6(t,e){const n=uv(t);return()=>{var r;return(r=q6[e])!==null&&r!==void 0?r:n()}}const qd=Q6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Zo(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Jk(t){return!!(typeof t=="function"&&qd()||!t||typeof t=="string"&&(t in Hm||qd())||Sv(t)||Array.isArray(t)&&t.every(Jk))}const Ga=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ga([0,.65,.55,1]),circOut:Ga([.55,0,1,.45]),backIn:Ga([.31,.01,.66,-.59]),backOut:Ga([.33,1.53,.69,.99])};function Zk(t,e){if(t)return typeof t=="function"&&qd()?Yk(t,e):Sv(t)?Ga(t):Array.isArray(t)?t.map(n=>Zk(n,e)||Hm.easeOut):Hm[t]}const Zn={x:!1,y:!1};function eC(){return Zn.x||Zn.y}function X6(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function tC(t,e){const n=X6(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Vb(t){return e=>{e.pointerType==="touch"||eC()||t(e)}}function Y6(t,e,n={}){const[r,i,s]=tC(t,n),o=Vb(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const c=Vb(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const nC=(t,e)=>e?t===e?!0:nC(t,e.parentElement):!1,kv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z6(t){return J6.has(t.tagName)||t.tabIndex!==-1}const qa=new WeakSet;function Lb(t){return e=>{e.key==="Enter"&&t(e)}}function rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ej=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Lb(()=>{if(qa.has(n))return;rp(n,"down");const i=Lb(()=>{rp(n,"up")}),s=()=>rp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jb(t){return kv(t)&&!eC()}function tj(t,e,n={}){const[r,i,s]=tC(t,n),o=a=>{const l=a.currentTarget;if(!jb(a)||qa.has(l))return;qa.add(l);const u=e(a),c=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!jb(h)||!qa.has(l))&&(qa.delete(l),typeof u=="function"&&u(h,{success:g}))},f=h=>{c(h,n.useGlobalTarget||nC(l,h.target))},p=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!Z6(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>ej(u,i),i)}),s}function nj(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}const rC=new Set(["width","height","top","left","right","bottom",...ga]);let Hc;function rj(){Hc=void 0}const kr={now:()=>(Hc===void 0&&kr.set(Ft.isProcessing||J3.useManualTiming?Ft.timestamp:performance.now()),Hc),set:t=>{Hc=t,queueMicrotask(rj)}};function Cv(t,e){t.indexOf(e)===-1&&t.push(e)}function Pv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Iv{constructor(){this.subscriptions=[]}add(e){return Cv(this.subscriptions,e),()=>Pv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iC(t,e){return e?t*(1e3/e):0}const Bb=30,ij=t=>!isNaN(parseFloat(t));class sj{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=kr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ij(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Iv);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return iC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jl(t,e){return new sj(t,e)}function oj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jl(n))}function aj(t,e){const n=Gh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=x6(s[o]);oj(t,o,a)}}function lj(t){return!!(an(t)&&t.add)}function Km(t,e){const n=t.getValue("willChange");if(lj(n))return n.add(e)}function sC(t){return t.props[Ok]}const oC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uj=1e-7,cj=12;function dj(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=oC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>uj&&++a<cj);return o}function Eu(t,e,n,r){if(t===e&&n===r)return Nn;const i=s=>dj(s,0,1,t,n);return s=>s===0||s===1?s:oC(i(s),e,r)}const aC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lC=t=>e=>1-t(1-e),uC=Eu(.33,1.53,.69,.99),Av=lC(uC),cC=aC(Av),dC=t=>(t*=2)<1?.5*Av(t):.5*(2-Math.pow(2,-10*(t-1))),Rv=t=>1-Math.sin(Math.acos(t)),hC=lC(Rv),fC=aC(Rv),pC=t=>/^0[^.\s]+$/u.test(t);function hj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pC(t):!0}const gl=t=>Math.round(t*1e5)/1e5,Dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fj(t){return t==null}const pj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nv=(t,e)=>n=>!!(typeof n=="string"&&pj.test(n)&&n.startsWith(t)||e&&!fj(n)&&Object.prototype.hasOwnProperty.call(n,e)),mC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Dv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mj=t=>ei(0,255,t),ip={...va,transform:t=>Math.round(mj(t))},bs={test:Nv("rgb","red"),parse:mC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ip.transform(t)+", "+ip.transform(e)+", "+ip.transform(n)+", "+gl(Yl.transform(r))+")"};function gj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gm={test:Nv("#"),parse:gj,transform:bs.transform},Eo={test:Nv("hsl","hue"),parse:mC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sr.transform(gl(e))+", "+Sr.transform(gl(n))+", "+gl(Yl.transform(r))+")"},nn={test:t=>bs.test(t)||Gm.test(t)||Eo.test(t),parse:t=>bs.test(t)?bs.parse(t):Eo.test(t)?Eo.parse(t):Gm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):Eo.transform(t)},vj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vj))===null||n===void 0?void 0:n.length)||0)>0}const gC="number",vC="color",xj="var",bj="var(",Fb="${}",wj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(wj,l=>(nn.test(l)?(r.color.push(s),i.push(vC),n.push(nn.parse(l))):l.startsWith(bj)?(r.var.push(s),i.push(xj),n.push(l)):(r.number.push(s),i.push(gC),n.push(parseFloat(l))),++s,Fb)).split(Fb);return{values:n,split:a,indexes:r,types:i}}function yC(t){return Zl(t).values}function xC(t){const{split:e,types:n}=Zl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===gC?s+=gl(i[o]):a===vC?s+=nn.transform(i[o]):s+=i[o]}return s}}const _j=t=>typeof t=="number"?0:t;function Ej(t){const e=yC(t);return xC(t)(e.map(_j))}const qi={test:yj,parse:yC,createTransformer:xC,getAnimatableNone:Ej},Tj=new Set(["brightness","contrast","saturate","opacity"]);function Sj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dv)||[];if(!r)return t;const i=n.replace(r,"");let s=Tj.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kj=/\b([a-z-]*)\(.*?\)/gu,qm={...qi,getAnimatableNone:t=>{const e=t.match(kj);return e?e.map(Sj).join(" "):t}},Cj={...vv,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:qm,WebkitFilter:qm},Mv=t=>Cj[t];function bC(t,e){let n=Mv(t);return n!==qm&&(n=qi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pj=new Set(["auto","none","0"]);function Ij(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Pj.has(s)&&Zl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=bC(n,i)}const Ub=t=>t===va||t===ve,zb=(t,e)=>parseFloat(t.split(", ")[e]),$b=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return zb(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?zb(s[1],t):0}},Aj=new Set(["x","y","z"]),Rj=ga.filter(t=>!Aj.has(t));function Dj(t){const e=[];return Rj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$b(4,13),y:$b(5,14)};ta.translateX=ta.x;ta.translateY=ta.y;const Es=new Set;let Qm=!1,Xm=!1;function wC(){if(Xm){const t=Array.from(Es).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Dj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xm=!1,Qm=!1,Es.forEach(t=>t.complete()),Es.clear()}function _C(){Es.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xm=!0)})}function Nj(){_C(),wC()}class Ov{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Es.add(this),Qm||(Qm=!0,et.read(_C),et.resolveKeyframes(wC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Es.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Es.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Mj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Oj(t){const e=Mj.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function TC(t,e,n=1){const[r,i]=Oj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return EC(o)?parseFloat(o):o}return gv(i)?TC(i,e,n+1):i}const SC=t=>e=>e.test(t),Vj={test:t=>t==="auto",parse:t=>t},kC=[va,ve,Sr,ci,S6,T6,Vj],Wb=t=>kC.find(SC(t));class CC extends Ov{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),gv(u))){const c=TC(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!rC.has(r)||e.length!==2)return;const[i,s]=e,o=Wb(i),a=Wb(s);if(o!==a)if(Ub(o)&&Ub(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)hj(e[i])&&r.push(i);r.length&&Ij(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ta[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qi.test(t)||t==="0")&&!t.startsWith("url("));function Lj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Hb(i,e),a=Hb(s,e);return!o||!a?!1:Lj(t)||(n==="spring"||Tv(n))&&r}const Bj=t=>t!==null;function qh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Bj),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Fj=40;class PC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Fj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Nj(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!jj(e,r,i,s))if(o)this.options.duration=0;else{l&&l(qh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ot=(t,e,n)=>t+(e-t)*n;function sp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Uj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=sp(l,a,t+1/3),s=sp(l,a,t),o=sp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Qd(t,e){return n=>n>0?e:t}const op=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},zj=[Gm,bs,Eo],$j=t=>zj.find(e=>e.test(t));function Kb(t){const e=$j(t);if(!e)return!1;let n=e.parse(t);return e===Eo&&(n=Uj(n)),n}const Gb=(t,e)=>{const n=Kb(t),r=Kb(e);if(!n||!r)return Qd(t,e);const i={...n};return s=>(i.red=op(n.red,r.red,s),i.green=op(n.green,r.green,s),i.blue=op(n.blue,r.blue,s),i.alpha=ot(n.alpha,r.alpha,s),bs.transform(i))},Wj=(t,e)=>n=>e(t(n)),Tu=(...t)=>t.reduce(Wj),Ym=new Set(["none","hidden"]);function Hj(t,e){return Ym.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Kj(t,e){return n=>ot(t,e,n)}function Vv(t){return typeof t=="number"?Kj:typeof t=="string"?gv(t)?Qd:nn.test(t)?Gb:Qj:Array.isArray(t)?IC:typeof t=="object"?nn.test(t)?Gb:Gj:Qd}function IC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Vv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Gj(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Vv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function qj(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Qj=(t,e)=>{const n=qi.createTransformer(e),r=Zl(t),i=Zl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ym.has(t)&&!i.values.length||Ym.has(e)&&!r.values.length?Hj(t,e):Tu(IC(qj(r,i),i.values),n):Qd(t,e)};function AC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ot(t,e,n):Vv(t)(t,e)}const Xj=5;function RC(t,e,n){const r=Math.max(e-Xj,0);return iC(n-t(r),e-r)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qb=.001;function Yj({duration:t=dt.duration,bounce:e=dt.bounce,velocity:n=dt.velocity,mass:r=dt.mass}){let i,s,o=1-e;o=ei(dt.minDamping,dt.maxDamping,o),t=ei(dt.minDuration,dt.maxDuration,Hr(t)),o<1?(i=u=>{const c=u*o,f=c*t,p=c-n,h=Jm(u,o),g=Math.exp(-f);return qb-p/h*g},s=u=>{const f=u*o*t,p=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),m=Jm(Math.pow(u,2),o);return(-i(u)+qb>0?-1:1)*((p-h)*g)/m}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-.001+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=Zj(i,s,a);if(t=Wr(t),isNaN(l))return{stiffness:dt.stiffness,damping:dt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Jj=12;function Zj(t,e,n){let r=n;for(let i=1;i<Jj;i++)r=r-t(r)/e(r);return r}function Jm(t,e){return t*Math.sqrt(1-e*e)}const e7=["duration","bounce"],t7=["stiffness","damping","mass"];function Qb(t,e){return e.some(n=>t[n]!==void 0)}function n7(t){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...t};if(!Qb(t,t7)&&Qb(t,e7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dt.mass,stiffness:i,damping:s}}else{const n=Yj(t);e={...e,...n,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function DC(t=dt.visualDuration,e=dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:h}=n7({...n,velocity:-Hr(n.velocity||0)}),g=p||0,m=u/(2*Math.sqrt(l*c)),v=o-s,x=Hr(Math.sqrt(l/c)),b=Math.abs(v)<5;r||(r=b?dt.restSpeed.granular:dt.restSpeed.default),i||(i=b?dt.restDelta.granular:dt.restDelta.default);let E;if(m<1){const w=Jm(x,m);E=I=>{const T=Math.exp(-m*x*I);return o-T*((g+m*x*v)/w*Math.sin(w*I)+v*Math.cos(w*I))}}else if(m===1)E=w=>o-Math.exp(-x*w)*(v+(g+x*v)*w);else{const w=x*Math.sqrt(m*m-1);E=I=>{const T=Math.exp(-m*x*I),y=Math.min(w*I,300);return o-T*((g+m*x*v)*Math.sinh(y)+w*v*Math.cosh(y))/w}}const R={calculatedDuration:h&&f||null,next:w=>{const I=E(w);if(h)a.done=w>=f;else{let T=0;m<1&&(T=w===0?Wr(g):RC(E,w,I));const y=Math.abs(T)<=r,S=Math.abs(o-I)<=i;a.done=y&&S}return a.value=a.done?o:I,a},toString:()=>{const w=Math.min(Xk(R),Wm),I=Yk(T=>R.next(w*T).value,w,30);return w+"ms "+I}};return R}function Xb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],p={done:!1,value:f},h=y=>a!==void 0&&y<a||l!==void 0&&y>l,g=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let m=n*e;const v=f+m,x=o===void 0?v:o(v);x!==v&&(m=x-f);const b=y=>-m*Math.exp(-y/r),E=y=>x+b(y),R=y=>{const S=b(y),k=E(y);p.done=Math.abs(S)<=u,p.value=p.done?x:k};let w,I;const T=y=>{h(p.value)&&(w=y,I=DC({keyframes:[p.value,g(p.value)],velocity:RC(E,y,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:y=>{let S=!1;return!I&&w===void 0&&(S=!0,R(y),T(y)),w!==void 0&&y>=w?I.next(y-w):(!S&&R(y),p)}}}const r7=Eu(.42,0,1,1),i7=Eu(0,0,.58,1),NC=Eu(.42,0,.58,1),s7=t=>Array.isArray(t)&&typeof t[0]!="number",o7={linear:Nn,easeIn:r7,easeInOut:NC,easeOut:i7,circIn:Rv,circInOut:fC,circOut:hC,backIn:Av,backInOut:cC,backOut:uC,anticipate:dC},Yb=t=>{if(Sv(t)){Ak(t.length===4);const[e,n,r,i]=t;return Eu(e,n,r,i)}else if(typeof t=="string")return o7[t];return t};function a7(t,e,n){const r=[],i=n||AC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Nn:e;a=Tu(l,a)}r.push(a)}return r}function l7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ak(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=a7(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const p=Zo(t[f],t[f+1],c);return a[f](p)};return n?c=>u(ei(t[0],t[s-1],c)):u}function u7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Zo(0,e,r);t.push(ot(n,1,i))}}function c7(t){const e=[0];return u7(e,t.length-1),e}function d7(t,e){return t.map(n=>n*e)}function h7(t,e){return t.map(()=>e||NC).splice(0,t.length-1)}function Xd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=s7(r)?r.map(Yb):Yb(r),s={done:!1,value:e[0]},o=d7(n&&n.length===e.length?n:c7(e),t),a=l7(o,e,{ease:Array.isArray(i)?i:h7(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const f7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>Gi(e),now:()=>Ft.isProcessing?Ft.timestamp:kr.now()}},p7={decay:Xb,inertia:Xb,tween:Xd,keyframes:Xd,spring:DC},m7=t=>t/100;class Lv extends PC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Ov,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Tv(n)?n:p7[n]||Xd;let l,u;a!==Xd&&typeof e[0]!="number"&&(l=Tu(m7,AC(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Xk(c));const{calculatedDuration:f}=c,p=f+i,h=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:y}=this.options;return{done:!0,value:y[y.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:h,repeatType:g,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>c;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let E=this.currentTime,R=s;if(h){const y=Math.min(this.currentTime,c)/f;let S=Math.floor(y),k=y%1;!k&&y>=1&&(k=1),k===1&&S--,S=Math.min(S,h+1),!!(S%2)&&(g==="reverse"?(k=1-k,m&&(k-=m/f)):g==="mirror"&&(R=o)),E=ei(0,1,k)*f}const w=b?{done:!1,value:l[0]}:R.next(E);a&&(w.value=a(w.value));let{done:I}=w;!b&&u!==null&&(I=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return T&&i!==void 0&&(w.value=qh(l,this.options,i)),v&&v(w.value),T&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Hr(e.calculatedDuration):0}get time(){return Hr(this.currentTime)}set time(e){e=Wr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g7=new Set(["opacity","clipPath","filter","transform"]);function v7(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=Zk(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const y7=uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yd=10,x7=2e4;function b7(t){return Tv(t.type)||t.type==="spring"||!Jk(t.ease)}function w7(t,e){const n=new Lv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<x7;)r=n.sample(s),i.push(r.value),s+=Yd;return{times:void 0,keyframes:i,duration:s-Yd,ease:"linear"}}const MC={anticipate:dC,backInOut:cC,circInOut:fC};function _7(t){return t in MC}class Jb extends PC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new CC(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&qd()&&_7(s)&&(s=MC[s]),b7(this.options)){const{onComplete:f,onUpdate:p,motionValue:h,element:g,...m}=this.options,v=w7(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const c=v7(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ob(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(qh(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Hr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Hr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Wr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nn;const{animation:r}=n;Ob(r,e)}return Nn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...h}=this.options,g=new Lv({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Wr(this.time);u.setWithVelocity(g.sample(m-Yd).value,g.sample(m).value,Yd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return y7()&&r&&g7.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const E7={type:"spring",stiffness:500,damping:25,restSpeed:10},T7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),S7={type:"keyframes",duration:.8},k7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C7=(t,{keyframes:e})=>e.length>2?S7:Ks.has(t)?t.startsWith("scale")?T7(e[1]):E7:k7;function P7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const jv=(t,e,n,r={},i,s)=>o=>{const a=Ev(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Wr(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};P7(a)||(c={...c,...C7(t,c)}),c.duration&&(c.duration=Wr(c.duration)),c.repeatDelay&&(c.repeatDelay=Wr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=qh(c.keyframes,a);if(p!==void 0)return et.update(()=>{c.onUpdate(p),c.onComplete()}),new G6([])}return!s&&Jb.supports(c)?new Jb(c):new Lv(c)};function I7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),h=l[f];if(h===void 0||c&&I7(c,f))continue;const g={delay:n,...Ev(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const x=sC(t);if(x){const b=window.MotionHandoffAnimation(x,f,et);b!==null&&(g.startTime=b,m=!0)}}Km(t,f),p.start(jv(f,p,h,t.shouldReduceMotion&&rC.has(f)?{type:!1}:g,t,m));const v=p.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{et.update(()=>{a&&aj(t,a)})}),u}function Zm(t,e,n={}){var r;const i=Gh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(OC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=s;return A7(t,e,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function A7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(R7).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Zm(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function R7(t,e){return t.sortNodePosition(e)}function D7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Zm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Zm(t,e,n);else{const i=typeof e=="function"?Gh(t,e,n.custom):e;r=Promise.all(OC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const N7=dv.length;function VC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N7;n++){const r=dv[n],i=t.props[r];(Xl(i)||i===!1)&&(e[r]=i)}return e}const M7=[...cv].reverse(),O7=cv.length;function V7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>D7(t,n,r)))}function L7(t){let e=V7(t),n=Zb(),r=!0;const i=l=>(u,c)=>{var f;const p=Gh(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:g,...m}=p;u={...u,...m,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=VC(t.parent)||{},f=[],p=new Set;let h={},g=1/0;for(let v=0;v<O7;v++){const x=M7[v],b=n[x],E=u[x]!==void 0?u[x]:c[x],R=Xl(E),w=x===l?b.isActive:null;w===!1&&(g=v);let I=E===c[x]&&E!==u[x]&&R;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...h},!b.isActive&&w===null||!E&&!b.prevProp||Hh(E)||typeof E=="boolean")continue;const T=j7(b.prevProp,E);let y=T||x===l&&b.isActive&&!I&&R||v>g&&R,S=!1;const k=Array.isArray(E)?E:[E];let A=k.reduce(i(x),{});w===!1&&(A={});const{prevResolvedValues:D={}}=b,N={...D,...A},B=F=>{y=!0,p.has(F)&&(S=!0,p.delete(F)),b.needsAnimating[F]=!0;const L=t.getValue(F);L&&(L.liveStyle=!1)};for(const F in N){const L=A[F],W=D[F];if(h.hasOwnProperty(F))continue;let G=!1;$m(L)&&$m(W)?G=!Qk(L,W):G=L!==W,G?L!=null?B(F):p.add(F):L!==void 0&&p.has(F)?B(F):b.protectedKeys[F]=!0}b.prevProp=E,b.prevResolvedValues=A,b.isActive&&(h={...h,...A}),r&&t.blockInitialAnimation&&(y=!1),y&&(!(I&&T)||S)&&f.push(...k.map(F=>({animation:F,options:{type:x}})))}if(p.size){const v={};p.forEach(x=>{const b=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),v[x]=b??null}),f.push({animation:v})}let m=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Zb(),r=!0}}}function j7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qk(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zb(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class B7 extends ns{constructor(e){super(e),e.animationState||(e.animationState=L7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let F7=0;class U7 extends ns{constructor(){super(...arguments),this.id=F7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const z7={animation:{Feature:B7},exit:{Feature:U7}};function eu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Su(t){return{point:{x:t.pageX,y:t.pageY}}}const $7=t=>e=>kv(e)&&t(e,Su(e));function vl(t,e,n,r){return eu(t,e,$7(n),r)}const ew=(t,e)=>Math.abs(t-e);function W7(t,e){const n=ew(t.x,e.x),r=ew(t.y,e.y);return Math.sqrt(n**2+r**2)}class LC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=lp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=W7(f.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:g}=f,{timestamp:m}=Ft;this.history.push({...g,timestamp:m});const{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ap(p,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=lp(f.type==="pointercancel"?this.lastMoveEventInfo:ap(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),g&&g(f,v)},!kv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Su(e),a=ap(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ft;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,lp(a,this.history)),this.removeListeners=Tu(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function ap(t,e){return e?{point:e(t.point)}:t}function tw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lp({point:t},e){return{point:t,delta:tw(t,jC(e)),offset:tw(t,H7(e)),velocity:K7(e,.1)}}function H7(t){return t[0]}function jC(t){return t[t.length-1]}function K7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Wr(e)));)n--;if(!r)return{x:0,y:0};const s=Hr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const BC=1e-4,G7=1-BC,q7=1+BC,FC=.01,Q7=0-FC,X7=0+FC;function On(t){return t.max-t.min}function Y7(t,e,n){return Math.abs(t-e)<=n}function nw(t,e,n,r=.5){t.origin=r,t.originPoint=ot(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=G7&&t.scale<=q7||isNaN(t.scale))&&(t.scale=1),(t.translate>=Q7&&t.translate<=X7||isNaN(t.translate))&&(t.translate=0)}function yl(t,e,n,r){nw(t.x,e.x,n.x,r?r.originX:void 0),nw(t.y,e.y,n.y,r?r.originY:void 0)}function rw(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function J7(t,e,n){rw(t.x,e.x,n.x),rw(t.y,e.y,n.y)}function iw(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function xl(t,e,n){iw(t.x,e.x,n.x),iw(t.y,e.y,n.y)}function Z7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ot(n,t,r.max):Math.min(t,n)),t}function sw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e9(t,{top:e,left:n,bottom:r,right:i}){return{x:sw(t.x,n,i),y:sw(t.y,e,r)}}function ow(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t9(t,e){return{x:ow(t.x,e.x),y:ow(t.y,e.y)}}function n9(t,e){let n=.5;const r=On(t),i=On(e);return i>r?n=Zo(e.min,e.max-r,t.min):r>i&&(n=Zo(t.min,t.max-i,e.min)),ei(0,1,n)}function r9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const eg=.35;function i9(t=eg){return t===!1?t=0:t===!0&&(t=eg),{x:aw(t,"left","right"),y:aw(t,"top","bottom")}}function aw(t,e,n){return{min:lw(t,e),max:lw(t,n)}}function lw(t,e){return typeof t=="number"?t:t[e]||0}const uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:uw(),y:uw()}),cw=()=>({min:0,max:0}),mt=()=>({x:cw(),y:cw()});function Bn(t){return[t("x"),t("y")]}function UC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function s9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function up(t){return t===void 0||t===1}function tg({scale:t,scaleX:e,scaleY:n}){return!up(t)||!up(e)||!up(n)}function ps(t){return tg(t)||zC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zC(t){return dw(t.x)||dw(t.y)}function dw(t){return t&&t!=="0%"}function Jd(t,e,n){const r=t-n,i=e*r;return n+i}function hw(t,e,n,r,i){return i!==void 0&&(t=Jd(t,i,r)),Jd(t,n,r)+e}function ng(t,e=0,n=1,r,i){t.min=hw(t.min,e,n,r,i),t.max=hw(t.max,e,n,r,i)}function $C(t,{x:e,y:n}){ng(t.x,e.translate,e.scale,e.originPoint),ng(t.y,n.translate,n.scale,n.originPoint)}const fw=.999999999999,pw=1.0000000000001;function a9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ko(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$C(t,o)),r&&ps(s.latestValues)&&ko(t,s.latestValues))}e.x<pw&&e.x>fw&&(e.x=1),e.y<pw&&e.y>fw&&(e.y=1)}function So(t,e){t.min=t.min+e,t.max=t.max+e}function mw(t,e,n,r,i=.5){const s=ot(t.min,t.max,i);ng(t,e,n,s,r)}function ko(t,e){mw(t.x,e.x,e.scaleX,e.scale,e.originX),mw(t.y,e.y,e.scaleY,e.scale,e.originY)}function WC(t,e){return UC(o9(t.getBoundingClientRect(),e))}function l9(t,e,n){const r=WC(t,n),{scroll:i}=e;return i&&(So(r.x,i.offset.x),So(r.y,i.offset.y)),r}const HC=({current:t})=>t?t.ownerDocument.defaultView:null,u9=new WeakMap;class c9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Su(c).point)},s=(c,f)=>{const{drag:p,dragPropagation:h,onDragStart:g}=this.getProps();if(p&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nj(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(v=>{let x=this.getAxisMotionValue(v).get()||0;if(Sr.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[v];E&&(x=On(E)*(parseFloat(x)/100))}}this.originPoint[v]=x}),g&&et.postRender(()=>g(c,f)),Km(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:g,onDrag:m}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=d9(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(c,f)},a=(c,f)=>this.stop(c,f),l=()=>Bn(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new LC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:HC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&et.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!vc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Z7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&_o(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=e9(i.layoutBox,n):this.constraints=!1,this.elastic=i9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_o(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=l9(r,i.root,this.visualElement.getTransformPagePoint());let o=t9(i.layout.layoutBox,s);if(n){const a=n(s9(o));this.hasMutatedConstraints=!!a,a&&(o=UC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Bn(c=>{if(!vc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Km(this.visualElement,e),r.start(jv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!vc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ot(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_o(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=n9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(o=>{if(!vc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ot(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;u9.set(this.visualElement,this);const e=this.visualElement.current,n=vl(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();_o(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);const o=eu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=eg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function vc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function d9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h9 extends ns{constructor(e){super(e),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new c9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gw=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class f9 extends ns{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(e){this.session=new LC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gw(e),onStart:gw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&et.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Va={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=vw(t,e.target.x),r=vw(t,e.target.y);return`${n}% ${r}%`}},p9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qi.parse(t);if(i.length>5)return r;const s=qi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ot(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class m9 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;O6(g9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||et.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KC(t){const[e,n]=Ck(),r=M.useContext(sv);return C.jsx(m9,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(Vk),isPresent:e,safeToRemove:n})}const g9={borderRadius:{...Va,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomLeftRadius:Va,borderBottomRightRadius:Va,boxShadow:p9};function v9(t,e,n){const r=an(t)?t:Jl(t);return r.start(jv("",r,e,n)),r.animation}function y9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const x9=(t,e)=>t.depth-e.depth;class b9{constructor(){this.children=[],this.isDirty=!1}add(e){Cv(this.children,e),this.isDirty=!0}remove(e){Pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x9),this.isDirty=!1,this.children.forEach(e)}}function w9(t,e){const n=kr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Gi(r),t(s-e))};return et.read(r,!0),()=>Gi(r)}const GC=["TopLeft","TopRight","BottomLeft","BottomRight"],_9=GC.length,yw=t=>typeof t=="string"?parseFloat(t):t,xw=t=>typeof t=="number"||ve.test(t);function E9(t,e,n,r,i,s){i?(t.opacity=ot(0,n.opacity!==void 0?n.opacity:1,T9(r)),t.opacityExit=ot(e.opacity!==void 0?e.opacity:1,0,S9(r))):s&&(t.opacity=ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<_9;o++){const a=`border${GC[o]}Radius`;let l=bw(e,a),u=bw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||xw(l)===xw(u)?(t[a]=Math.max(ot(yw(l),yw(u),r),0),(Sr.test(u)||Sr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ot(e.rotate||0,n.rotate||0,r))}function bw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const T9=qC(0,.5,hC),S9=qC(.5,.95,Nn);function qC(t,e,n){return r=>r<t?0:r>e?1:n(Zo(t,e,r))}function ww(t,e){t.min=e.min,t.max=e.max}function jn(t,e){ww(t.x,e.x),ww(t.y,e.y)}function _w(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ew(t,e,n,r,i){return t-=e,t=Jd(t,1/n,r),i!==void 0&&(t=Jd(t,1/i,r)),t}function k9(t,e=0,n=1,r=.5,i,s=t,o=t){if(Sr.test(e)&&(e=parseFloat(e),e=ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ot(s.min,s.max,r);t===s&&(a-=e),t.min=Ew(t.min,e,n,a,i),t.max=Ew(t.max,e,n,a,i)}function Tw(t,e,[n,r,i],s,o){k9(t,e[n],e[r],e[i],e.scale,s,o)}const C9=["x","scaleX","originX"],P9=["y","scaleY","originY"];function Sw(t,e,n,r){Tw(t.x,e,C9,n?n.x:void 0,r?r.x:void 0),Tw(t.y,e,P9,n?n.y:void 0,r?r.y:void 0)}function kw(t){return t.translate===0&&t.scale===1}function QC(t){return kw(t.x)&&kw(t.y)}function Cw(t,e){return t.min===e.min&&t.max===e.max}function I9(t,e){return Cw(t.x,e.x)&&Cw(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XC(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function Iw(t){return On(t.x)/On(t.y)}function Aw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class A9{constructor(){this.members=[]}add(e){Cv(this.members,e),e.scheduleRender()}remove(e){if(Pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R9(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qa=typeof window<"u"&&window.MotionDebug!==void 0,cp=["","X","Y","Z"],D9={visibility:"hidden"},Rw=1e3;let N9=0;function dp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function YC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&YC(r)}function JC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=N9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qa&&(ms.totalNodes=ms.resolvedTargetDeltas=ms.recalculatedProjection=0),this.nodes.forEach(V9),this.nodes.forEach(U9),this.nodes.forEach(z9),this.nodes.forEach(L9),Qa&&window.MotionDebug.record(ms)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new b9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Iv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=w9(p,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||G9,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),b=!this.targetLayout||!XC(this.targetLayout,g)||h,E=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const R={...Ev(m,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dw);return}this.isUpdating||this.nodes.forEach(B9),this.isUpdating=!1,this.nodes.forEach(F9),this.nodes.forEach(M9),this.nodes.forEach(O9),this.clearAllSnapshots();const a=kr.now();Ft.delta=ei(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,np.update.process(Ft),np.preRender.process(Ft),np.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j9),this.sharedNodes.forEach(W9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!QC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||ps(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),q9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return mt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Q9))){const{scroll:c}=this.root;c&&(So(l.x,c.offset.x),So(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=mt();if(jn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&jn(l,o),So(l.x,f.offset.x),So(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=mt();jn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ko(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ps(c.latestValues)&&ko(l,c.latestValues)}return ps(this.latestValues)&&ko(l,this.latestValues),l}removeTransform(o){const a=mt();jn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ps(u.latestValues))continue;tg(u.latestValues)&&u.updateSnapshot();const c=mt(),f=u.measurePageBox();jn(c,f),Sw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ps(this.latestValues)&&Sw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),xl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),$C(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),xl(this.relativeTargetOrigin,this.target,h.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qa&&ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||zC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;jn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;a9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_w(this.prevProjectionDelta.x,this.projectionDelta.x),_w(this.prevProjectionDelta.y,this.projectionDelta.y)),yl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!Aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qa&&ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=mt(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=h!==g,v=this.getStack(),x=!v||v.members.length<=1,b=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(K9));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const w=R/1e3;Mw(f.x,o.x,w),Mw(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H9(this.relativeTarget,this.relativeTargetOrigin,p,w),E&&I9(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=mt()),jn(E,this.relativeTarget)),m&&(this.animationValues=c,E9(c,u,this.latestValues,w,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Kc.hasAnimatedSinceResize=!0,this.currentAnimation=v9(0,Rw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ZC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mt();const f=On(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=On(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}jn(a,l),ko(a,c),yl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new A9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&dp("z",o,u,this.animationValues);for(let c=0;c<cp.length;c++)dp(`rotate${cp[c]}`,o,u,this.animationValues),dp(`skew${cp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return D9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Wc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Wc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=R9(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const m in Gd){if(p[m]===void 0)continue;const{correct:v,applyTo:x}=Gd[m],b=u.transform==="none"?p[m]:v(p[m],f);if(x){const E=x.length;for(let R=0;R<E;R++)u[x[R]]=b}else u[m]=b}return this.options.layoutId&&(u.pointerEvents=f===this?Wc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Dw),this.root.sharedNodes.clear()}}}function M9(t){t.updateLayout()}function O9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Bn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=On(p);p.min=r[f].min,p.max=p.min+h}):ZC(s,n.layoutBox,r)&&Bn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=On(r[f]);p.max=p.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=To();yl(a,r,n.layoutBox);const l=To();o?yl(l,t.applyTransform(i,!0),n.measuredBox):yl(l,r,n.layoutBox);const u=!QC(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:h}=f;if(p&&h){const g=mt();xl(g,n.layoutBox,p.layoutBox);const m=mt();xl(m,r,h.layoutBox),XC(g,m)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function V9(t){Qa&&ms.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function L9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j9(t){t.clearSnapshot()}function Dw(t){t.clearMeasurements()}function B9(t){t.isLayoutDirty=!1}function F9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U9(t){t.resolveTargetDelta()}function z9(t){t.calcProjection()}function $9(t){t.resetSkewAndRotation()}function W9(t){t.removeLeadSnapshot()}function Mw(t,e,n){t.translate=ot(e.translate,0,n),t.scale=ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ow(t,e,n,r){t.min=ot(e.min,n.min,r),t.max=ot(e.max,n.max,r)}function H9(t,e,n,r){Ow(t.x,e.x,n.x,r),Ow(t.y,e.y,n.y,r)}function K9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G9={duration:.45,ease:[.4,0,.1,1]},Vw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Lw=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:Nn;function jw(t){t.min=Lw(t.min),t.max=Lw(t.max)}function q9(t){jw(t.x),jw(t.y)}function ZC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Y7(Iw(e),Iw(n),.2)}function Q9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const X9=JC({attachResizeListener:(t,e)=>eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hp={current:void 0},eP=JC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hp.current){const t=new X9({});t.mount(window),t.setOptions({layoutScroll:!0}),hp.current=t}return hp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Y9={pan:{Feature:f9},drag:{Feature:h9,ProjectionNode:eP,MeasureLayout:KC}};function Bw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&et.postRender(()=>s(e,Su(e)))}class J9 extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=Y6(e,n=>(Bw(this.node,n,"Start"),r=>Bw(this.node,r,"End"))))}unmount(){}}class Z9 extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(eu(this.node.current,"focus",()=>this.onFocus()),eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&et.postRender(()=>s(e,Su(e)))}class eB extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=tj(e,n=>(Fw(this.node,n,"Start"),(r,{success:i})=>Fw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rg=new WeakMap,fp=new WeakMap,tB=t=>{const e=rg.get(t.target);e&&e(t)},nB=t=>{t.forEach(tB)};function rB({root:t,...e}){const n=t||document;fp.has(n)||fp.set(n,{});const r=fp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nB,{root:t,...e})),r[i]}function iB(t,e,n){const r=rB(e);return rg.set(t,n),r.observe(t),()=>{rg.delete(t),r.unobserve(t)}}const sB={some:0,all:1};class oB extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sB[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return iB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(aB(e,n))&&this.startObserver()}unmount(){}}function aB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lB={inView:{Feature:oB},tap:{Feature:eB},focus:{Feature:Z9},hover:{Feature:J9}},uB={layout:{ProjectionNode:eP,MeasureLayout:KC}},ig={current:null},tP={current:!1};function cB(){if(tP.current=!0,!!lv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ig.current=t.matches;t.addListener(e),e()}else ig.current=!1}const dB=[...kC,nn,qi],hB=t=>dB.find(SC(t)),Uw=new WeakMap;function fB(t,e,n){for(const r in e){const i=e[r],s=n[r];if(an(i))t.addValue(r,i);else if(an(s))t.addValue(r,Jl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=kr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,et.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Kh(n),this.isVariantNode=Mk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in p){const g=p[h];l[h]!==void 0&&an(g)&&g.set(l[h],!1)}}mount(e){this.current=e,Uw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tP.current||cB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ig.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uw.delete(this.current),this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ks.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ea){const n=ea[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zw.length;r++){const i=zw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=fB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(EC(i)||pC(i))?i=parseFloat(i):!hB(i)&&qi.test(n)&&(i=bC(e,n)),this.setBaseTarget(e,an(i)?i.get():i)),an(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=mv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!an(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nP extends pB{constructor(){super(...arguments),this.KeyframeResolver=CC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mB(t){return window.getComputedStyle(t)}class gB extends nP{constructor(){super(...arguments),this.type="html",this.renderInstance=$k}readValueFromInstance(e,n){if(Ks.has(n)){const r=Mv(n);return r&&r.default||0}else{const r=mB(e),i=(Fk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WC(e,n)}build(e,n,r){yv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return _v(e,n,r)}}class vB extends nP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ks.has(n)){const r=Mv(n);return r&&r.default||0}return n=Wk.has(n)?n:hv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Gk(e,n,r)}build(e,n,r){xv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Hk(e,n,r,i)}mount(e){this.isSVGTag=wv(e.tagName),super.mount(e)}}const yB=(t,e)=>pv(t)?new vB(e):new gB(e,{allowProjection:t!==M.Fragment}),xB=W6({...z7,...lB,...Y9,...uB},yB),Gc=s6(xB);function It(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}It(`.react-loading-indicator-normalize,
[class$=rli-bounding-box] {
  font-size: 1rem;
  display: inline-block;
  box-sizing: border-box;
  text-align: unset;
  isolation: isolate;
}

.rli-d-i-b {
  display: inline-block;
}

.rli-text-format {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 600;
  width: 90%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.7em;
  letter-spacing: 0.5px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Avenir Next", "Avenir", "Segoe UI", "Lucida Grande", "Helvetica Neue", "Helvetica", "Fira Sans", "Roboto", "Noto", "Droid Sans", "Cantarell", "Oxygen", "Ubuntu", "Franklin Gothic Medium", "Century Gothic", "Liberation Sans", sans-serif;
}`);var $e=function(){return $e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$e.apply(this,arguments)};function Zd(t){return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}var bB=/^\s+/,wB=/\s+$/;function ue(t,e){if(e=e||{},(t=t||"")instanceof ue)return t;if(!(this instanceof ue))return new ue(t,e);var n=function(r){var i={r:0,g:0,b:0},s=1,o=null,a=null,l=null,u=!1,c=!1;typeof r=="string"&&(r=function(g){g=g.replace(bB,"").replace(wB,"").toLowerCase();var m,v=!1;if(sg[g])g=sg[g],v=!0;else if(g=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=Jn.rgb.exec(g))?{r:m[1],g:m[2],b:m[3]}:(m=Jn.rgba.exec(g))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=Jn.hsl.exec(g))?{h:m[1],s:m[2],l:m[3]}:(m=Jn.hsla.exec(g))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=Jn.hsv.exec(g))?{h:m[1],s:m[2],v:m[3]}:(m=Jn.hsva.exec(g))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=Jn.hex8.exec(g))?{r:Pn(m[1]),g:Pn(m[2]),b:Pn(m[3]),a:qw(m[4]),format:v?"name":"hex8"}:(m=Jn.hex6.exec(g))?{r:Pn(m[1]),g:Pn(m[2]),b:Pn(m[3]),format:v?"name":"hex"}:(m=Jn.hex4.exec(g))?{r:Pn(m[1]+""+m[1]),g:Pn(m[2]+""+m[2]),b:Pn(m[3]+""+m[3]),a:qw(m[4]+""+m[4]),format:v?"name":"hex8"}:(m=Jn.hex3.exec(g))?{r:Pn(m[1]+""+m[1]),g:Pn(m[2]+""+m[2]),b:Pn(m[3]+""+m[3]),format:v?"name":"hex"}:!1}(r)),Zd(r)=="object"&&(Mr(r.r)&&Mr(r.g)&&Mr(r.b)?(f=r.r,p=r.g,h=r.b,i={r:255*tt(f,255),g:255*tt(p,255),b:255*tt(h,255)},u=!0,c=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Mr(r.h)&&Mr(r.s)&&Mr(r.v)?(o=Xa(r.s),a=Xa(r.v),i=function(g,m,v){g=6*tt(g,360),m=tt(m,100),v=tt(v,100);var x=Math.floor(g),b=g-x,E=v*(1-m),R=v*(1-b*m),w=v*(1-(1-b)*m),I=x%6,T=[v,R,E,E,w,v][I],y=[w,v,v,R,E,E][I],S=[E,E,w,v,v,R][I];return{r:255*T,g:255*y,b:255*S}}(r.h,o,a),u=!0,c="hsv"):Mr(r.h)&&Mr(r.s)&&Mr(r.l)&&(o=Xa(r.s),l=Xa(r.l),i=function(g,m,v){var x,b,E;function R(T,y,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?T+6*(y-T)*S:S<.5?y:S<2/3?T+(y-T)*(2/3-S)*6:T}if(g=tt(g,360),m=tt(m,100),v=tt(v,100),m===0)x=b=E=v;else{var w=v<.5?v*(1+m):v+m-v*m,I=2*v-w;x=R(I,w,g+1/3),b=R(I,w,g),E=R(I,w,g-1/3)}return{r:255*x,g:255*b,b:255*E}}(r.h,o,l),u=!0,c="hsl"),r.hasOwnProperty("a")&&(s=r.a));var f,p,h;return s=rP(s),{ok:u,format:r.format||c,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:s}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function $w(t,e,n){t=tt(t,255),e=tt(e,255),n=tt(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=(s+o)/2;if(s==o)r=i=0;else{var l=s-o;switch(i=a>.5?l/(2-s-o):l/(s+o),s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function Ww(t,e,n){t=tt(t,255),e=tt(e,255),n=tt(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=s,l=s-o;if(i=s===0?0:l/s,s==o)r=0;else{switch(s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function Hw(t,e,n,r){var i=[or(Math.round(t).toString(16)),or(Math.round(e).toString(16)),or(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Kw(t,e,n,r){return[or(iP(r)),or(Math.round(t).toString(16)),or(Math.round(e).toString(16)),or(Math.round(n).toString(16))].join("")}function _B(t,e){e=e===0?0:e||10;var n=ue(t).toHsl();return n.s-=e/100,n.s=Qh(n.s),ue(n)}function EB(t,e){e=e===0?0:e||10;var n=ue(t).toHsl();return n.s+=e/100,n.s=Qh(n.s),ue(n)}function TB(t){return ue(t).desaturate(100)}function SB(t,e){e=e===0?0:e||10;var n=ue(t).toHsl();return n.l+=e/100,n.l=Qh(n.l),ue(n)}function kB(t,e){e=e===0?0:e||10;var n=ue(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),ue(n)}function CB(t,e){e=e===0?0:e||10;var n=ue(t).toHsl();return n.l-=e/100,n.l=Qh(n.l),ue(n)}function PB(t,e){var n=ue(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ue(n)}function IB(t){var e=ue(t).toHsl();return e.h=(e.h+180)%360,ue(e)}function Gw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ue(t).toHsl(),r=[ue(t)],i=360/e,s=1;s<e;s++)r.push(ue({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function AB(t){var e=ue(t).toHsl(),n=e.h;return[ue(t),ue({h:(n+72)%360,s:e.s,l:e.l}),ue({h:(n+216)%360,s:e.s,l:e.l})]}function RB(t,e,n){e=e||6,n=n||30;var r=ue(t).toHsl(),i=360/n,s=[ue(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(ue(r));return s}function DB(t,e){e=e||6;for(var n=ue(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(ue({h:r,s:i,v:s})),s=(s+a)%1;return o}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=rP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Ww(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Ww(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=$w(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=$w(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return Hw(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(e,n,r,i,s){var o=[or(Math.round(e).toString(16)),or(Math.round(n).toString(16)),or(Math.round(r).toString(16)),or(iP(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*tt(this._r,255))+"%",g:Math.round(100*tt(this._g,255))+"%",b:Math.round(100*tt(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*tt(this._r,255))+"%, "+Math.round(100*tt(this._g,255))+"%, "+Math.round(100*tt(this._b,255))+"%)":"rgba("+Math.round(100*tt(this._r,255))+"%, "+Math.round(100*tt(this._g,255))+"%, "+Math.round(100*tt(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(NB[Hw(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+Kw(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=ue(t);n="#"+Kw(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||t!=="hex"&&t!=="hex6"&&t!=="hex3"&&t!=="hex4"&&t!=="hex8"&&t!=="name"?(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),t!=="hex"&&t!=="hex6"||(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):t==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return ue(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(SB,arguments)},brighten:function(){return this._applyModification(kB,arguments)},darken:function(){return this._applyModification(CB,arguments)},desaturate:function(){return this._applyModification(_B,arguments)},saturate:function(){return this._applyModification(EB,arguments)},greyscale:function(){return this._applyModification(TB,arguments)},spin:function(){return this._applyModification(PB,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(RB,arguments)},complement:function(){return this._applyCombination(IB,arguments)},monochromatic:function(){return this._applyCombination(DB,arguments)},splitcomplement:function(){return this._applyCombination(AB,arguments)},triad:function(){return this._applyCombination(Gw,[3])},tetrad:function(){return this._applyCombination(Gw,[4])}},ue.fromRatio=function(t,e){if(Zd(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r==="a"?t[r]:Xa(t[r]));t=n}return ue(t,e)},ue.equals=function(t,e){return!(!t||!e)&&ue(t).toRgbString()==ue(e).toRgbString()},ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ue.mix=function(t,e,n){n=n===0?0:n||50;var r=ue(t).toRgb(),i=ue(e).toRgb(),s=n/100;return ue({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},ue.readability=function(t,e){var n=ue(t),r=ue(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},ue.isReadable=function(t,e,n){var r,i,s=ue.readability(t,e);switch(i=!1,(r=function(o){var a,l;return a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(o.size||"small").toLowerCase(),a!=="AA"&&a!=="AAA"&&(a="AA"),l!=="small"&&l!=="large"&&(l="small"),{level:a,size:l}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},ue.mostReadable=function(t,e,n){var r,i,s,o,a=null,l=0;i=(n=n||{}).includeFallbackColors,s=n.level,o=n.size;for(var u=0;u<e.length;u++)(r=ue.readability(t,e[u]))>l&&(l=r,a=ue(e[u]));return ue.isReadable(t,a,{level:s,size:o})||!i?a:(n.includeFallbackColors=!1,ue.mostReadable(t,["#fff","#000"],n))};var sg=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},NB=ue.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(sg);function rP(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function tt(t,e){(function(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1})(t)&&(t="100%");var n=function(r){return typeof r=="string"&&r.indexOf("%")!=-1}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Qh(t){return Math.min(1,Math.max(0,t))}function Pn(t){return parseInt(t,16)}function or(t){return t.length==1?"0"+t:""+t}function Xa(t){return t<=1&&(t=100*t+"%"),t}function iP(t){return Math.round(255*parseFloat(t)).toString(16)}function qw(t){return Pn(t)/255}var ui,yc,xc,Jn=(yc="[\\s|\\(]+("+(ui="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ui+")[,|\\s]+("+ui+")\\s*\\)?",xc="[\\s|\\(]+("+ui+")[,|\\s]+("+ui+")[,|\\s]+("+ui+")[,|\\s]+("+ui+")\\s*\\)?",{CSS_UNIT:new RegExp(ui),rgb:new RegExp("rgb"+yc),rgba:new RegExp("rgba"+xc),hsl:new RegExp("hsl"+yc),hsla:new RegExp("hsla"+xc),hsv:new RegExp("hsv"+yc),hsva:new RegExp("hsva"+xc),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Mr(t){return!!Jn.CSS_UNIT.exec(t)}var Xh=function(t,e){var n=(typeof t=="string"?parseInt(t):t)||0;if(n>=-5&&n<=5){var r=n,i=parseFloat(e),s=i+r*(i/5)*-1;return(s==0||s<=Number.EPSILON)&&(s=.1),{animationPeriod:s+"s"}}return{animationPeriod:e}},Yh=function(t,e){var n=t||{},r="";switch(e){case"small":r="12px";break;case"medium":r="16px";break;case"large":r="20px";break;default:r=void 0}var i={};if(n.fontSize){var s=n.fontSize;i=function(o,a){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(u=Object.getOwnPropertySymbols(o);c<u.length;c++)a.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(o,u[c])&&(l[u[c]]=o[u[c]])}return l}(n,["fontSize"]),r=s}return{fontSize:r,styles:i}},MB={color:"currentColor",mixBlendMode:"difference",width:"unset",display:"block",paddingTop:"2px"},Jh=function(t){var e=t.className,n=t.text,r=t.textColor,i=t.staticText,s=t.style;return n?be.createElement("span",{className:"rli-d-i-b rli-text-format ".concat(e||"").trim(),style:$e($e($e({},i&&MB),r&&{color:r,mixBlendMode:"unset"}),s&&s)},typeof n=="string"&&n.length?n:"loading"):null},ku="rgb(50, 205, 50)";function Zh(t,e){if(e===void 0&&(e=0),t.length===0)throw new Error("Input array cannot be empty!");var n=[];return function r(i,s){return s===void 0&&(s=0),n.push.apply(n,i),n.length<s&&r(n,s),n.slice(0,s)}(t,e)}It(`.atom-rli-bounding-box {
  --atom-phase1-rgb: 50, 205, 50;
  color: rgba(var(--atom-phase1-rgb), 1);
  font-size: 16px;
  position: relative;
  text-align: unset;
  isolation: isolate;
}
.atom-rli-bounding-box .atom-indicator {
  width: 6em;
  height: 6em;
  position: relative;
  perspective: 6em;
  overflow: hidden;
  color: rgba(var(--atom-phase1-rgb), 1);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7gg;
}
.atom-rli-bounding-box .atom-indicator::after, .atom-rli-bounding-box .atom-indicator::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 0.48em;
  height: 0.48em;
  margin: auto;
  border-radius: 50%;
  background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7eg;
}
.atom-rli-bounding-box .atom-indicator::before {
  filter: drop-shadow(0px 0px 0.0625em currentColor);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit {
  color: rgba(var(--atom-phase1-rgb), 0.85);
  border: 0;
  border-left: 0.4em solid currentColor;
  box-sizing: border-box;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: 4.8em;
  height: 4.8em;
  background-color: transparent;
  border-radius: 50%;
  transform-style: preserve-3d;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite uxlv7fj, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7gy;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  color: rgba(var(--atom-phase1-rgb), 0.18);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7hv;
  border: 0.125em solid currentColor;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::before {
  content: "";
  width: 0.192em;
  height: 0.192em;
  position: absolute;
  border-radius: 50%;
  top: -0.096em;
  right: 0;
  bottom: 0;
  left: 0;
  margin: 0 auto;
  color: rgba(var(--atom-phase1-rgb), 1);
  box-shadow: 0px 0px 0.0625em 0.0625em currentColor, 0px 0px 0.0625em 0.125em currentColor;
  background-color: currentColor;
  transform: rotateY(-70deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite uxlv7ew, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7gg;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(1) {
  --orbit-vector-factor: -1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(2) {
  --orbit-vector-factor: 1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3) {
  --orbit-vector-factor: 0;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3)::before {
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --atom-phase1-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase2-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase3-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase4-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes uxlv7fj {
  from {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(0deg);
  }
  to {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(360deg);
  }
}
@keyframes uxlv7ew {
  from {
    transform: rotateY(-70deg) rotateX(0deg);
  }
  to {
    transform: rotateY(-70deg) rotateX(-360deg);
  }
}
@keyframes uxlv7eg {
  100%, 0% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  20% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  25% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  45% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  50% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  70% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  75% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  95% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
}
@keyframes uxlv7gg {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
}
@keyframes uxlv7gy {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
}
@keyframes uxlv7hv {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
}`);ue(ku).toRgb();Array.from({length:4},function(t,e){return"--atom-phase".concat(e+1,"-rgb")});It(`.commet-rli-bounding-box {
  --commet-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  width: 6.85em;
  height: 6.85em;
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  position: relative;
  isolation: isolate;
}
.commet-rli-bounding-box .commet-indicator {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  box-sizing: border-box;
  width: 6em;
  height: 6em;
  color: var(--commet-phase1-color);
  display: inline-block;
  isolation: isolate;
  position: absolute;
  z-index: 0;
  animation: calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite uxlv7cp;
}
.commet-rli-bounding-box .commet-indicator .commet-box {
  position: absolute;
  display: inline-block;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  animation: uxlv7bx var(--rli-animation-duration, 1.2s) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(1) {
  width: 100%;
  height: 100%;
  animation-direction: normal;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(2) {
  width: 70%;
  height: 70%;
  animation-direction: reverse;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  display: inline-block;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box::before {
  content: "";
  width: 0.5em;
  height: 0.5em;
  border-radius: 50%;
  background-color: currentColor;
  position: absolute;
  top: -0.125em;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0 0 0.2em 0em currentColor, 0 0 0.6em 0em currentColor;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  box-sizing: border-box;
  border-style: solid;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail1 {
  border-color: currentColor transparent transparent currentColor;
  border-width: 0.25em 0.25em 0 0;
  transform: rotateZ(-45deg);
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail2 {
  border-color: currentColor currentColor transparent transparent;
  border-width: 0.25em 0 0 0.25em;
  transform: rotateZ(45deg);
}
.commet-rli-bounding-box .commet-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--commet-phase1-color);
}

@property --commet-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7bx {
  to {
    transform: rotate(1turn);
  }
}
@keyframes uxlv7cp {
  100%, 0% {
    color: var(--commet-phase1-color);
  }
  20% {
    color: var(--commet-phase1-color);
  }
  25% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  45% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  50% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  70% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  75% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
  95% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--commet-phase".concat(e+1,"-color")});It(`.OP-annulus-rli-bounding-box {
  --OP-annulus-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .whirl {
  animation: uxlv7n7 calc(var(--rli-animation-duration, 1.5s) * 1.33) linear infinite;
  height: 100%;
  transform-origin: center center;
  width: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .path {
  stroke-dasharray: 1, 125;
  stroke-dashoffset: 0;
  animation: var(--rli-animation-duration, 1.5s) var(--rli-animation-function, ease-in-out) infinite uxlv7oa, calc(var(--rli-animation-duration, 1.5s) * 4) var(--rli-animation-function, ease-in-out) infinite uxlv7p5;
  stroke-linecap: round;
}
.OP-annulus-rli-bounding-box .OP-annulus-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes uxlv7n7 {
  100% {
    transform: rotate(360deg);
  }
}
@keyframes uxlv7oa {
  0% {
    stroke-dasharray: 1, 125;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -124px;
  }
}
@keyframes uxlv7p5 {
  100%, 0% {
    stroke: var(--OP-annulus-phase1-color);
  }
  22% {
    stroke: var(--OP-annulus-phase1-color);
  }
  25% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  42% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  50% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  72% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  75% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
  97% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-phase".concat(e+1,"-color")});function pp(t){return t&&t.Math===Math&&t}It(`.OP-dotted-rli-bounding-box {
  --OP-dotted-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-dotted-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .OP-dotted-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder .dot {
  display: block;
  margin: 0 auto;
  width: 15%;
  height: 15%;
  background-color: currentColor;
  border-radius: 50%;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) infinite uxlv7nu, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite uxlv7ol;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) {
  transform: rotate(0deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 12 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) {
  transform: rotate(30deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 11 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) {
  transform: rotate(60deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 10 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) {
  transform: rotate(90deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 9 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) {
  transform: rotate(120deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 8 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) {
  transform: rotate(150deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 7 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) {
  transform: rotate(180deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 6 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) {
  transform: rotate(210deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 5 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) {
  transform: rotate(240deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 4 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) {
  transform: rotate(270deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 3 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) {
  transform: rotate(300deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 2 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) {
  transform: rotate(330deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 1 * -1);
}

@property --OP-dotted-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7nu {
  0%, 39%, 100% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
}
@keyframes uxlv7ol {
  100%, 0% {
    background-color: var(--OP-dotted-phase1-color);
  }
  22% {
    background-color: var(--OP-dotted-phase1-color);
  }
  25% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  47% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  50% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  72% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  75% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
  97% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
}`);pp(typeof window=="object"&&window)||pp(typeof self=="object"&&self)||pp(typeof global=="object"&&global)||function(){return this}()||Function("return this")();Array.from({length:4},function(t,e){return"--OP-dotted-phase".concat(e+1,"-color")});It(`.OP-spokes-rli-bounding-box {
  --OP-spokes-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  position: relative;
  color: var(--OP-spokes-phase1-color);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator {
  width: 4.8em;
  height: 4.8em;
  display: block;
  position: relative;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke {
  position: absolute;
  height: 1.2em;
  width: 0.4em;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto auto auto 50%;
  background-color: var(--OP-spokes-phase1-color);
  border-radius: 0.24em;
  opacity: 0;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) backwards infinite uxlv7pw, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite uxlv7qn;
  transform-origin: left center;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(1) {
  transform: rotate(calc(0 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(11 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(2) {
  transform: rotate(calc(1 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(10 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(3) {
  transform: rotate(calc(2 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(9 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(4) {
  transform: rotate(calc(3 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(8 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(5) {
  transform: rotate(calc(4 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(7 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(6) {
  transform: rotate(calc(5 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(6 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(7) {
  transform: rotate(calc(6 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(5 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(8) {
  transform: rotate(calc(7 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(4 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(9) {
  transform: rotate(calc(8 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(3 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(10) {
  transform: rotate(calc(9 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(2 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(11) {
  transform: rotate(calc(10 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(1 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(12) {
  transform: rotate(calc(11 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(0 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--OP-spokes-phase1-color);
  z-index: -2;
}

@property --OP-spokes-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7pw {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@keyframes uxlv7qn {
  100%, 0% {
    background-color: var(--OP-spokes-phase1-color);
  }
  22% {
    background-color: var(--OP-spokes-phase1-color);
  }
  25% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  42% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  50% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  72% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  75% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
  97% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-spokes-phase".concat(e+1,"-color")});It(`.OP-annulus-dual-sectors-rli-bounding-box {
  --OP-annulus-dual-sectors-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator {
  width: 5em;
  height: 5em;
  display: inline-block;
  position: relative;
  z-index: 0;
  color: var(--OP-annulus-dual-sectors-phase1-color);
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .annulus-sectors {
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border-width: 0.34em;
  border-style: solid;
  border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent var(--OP-annulus-dual-sectors-phase1-color) transparent;
  background-color: transparent;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) infinite uxlv7ra, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) infinite uxlv7sv;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .OP-annulus-dual-sectors-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-dual-sectors-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7ra {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@keyframes uxlv7sv {
  100%, 0% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  20% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  25% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  45% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  50% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  70% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  75% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  95% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-dual-sectors-phase".concat(e+1,"-color")});It(`.OP-annulus-sector-track-rli-bounding-box {
  --OP-annulus-track-phase1-color: rgba(50, 205, 50, 0.22);
  --OP-annulus-sector-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-sector-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .annulus-track-ring {
  width: 100%;
  height: 100%;
  border-width: 0.34em;
  border-style: solid;
  border-radius: 50%;
  box-sizing: border-box;
  border-color: var(--OP-annulus-track-phase1-color);
  border-top-color: var(--OP-annulus-sector-phase1-color);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite uxlv7rl, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite uxlv7tf;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .OP-annulus-sector-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-track-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-sector-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes uxlv7rl {
  to {
    transform: rotate(1turn);
  }
}
@keyframes uxlv7tf {
  100%, 0% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  18% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  25% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  43% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  50% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  68% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  75% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
  93% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return["--OP-annulus-track-phase".concat(e+1,"-color"),"--OP-annulus-sector-phase".concat(e+1,"-color")]});It(`.foursquare-rli-bounding-box {
  --four-square-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  color: var(--four-square-phase1-color);
  display: inline-block;
  overflow: hidden;
}
.foursquare-rli-bounding-box .foursquare-indicator {
  height: 5.3033008589em;
  width: 5.3033008589em;
  position: relative;
  display: block;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container {
  position: absolute;
  z-index: 0;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  height: 2.5em;
  width: 2.5em;
  color: inherit;
  will-change: color, width, height;
  transform: rotate(45deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite uxlv7dk, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite uxlv7es;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square {
  position: absolute;
  width: 1.25em;
  height: 1.25em;
  border-radius: 0.1875em;
  background-color: currentColor;
  animation: uxlv7dd var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) both infinite;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square1 {
  top: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square2 {
  top: 0;
  right: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square3 {
  bottom: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square4 {
  bottom: 0;
  right: 0;
}

@property --four-square-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes uxlv7dk {
  0% {
    width: 2.5em;
    height: 2.5em;
  }
  10% {
    width: 2.5em;
    height: 2.5em;
  }
  50% {
    width: 3.75em;
    height: 3.75em;
  }
  90% {
    width: 2.5em;
    height: 2.5em;
  }
  100% {
    width: 2.5em;
    height: 2.5em;
  }
}
@keyframes uxlv7dd {
  0% {
    transform: rotateZ(0deg);
  }
  10% {
    transform: rotateZ(0deg);
  }
  50% {
    transform: rotateZ(90deg);
  }
  90% {
    transform: rotateZ(90deg);
  }
  100% {
    transform: rotateZ(90deg);
  }
}
@keyframes uxlv7es {
  100%, 0% {
    color: var(--four-square-phase1-color);
  }
  20% {
    color: var(--four-square-phase1-color);
  }
  25% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  45% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  50% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  70% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  75% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
  95% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--four-square-phase".concat(e+1,"-color")});It(`.mosaic-rli-bounding-box {
  --mosaic-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  color: var(--mosaic-phase1-color);
}
.mosaic-rli-bounding-box .mosaic-indicator {
  width: 5em;
  height: 5em;
  color: currentColor;
  display: grid;
  gap: 0.125em;
  grid-template-columns: repeat(3, 1fr);
  grid-template-areas: "a b c" "d e f" "g h i";
  position: relative;
  z-index: 0;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 105%;
  left: 50%;
  transform: translateX(-50%);
  z-index: -2;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube {
  background-color: var(--mosaic-phase1-color);
  animation-name: uxlv7i4, uxlv7is;
  animation-duration: var(--rli-animation-duration, 1.5s), calc(var(--rli-animation-duration, 1.5s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in-out);
  animation-iteration-count: infinite;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube1 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
  grid-area: a;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube2 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
  grid-area: b;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube3 {
  grid-area: c;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 4);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube4 {
  grid-area: d;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube5 {
  grid-area: e;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube6 {
  grid-area: f;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube7 {
  grid-area: g;
  animation-delay: 0s;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube8 {
  grid-area: h;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube9 {
  grid-area: i;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}

@property --mosaic-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes uxlv7i4 {
  0%, 60%, 100% {
    transform: scale3D(1, 1, 1);
  }
  30% {
    transform: scale3D(0, 0, 1);
  }
}
@keyframes uxlv7is {
  100%, 0% {
    background-color: var(--mosaic-phase1-color);
  }
  25% {
    background-color: var(--mosaic-phase2-color, var(--mosaic-phase1-color));
  }
  50% {
    background-color: var(--mosaic-phase3-color, var(--mosaic-phase1-color));
  }
  75% {
    background-color: var(--mosaic-phase4-color, var(--mosaic-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--mosaic-phase".concat(e+1,"-color")});It(`.riple-rli-bounding-box {
  --riple-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--riple-phase1-color);
}
.riple-rli-bounding-box .riple-indicator {
  display: inline-block;
  width: 5em;
  height: 5em;
  position: relative;
  z-index: 0;
}
.riple-rli-bounding-box .riple-indicator .riple-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.riple-rli-bounding-box .riple-indicator .riple {
  --border-width: 0.25em;
  position: absolute;
  border: var(--border-width) solid var(--riple-phase1-color);
  opacity: 1;
  border-radius: 50%;
  will-change: top, right, left, bottom, border-color;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite uxlv7i1, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite uxlv7io;
}
.riple-rli-bounding-box .riple-indicator .riple:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 1s) / 2 * -1);
}

@property --riple-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes uxlv7i1 {
  0% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  4.9% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  5% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
  }
}
@keyframes uxlv7io {
  100%, 0% {
    border-color: var(--riple-phase1-color);
  }
  24.9% {
    border-color: var(--riple-phase1-color);
  }
  25% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  49.9% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  50% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  74.9% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  75% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
  99.9% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--riple-phase".concat(e+1,"-color")});It(`.pulsate-rli-bounding-box {
  --TD-pulsate-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
  box-sizing: border-box;
  color: var(--TD-pulsate-phase1-color);
}
.pulsate-rli-bounding-box .pulsate-indicator {
  width: 4.4em;
  height: 1.1em;
  text-align: center;
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: space-between;
  flex-wrap: nowrap;
  align-items: center;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot {
  width: 1.1em;
  height: 1.1em;
  border-radius: 50%;
  background-color: var(--TD-pulsate-phase1-color);
  transform: scale(0);
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) var(--delay) infinite uxlv7s0, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) var(--delay) infinite uxlv7to;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(1) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15 * -1);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(2) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(3) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15);
}
.pulsate-rli-bounding-box .pulsate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 80%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.6em;
  letter-spacing: 0.5px;
  font-family: sans-serif;
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --TD-pulsate-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7s0 {
  0%, 90%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}
@keyframes uxlv7to {
  0%, 100% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  24.9% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  25% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  49.9% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  50% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  74.9% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  75% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
  99.9% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
}`);var Js=Array.from({length:4},function(t,e){return"--TD-pulsate-phase".concat(e+1,"-color")}),OB=function(t){var e,n=Yh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Xh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Zh(l,Js.length),f=0;f<c.length&&!(f>=4);f++)u[Js[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Js.length;p++)u[Js[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="pulsate" /> indicator cannot be processed. Using default instead!')),p=0;p<Js.length;p++)u[Js[p]]=ku}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b pulsate-rli-bounding-box",style:$e($e($e($e($e({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"rli-d-i-b pulsate-indicator"},be.createElement("span",{className:"rli-d-i-b pulsate-dot"}),be.createElement("span",{className:"rli-d-i-b pulsate-dot"}),be.createElement("span",{className:"rli-d-i-b pulsate-dot"})),be.createElement(Jh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};It(`.brick-stack-rli-bounding-box {
  --TD-brick-stack-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-brick-stack-phase1-color);
}
.brick-stack-rli-bounding-box .brick-stack-indicator {
  width: 2.8em;
  height: 2.8em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.brick-stack-rli-bounding-box .brick-stack {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 0/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 100%/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 100% 100%/40% 40% no-repeat;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, ease-out) infinite uxlv7tu, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, ease-out) infinite uxlv7us;
}

@property --TD-brick-stack-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes uxlv7tu {
  0% {
    background-position: 0 0, 0 100%, 100% 100%;
  }
  25% {
    background-position: 100% 0, 0 100%, 100% 100%;
  }
  50% {
    background-position: 100% 0, 0 0, 100% 100%;
  }
  75% {
    background-position: 100% 0, 0 0, 0 100%;
  }
  100% {
    background-position: 100% 100%, 0 0, 0 100%;
  }
}
@keyframes uxlv7us {
  100%, 0% {
    color: var(--TD-brick-stack-phase1-color);
  }
  20% {
    color: var(--TD-brick-stack-phase1-color);
  }
  25% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  45% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  50% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  70% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  75% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
  95% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
}`);var Zs=Array.from({length:4},function(t,e){return"--TD-brick-stack-phase".concat(e+1,"-color")}),VB=function(t){var e,n=Yh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Xh(t==null?void 0:t.speedPlus,"1s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Zh(l,Zs.length),f=0;f<c.length&&!(f>=4);f++)u[Zs[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Zs.length;p++)u[Zs[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="brick-stack" /> indicator cannot be processed. Using default instead!')),p=0;p<Zs.length;p++)u[Zs[p]]=ku}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b brick-stack-rli-bounding-box",style:$e($e($e($e($e({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"rli-d-i-b brick-stack-indicator"},be.createElement("span",{className:"rli-d-i-b brick-stack"})),be.createElement(Jh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};It(`.bob-rli-bounding-box {
  --TD-bob-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-bob-phase1-color);
}
.bob-rli-bounding-box .bob-indicator {
  width: 4.4em;
  height: 2.2em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bob-rli-bounding-box .bob-indicator .bobbing,
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  width: 1.1em;
  height: 100%;
  display: grid;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) var(--delay) infinite uxlv7u0, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) var(--delay) infinite uxlv7vq;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  content: "";
  grid-area: 1/1;
}
.bob-rli-bounding-box .bob-indicator .bobbing {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12 * -1);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
  transform: translateX(150%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12);
  transform: translateX(300%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}

@property --TD-bob-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7u0 {
  100%, 0% {
    background-position: 50% 50%;
  }
  15% {
    background-position: 50% 10%;
  }
  30% {
    background-position: 50% 100%;
  }
  40% {
    background-position: 50% 0%;
  }
  50% {
    background-position: 50% 90%;
  }
  70% {
    background-position: 50% 10%;
  }
  98% {
    background-position: 50% 50%;
  }
}
@keyframes uxlv7vq {
  100%, 0% {
    color: var(--TD-bob-phase1-color);
  }
  22% {
    color: var(--TD-bob-phase1-color);
  }
  25% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  47% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  50% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  72% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  75% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
  97% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
}`);var eo=Array.from({length:4},function(t,e){return"--TD-bob-phase".concat(e+1,"-color")}),LB=function(t){var e,n=Yh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Xh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Zh(l,eo.length),f=0;f<c.length&&!(f>=4);f++)u[eo[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<eo.length;p++)u[eo[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="bob" /> indicator cannot be processed. Using default instead!')),p=0;p<eo.length;p++)u[eo[p]]=ku}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b bob-rli-bounding-box",style:$e($e($e($e($e({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"bob-indicator"},be.createElement("span",{className:"bobbing"})),be.createElement(Jh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};It(`.bounce-rli-bounding-box {
  --TD-bounce-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--TD-bounce-phase1-color);
  display: inline-block;
  padding-bottom: 0.25125em;
}
.bounce-rli-bounding-box .wrapper {
  --dot1-delay: 0s;
  --dot1-x-offset: 0.55em;
  --dot2-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.75) * -1);
  --dot2-x-offset: 2.2em;
  --dot3-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.5) * -1);
  --dot3-x-offset: 3.85em;
  width: 5.5em;
  height: 3.125em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bounce-rli-bounding-box .wrapper .group {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.bounce-rli-bounding-box .wrapper .group .dot {
  width: 1.1em;
  height: 1.1em;
  position: absolute;
  border-radius: 50%;
  background-color: var(--TD-bounce-phase1-color);
  transform-origin: 50%;
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite uxlv7wc, calc(var(--rli-animation-duration, 0.5s) * 4) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) infinite uxlv7x6;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .shadow {
  width: 1.1em;
  height: 0.22em;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  position: absolute;
  top: 101%;
  transform-origin: 50%;
  z-index: -1;
  filter: blur(1px);
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite uxlv7ww;
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay);
}

@property --TD-bounce-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 0.5s;
}
@keyframes uxlv7wc {
  0% {
    top: 0%;
  }
  60% {
    height: 1.25em;
    border-radius: 50%;
    transform: scaleX(1);
  }
  100% {
    top: 100%;
    height: 0.22em;
    transform: scaleX(1.5);
    filter: blur(0.4px);
  }
}
@keyframes uxlv7ww {
  0% {
    transform: scaleX(0.2);
    opacity: 0.2;
  }
  60% {
    opacity: 0.4;
  }
  100% {
    transform: scaleX(1.5);
    opacity: 0.6;
  }
}
@keyframes uxlv7x6 {
  0%, 100% {
    background-color: var(--TD-bounce-phase1-color);
  }
  20% {
    background-color: var(--TD-bounce-phase1-color);
  }
  25% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  45% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  50% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  70% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  75% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
  95% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
}`);var to=Array.from({length:4},function(t,e){return"--TD-bounce-phase".concat(e+1,"-color")}),jB=function(t){var e,n=Yh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Xh(t==null?void 0:t.speedPlus,"0.5s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Zh(l,to.length),f=0;f<c.length&&!(f>=4);f++)u[to[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<to.length;p++)u[to[p]]=l}catch{for(p=0;p<to.length;p++)u[to[p]]=ku}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b bounce-rli-bounding-box",style:$e($e($e($e($e({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r)},be.createElement("span",{className:"wrapper"},be.createElement("span",{className:"group"},be.createElement("span",{className:"rli-d-i-b dot"}),be.createElement("span",{className:"rli-d-i-b dot"}),be.createElement("span",{className:"rli-d-i-b dot"})),be.createElement("span",{className:"group"},be.createElement("span",{className:"rli-d-i-b shadow"}),be.createElement("span",{className:"rli-d-i-b shadow"}),be.createElement("span",{className:"rli-d-i-b shadow"}))),be.createElement(Jh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor,style:{marginTop:"2px"}}))},sP=function(t){var e=Object(t).variant,n=e===void 0?"pulsate":e;return n==="pulsate"?be.createElement(OB,$e({},t)):n==="brick-stack"?be.createElement(VB,$e({},t)):n==="bob"?be.createElement(LB,$e({},t)):n==="bounce"?be.createElement(jB,$e({},t)):null};It(`.blink-blur-rli-bounding-box {
  --shape-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--shape-phase1-color);
}
.blink-blur-rli-bounding-box .blink-blur-indicator {
  isolation: isolate;
  display: flex;
  flex-direction: row;
  -moz-column-gap: 0.4em;
       column-gap: 0.4em;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape {
  --x-deg: -20deg;
  width: 1.8em;
  height: 2.25em;
  border-radius: 0.25em;
  color: inherit;
  transform: skewX(var(--x-deg));
  background-color: var(--shape-phase1-color);
  animation-name: uxlv7id, uxlv7jl;
  animation-duration: var(--rli-animation-duration, 1.2s), calc(var(--rli-animation-duration, 1.2s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in);
  animation-iteration-count: infinite;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape1 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.5 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape2 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.4 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape3 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.3 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape4 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.2 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape5 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.1 * -1);
}

@property --shape-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes uxlv7id {
  100%, 0% {
    opacity: 0.3;
    filter: blur(0.0675em) drop-shadow(0 0 0.0625em);
    transform: skewX(var(--x-deg)) scale(1.2, 1.45);
  }
  39% {
    opacity: 0.8;
  }
  40%, 41%, 42% {
    opacity: 0;
  }
  43% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
    filter: blur(0em) drop-shadow(0 0 0em);
    transform: skewX(var(--x-deg)) scale(1, 1);
  }
}
@keyframes uxlv7jl {
  100%, 0% {
    color: var(--shape-phase1-color);
    background-color: var(--shape-phase1-color);
  }
  25% {
    color: var(--shape-phase2-color, var(--shape-phase1-color));
    background-color: var(--shape-phase2-color, var(--shape-phase1-color));
  }
  50% {
    color: var(--shape-phase3-color, var(--shape-phase1-color));
    background-color: var(--shape-phase3-color, var(--shape-phase1-color));
  }
  75% {
    color: var(--shape-phase4-color, var(--shape-phase1-color));
    background-color: var(--shape-phase4-color, var(--shape-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--shape-phase".concat(e+1,"-color")});It(`.trophy-spin-rli-bounding-box {
  --trophySpin-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  position: relative;
  isolation: isolate;
  color: var(--trophySpin-phase1-color);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator {
  width: 4em;
  perspective: 1000px;
  transform-style: preserve-3d;
  display: block;
  margin: 0 auto;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade {
  display: block;
  width: 4em;
  height: 0.5em;
  background: var(--trophySpin-phase1-color);
  animation: uxlv7ki var(--rli-animation-duration, 2.5s) var(--rli-animation-function, linear) infinite, uxlv7l2 calc(var(--rli-animation-duration, 2.5s) * 0.5) var(--rli-animation-function, linear) infinite, uxlv7ly calc(var(--rli-animation-duration, 2.5s) * 4) var(--rli-animation-function, linear) infinite;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(8) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 0 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(7) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 1 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(6) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 2 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(5) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 3 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(4) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 4 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(3) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 5 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 6 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(1) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 7 * -1);
}

@property --trophySpin-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2.5s;
}
@keyframes uxlv7ki {
  to {
    transform: rotateY(1turn) rotateX(-25deg);
  }
}
@keyframes uxlv7l2 {
  100%, 0% {
    filter: brightness(1);
    opacity: 1;
  }
  15% {
    filter: brightness(1);
  }
  25% {
    opacity: 0.96;
  }
  30% {
    filter: brightness(0.92);
  }
  50% {
    filter: brightness(0.7);
    opacity: 1;
  }
  75% {
    filter: brightness(0.92);
    opacity: 0.96;
  }
  90% {
    filter: brightness(1);
  }
}
@keyframes uxlv7ly {
  100%, 0% {
    background-color: var(--trophySpin-phase1-color);
  }
  18% {
    background-color: var(--trophySpin-phase1-color);
  }
  25% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  43% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  50% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  68% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  75% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
  93% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--trophySpin-phase".concat(e+1,"-color")});It(`.slab-rli-bounding-box {
  --slab-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--slab-phase1-color);
  position: relative;
}
.slab-rli-bounding-box .slab-indicator {
  position: relative;
  display: block;
  width: 7em;
  height: 4em;
  margin: 0 auto;
  overflow: hidden;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper {
  width: 4em;
  height: 4em;
  transform: perspective(15em) rotateX(66deg) rotateZ(-25deg);
  transform-style: preserve-3d;
  transform-origin: 50% 100%;
  display: block;
  position: absolute;
  bottom: 0;
  right: 0;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--slab-phase1-color);
  opacity: 0;
  box-shadow: -0.08em 0.15em 0 rgba(0, 0, 0, 0.45);
  transform-origin: 0% 0%;
  animation: calc(var(--rli-animation-duration-unitless, 3) * 1s) var(--rli-animation-function, linear) infinite uxlv7md, calc(var(--rli-animation-duration-unitless, 3) * 4s) var(--rli-animation-function, linear) infinite uxlv7n0;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(1) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 3 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(2) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 2 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(3) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(4) {
  animation-delay: 0s;
}

@property --slab-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration-unitless {
  syntax: "<number>";
  inherits: true;
  initial-value: 3;
}
@keyframes uxlv7md {
  0% {
    transform: translateY(0) rotateX(30deg);
    opacity: 0;
  }
  10% {
    transform: translateY(-40%) rotateX(0deg);
    opacity: 1;
  }
  25% {
    opacity: 1;
  }
  100% {
    transform: translateY(-400%) rotateX(0deg);
    opacity: 0;
  }
}
@keyframes uxlv7n0 {
  100%, 0% {
    background-color: var(--slab-phase1-color);
  }
  24.9% {
    background-color: var(--slab-phase1-color);
  }
  25% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  49.9% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  50% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  74.9% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  75% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
  99.9% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--slab-phase".concat(e+1,"-color")});It(`.lifeline-rli-bounding-box {
  --life-line-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  isolation: isolate;
  color: var(--life-line-phase1-color);
}
.lifeline-rli-bounding-box .lifeline-indicator {
  position: relative;
  text-align: center;
}
.lifeline-rli-bounding-box .lifeline-indicator path.rli-lifeline {
  stroke-dasharray: 474.7616760254 30.3039367676;
  animation: var(--rli-animation-duration, 2s) var(--rli-animation-function, linear) infinite uxlv7k3, calc(var(--rli-animation-duration, 2s) * 4) var(--rli-animation-function, linear) infinite uxlv7kg;
}
.lifeline-rli-bounding-box .lifeline-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --life-line-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2s;
}
@keyframes uxlv7k3 {
  to {
    stroke-dashoffset: -1010.1312255859;
  }
}
@keyframes uxlv7kg {
  100%, 0% {
    color: var(--life-line-phase1-color);
  }
  20% {
    color: var(--life-line-phase1-color);
  }
  25% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  45% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  50% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  70% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  75% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
  95% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--life-line-phase".concat(e+1,"-color")});var og=new Map,bc=new WeakMap,Qw=0,BB=void 0;function FB(t){return t?(bc.has(t)||(Qw+=1,bc.set(t,Qw.toString())),bc.get(t)):"0"}function UB(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?FB(t.root):t[e]}`).toString()}function zB(t){const e=UB(t);let n=og.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},og.set(e,n)}return n}function $B(t,e,n={},r=BB){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=zB(n),a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),og.delete(i))}}function WB({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[f,p]=M.useState(null),h=M.useRef(u),[g,m]=M.useState({inView:!!a,entry:void 0});h.current=u,M.useEffect(()=>{if(o||!f)return;let E;return E=$B(f,(R,w)=>{m({inView:R,entry:w}),h.current&&h.current(R,w),w.isIntersecting&&s&&E&&(E(),E=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{E&&E()}},[Array.isArray(t)?t.toString():t,f,i,r,s,o,n,l,e]);const v=(c=g.entry)==null?void 0:c.target,x=M.useRef(void 0);!f&&v&&!s&&!o&&x.current!==v&&(x.current=v,m({inView:!!a,entry:void 0}));const b=[p,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}function HB(){const[t,e]=M.useState(!1),n=M.useRef(null),r=M.useRef(null),[i,s]=M.useState(!1),o=M.useRef(null),[a,l]=M.useState(!1),u=M.useRef([]),[c,f]=M.useState(!1),[p,h]=M.useState(""),[g,m]=M.useState([]),x=sa().state,b=Fs(),[E,R]=M.useState(""),[w,I]=M.useState(!0),[T,y]=M.useState(x),[S,k]=M.useState(x.boardVisibility),[A,D]=M.useState(x.sharedWith),[N,B]=M.useState(""),[z,J]=M.useState(""),[F,L]=M.useState(!1),W=M.useRef(null),G=Q=>{W.current&&!W.current.contains(Q.target)&&L(!1)};M.useEffect(()=>(document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}),[]);const oe={hidden:{opacity:0,x:"100%"},visible:{opacity:1,x:"0%"},exit:{opacity:0,x:"100%"}},re=["./BoardBackground/1.jpg","./BoardBackground/2.jpg","./BoardBackground/3.jpg","./BoardBackground/4.jpg","./BoardBackground/5.jpg","./BoardBackground/6.jpg","./BoardBackground/7.jpg","./BoardBackground/8.jpg","./BoardBackground/9.jpg","./BoardBackground/10.jpg","./BoardBackground/11.jpg","./BoardBackground/12.jpg","./BoardBackground/13.jpg","./BoardBackground/14.jpg","./BoardBackground/15.jpg","./BoardBackground/16.jpg","./BoardBackground/17.jpg","./BoardBackground/18.png","./BoardBackground/19.jpg"],le=[{className:"bg-gradient-to-r from-teal-400 to-blue-500"},{className:"bg-gradient-to-r from-blue-800 to-blue-400"},{className:"bg-gradient-to-r from-purple-500 to-pink-500"},{className:"bg-gradient-to-r from-purple-400 to-blue-300"},{className:"bg-gradient-to-r from-orange-400 to-yellow-300"},{className:"bg-gradient-to-r from-pink-400 to-pink-200"},{className:"bg-gradient-to-r from-teal-400 to-green-500"},{className:"bg-gradient-to-r from-blue-800 to-blue-400"},{className:"bg-gradient-to-r from-red-800 to-brown-500"},{className:"bg-blue-500"},{className:"bg-orange-500"},{className:"bg-green-500"},{className:"bg-red-500"},{className:"bg-purple-500"},{className:"bg-pink-500"},{className:"bg-green-300"},{className:"bg-cyan-500"},{className:"bg-gray-500"}],Ve=Q=>{r.current&&!r.current.contains(Q.target)&&e(!1)};M.useEffect(()=>(document.addEventListener("mousedown",Ve),()=>{document.removeEventListener("mousedown",Ve)}),[]);const De=async Q=>{B(Q);const q=je.currentUser;if(q)try{await qe(fe(ae,`users/${q.uid}/Boards/${x.id}`),{background:Q,backgroundImage:""});const ee=A.map(de=>qe(fe(ae,`users/${de.id}/Boards/${x.id}`),{background:Q,backgroundImage:""}));await Promise.all(ee)}catch(ee){console.error("Error updating list title: ",ee)}else console.error("User is not authenticated.")},se=async Q=>{B(""),J(Q);const q=je.currentUser;if(q)try{await qe(fe(ae,`users/${q.uid}/Boards/${x.id}`),{backgroundImage:Q,background:""});const ee=A.map(de=>qe(fe(ae,`users/${de.id}/Boards/${x.id}`),{backgroundImage:Q,background:""}));await Promise.all(ee)}catch(ee){console.error("Error updating list title: ",ee)}else console.error("User is not authenticated.")};M.useEffect(()=>{const Q=setTimeout(()=>{I(!1)},1240);return()=>{clearTimeout(Q)}});const[Ne,Ee]=M.useState(!1),Xe=M.useRef(null),he=Q=>{Xe.current&&!Xe.current.contains(Q.target)&&Ee(!1)};M.useEffect(()=>(document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}),[]),M.useEffect(()=>(document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}),[]);const Ke=async Q=>{const q=je.currentUser;if(m(ee=>ee.filter(de=>de.id!==Q).map((de,U)=>({...de,order:U}))),q)try{const ee=g.filter(X=>X.id!==Q);await yr(fe(ae,`users/${q.uid}/Boards/${x.id}/Lists`,Q));const de=ee.map((X,ge)=>qe(fe(ae,`users/${q.uid}/Boards/${x.id}/Lists/`,X.id),{order:ge,title:X.title})),U=A.flatMap(X=>{const ge=yr(fe(ae,`users/${X.id}/Boards/${x.id}/Lists/`,Q)),He=ee.map((yt,dn)=>qe(fe(ae,`users/${X.id}/Boards/${x.id}/Lists`,yt.id),{order:dn,title:yt.title}));return[ge,...He]});await Promise.all([...de,...U])}catch(ee){console.error("Error deleting list : ",ee)}else console.error("User is not authenticated")};M.useEffect(()=>{const Q=Ki(je,q=>{q?(async()=>{try{const de=fe(ae,`users/${q.uid}/Boards/${x.id}`),U=await pu(de);if(U.exists()){const X={id:U.id,data:U.data()};y(X),k(X.data.boardVisibility),D(X.data.sharedWith),R(X.data.title),B(X.data.background),J(X.data.backgroundImage)}else console.log("No such board!"),y({})}catch(de){console.error("Error fetching board:",de)}})():y({})});return()=>Q()},[]);const Re=Q=>{r.current&&!r.current.contains(Q.target)&&l(!1)},At=async()=>{if(S==="shareable"){const Q=je.currentUser;if(Q){if(A.length>=2){console.error("Cannot change visibility to private: the board is shared with multiple users.");return}try{k("private"),await qe(fe(ae,`users/${Q.uid}/Boards/${x.id}`),{boardVisibility:"private"})}catch(q){console.error("Error updating document: ",q)}}else console.error("User is not authenticated.")}},it=async()=>{if(S==="private"){k("shareable");const Q=je.currentUser;if(Q)try{await qe(fe(ae,`users/${Q.uid}/Boards/${x.id}`),{boardVisibility:"shareable"})}catch(q){console.log("Error updating document: ",q)}}else console.error("User is not authenticated.")},Rt=N===""?{backgroundImage:`url('${z}')`,backgroundSize:"cover",backgroundPosition:"center",height:"auto",width:"100%",color:"rgba(255,255,255,0)"}:{},ft=Q=>{f(!1),Q.stopPropagation(),s(!0)},cn=()=>{s(!1)};M.useEffect(()=>{const Q=Ki(je,q=>{q?(async()=>{const de=$s(ae,`users/${q.uid}/Boards/${x.id}/Lists`),X=(await Ws(de)).docs.map(ge=>({id:ge.id,title:ge.data().title,order:ge.data().order})).sort((ge,He)=>ge.order-He.order);m(X)})().catch(de=>console.error("Error fetching lists:",de)):m([])});return()=>Q()},[]),M.useEffect(()=>{if(i)return document.addEventListener("click",me),()=>{document.removeEventListener("click",me)}},[i]);const Z=async()=>{const Q=je.currentUser;if(Q){cn();try{const q=new Date().getTime().toString(),ee={id:q,title:p};m(X=>{const ge=[...X,ee],He=fe(ae,`users/${Q.uid}/Boards/${x.id}/Lists`,q);return ir(He,{title:p,id:q,order:ge.length-1}),ge}),console.log(A);const de=A.map(X=>{const ge=fe(ae,`users/${X.id}/Boards/${x.id}/Lists`,q);return ir(ge,{title:p,id:q,order:g.length})});if(await Promise.all(de),window.innerWidth<=650&&u.current.length>0){const X=u.current[u.current.length-1];X&&X.scrollIntoView({behavior:"smooth",block:"start"})}}catch(q){console.error("Error adding to Firestore: ",q)}}else console.error("User is not authenticated")},te=async()=>{const Q=je.currentUser;if(Q)try{const q=fe(ae,`users/${Q.uid}/Boards/${x.id}`);await yr(q);const ee=A.map(de=>{const U=fe(ae,`users/${de.id}/Boards/${x.id}`);return yr(U)});await Promise.all(ee),b("/Home")}catch(q){console.error("Error deleting card: ",q)}else console.error("User is not authenticated")},me=Q=>{o.current&&!o.current.contains(Q.target)&&(console.log("Click was outside, closing input"),cn())},Te=()=>{f(!0)},Me=async Q=>{const q=Q.target.value;R(q);const ee=je.currentUser;if(ee)try{await qe(fe(ae,`users/${ee.uid}/Boards/${x.id}`),{title:q});const de=A.map(U=>qe(fe(ae,`users/${U.id}/Boards/${x.id}`),{title:q}));await Promise.all(de)}catch(de){console.error("Error updating list title: ",de)}else console.error("User is not authenticated.")},Pe=async Q=>{const{active:q,over:ee}=Q;if(f(!1),q.id&&(ee!=null&&ee.id)){const de=je.currentUser;if(de){const U=g.findIndex(ge=>ge.id===q.id),X=g.findIndex(ge=>ge.id===ee.id);if(U!==-1&&X!==-1){const ge=zh(g,U,X);try{m(ge);const He=ge.map((dn,Gt)=>qe(fe(ae,`users/${de.uid}/Boards/${x.id}/Lists`,dn.id),{order:Gt,title:dn.title})),yt=A.map(dn=>ge.map((Gt,ri)=>qe(fe(ae,`users/${dn.id}/Boards/${x.id}/Lists`,Gt.id),{order:ri,title:Gt.title}))).flat();await Promise.all([...He,...yt])}catch(He){console.error("Error updating cards:",He)}}}else console.error("User is not authenticated")}},ke=rk(Wd(rv,{activationConstraint:{delay:100,tolerance:5}}),Wd(iv,{activationConstraint:{delay:100,tolerance:5}}));return C.jsxs("div",{children:[w&&C.jsxs("div",{className:"flex h-screen w-screen overflow-hidden flex-col justify-center items-center gap-6 p-4 ",children:[C.jsx(sP,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),C.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!w&&C.jsxs("div",{style:Rt,className:`h-screen max-h-screen overflow-hidden flex flex-col box-border ${N} `,children:[a&&C.jsx("div",{ref:r,className:" absolute top-[5.3em] left-[2.3%]  mt-1.5 shareMenu z-[1000000] w-72 rounded-2xl  bg-zinc-800   ring-black ring-opacity-5 focus:outline-none",children:C.jsxs("div",{className:"py-1",children:[C.jsxs("button",{onClick:At,style:{borderColor:S==="private"?"lightblue":""},className:"block  w-full border-2 border-zinc-800 rounded-2xl text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[C.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),C.jsxs("button",{onClick:it,style:{borderColor:S==="shareable"?"lightblue":""},className:"block border-2 border-zinc-800 w-full text-left px-4 rounded-2xl py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[C.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})}),C.jsx("nav",{className:"bg-gray-400 bg-opacity-55 sm:bg-opacity-50 py-2 pl-3.5 pr-2 sm:pr-5 text-md  absolute w-screen items-center top-11",children:C.jsxs("div",{className:"flex justify-between",children:[C.jsxs("div",{className:"flex gap-5",children:[C.jsx("p",{className:"text-white font-bold text-2xl cursor-pointer",children:E}),C.jsx("div",{className:"relative inline-block text-left",ref:r,children:C.jsxs("button",{onClick:()=>l(!a),className:"sm:text-lg text-slate-100 text-md px-1.5 mt-1 sm:mt-0.5 flex gap-1  hover:text-gray-900 rounded-md hover:bg-slate-100 items-center",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),C.jsxs("p",{className:"",children:[" ",window.innerWidth>650?"Workspace visible":"Visibility"]})]})})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("div",{onClick:()=>Ee(!Ne),className:"bg-slate-100 text-zinc-950 flex items-center gap-1 px-1.5 rounded-md hover:bg-slate-200 cursor-pointer",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.4",stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})}),"Share"]}),C.jsx("button",{onClick:()=>{e(!t)},className:" text-zinc-100 flex items-center ml-2  rounded-md hover:text-zinc-300 cursor-pointer",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-7",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})})})]})]})}),F&&C.jsx("div",{className:"flex justify-center items-center w-screen h-screen fixed bg-gray-700 bg-opacity-35 z-[1000000]",children:C.jsxs("div",{ref:W,className:" relative flex flex-col z-[10000] justify-center items-center  border-t-2 border-red-600 p-2 pb-5 px-4 sm:px-5 rounded-lg bg-gray-900 w-fit max-w-[90%] h-fit",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-16 z-50 text-gray-200 bg-red-600 rounded-full p-1.5 absolute top-[-33px] ",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),C.jsx("h1",{className:"text-xl text-center mb-2 font-bold mt-10 text-gray-300",children:"Delete Board?"}),C.jsx("p",{"mb-5":!0,className:"text-sm text-center text-gray-300",children:"Are you sure? This action will delete the board for all shared users and cannot be undone."}),C.jsxs("div",{className:"flex justify-center mt-7 gap-10",children:[C.jsx("button",{onClick:()=>{L(!1)},className:"px-8 rounded-lg p-1.5 hover:bg-zinc-600 text-gray-100 bg-zinc-500 ",children:"Cancel"}),C.jsx("button",{onClick:te,className:"px-8 rounded-lg p-1.5 text-gray-100 bg-red-600 hover:bg-red-800",children:"Delete"})]})]})}),C.jsx(Ik,{children:t&&C.jsxs(Gc.div,{ref:r,className:"h-full p-4 px-3 top-11 flex flex-col w-60 sm:w-72 fixed z-[10000] right-0 bg-gray-800",initial:"hidden",animate:"visible",exit:"hidden",variants:oe,transition:{duration:.3},children:[C.jsxs("div",{className:"w-full relative flex items-start justify-between ",children:[C.jsx("h1",{className:"text-center text-xl flex-grow text-gray-300 ",children:"Menu"}),C.jsx("button",{onClick:()=>{e(!1)},className:"absolute right-0 top-0 text-slate-300 py-1 px-1 rounded-md text-md hover:bg-gray-800",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("hr",{className:"border-0 border-b bg-gray-300 w-full opacity-35 my-2"}),C.jsx("input",{onChange:Me,value:E,className:"text-xl my-2 p-1.5 px-2 rounded-md text-center w-full border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2 focus:outline-none bg-gray-900 text-slate-300"}),C.jsx("h3",{className:"text-center my-3 text-lg text-gray-300 ",children:"Change Background"}),C.jsx("div",{className:"color max-h-[20vh] sm:max-h-[17vh] mb-4 rounded-md px-3 pt-1 overflow-y-auto bg-gray-900",children:C.jsx("div",{className:"grid grid-cols-2 mt-1 p-1 gap-5",children:le.map((Q,q)=>C.jsx("div",{onClick:()=>De(Q.className),className:`py-6 sm:py-7 cursor-pointer rounded-sm ${Q.className}`},q))})}),C.jsx("div",{className:"color max-h-[20vh] mt-1 sm:max-h-[17vh] pt-1 rounded-md sm:px-3 px-2 overflow-y-scroll bg-gray-900",children:C.jsx("div",{className:"grid grid-cols-2 mt-1 p-1 gap-5",children:re.map(Q=>C.jsx("div",{onClick:()=>{se(Q)},className:"cursor-pointer",children:C.jsx("img",{src:Q,loading:"lazy",alt:"Background",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",visibility:"hidden"},onLoad:q=>{const ee=q.target.src.replace("-lowres.jpg",".jpg"),de=new Image;de.src=ee,de.onload=()=>{q.target.src=ee,q.target.style.visibility="visible"}}})},Q))})}),C.jsx("div",{className:"flex mt-8 justify-center",children:C.jsxs("button",{onClick:()=>{L(!F),e(!1)},className:"text-gray-300 text-md flex gap-1 p-1.5 px-4 rounded-xl shadow-lg  bg-gray-900 border-2 border-slate-400 hover:border-red-600 hover:bg-slate-800",children:[" ",C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-0.5 text-red-600",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})})]})}),Ne&&C.jsx("div",{ref:Xe,children:C.jsx(G3,{visibility:S,id:x.id,Board:T,BoardMember:A})}),C.jsxs("div",{ref:n,className:`ml-6 sm:pl-6 md:ml-0 overflow-x-auto BOARDS  overflow-y-hidden   h-screen max-h-screen over px-3    sm:gap-10  flex gap-12 pt-28  ${c?" ":"BordContainer"}`,children:[C.jsx(xk,{onDragStart:Te,sensors:ke,collisionDetection:ik,onDragEnd:Pe,children:C.jsx(Tk,{items:g,strategy:wk,children:g.map((Q,q)=>C.jsx(K3,{BoardId:x.id,item:Q,sharedWith:A,lists:g,onDeleteList:Ke,id:Q.id,Dragging:c,ref:ee=>u.current[q]=ee,title:Q.title},Q.id))})}),!i&&C.jsx("button",{onClick:ft,className:"btn p-4 text-md   py-2.5 rounded-lg bg-zinc-800 bg-opacity-50 text-left text-zinc-50 self-start mt-1",children:"+ Add another list"}),i&&C.jsx("div",{className:"bg-black mr-10  btn p-5 px-3 pt-3 rounded-xl h-fit",children:C.jsxs("div",{className:"mt-1",children:[C.jsx("input",{onChange:Q=>{h(Q.target.value)},type:"text",placeholder:"Enter List name...",className:"text:xl p-1 px-2.5 rounded-md w-full border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-md text-slate-300"}),C.jsxs("div",{className:"mt-3 flex justify-start gap-1.5",children:[C.jsx("button",{onClick:Z,className:"bg-blue-600 hover:bg-blue-700 mr-1.5 text-gray-950 py-1 px-2 rounded-md text-m",children:"Add List"}),C.jsx("button",{onClick:cn,className:" justify-self-end  text-slate-300  py-1 px-1  rounded-md  text-md hover:bg-gray-800",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]})})]})]})]})}var qc={},oP,aP;Object.defineProperty(qc,"__esModule",{value:!0});var Ya=C,pr=M,tr=function(){return tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tr.apply(this,arguments)};function KB(t,e){var n,r;switch(e.type){case"TYPE":return tr(tr({},t),{speed:e.speed,text:(n=e.payload)===null||n===void 0?void 0:n.substring(0,t.text.length+1)});case"DELAY":return tr(tr({},t),{speed:e.payload});case"DELETE":return tr(tr({},t),{speed:e.speed,text:(r=e.payload)===null||r===void 0?void 0:r.substring(0,t.text.length-1)});case"COUNT":return tr(tr({},t),{count:t.count+1});default:return t}}var Xw=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,u=t.delaySpeed,c=u===void 0?1500:u,f=t.onLoopDone,p=t.onType,h=t.onDelete,g=t.onDelay,m=pr.useReducer(KB,{speed:o,text:"",count:0}),v=m[0],x=v.speed,b=v.text,E=v.count,R=m[1],w=pr.useRef(0),I=pr.useRef(!1),T=pr.useRef(!1),y=pr.useRef(!1),S=pr.useRef(!1),k=pr.useCallback(function(){var A=E%n.length,D=n[A];T.current?(R({type:"DELETE",payload:D,speed:l}),b===""&&(T.current=!1,R({type:"COUNT"}))):(R({type:"TYPE",payload:D,speed:o}),y.current=!0,b===D&&(R({type:"DELAY",payload:c}),y.current=!1,S.current=!0,setTimeout(function(){S.current=!1,T.current=!0},c),i>0&&(w.current+=1,w.current/n.length===i&&(S.current=!1,I.current=!0)))),y.current&&p&&p(w.current),T.current&&h&&h(),S.current&&g&&g()},[E,c,l,i,o,n,b,p,h,g]);return pr.useEffect(function(){var A=setTimeout(k,x);return I.current&&clearTimeout(A),function(){return clearTimeout(A)}},[k,x]),pr.useEffect(function(){f&&I.current&&f()},[f]),[b,{isType:y.current,isDelay:S.current,isDelete:T.current,isDone:I.current}]},GB="styles-module_blinkingCursor__yugAC",qB="styles-module_blinking__9VXRT";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var Yw=pr.memo(function(t){var e=t.cursorBlinking,n=e===void 0||e,r=t.cursorStyle,i=r===void 0?"|":r,s=t.cursorColor,o=s===void 0?"inherit":s;return Ya.jsx("span",tr({style:{color:o},className:"".concat(GB," ").concat(n?qB:"")},{children:i}))});aP=qc.Cursor=Yw,qc.Typewriter=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,u=t.delaySpeed,c=u===void 0?1500:u,f=t.cursor,p=f!==void 0&&f,h=t.cursorStyle,g=h===void 0?"|":h,m=t.cursorColor,v=m===void 0?"inherit":m,x=t.cursorBlinking,b=x===void 0||x,E=t.onLoopDone,R=t.onType,w=t.onDelay,I=t.onDelete,T=Xw({words:n,loop:i,typeSpeed:o,deleteSpeed:l,delaySpeed:c,onLoopDone:E,onType:R,onDelay:w,onDelete:I})[0];return Ya.jsxs(Ya.Fragment,{children:[Ya.jsx("span",{children:T}),p&&Ya.jsx(Yw,{cursorStyle:g,cursorColor:v,cursorBlinking:b})]})},oP=qc.useTypewriter=Xw;function Bv(){const t=["./BoardBackground/1.jpg","./BoardBackground/2.jpg","./BoardBackground/3.jpg","./BoardBackground/4.jpg","./BoardBackground/5.jpg","./BoardBackground/6.jpg","./BoardBackground/7.jpg","./BoardBackground/8.jpg","./BoardBackground/9.jpg","./BoardBackground/10.jpg","./BoardBackground/11.jpg","./BoardBackground/12.jpg","./BoardBackground/13.jpg","./BoardBackground/14.jpg","./BoardBackground/15.jpg","./BoardBackground/16.jpg","./BoardBackground/17.jpg","./BoardBackground/18.png","./BoardBackground/19.jpg"],e=Fs(),[n,r]=M.useState(!1),[i,s]=M.useState(""),[o,a]=M.useState(""),[l,u]=M.useState(""),c=M.useRef(null),[f,p]=M.useState("Board Visibility"),h=()=>{r(!n)},g=w=>{c.current&&!c.current.contains(w.target)&&r(!1)};M.useEffect(()=>(document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}),[]);const m=n?{borderColor:"lightblue"}:{},v=w=>{b==="Make sure you fill the board title"&&E(""),u(w.target.value)},x=i===""?{backgroundImage:`url('${o}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},[b,E]=M.useState(""),R=async()=>{if(l==="")E("Make sure you fill the board title");else if(i===""&&o==="")E("Make sure you choose a background or images");else if(f==="Board Visibility")E("Make sure you choose a visibility option");else{const w=je.currentUser;if(w)try{const I=fe(ae,`users/${w.uid}`),T=await pu(I);let y="",S={};if(T.exists()){const B=T.data();y=B.name,S=B.avatar}const k=new Date().getTime().toString(),A=fe(ae,`users/${w.uid}/Boards`,k),N={id:k,title:l,background:i,backgroundImage:o,boardVisibility:f==="Shareable Board"?"shareable":"private",sharedWith:[{id:w.uid,email:w.email,name:y,avatar:S}]};await ir(A,N),e(`/Board/${k}`,{state:N})}catch(I){console.log(I)}else alert("Please Sign In First")}};return C.jsxs("div",{className:"flex  items-center z-10 sm:mt-10  w-screen h-screen px-7  flex-col justify-start ",children:[C.jsx("img",{draggable:!1,style:x,src:"https://trello.com/assets/14cda5dc635d1f13bc48.svg",className:`w-[50%] p-1 px-2 max-w-[210px] mb-5 mt-[-27%]  select-none sm:mt-[-50px] ${i}`}),C.jsxs("div",{className:"flex w-[80%] max-w-[470px] justify-center gap-4 md:gap-10 items-center ",children:[C.jsxs("div",{className:"main",children:[C.jsx("input",{onChange:w=>{v(w)},required:!0,type:"text",className:"input"}),C.jsxs("label",{children:[C.jsx("span",{style:{transitionDelay:"0ms",left:"10px"},children:"B"}),C.jsx("span",{style:{transitionDelay:"75ms",left:"27px"},children:"o"}),C.jsx("span",{style:{transitionDelay:"150ms",left:"42px"},children:"a"}),C.jsx("span",{style:{transitionDelay:"225ms",left:"57px"},children:"r"}),C.jsx("span",{style:{transitionDelay:"300ms",left:"66px"},children:"d"}),C.jsx("span",{style:{transitionDelay:"375ms",left:"88px"},children:"T"}),C.jsx("span",{style:{transitionDelay:"450ms",left:"104px"},children:"i"}),C.jsx("span",{style:{transitionDelay:"525ms",left:"111px"},children:"t"}),C.jsx("span",{style:{transitionDelay:"600ms",left:"120px"},children:"l"}),C.jsx("span",{style:{transitionDelay:"675ms",left:"127px"},children:"e"}),C.jsx("p",{className:" absolute left-[18px]  top-[4px] text-2xl m-2 text-gray-300 transition duration-500 cursor-pointer pointer-events-none",children:"Board Title"})]})]}),C.jsx("div",{children:C.jsxs("div",{className:"relative inline-block text-left text-slate-300",ref:c,children:[C.jsx("button",{onClick:h,className:"button2  ${boardVisibility==='Board Visibility",style:m,children:f}),n&&C.jsx("div",{className:"origin-top-right absolute right-[-10%] sm:right-[-15%]  mt-2 z-[1000] w-72 rounded-2xl shadow-lg bg-zinc-800  ring-1 ring-black ring-opacity-5 focus:outline-none",children:C.jsxs("div",{className:"py-1",children:[C.jsxs("button",{style:{borderColor:f==="Private Board"?"lightblue":""},onClick:()=>{p("Private Board")},className:"block w-full border-2 border-zinc-800 text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[C.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),C.jsxs("button",{style:{borderColor:f==="Shareable Board"?"lightblue":""},onClick:()=>{p("Shareable Board")},className:"block border-2 border-zinc-800 w-full text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[C.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})})]})})]}),C.jsxs("div",{className:" self-center ",children:[C.jsx("h1",{className:"text-xl mt-4 mb-1 opacity-90 text-gray-300  text-center",children:"Background"}),C.jsx("div",{className:"color max-h-[20vh] sm:max-h-[17vh] mb-4 rounded-md px-3 overflow-y-auto  bg-neutral-800",children:C.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:[C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-blue-500"),b==="Make sure you choose a background and images"&&E("")},className:"cursor-pointer bg-gradient-to-r from-teal-400 to-blue-500 py-6 sm:py-7  rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r cursor-pointer from-blue-800 to-blue-400 py-6 sm:py-7rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-500 to-pink-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-purple-500 to-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-400 to-blue-300"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-purple-400 to-blue-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-orange-400 to-yellow-300"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-orange-400 to-yellow-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-pink-400 to-pink-200"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-pink-400 to-pink-200 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-green-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-teal-400 to-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-blue-800 to-blue-400 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-red-800 to-brown-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-red-800 to-brown-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-blue-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-blue-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-orange-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-orange-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-green-50"),b==="Make sure you choose a background and images"&&E("")},className:"bg-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-red-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-red-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-purple-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-purple-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-pink-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm",children:"   "}),C.jsx("div",{onClick:()=>{s("bg-green-300"),b==="Make sure you choose a background and images"&&E("")},className:"bg-green-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-cyan-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-cyan-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),C.jsx("div",{onClick:()=>{s("bg-gray-500"),b==="Make sure you choose a background and images"&&E("")},className:"bg-gray-500 py-6 sm:py-7 cursor-pointer rounded-sm"})]})}),C.jsx("div",{className:"color max-h-[20vh]  sm:max-h-[17vh]  rounded-md sm:px-3 px-2 overflow-y-scroll  bg-neutral-800",children:C.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:t.map(w=>{const{ref:I,inView:T}=WB({threshold:.1});return C.jsx("div",{ref:I,style:{backgroundImage:T?`url('${w}')`:"none",backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"},onClick:()=>{s(""),a(w),b==="Make sure you choose a background and images"&&E("")},className:"border-gray-100 cursor-pointer text-opacity-0 bg-black p-4 py-3 sm:py-4 px-5 sm:px-6 select-none rounded-sm",children:"Board"},w)})})}),C.jsx("div",{className:"flex items-center   justify-center",children:C.jsx("button",{onClick:R,type:"submit",className:"bg-blue-600 hover:bg-blue-500 text-gray-100  mb-1 py-1.5 px-20 mt-[6%] sm:mt-8 rounded-lg  text-md",children:"Create"})}),C.jsx("div",{className:"text-red-600 text-sm text-center",children:b})]})]})}function lP(t){const e=Fs(),[n,r]=M.useState(!1),i=M.useRef();M.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(r(!0),a.disconnect())},{threshold:.1});return i.current&&a.observe(i.current),()=>{i.current&&a.unobserve(i.current)}},[i]);const s=n&&t.backgroundImage?{backgroundImage:`url('${t.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},o=()=>{e(`/Board/${t.id}`,{state:t})};return C.jsx("div",{ref:i,style:s,onClick:o,className:`p-5 h-[70px]  w-[130px] hover:opacity-85 cursor-pointer rounded-sm ${t.background}`,children:C.jsx("h2",{className:"text-zinc-300 font-bold text-lg truncate  whitespace-nowrap overflow-hidden",children:t.title})})}function QB(){const[t,e]=M.useState([]);M.useEffect(()=>{const i=Ki(je,s=>{s?(async()=>{const a=$s(ae,`users/${s.uid}/Boards`),u=(await Ws(a)).docs.map(c=>({id:c.id,data:c.data()})).filter(c=>c.data.boardVisibility==="private");e(u)})().catch(a=>console.error("Error fetching lists:",a)):e([])});return()=>i()},[]);const[n,r]=M.useState(!1);return C.jsxs("div",{children:[n&&C.jsx("button",{onClick:()=>{r(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:"✕"}),!n&&C.jsxs("div",{children:[C.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Your Boards"}),C.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 overflow-y-auto max-h-[65vh] shadow-sm",children:[t.map(i=>C.jsx(lP,{id:i.id,title:i.data.title,background:i.data.background,backgroundImage:i.data.backgroundImage,boardVisibility:i.data.boardVisibility},i.id)),C.jsx("div",{onClick:()=>{r(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:C.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),n&&C.jsx(Bv,{})]})}function XB(){const[t,e]=M.useState(!1),[n,r]=M.useState([]);M.useEffect(()=>{const o=Ki(je,a=>{a?(async()=>{e(!0);const u=$s(ae,`users/${a.uid}/Boards`),f=(await Ws(u)).docs.map(p=>({id:p.id,data:p.data()})).filter(p=>p.data.boardVisibility==="shareable");r(f)})().catch(u=>console.error("Error fetching lists:",u)):r([])});return()=>o()},[]);const[i,s]=M.useState(!1);return C.jsxs("div",{children:[i&&C.jsx("button",{onClick:()=>{s(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:"✕"}),!i&&C.jsxs("div",{children:[C.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Shared Boards"}),C.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 max-h-[62vh] shadow-sm",children:[n.map(o=>C.jsx(lP,{id:o.id,title:o.data.title,background:o.data.background,backgroundImage:o.data.backgroundImage,boardVisibility:o.data.boardVisibility},o.id)),C.jsx("div",{onClick:()=>{s(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:C.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),i&&C.jsx(Bv,{})]})}var uP={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(t,e){(function(r,i){t.exports=i()})(ff,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)i.d(a,l,(function(u){return s[u]}).bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=20)}([function(n,r){var i={};n.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(o,a){var l,u;typeof a=="boolean"?(l=2,u=a):(l=1,u=!0);for(var c=l;c<arguments.length;c++){var f=arguments[c];if(f)for(var p in f)u&&f[p]&&f[p].constructor===Object&&(!o[p]||o[p].constructor===Object)?(o[p]=o[p]||{},i.extend(o[p],u,f[p])):o[p]=f[p]}return o},i.clone=function(o,a){return i.extend({},a,o)},i.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var l in o)a.push(l);return a},i.values=function(o){var a=[];if(Object.keys){for(var l=Object.keys(o),u=0;u<l.length;u++)a.push(o[l[u]]);return a}for(var c in o)a.push(o[c]);return a},i.get=function(o,a,l,u){a=a.split(".").slice(l,u);for(var c=0;c<a.length;c+=1)o=o[a[c]];return o},i.set=function(o,a,l,u,c){var f=a.split(".").slice(u,c);return i.get(o,a,0,-1)[f[f.length-1]]=l,l},i.shuffle=function(o){for(var a=o.length-1;a>0;a--){var l=Math.floor(i.random()*(a+1)),u=o[a];o[a]=o[l],o[l]=u}return o},i.choose=function(o){return o[Math.floor(i.random()*o.length)]},i.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},i.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},i.isFunction=function(o){return typeof o=="function"},i.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},i.isString=function(o){return toString.call(o)==="[object String]"},i.clamp=function(o,a,l){return o<a?a:o>l?l:o},i.sign=function(o){return o<0?-1:1},i.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+s()*(a-o)};var s=function(){return i._seed=(i._seed*9301+49297)%233280,i._seed/233280};i.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[o]||(i.warn(o),i._warnedOnce[o]=!0)},i.deprecated=function(o,a,l){o[a]=i.chain(function(){i.warnOnce("🔅 deprecated 🔅",l)},o[a])},i.nextId=function(){return i._nextId++},i.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var l=0;l<o.length;l++)if(o[l]===a)return l;return-1},i.map=function(o,a){if(o.map)return o.map(a);for(var l=[],u=0;u<o.length;u+=1)l.push(a(o[u]));return l},i.topologicalSort=function(o){var a=[],l=[],u=[];for(var c in o)!l[c]&&!u[c]&&i._topologicalSort(c,l,u,o,a);return a},i._topologicalSort=function(o,a,l,u,c){var f=u[o]||[];l[o]=!0;for(var p=0;p<f.length;p+=1){var h=f[p];l[h]||a[h]||i._topologicalSort(h,a,l,u,c)}l[o]=!1,a[o]=!0,c.push(o)},i.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var l=arguments[a];l._chained?o.push.apply(o,l._chained):o.push(l)}var u=function(){for(var c,f=new Array(arguments.length),p=0,h=arguments.length;p<h;p++)f[p]=arguments[p];for(p=0;p<o.length;p+=1){var g=o[p].apply(c,f);typeof g<"u"&&(c=g)}return c};return u._chained=o,u},i.chainPathBefore=function(o,a,l){return i.set(o,a,i.chain(l,i.get(o,a)))},i.chainPathAfter=function(o,a,l){return i.set(o,a,i.chain(i.get(o,a),l))},i.setDecomp=function(o){i._decomp=o},i.getDecomp=function(){var o=i._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof ff<"u"&&(o=ff.decomp)}catch{o=null}return o}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&i.update(o,s),o},i.update=function(s,o,a){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var l=0;l<o.length;l++){var u=o[l];u.x>s.max.x&&(s.max.x=u.x),u.x<s.min.x&&(s.min.x=u.x),u.y>s.max.y&&(s.max.y=u.y),u.y<s.min.y&&(s.min.y=u.y)}a&&(a.x>0?s.max.x+=a.x:s.min.x+=a.x,a.y>0?s.max.y+=a.y:s.min.y+=a.y)},i.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},i.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},i.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},i.shift=function(s,o){var a=s.max.x-s.min.x,l=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+a,s.min.y=o.y,s.max.y=o.y+l}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s,o){return{x:s||0,y:o||0}},i.clone=function(s){return{x:s.x,y:s.y}},i.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},i.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},i.rotate=function(s,o,a){var l=Math.cos(o),u=Math.sin(o);a||(a={});var c=s.x*l-s.y*u;return a.y=s.x*u+s.y*l,a.x=c,a},i.rotateAbout=function(s,o,a,l){var u=Math.cos(o),c=Math.sin(o);l||(l={});var f=a.x+((s.x-a.x)*u-(s.y-a.y)*c);return l.y=a.y+((s.x-a.x)*c+(s.y-a.y)*u),l.x=f,l},i.normalise=function(s){var o=i.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},i.dot=function(s,o){return s.x*o.x+s.y*o.y},i.cross=function(s,o){return s.x*o.y-s.y*o.x},i.cross3=function(s,o,a){return(o.x-s.x)*(a.y-s.y)-(o.y-s.y)*(a.x-s.x)},i.add=function(s,o,a){return a||(a={}),a.x=s.x+o.x,a.y=s.y+o.y,a},i.sub=function(s,o,a){return a||(a={}),a.x=s.x-o.x,a.y=s.y-o.y,a},i.mult=function(s,o){return{x:s.x*o,y:s.y*o}},i.div=function(s,o){return{x:s.x/o,y:s.y/o}},i.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},i.neg=function(s){return{x:-s.x,y:-s.y}},i.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.create=function(l,u){for(var c=[],f=0;f<l.length;f++){var p=l[f],h={x:p.x,y:p.y,index:f,body:u,isInternal:!1};c.push(h)}return c},s.fromPath=function(l,u){var c=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(c,function(p,h,g){f.push({x:parseFloat(h),y:parseFloat(g)})}),s.create(f,u)},s.centre=function(l){for(var u=s.area(l,!0),c={x:0,y:0},f,p,h,g=0;g<l.length;g++)h=(g+1)%l.length,f=o.cross(l[g],l[h]),p=o.mult(o.add(l[g],l[h]),f),c=o.add(c,p);return o.div(c,6*u)},s.mean=function(l){for(var u={x:0,y:0},c=0;c<l.length;c++)u.x+=l[c].x,u.y+=l[c].y;return o.div(u,l.length)},s.area=function(l,u){for(var c=0,f=l.length-1,p=0;p<l.length;p++)c+=(l[f].x-l[p].x)*(l[f].y+l[p].y),f=p;return u?c/2:Math.abs(c)/2},s.inertia=function(l,u){for(var c=0,f=0,p=l,h,g,m=0;m<p.length;m++)g=(m+1)%p.length,h=Math.abs(o.cross(p[g],p[m])),c+=h*(o.dot(p[g],p[g])+o.dot(p[g],p[m])+o.dot(p[m],p[m])),f+=h;return u/6*(c/f)},s.translate=function(l,u,c){c=typeof c<"u"?c:1;var f=l.length,p=u.x*c,h=u.y*c,g;for(g=0;g<f;g++)l[g].x+=p,l[g].y+=h;return l},s.rotate=function(l,u,c){if(u!==0){var f=Math.cos(u),p=Math.sin(u),h=c.x,g=c.y,m=l.length,v,x,b,E;for(E=0;E<m;E++)v=l[E],x=v.x-h,b=v.y-g,v.x=h+(x*f-b*p),v.y=g+(x*p+b*f);return l}},s.contains=function(l,u){for(var c=u.x,f=u.y,p=l.length,h=l[p-1],g,m=0;m<p;m++){if(g=l[m],(c-h.x)*(g.y-h.y)+(f-h.y)*(h.x-g.x)>0)return!1;h=g}return!0},s.scale=function(l,u,c,f){if(u===1&&c===1)return l;f=f||s.centre(l);for(var p,h,g=0;g<l.length;g++)p=l[g],h=o.sub(p,f),l[g].x=f.x+h.x*u,l[g].y=f.y+h.y*c;return l},s.chamfer=function(l,u,c,f,p){typeof u=="number"?u=[u]:u=u||[8],c=typeof c<"u"?c:-1,f=f||2,p=p||14;for(var h=[],g=0;g<l.length;g++){var m=l[g-1>=0?g-1:l.length-1],v=l[g],x=l[(g+1)%l.length],b=u[g<u.length?g:u.length-1];if(b===0){h.push(v);continue}var E=o.normalise({x:v.y-m.y,y:m.x-v.x}),R=o.normalise({x:x.y-v.y,y:v.x-x.x}),w=Math.sqrt(2*Math.pow(b,2)),I=o.mult(a.clone(E),b),T=o.normalise(o.mult(o.add(E,R),.5)),y=o.sub(v,o.mult(T,w)),S=c;c===-1&&(S=Math.pow(b,.32)*1.75),S=a.clamp(S,f,p),S%2===1&&(S+=1);for(var k=Math.acos(o.dot(E,R)),A=k/S,D=0;D<S;D++)h.push(o.add(o.rotate(I,A*D),y))}return h},s.clockwiseSort=function(l){var u=s.mean(l);return l.sort(function(c,f){return o.angle(u,c)-o.angle(u,f)}),l},s.isConvex=function(l){var u=0,c=l.length,f,p,h,g;if(c<3)return null;for(f=0;f<c;f++)if(p=(f+1)%c,h=(f+2)%c,g=(l[p].x-l[f].x)*(l[h].y-l[p].y),g-=(l[p].y-l[f].y)*(l[h].x-l[p].x),g<0?u|=1:g>0&&(u|=2),u===3)return!1;return u!==0?!0:null},s.hull=function(l){var u=[],c=[],f,p;for(l=l.slice(0),l.sort(function(h,g){var m=h.x-g.x;return m!==0?m:h.y-g.y}),p=0;p<l.length;p+=1){for(f=l[p];c.length>=2&&o.cross3(c[c.length-2],c[c.length-1],f)<=0;)c.pop();c.push(f)}for(p=l.length-1;p>=0;p-=1){for(f=l[p];u.length>=2&&o.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),c.pop(),u.concat(c)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),u=i(0),c=i(1),f=i(11);(function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(h){var g={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},m=u.extend(g,h);return p(m,h),m},s.nextGroup=function(h){return h?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var p=function(h,g){g=g||{},s.set(h,{bounds:h.bounds||c.create(h.vertices),positionPrev:h.positionPrev||a.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),o.rotate(h.vertices,h.angle,h.position),f.rotate(h.axes,h.angle),c.update(h.bounds,h.vertices,h.velocity),s.set(h,{axes:g.axes||h.axes,area:g.area||h.area,mass:g.mass||h.mass,inertia:g.inertia||h.inertia});var m=h.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=h.isStatic?"#555":"#ccc",x=h.isStatic&&h.render.fillStyle===null?1:0;h.render.fillStyle=h.render.fillStyle||m,h.render.strokeStyle=h.render.strokeStyle||v,h.render.lineWidth=h.render.lineWidth||x,h.render.sprite.xOffset+=-(h.bounds.min.x-h.position.x)/(h.bounds.max.x-h.bounds.min.x),h.render.sprite.yOffset+=-(h.bounds.min.y-h.position.y)/(h.bounds.max.y-h.bounds.min.y)};s.set=function(h,g,m){var v;typeof g=="string"&&(v=g,g={},g[v]=m);for(v in g)if(Object.prototype.hasOwnProperty.call(g,v))switch(m=g[v],v){case"isStatic":s.setStatic(h,m);break;case"isSleeping":l.set(h,m);break;case"mass":s.setMass(h,m);break;case"density":s.setDensity(h,m);break;case"inertia":s.setInertia(h,m);break;case"vertices":s.setVertices(h,m);break;case"position":s.setPosition(h,m);break;case"angle":s.setAngle(h,m);break;case"velocity":s.setVelocity(h,m);break;case"angularVelocity":s.setAngularVelocity(h,m);break;case"speed":s.setSpeed(h,m);break;case"angularSpeed":s.setAngularSpeed(h,m);break;case"parts":s.setParts(h,m);break;case"centre":s.setCentre(h,m);break;default:h[v]=m}},s.setStatic=function(h,g){for(var m=0;m<h.parts.length;m++){var v=h.parts[m];g?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=g}},s.setMass=function(h,g){var m=h.inertia/(h.mass/6);h.inertia=m*(g/6),h.inverseInertia=1/h.inertia,h.mass=g,h.inverseMass=1/h.mass,h.density=h.mass/h.area},s.setDensity=function(h,g){s.setMass(h,g*h.area),h.density=g},s.setInertia=function(h,g){h.inertia=g,h.inverseInertia=1/h.inertia},s.setVertices=function(h,g){g[0].body===h?h.vertices=g:h.vertices=o.create(g,h),h.axes=f.fromVertices(h.vertices),h.area=o.area(h.vertices),s.setMass(h,h.density*h.area);var m=o.centre(h.vertices);o.translate(h.vertices,m,-1),s.setInertia(h,s._inertiaScale*o.inertia(h.vertices,h.mass)),o.translate(h.vertices,h.position),c.update(h.bounds,h.vertices,h.velocity)},s.setParts=function(h,g,m){var v;for(g=g.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,v=0;v<g.length;v++){var x=g[v];x!==h&&(x.parent=h,h.parts.push(x))}if(h.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var b=[];for(v=0;v<g.length;v++)b=b.concat(g[v].vertices);o.clockwiseSort(b);var E=o.hull(b),R=o.centre(E);s.setVertices(h,E),o.translate(h.vertices,R)}var w=s._totalProperties(h);h.area=w.area,h.parent=h,h.position.x=w.centre.x,h.position.y=w.centre.y,h.positionPrev.x=w.centre.x,h.positionPrev.y=w.centre.y,s.setMass(h,w.mass),s.setInertia(h,w.inertia),s.setPosition(h,w.centre)}},s.setCentre=function(h,g,m){m?(h.positionPrev.x+=g.x,h.positionPrev.y+=g.y,h.position.x+=g.x,h.position.y+=g.y):(h.positionPrev.x=g.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=g.y-(h.position.y-h.positionPrev.y),h.position.x=g.x,h.position.y=g.y)},s.setPosition=function(h,g,m){var v=a.sub(g,h.position);m?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=v.x,h.velocity.y=v.y,h.speed=a.magnitude(v)):(h.positionPrev.x+=v.x,h.positionPrev.y+=v.y);for(var x=0;x<h.parts.length;x++){var b=h.parts[x];b.position.x+=v.x,b.position.y+=v.y,o.translate(b.vertices,v),c.update(b.bounds,b.vertices,h.velocity)}},s.setAngle=function(h,g,m){var v=g-h.angle;m?(h.anglePrev=h.angle,h.angularVelocity=v,h.angularSpeed=Math.abs(v)):h.anglePrev+=v;for(var x=0;x<h.parts.length;x++){var b=h.parts[x];b.angle+=v,o.rotate(b.vertices,v,h.position),f.rotate(b.axes,v),c.update(b.bounds,b.vertices,h.velocity),x>0&&a.rotateAbout(b.position,v,h.position,b.position)}},s.setVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.positionPrev.x=h.position.x-g.x*m,h.positionPrev.y=h.position.y-g.y*m,h.velocity.x=(h.position.x-h.positionPrev.x)/m,h.velocity.y=(h.position.y-h.positionPrev.y)/m,h.speed=a.magnitude(h.velocity)},s.getVelocity=function(h){var g=s._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*g,y:(h.position.y-h.positionPrev.y)*g}},s.getSpeed=function(h){return a.magnitude(s.getVelocity(h))},s.setSpeed=function(h,g){s.setVelocity(h,a.mult(a.normalise(s.getVelocity(h)),g))},s.setAngularVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.anglePrev=h.angle-g*m,h.angularVelocity=(h.angle-h.anglePrev)/m,h.angularSpeed=Math.abs(h.angularVelocity)},s.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*s._baseDelta/h.deltaTime},s.getAngularSpeed=function(h){return Math.abs(s.getAngularVelocity(h))},s.setAngularSpeed=function(h,g){s.setAngularVelocity(h,u.sign(s.getAngularVelocity(h))*g)},s.translate=function(h,g,m){s.setPosition(h,a.add(h.position,g),m)},s.rotate=function(h,g,m,v){if(!m)s.setAngle(h,h.angle+g,v);else{var x=Math.cos(g),b=Math.sin(g),E=h.position.x-m.x,R=h.position.y-m.y;s.setPosition(h,{x:m.x+(E*x-R*b),y:m.y+(E*b+R*x)},v),s.setAngle(h,h.angle+g,v)}},s.scale=function(h,g,m,v){var x=0,b=0;v=v||h.position;for(var E=0;E<h.parts.length;E++){var R=h.parts[E];o.scale(R.vertices,g,m,v),R.axes=f.fromVertices(R.vertices),R.area=o.area(R.vertices),s.setMass(R,h.density*R.area),o.translate(R.vertices,{x:-R.position.x,y:-R.position.y}),s.setInertia(R,s._inertiaScale*o.inertia(R.vertices,R.mass)),o.translate(R.vertices,{x:R.position.x,y:R.position.y}),E>0&&(x+=R.area,b+=R.inertia),R.position.x=v.x+(R.position.x-v.x)*g,R.position.y=v.y+(R.position.y-v.y)*m,c.update(R.bounds,R.vertices,h.velocity)}h.parts.length>1&&(h.area=x,h.isStatic||(s.setMass(h,h.density*x),s.setInertia(h,b))),h.circleRadius&&(g===m?h.circleRadius*=g:h.circleRadius=null)},s.update=function(h,g){g=(typeof g<"u"?g:1e3/60)*h.timeScale;var m=g*g,v=s._timeCorrection?g/(h.deltaTime||g):1,x=1-h.frictionAir*(g/u._baseDelta),b=(h.position.x-h.positionPrev.x)*v,E=(h.position.y-h.positionPrev.y)*v;h.velocity.x=b*x+h.force.x/h.mass*m,h.velocity.y=E*x+h.force.y/h.mass*m,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=g,h.angularVelocity=(h.angle-h.anglePrev)*x*v+h.torque/h.inertia*m,h.anglePrev=h.angle,h.angle+=h.angularVelocity;for(var R=0;R<h.parts.length;R++){var w=h.parts[R];o.translate(w.vertices,h.velocity),R>0&&(w.position.x+=h.velocity.x,w.position.y+=h.velocity.y),h.angularVelocity!==0&&(o.rotate(w.vertices,h.angularVelocity,h.position),f.rotate(w.axes,h.angularVelocity),R>0&&a.rotateAbout(w.position,h.angularVelocity,h.position,w.position)),c.update(w.bounds,w.vertices,h.velocity)}},s.updateVelocities=function(h){var g=s._baseDelta/h.deltaTime,m=h.velocity;m.x=(h.position.x-h.positionPrev.x)*g,m.y=(h.position.y-h.positionPrev.y)*g,h.speed=Math.sqrt(m.x*m.x+m.y*m.y),h.angularVelocity=(h.angle-h.anglePrev)*g,h.angularSpeed=Math.abs(h.angularVelocity)},s.applyForce=function(h,g,m){var v={x:g.x-h.position.x,y:g.y-h.position.y};h.force.x+=m.x,h.force.y+=m.y,h.torque+=v.x*m.y-v.y*m.x},s._totalProperties=function(h){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=h.parts.length===1?0:1;m<h.parts.length;m++){var v=h.parts[m],x=v.mass!==1/0?v.mass:1;g.mass+=x,g.area+=v.area,g.inertia+=v.inertia,g.centre=a.add(g.centre,a.mult(v.position,x))}return g.centre=a.div(g.centre,g.mass),g}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.on=function(a,l,u){for(var c=l.split(" "),f,p=0;p<c.length;p++)f=c[p],a.events=a.events||{},a.events[f]=a.events[f]||[],a.events[f].push(u);return u},s.off=function(a,l,u){if(!l){a.events={};return}typeof l=="function"&&(u=l,l=o.keys(a.events).join(" "));for(var c=l.split(" "),f=0;f<c.length;f++){var p=a.events[c[f]],h=[];if(u&&p)for(var g=0;g<p.length;g++)p[g]!==u&&h.push(p[g]);a.events[c[f]]=h}},s.trigger=function(a,l,u){var c,f,p,h,g=a.events;if(g&&o.keys(g).length>0){u||(u={}),c=l.split(" ");for(var m=0;m<c.length;m++)if(f=c[m],p=g[f],p){h=o.clone(u,!1),h.name=f,h.source=a;for(var v=0;v<p.length;v++)p[v].apply(a,[h])}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(0),l=i(1),u=i(4);(function(){s.create=function(c){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},s.setModified=function(c,f,p,h){if(c.isModified=f,f&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),p&&c.parent&&s.setModified(c.parent,f,p,h),h)for(var g=0;g<c.composites.length;g++){var m=c.composites[g];s.setModified(m,f,p,h)}},s.add=function(c,f){var p=[].concat(f);o.trigger(c,"beforeAdd",{object:f});for(var h=0;h<p.length;h++){var g=p[h];switch(g.type){case"body":if(g.parent!==g){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(c,g);break;case"constraint":s.addConstraint(c,g);break;case"composite":s.addComposite(c,g);break;case"mouseConstraint":s.addConstraint(c,g.constraint);break}}return o.trigger(c,"afterAdd",{object:f}),c},s.remove=function(c,f,p){var h=[].concat(f);o.trigger(c,"beforeRemove",{object:f});for(var g=0;g<h.length;g++){var m=h[g];switch(m.type){case"body":s.removeBody(c,m,p);break;case"constraint":s.removeConstraint(c,m,p);break;case"composite":s.removeComposite(c,m,p);break;case"mouseConstraint":s.removeConstraint(c,m.constraint);break}}return o.trigger(c,"afterRemove",{object:f}),c},s.addComposite=function(c,f){return c.composites.push(f),f.parent=c,s.setModified(c,!0,!0,!1),c},s.removeComposite=function(c,f,p){var h=a.indexOf(c.composites,f);if(h!==-1){var g=s.allBodies(f);s.removeCompositeAt(c,h);for(var m=0;m<g.length;m++)g[m].sleepCounter=0}if(p)for(var m=0;m<c.composites.length;m++)s.removeComposite(c.composites[m],f,!0);return c},s.removeCompositeAt=function(c,f){return c.composites.splice(f,1),s.setModified(c,!0,!0,!1),c},s.addBody=function(c,f){return c.bodies.push(f),s.setModified(c,!0,!0,!1),c},s.removeBody=function(c,f,p){var h=a.indexOf(c.bodies,f);if(h!==-1&&(s.removeBodyAt(c,h),f.sleepCounter=0),p)for(var g=0;g<c.composites.length;g++)s.removeBody(c.composites[g],f,!0);return c},s.removeBodyAt=function(c,f){return c.bodies.splice(f,1),s.setModified(c,!0,!0,!1),c},s.addConstraint=function(c,f){return c.constraints.push(f),s.setModified(c,!0,!0,!1),c},s.removeConstraint=function(c,f,p){var h=a.indexOf(c.constraints,f);if(h!==-1&&s.removeConstraintAt(c,h),p)for(var g=0;g<c.composites.length;g++)s.removeConstraint(c.composites[g],f,!0);return c},s.removeConstraintAt=function(c,f){return c.constraints.splice(f,1),s.setModified(c,!0,!0,!1),c},s.clear=function(c,f,p){if(p)for(var h=0;h<c.composites.length;h++)s.clear(c.composites[h],f,!0);return f?c.bodies=c.bodies.filter(function(g){return g.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,s.setModified(c,!0,!0,!1),c},s.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var f=[].concat(c.bodies),p=0;p<c.composites.length;p++)f=f.concat(s.allBodies(c.composites[p]));return c.cache&&(c.cache.allBodies=f),f},s.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var f=[].concat(c.constraints),p=0;p<c.composites.length;p++)f=f.concat(s.allConstraints(c.composites[p]));return c.cache&&(c.cache.allConstraints=f),f},s.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var f=[].concat(c.composites),p=0;p<c.composites.length;p++)f=f.concat(s.allComposites(c.composites[p]));return c.cache&&(c.cache.allComposites=f),f},s.get=function(c,f,p){var h,g;switch(p){case"body":h=s.allBodies(c);break;case"constraint":h=s.allConstraints(c);break;case"composite":h=s.allComposites(c).concat(c);break}return h?(g=h.filter(function(m){return m.id.toString()===f.toString()}),g.length===0?null:g[0]):null},s.move=function(c,f,p){return s.remove(c,f),s.add(p,f),c},s.rebase=function(c){for(var f=s.allBodies(c).concat(s.allConstraints(c)).concat(s.allComposites(c)),p=0;p<f.length;p++)f[p].id=a.nextId();return c},s.translate=function(c,f,p){for(var h=p?s.allBodies(c):c.bodies,g=0;g<h.length;g++)u.translate(h[g],f);return c},s.rotate=function(c,f,p,h){for(var g=Math.cos(f),m=Math.sin(f),v=h?s.allBodies(c):c.bodies,x=0;x<v.length;x++){var b=v[x],E=b.position.x-p.x,R=b.position.y-p.y;u.setPosition(b,{x:p.x+(E*g-R*m),y:p.y+(E*m+R*g)}),u.rotate(b,f)}return c},s.scale=function(c,f,p,h,g){for(var m=g?s.allBodies(c):c.bodies,v=0;v<m.length;v++){var x=m[v],b=x.position.x-h.x,E=x.position.y-h.y;u.setPosition(x,{x:h.x+b*f,y:h.y+E*p}),u.scale(x,f,p)}return c},s.bounds=function(c){for(var f=s.allBodies(c),p=[],h=0;h<f.length;h+=1){var g=f[h];p.push(g.bounds.min,g.bounds.max)}return l.create(p)}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(5),l=i(0);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(u,c){for(var f=c/l._baseDelta,p=s._motionSleepThreshold,h=0;h<u.length;h++){var g=u[h],m=o.getSpeed(g),v=o.getAngularSpeed(g),x=m*m+v*v;if(g.force.x!==0||g.force.y!==0){s.set(g,!1);continue}var b=Math.min(g.motion,x),E=Math.max(g.motion,x);g.motion=s._minBias*b+(1-s._minBias)*E,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/f&&s.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},s.afterCollisions=function(u){for(var c=s._motionSleepThreshold,f=0;f<u.length;f++){var p=u[f];if(p.isActive){var h=p.collision,g=h.bodyA.parent,m=h.bodyB.parent;if(!(g.isSleeping&&m.isSleeping||g.isStatic||m.isStatic)&&(g.isSleeping||m.isSleeping)){var v=g.isSleeping&&!g.isStatic?g:m,x=v===g?m:g;!v.isStatic&&x.motion>c&&s.set(v,!1)}}}},s.set=function(u,c){var f=u.isSleeping;c?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||a.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&a.trigger(u,"sleepEnd"))}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(9);(function(){var l=[],u={overlap:0,axis:null},c={overlap:0,axis:null};s.create=function(f,p){return{pair:null,collided:!1,bodyA:f,bodyB:p,parentA:f.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(f,p,h){if(s._overlapAxes(u,f.vertices,p.vertices,f.axes),u.overlap<=0||(s._overlapAxes(c,p.vertices,f.vertices,p.axes),c.overlap<=0))return null;var g=h&&h.table[a.id(f,p)],m;g?m=g.collision:(m=s.create(f,p),m.collided=!0,m.bodyA=f.id<p.id?f:p,m.bodyB=f.id<p.id?p:f,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),f=m.bodyA,p=m.bodyB;var v;u.overlap<c.overlap?v=u:v=c;var x=m.normal,b=m.tangent,E=m.penetration,R=m.supports,w=v.overlap,I=v.axis,T=I.x,y=I.y,S=p.position.x-f.position.x,k=p.position.y-f.position.y;T*S+y*k>=0&&(T=-T,y=-y),x.x=T,x.y=y,b.x=-y,b.y=T,E.x=T*w,E.y=y*w,m.depth=w;var A=s._findSupports(f,p,x,1),D=0;if(o.contains(f.vertices,A[0])&&(R[D++]=A[0]),o.contains(f.vertices,A[1])&&(R[D++]=A[1]),D<2){var N=s._findSupports(p,f,x,-1);o.contains(p.vertices,N[0])&&(R[D++]=N[0]),D<2&&o.contains(p.vertices,N[1])&&(R[D++]=N[1])}return D===0&&(R[D++]=A[0]),m.supportCount=D,m},s._overlapAxes=function(f,p,h,g){var m=p.length,v=h.length,x=p[0].x,b=p[0].y,E=h[0].x,R=h[0].y,w=g.length,I=Number.MAX_VALUE,T=0,y,S,k,A,D,N;for(D=0;D<w;D++){var B=g[D],z=B.x,J=B.y,F=x*z+b*J,L=E*z+R*J,W=F,G=L;for(N=1;N<m;N+=1)A=p[N].x*z+p[N].y*J,A>W?W=A:A<F&&(F=A);for(N=1;N<v;N+=1)A=h[N].x*z+h[N].y*J,A>G?G=A:A<L&&(L=A);if(S=W-L,k=G-F,y=S<k?S:k,y<I&&(I=y,T=D,y<=0))break}f.axis=g[T],f.overlap=I},s._findSupports=function(f,p,h,g){var m=p.vertices,v=m.length,x=f.position.x,b=f.position.y,E=h.x*g,R=h.y*g,w=m[0],I=w,T=E*(x-I.x)+R*(b-I.y),y,S,k;for(k=1;k<v;k+=1)I=m[k],S=E*(x-I.x)+R*(b-I.y),S<T&&(T=S,w=I);return y=m[(v+w.index-1)%v],T=E*(x-y.x)+R*(b-y.y),I=m[(w.index+1)%v],E*(x-I.x)+R*(b-I.y)<T?(l[0]=w,l[1]=I,l):(l[0]=w,l[1]=y,l)}})()},function(n,r,i){var s={};n.exports=s;var o=i(16);(function(){s.create=function(a,l){var u=a.bodyA,c=a.bodyB,f={id:s.id(u,c),bodyA:u,bodyB:c,collision:a,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||c.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(f,a,l),f},s.update=function(a,l,u){var c=l.supports,f=l.supportCount,p=a.contacts,h=l.parentA,g=l.parentB;a.isActive=!0,a.timeUpdated=u,a.collision=l,a.separation=l.depth,a.inverseMass=h.inverseMass+g.inverseMass,a.friction=h.friction<g.friction?h.friction:g.friction,a.frictionStatic=h.frictionStatic>g.frictionStatic?h.frictionStatic:g.frictionStatic,a.restitution=h.restitution>g.restitution?h.restitution:g.restitution,a.slop=h.slop>g.slop?h.slop:g.slop,a.contactCount=f,l.pair=a;var m=c[0],v=p[0],x=c[1],b=p[1];(b.vertex===m||v.vertex===x)&&(p[1]=v,p[0]=v=b,b=p[1]),v.vertex=m,b.vertex=x},s.setActive=function(a,l,u){l?(a.isActive=!0,a.timeUpdated=u):(a.isActive=!1,a.contactCount=0)},s.id=function(a,l){return a.id<l.id?a.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+a.id.toString(36)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),u=i(1),c=i(11),f=i(0);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(p){var h=p;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var g=h.bodyA?a.add(h.bodyA.position,h.pointA):h.pointA,m=h.bodyB?a.add(h.bodyB.position,h.pointB):h.pointB,v=a.magnitude(a.sub(g,m));h.length=typeof h.length<"u"?h.length:v,h.id=h.id||f.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return h.length===0&&h.stiffness>.1?(x.type="pin",x.anchors=!1):h.stiffness<.9&&(x.type="spring"),h.render=f.extend(x,h.render),h},s.preSolveAll=function(p){for(var h=0;h<p.length;h+=1){var g=p[h],m=g.constraintImpulse;g.isStatic||m.x===0&&m.y===0&&m.angle===0||(g.position.x+=m.x,g.position.y+=m.y,g.angle+=m.angle)}},s.solveAll=function(p,h){for(var g=f.clamp(h/f._baseDelta,0,1),m=0;m<p.length;m+=1){var v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,b=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(x||b)&&s.solve(p[m],g)}for(m=0;m<p.length;m+=1)v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,b=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!x&&!b&&s.solve(p[m],g)},s.solve=function(p,h){var g=p.bodyA,m=p.bodyB,v=p.pointA,x=p.pointB;if(!(!g&&!m)){g&&!g.isStatic&&(a.rotate(v,g.angle-p.angleA,v),p.angleA=g.angle),m&&!m.isStatic&&(a.rotate(x,m.angle-p.angleB,x),p.angleB=m.angle);var b=v,E=x;if(g&&(b=a.add(g.position,v)),m&&(E=a.add(m.position,x)),!(!b||!E)){var R=a.sub(b,E),w=a.magnitude(R);w<s._minLength&&(w=s._minLength);var I=(w-p.length)/w,T=p.stiffness>=1||p.length===0,y=T?p.stiffness*h:p.stiffness*h*h,S=p.damping*h,k=a.mult(R,I*y),A=(g?g.inverseMass:0)+(m?m.inverseMass:0),D=(g?g.inverseInertia:0)+(m?m.inverseInertia:0),N=A+D,B,z,J,F,L;if(S>0){var W=a.create();J=a.div(R,w),L=a.sub(m&&a.sub(m.position,m.positionPrev)||W,g&&a.sub(g.position,g.positionPrev)||W),F=a.dot(J,L)}g&&!g.isStatic&&(z=g.inverseMass/A,g.constraintImpulse.x-=k.x*z,g.constraintImpulse.y-=k.y*z,g.position.x-=k.x*z,g.position.y-=k.y*z,S>0&&(g.positionPrev.x-=S*J.x*F*z,g.positionPrev.y-=S*J.y*F*z),B=a.cross(v,k)/N*s._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=B,g.angle-=B),m&&!m.isStatic&&(z=m.inverseMass/A,m.constraintImpulse.x+=k.x*z,m.constraintImpulse.y+=k.y*z,m.position.x+=k.x*z,m.position.y+=k.y*z,S>0&&(m.positionPrev.x+=S*J.x*F*z,m.positionPrev.y+=S*J.y*F*z),B=a.cross(x,k)/N*s._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle+=B,m.angle+=B)}}},s.postSolveAll=function(p){for(var h=0;h<p.length;h++){var g=p[h],m=g.constraintImpulse;if(!(g.isStatic||m.x===0&&m.y===0&&m.angle===0)){l.set(g,!1);for(var v=0;v<g.parts.length;v++){var x=g.parts[v];o.translate(x.vertices,m),v>0&&(x.position.x+=m.x,x.position.y+=m.y),m.angle!==0&&(o.rotate(x.vertices,m.angle,g.position),c.rotate(x.axes,m.angle),v>0&&a.rotateAbout(x.position,m.angle,g.position,x.position)),u.update(x.bounds,x.vertices,g.velocity)}m.angle*=s._warming,m.x*=s._warming,m.y*=s._warming}}},s.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},s.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},s.currentLength=function(p){var h=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),g=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),m=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),v=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),x=h-m,b=g-v;return Math.sqrt(x*x+b*b)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.fromVertices=function(l){for(var u={},c=0;c<l.length;c++){var f=(c+1)%l.length,p=o.normalise({x:l[f].y-l[c].y,y:l[c].x-l[f].x}),h=p.y===0?1/0:p.x/p.y;h=h.toFixed(3).toString(),u[h]=p}return a.values(u)},s.rotate=function(l,u){if(u!==0)for(var c=Math.cos(u),f=Math.sin(u),p=0;p<l.length;p++){var h=l[p],g;g=h.x*c-h.y*f,h.y=h.x*f+h.y*c,h.x=g}}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(4),u=i(1),c=i(2);(function(){s.rectangle=function(f,p,h,g,m){m=m||{};var v={label:"Rectangle Body",position:{x:f,y:p},vertices:o.fromPath("L 0 0 L "+h+" 0 L "+h+" "+g+" L 0 "+g)};if(m.chamfer){var x=m.chamfer;v.vertices=o.chamfer(v.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return l.create(a.extend({},v,m))},s.trapezoid=function(f,p,h,g,m,v){v=v||{},m>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var x=(1-m*2)*h,b=h*m,E=b+x,R=E+b,w;m<.5?w="L 0 0 L "+b+" "+-g+" L "+E+" "+-g+" L "+R+" 0":w="L 0 0 L "+E+" "+-g+" L "+R+" 0";var I={label:"Trapezoid Body",position:{x:f,y:p},vertices:o.fromPath(w)};if(v.chamfer){var T=v.chamfer;I.vertices=o.chamfer(I.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete v.chamfer}return l.create(a.extend({},I,v))},s.circle=function(f,p,h,g,m){g=g||{};var v={label:"Circle Body",circleRadius:h};m=m||25;var x=Math.ceil(Math.max(10,Math.min(m,h)));return x%2===1&&(x+=1),s.polygon(f,p,x,h,a.extend({},v,g))},s.polygon=function(f,p,h,g,m){if(m=m||{},h<3)return s.circle(f,p,g,m);for(var v=2*Math.PI/h,x="",b=v*.5,E=0;E<h;E+=1){var R=b+E*v,w=Math.cos(R)*g,I=Math.sin(R)*g;x+="L "+w.toFixed(3)+" "+I.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:f,y:p},vertices:o.fromPath(x)};if(m.chamfer){var y=m.chamfer;T.vertices=o.chamfer(T.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete m.chamfer}return l.create(a.extend({},T,m))},s.fromVertices=function(f,p,h,g,m,v,x,b){var E=a.getDecomp(),R,w,I,T,y,S,k,A,D,N,B;for(R=!!(E&&E.quickDecomp),g=g||{},I=[],m=typeof m<"u"?m:!1,v=typeof v<"u"?v:.01,x=typeof x<"u"?x:10,b=typeof b<"u"?b:.01,a.isArray(h[0])||(h=[h]),N=0;N<h.length;N+=1)if(S=h[N],T=o.isConvex(S),y=!T,y&&!R&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!R)T?S=o.clockwiseSort(S):S=o.hull(S),I.push({position:{x:f,y:p},vertices:S});else{var z=S.map(function(se){return[se.x,se.y]});E.makeCCW(z),v!==!1&&E.removeCollinearPoints(z,v),b!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(z,b);var J=E.quickDecomp(z);for(k=0;k<J.length;k++){var F=J[k],L=F.map(function(se){return{x:se[0],y:se[1]}});x>0&&o.area(L)<x||I.push({position:o.centre(L),vertices:L})}}for(k=0;k<I.length;k++)I[k]=l.create(a.extend(I[k],g));if(m){var W=5;for(k=0;k<I.length;k++){var G=I[k];for(A=k+1;A<I.length;A++){var oe=I[A];if(u.overlaps(G.bounds,oe.bounds)){var re=G.vertices,le=oe.vertices;for(D=0;D<G.vertices.length;D++)for(B=0;B<oe.vertices.length;B++){var Ve=c.magnitudeSquared(c.sub(re[(D+1)%re.length],le[B])),De=c.magnitudeSquared(c.sub(re[D],le[(B+1)%le.length]));Ve<W&&De<W&&(re[D].isInternal=!0,le[B].isInternal=!0)}}}}}return I.length>1?(w=l.create(a.extend({parts:I.slice(0)},g)),l.setPosition(w,{x:f,y:p}),w):I[0]}})()},function(n,r,i){var s={};n.exports=s;var o=i(0),a=i(8);(function(){s.create=function(l){var u={bodies:[],collisions:[],pairs:null};return o.extend(u,l)},s.setBodies=function(l,u){l.bodies=u.slice(0)},s.clear=function(l){l.bodies=[],l.collisions=[]},s.collisions=function(l){var u=l.pairs,c=l.bodies,f=c.length,p=s.canCollide,h=a.collides,g=l.collisions,m=0,v,x;for(c.sort(s._compareBoundsX),v=0;v<f;v++){var b=c[v],E=b.bounds,R=b.bounds.max.x,w=b.bounds.max.y,I=b.bounds.min.y,T=b.isStatic||b.isSleeping,y=b.parts.length,S=y===1;for(x=v+1;x<f;x++){var k=c[x],A=k.bounds;if(A.min.x>R)break;if(!(w<A.min.y||I>A.max.y)&&!(T&&(k.isStatic||k.isSleeping))&&p(b.collisionFilter,k.collisionFilter)){var D=k.parts.length;if(S&&D===1){var N=h(b,k,u);N&&(g[m++]=N)}else for(var B=y>1?1:0,z=D>1?1:0,J=B;J<y;J++)for(var F=b.parts[J],E=F.bounds,L=z;L<D;L++){var W=k.parts[L],A=W.bounds;if(!(E.min.x>A.max.x||E.max.x<A.min.x||E.max.y<A.min.y||E.min.y>A.max.y)){var N=h(F,W,u);N&&(g[m++]=N)}}}}}return g.length!==m&&(g.length=m),g},s.canCollide=function(l,u){return l.group===u.group&&l.group!==0?l.group>0:(l.mask&u.category)!==0&&(u.mask&l.category)!==0},s._compareBoundsX=function(l,u){return l.bounds.min.x-u.bounds.min.x}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.create=function(a){var l={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=a||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f&&(l.button=0,u.preventDefault()),l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=u},l.mousedown=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f?(l.button=0,u.preventDefault()):l.button=u.button,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=u},l.mouseup=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f&&u.preventDefault(),l.button=-1,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=u},l.mousewheel=function(u){l.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),l.sourceEvents.mousewheel=u},s.setElement(l,l.element),l},s.setElement=function(a,l){a.element=l,l.addEventListener("mousemove",a.mousemove,{passive:!0}),l.addEventListener("mousedown",a.mousedown,{passive:!0}),l.addEventListener("mouseup",a.mouseup,{passive:!0}),l.addEventListener("wheel",a.mousewheel,{passive:!1}),l.addEventListener("touchmove",a.mousemove,{passive:!1}),l.addEventListener("touchstart",a.mousedown,{passive:!1}),l.addEventListener("touchend",a.mouseup,{passive:!1})},s.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},s.setOffset=function(a,l){a.offset.x=l.x,a.offset.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s.setScale=function(a,l){a.scale.x=l.x,a.scale.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s._getRelativeMousePosition=function(a,l,u){var c=l.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,p=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,h=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,g=a.changedTouches,m,v;return g?(m=g[0].pageX-c.left-p,v=g[0].pageY-c.top-h):(m=a.pageX-c.left-p,v=a.pageY-c.top-h),{x:m/(l.clientWidth/(l.width||l.clientWidth)*u),y:v/(l.clientHeight/(l.height||l.clientHeight)*u)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s._registry={},s.register=function(a){if(s.isPlugin(a)||o.warn("Plugin.register:",s.toString(a),"does not implement all required fields."),a.name in s._registry){var l=s._registry[a.name],u=s.versionParse(a.version).number,c=s.versionParse(l.version).number;u>c?(o.warn("Plugin.register:",s.toString(l),"was upgraded to",s.toString(a)),s._registry[a.name]=a):u<c?o.warn("Plugin.register:",s.toString(l),"can not be downgraded to",s.toString(a)):a!==l&&o.warn("Plugin.register:",s.toString(a),"is already registered to different plugin object")}else s._registry[a.name]=a;return a},s.resolve=function(a){return s._registry[s.dependencyParse(a).name]},s.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},s.isPlugin=function(a){return a&&a.name&&a.version&&a.install},s.isUsed=function(a,l){return a.used.indexOf(l)>-1},s.isFor=function(a,l){var u=a.for&&s.dependencyParse(a.for);return!a.for||l.name===u.name&&s.versionSatisfies(l.version,u.range)},s.use=function(a,l){if(a.uses=(a.uses||[]).concat(l||[]),a.uses.length===0){o.warn("Plugin.use:",s.toString(a),"does not specify any dependencies to install.");return}for(var u=s.dependencies(a),c=o.topologicalSort(u),f=[],p=0;p<c.length;p+=1)if(c[p]!==a.name){var h=s.resolve(c[p]);if(!h){f.push("❌ "+c[p]);continue}s.isUsed(a,h.name)||(s.isFor(h,a)||(o.warn("Plugin.use:",s.toString(h),"is for",h.for,"but installed on",s.toString(a)+"."),h._warned=!0),h.install?h.install(a):(o.warn("Plugin.use:",s.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(f.push("🔶 "+s.toString(h)),delete h._warned):f.push("✅ "+s.toString(h)),a.used.push(h.name))}f.length>0&&o.info(f.join("  "))},s.dependencies=function(a,l){var u=s.dependencyParse(a),c=u.name;if(l=l||{},!(c in l)){a=s.resolve(a)||a,l[c]=o.map(a.uses||[],function(p){s.isPlugin(p)&&s.register(p);var h=s.dependencyParse(p),g=s.resolve(p);return g&&!s.versionSatisfies(g.version,h.range)?(o.warn("Plugin.dependencies:",s.toString(g),"does not satisfy",s.toString(h),"used by",s.toString(u)+"."),g._warned=!0,a._warned=!0):g||(o.warn("Plugin.dependencies:",s.toString(p),"used by",s.toString(u),"could not be resolved."),a._warned=!0),h.name});for(var f=0;f<l[c].length;f+=1)s.dependencies(l[c][f],l);return l}},s.dependencyParse=function(a){if(o.isString(a)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},s.versionParse=function(a){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var u=l.exec(a),c=Number(u[4]),f=Number(u[5]),p=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:a,operator:u[1]||u[2]||"",major:c,minor:f,patch:p,parts:[c,f,p],prerelease:u[7],number:c*1e8+f*1e4+p}},s.versionSatisfies=function(a,l){l=l||"*";var u=s.versionParse(l),c=s.versionParse(a);if(u.isRange){if(u.operator==="*"||a==="*")return!0;if(u.operator===">")return c.number>u.number;if(u.operator===">=")return c.number>=u.number;if(u.operator==="~")return c.major===u.major&&c.minor===u.minor&&c.patch>=u.patch;if(u.operator==="^")return u.major>0?c.major===u.major&&c.number>=u.number:u.minor>0?c.minor===u.minor&&c.patch>=u.patch:c.patch===u.patch}return a===l||a==="*"}})()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},function(n,r,i){var s={};n.exports=s;var o=i(7),a=i(18),l=i(13),u=i(19),c=i(5),f=i(6),p=i(10),h=i(0),g=i(4);(function(){s._deltaMax=1e3/60,s.create=function(m){m=m||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=h.extend(v,m);return x.world=m.world||f.create({label:"World"}),x.pairs=m.pairs||u.create(),x.detector=m.detector||l.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},s.update=function(m,v){var x=h.now(),b=m.world,E=m.detector,R=m.pairs,w=m.timing,I=w.timestamp,T;v>s._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",s._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:h._baseDelta,v*=w.timeScale,w.timestamp+=v,w.lastDelta=v;var y={timestamp:w.timestamp,delta:v};c.trigger(m,"beforeUpdate",y);var S=f.allBodies(b),k=f.allConstraints(b);for(b.isModified&&(l.setBodies(E,S),f.setModified(b,!1,!1,!0)),m.enableSleeping&&o.update(S,v),s._bodiesApplyGravity(S,m.gravity),v>0&&s._bodiesUpdate(S,v),c.trigger(m,"beforeSolve",y),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);p.postSolveAll(S);var A=l.collisions(E);u.update(R,A,I),m.enableSleeping&&o.afterCollisions(R.list),R.collisionStart.length>0&&c.trigger(m,"collisionStart",{pairs:R.collisionStart,timestamp:w.timestamp,delta:v});var D=h.clamp(20/m.positionIterations,0,1);for(a.preSolvePosition(R.list),T=0;T<m.positionIterations;T++)a.solvePosition(R.list,v,D);for(a.postSolvePosition(S),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);for(p.postSolveAll(S),a.preSolveVelocity(R.list),T=0;T<m.velocityIterations;T++)a.solveVelocity(R.list,v);return s._bodiesUpdateVelocities(S),R.collisionActive.length>0&&c.trigger(m,"collisionActive",{pairs:R.collisionActive,timestamp:w.timestamp,delta:v}),R.collisionEnd.length>0&&c.trigger(m,"collisionEnd",{pairs:R.collisionEnd,timestamp:w.timestamp,delta:v}),s._bodiesClearForces(S),c.trigger(m,"afterUpdate",y),m.timing.lastElapsed=h.now()-x,m},s.merge=function(m,v){if(h.extend(m,v),v.world){m.world=v.world,s.clear(m);for(var x=f.allBodies(m.world),b=0;b<x.length;b++){var E=x[b];o.set(E,!1),E.id=h.nextId()}}},s.clear=function(m){u.clear(m.pairs),l.clear(m.detector)},s._bodiesClearForces=function(m){for(var v=m.length,x=0;x<v;x++){var b=m[x];b.force.x=0,b.force.y=0,b.torque=0}},s._bodiesApplyGravity=function(m,v){var x=typeof v.scale<"u"?v.scale:.001,b=m.length;if(!(v.x===0&&v.y===0||x===0))for(var E=0;E<b;E++){var R=m[E];R.isStatic||R.isSleeping||(R.force.y+=R.mass*v.y*x,R.force.x+=R.mass*v.x*x)}},s._bodiesUpdate=function(m,v){for(var x=m.length,b=0;b<x;b++){var E=m[b];E.isStatic||E.isSleeping||g.update(E,v)}},s._bodiesUpdateVelocities=function(m){for(var v=m.length,x=0;x<v;x++)g.updateVelocities(m[x])}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(1);(function(){s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(u){var c,f,p,h=u.length;for(c=0;c<h;c++)f=u[c],f.isActive&&(p=f.contactCount,f.collision.parentA.totalContacts+=p,f.collision.parentB.totalContacts+=p)},s.solvePosition=function(u,c,f){var p,h,g,m,v,x,b,E,R=s._positionDampen*(f||1),w=a.clamp(c/a._baseDelta,0,1),I=u.length;for(p=0;p<I;p++)h=u[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,h.separation=g.depth+x.x*(v.positionImpulse.x-m.positionImpulse.x)+x.y*(v.positionImpulse.y-m.positionImpulse.y));for(p=0;p<I;p++)h=u[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,E=h.separation-h.slop*w,(m.isStatic||v.isStatic)&&(E*=2),m.isStatic||m.isSleeping||(b=R/m.totalContacts,m.positionImpulse.x+=x.x*E*b,m.positionImpulse.y+=x.y*E*b),v.isStatic||v.isSleeping||(b=R/v.totalContacts,v.positionImpulse.x-=x.x*E*b,v.positionImpulse.y-=x.y*E*b))},s.postSolvePosition=function(u){for(var c=s._positionWarming,f=u.length,p=o.translate,h=l.update,g=0;g<f;g++){var m=u[g],v=m.positionImpulse,x=v.x,b=v.y,E=m.velocity;if(m.totalContacts=0,x!==0||b!==0){for(var R=0;R<m.parts.length;R++){var w=m.parts[R];p(w.vertices,v),h(w.bounds,w.vertices,E),w.position.x+=x,w.position.y+=b}m.positionPrev.x+=x,m.positionPrev.y+=b,x*E.x+b*E.y<0?(v.x=0,v.y=0):(v.x*=c,v.y*=c)}}},s.preSolveVelocity=function(u){var c=u.length,f,p;for(f=0;f<c;f++){var h=u[f];if(!(!h.isActive||h.isSensor)){var g=h.contacts,m=h.contactCount,v=h.collision,x=v.parentA,b=v.parentB,E=v.normal,R=v.tangent;for(p=0;p<m;p++){var w=g[p],I=w.vertex,T=w.normalImpulse,y=w.tangentImpulse;if(T!==0||y!==0){var S=E.x*T+R.x*y,k=E.y*T+R.y*y;x.isStatic||x.isSleeping||(x.positionPrev.x+=S*x.inverseMass,x.positionPrev.y+=k*x.inverseMass,x.anglePrev+=x.inverseInertia*((I.x-x.position.x)*k-(I.y-x.position.y)*S)),b.isStatic||b.isSleeping||(b.positionPrev.x-=S*b.inverseMass,b.positionPrev.y-=k*b.inverseMass,b.anglePrev-=b.inverseInertia*((I.x-b.position.x)*k-(I.y-b.position.y)*S))}}}}},s.solveVelocity=function(u,c){var f=c/a._baseDelta,p=f*f,h=p*f,g=-s._restingThresh*f,m=s._restingThreshTangent,v=s._frictionNormalMultiplier*f,x=s._frictionMaxStatic,b=u.length,E,R,w,I;for(w=0;w<b;w++){var T=u[w];if(!(!T.isActive||T.isSensor)){var y=T.collision,S=y.parentA,k=y.parentB,A=y.normal.x,D=y.normal.y,N=y.tangent.x,B=y.tangent.y,z=T.inverseMass,J=T.friction*T.frictionStatic*v,F=T.contacts,L=T.contactCount,W=1/L,G=S.position.x-S.positionPrev.x,oe=S.position.y-S.positionPrev.y,re=S.angle-S.anglePrev,le=k.position.x-k.positionPrev.x,Ve=k.position.y-k.positionPrev.y,De=k.angle-k.anglePrev;for(I=0;I<L;I++){var se=F[I],Ne=se.vertex,Ee=Ne.x-S.position.x,Xe=Ne.y-S.position.y,he=Ne.x-k.position.x,Ke=Ne.y-k.position.y,Re=G-Xe*re,At=oe+Ee*re,it=le-Ke*De,Rt=Ve+he*De,ft=Re-it,cn=At-Rt,Z=A*ft+D*cn,te=N*ft+B*cn,me=T.separation+Z,Te=Math.min(me,1);Te=me<0?0:Te;var Me=Te*J;te<-Me||te>Me?(R=te>0?te:-te,E=T.friction*(te>0?1:-1)*h,E<-R?E=-R:E>R&&(E=R)):(E=te,R=x);var Pe=Ee*D-Xe*A,ke=he*D-Ke*A,Q=W/(z+S.inverseInertia*Pe*Pe+k.inverseInertia*ke*ke),q=(1+T.restitution)*Z*Q;if(E*=Q,Z<g)se.normalImpulse=0;else{var ee=se.normalImpulse;se.normalImpulse+=q,se.normalImpulse>0&&(se.normalImpulse=0),q=se.normalImpulse-ee}if(te<-m||te>m)se.tangentImpulse=0;else{var de=se.tangentImpulse;se.tangentImpulse+=E,se.tangentImpulse<-R&&(se.tangentImpulse=-R),se.tangentImpulse>R&&(se.tangentImpulse=R),E=se.tangentImpulse-de}var U=A*q+N*E,X=D*q+B*E;S.isStatic||S.isSleeping||(S.positionPrev.x+=U*S.inverseMass,S.positionPrev.y+=X*S.inverseMass,S.anglePrev+=(Ee*X-Xe*U)*S.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=U*k.inverseMass,k.positionPrev.y-=X*k.inverseMass,k.anglePrev-=(he*X-Ke*U)*k.inverseInertia)}}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0);(function(){s.create=function(l){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},s.update=function(l,u,c){var f=o.update,p=o.create,h=o.setActive,g=l.table,m=l.list,v=m.length,x=v,b=l.collisionStart,E=l.collisionEnd,R=l.collisionActive,w=u.length,I=0,T=0,y=0,S,k,A;for(A=0;A<w;A++)S=u[A],k=S.pair,k?(k.isActive&&(R[y++]=k),f(k,S,c)):(k=p(S,c),g[k.id]=k,b[I++]=k,m[x++]=k);for(x=0,v=m.length,A=0;A<v;A++)k=m[A],k.timeUpdated>=c?m[x++]=k:(h(k,!1,c),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?m[x++]=k:(E[T++]=k,delete g[k.id]));m.length!==x&&(m.length=x),b.length!==I&&(b.length=I),E.length!==T&&(E.length=T),R.length!==y&&(R.length=y)},s.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(n,r,i){var s=n.exports=i(21);s.Axes=i(11),s.Bodies=i(12),s.Body=i(4),s.Bounds=i(1),s.Collision=i(8),s.Common=i(0),s.Composite=i(6),s.Composites=i(22),s.Constraint=i(10),s.Contact=i(16),s.Detector=i(13),s.Engine=i(17),s.Events=i(5),s.Grid=i(23),s.Mouse=i(14),s.MouseConstraint=i(24),s.Pair=i(9),s.Pairs=i(19),s.Plugin=i(15),s.Query=i(25),s.Render=i(26),s.Resolver=i(18),s.Runner=i(27),s.SAT=i(28),s.Sleeping=i(7),s.Svg=i(29),s.Vector=i(2),s.Vertices=i(3),s.World=i(30),s.Engine.run=s.Runner.run,s.Common.deprecated(s.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(n,r,i){var s={};n.exports=s;var o=i(15),a=i(0);(function(){s.name="matter-js",s.version="0.20.0",s.uses=[],s.used=[],s.use=function(){o.use(s,Array.prototype.slice.call(arguments))},s.before=function(l,u){return l=l.replace(/^Matter./,""),a.chainPathBefore(s,l,u)},s.after=function(l,u){return l=l.replace(/^Matter./,""),a.chainPathAfter(s,l,u)}})()},function(n,r,i){var s={};n.exports=s;var o=i(6),a=i(10),l=i(0),u=i(4),c=i(12),f=l.deprecated;(function(){s.stack=function(p,h,g,m,v,x,b){for(var E=o.create({label:"Stack"}),R=p,w=h,I,T=0,y=0;y<m;y++){for(var S=0,k=0;k<g;k++){var A=b(R,w,k,y,I,T);if(A){var D=A.bounds.max.y-A.bounds.min.y,N=A.bounds.max.x-A.bounds.min.x;D>S&&(S=D),u.translate(A,{x:N*.5,y:D*.5}),R=A.bounds.max.x+v,o.addBody(E,A),I=A,T+=1}else R+=v}w+=S+x,R=p}return E},s.chain=function(p,h,g,m,v,x){for(var b=p.bodies,E=1;E<b.length;E++){var R=b[E-1],w=b[E],I=R.bounds.max.y-R.bounds.min.y,T=R.bounds.max.x-R.bounds.min.x,y=w.bounds.max.y-w.bounds.min.y,S=w.bounds.max.x-w.bounds.min.x,k={bodyA:R,pointA:{x:T*h,y:I*g},bodyB:w,pointB:{x:S*m,y:y*v}},A=l.extend(k,x);o.addConstraint(p,a.create(A))}return p.label+=" Chain",p},s.mesh=function(p,h,g,m,v){var x=p.bodies,b,E,R,w,I;for(b=0;b<g;b++){for(E=1;E<h;E++)R=x[E-1+b*h],w=x[E+b*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:w},v)));if(b>0)for(E=0;E<h;E++)R=x[E+(b-1)*h],w=x[E+b*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:w},v))),m&&E>0&&(I=x[E-1+(b-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:I,bodyB:w},v)))),m&&E<h-1&&(I=x[E+1+(b-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:I,bodyB:w},v))))}return p.label+=" Mesh",p},s.pyramid=function(p,h,g,m,v,x,b){return s.stack(p,h,g,m,v,x,function(E,R,w,I,T,y){var S=Math.min(m,Math.ceil(g/2)),k=T?T.bounds.max.x-T.bounds.min.x:0;if(!(I>S)){I=S-I;var A=I,D=g-1-I;if(!(w<A||w>D)){y===1&&u.translate(T,{x:(w+(g%2===1?1:-1))*k,y:0});var N=T?w*k:0;return b(p+N+w*v,R,w,I,T,y)}}})},s.newtonsCradle=function(p,h,g,m,v){for(var x=o.create({label:"Newtons Cradle"}),b=0;b<g;b++){var E=1.9,R=c.circle(p+b*(m*E),h+v,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=a.create({pointA:{x:p+b*(m*E),y:h},bodyB:R});o.addBody(x,R),o.addConstraint(x,w)}return x},f(s,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),s.car=function(p,h,g,m,v){var x=u.nextGroup(!0),b=20,E=-g*.5+b,R=g*.5-b,w=0,I=o.create({label:"Car"}),T=c.rectangle(p,h,g,m,{collisionFilter:{group:x},chamfer:{radius:m*.5},density:2e-4}),y=c.circle(p+E,h+w,v,{collisionFilter:{group:x},friction:.8}),S=c.circle(p+R,h+w,v,{collisionFilter:{group:x},friction:.8}),k=a.create({bodyB:T,pointB:{x:E,y:w},bodyA:y,stiffness:1,length:0}),A=a.create({bodyB:T,pointB:{x:R,y:w},bodyA:S,stiffness:1,length:0});return o.addBody(I,T),o.addBody(I,y),o.addBody(I,S),o.addConstraint(I,k),o.addConstraint(I,A),I},f(s,"car","Composites.car ➤ moved to car example"),s.softBody=function(p,h,g,m,v,x,b,E,R,w){R=l.extend({inertia:1/0},R),w=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var I=s.stack(p,h,g,m,v,x,function(T,y){return c.circle(T,y,E,R)});return s.mesh(I,g,m,b,w),I.label="Soft Body",I},f(s,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0),l=a.deprecated;(function(){s.create=function(u){var c={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(c,u)},s.update=function(u,c,f,p){var h,g,m,v=f.world,x=u.buckets,b,E,R=!1;for(h=0;h<c.length;h++){var w=c[h];if(!(w.isSleeping&&!p)&&!(v.bounds&&(w.bounds.max.x<v.bounds.min.x||w.bounds.min.x>v.bounds.max.x||w.bounds.max.y<v.bounds.min.y||w.bounds.min.y>v.bounds.max.y))){var I=s._getRegion(u,w);if(!w.region||I.id!==w.region.id||p){(!w.region||p)&&(w.region=I);var T=s._regionUnion(I,w.region);for(g=T.startCol;g<=T.endCol;g++)for(m=T.startRow;m<=T.endRow;m++){E=s._getBucketId(g,m),b=x[E];var y=g>=I.startCol&&g<=I.endCol&&m>=I.startRow&&m<=I.endRow,S=g>=w.region.startCol&&g<=w.region.endCol&&m>=w.region.startRow&&m<=w.region.endRow;!y&&S&&S&&b&&s._bucketRemoveBody(u,b,w),(w.region===I||y&&!S||p)&&(b||(b=s._createBucket(x,E)),s._bucketAddBody(u,b,w))}w.region=I,R=!0}}}R&&(u.pairsList=s._createActivePairsList(u))},l(s,"update","Grid.update ➤ replaced by Matter.Detector"),s.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},l(s,"clear","Grid.clear ➤ replaced by Matter.Detector"),s._regionUnion=function(u,c){var f=Math.min(u.startCol,c.startCol),p=Math.max(u.endCol,c.endCol),h=Math.min(u.startRow,c.startRow),g=Math.max(u.endRow,c.endRow);return s._createRegion(f,p,h,g)},s._getRegion=function(u,c){var f=c.bounds,p=Math.floor(f.min.x/u.bucketWidth),h=Math.floor(f.max.x/u.bucketWidth),g=Math.floor(f.min.y/u.bucketHeight),m=Math.floor(f.max.y/u.bucketHeight);return s._createRegion(p,h,g,m)},s._createRegion=function(u,c,f,p){return{id:u+","+c+","+f+","+p,startCol:u,endCol:c,startRow:f,endRow:p}},s._getBucketId=function(u,c){return"C"+u+"R"+c},s._createBucket=function(u,c){var f=u[c]=[];return f},s._bucketAddBody=function(u,c,f){var p=u.pairs,h=o.id,g=c.length,m;for(m=0;m<g;m++){var v=c[m];if(!(f.id===v.id||f.isStatic&&v.isStatic)){var x=h(f,v),b=p[x];b?b[2]+=1:p[x]=[f,v,1]}}c.push(f)},s._bucketRemoveBody=function(u,c,f){var p=u.pairs,h=o.id,g;c.splice(a.indexOf(c,f),1);var m=c.length;for(g=0;g<m;g++){var v=p[h(f,c[g])];v&&(v[2]-=1)}},s._createActivePairsList=function(u){var c,f=u.pairs,p=a.keys(f),h=p.length,g=[],m;for(m=0;m<h;m++)c=f[p[m]],c[2]>0?g.push(c):delete f[p[m]];return g}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(7),l=i(14),u=i(5),c=i(13),f=i(10),p=i(6),h=i(0),g=i(1);(function(){s.create=function(m,v){var x=(m?m.mouse:null)||(v?v.mouse:null);x||(m&&m.render&&m.render.canvas?x=l.create(m.render.canvas):v&&v.element?x=l.create(v.element):(x=l.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var b=f.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:b,collisionFilter:{category:1,mask:4294967295,group:0}},R=h.extend(E,v);return u.on(m,"beforeUpdate",function(){var w=p.allBodies(m.world);s.update(R,w),s._triggerEvents(R)}),R},s.update=function(m,v){var x=m.mouse,b=m.constraint,E=m.body;if(x.button===0){if(b.bodyB)a.set(b.bodyB,!1),b.pointA=x.position;else for(var R=0;R<v.length;R++)if(E=v[R],g.contains(E.bounds,x.position)&&c.canCollide(E.collisionFilter,m.collisionFilter))for(var w=E.parts.length>1?1:0;w<E.parts.length;w++){var I=E.parts[w];if(o.contains(I.vertices,x.position)){b.pointA=x.position,b.bodyB=m.body=E,b.pointB={x:x.position.x-E.position.x,y:x.position.y-E.position.y},b.angleB=E.angle,a.set(E,!1),u.trigger(m,"startdrag",{mouse:x,body:E});break}}}else b.bodyB=m.body=null,b.pointB=null,E&&u.trigger(m,"enddrag",{mouse:x,body:E})},s._triggerEvents=function(m){var v=m.mouse,x=v.sourceEvents;x.mousemove&&u.trigger(m,"mousemove",{mouse:v}),x.mousedown&&u.trigger(m,"mousedown",{mouse:v}),x.mouseup&&u.trigger(m,"mouseup",{mouse:v}),l.clearSourceEvents(v)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(8),l=i(1),u=i(12),c=i(3);(function(){s.collides=function(f,p){for(var h=[],g=p.length,m=f.bounds,v=a.collides,x=l.overlaps,b=0;b<g;b++){var E=p[b],R=E.parts.length,w=R===1?0:1;if(x(E.bounds,m))for(var I=w;I<R;I++){var T=E.parts[I];if(x(T.bounds,m)){var y=v(T,f);if(y){h.push(y);break}}}}return h},s.ray=function(f,p,h,g){g=g||1e-100;for(var m=o.angle(p,h),v=o.magnitude(o.sub(p,h)),x=(h.x+p.x)*.5,b=(h.y+p.y)*.5,E=u.rectangle(x,b,v,g,{angle:m}),R=s.collides(E,f),w=0;w<R.length;w+=1){var I=R[w];I.body=I.bodyB=I.bodyA}return R},s.region=function(f,p,h){for(var g=[],m=0;m<f.length;m++){var v=f[m],x=l.overlaps(v.bounds,p);(x&&!h||!x&&h)&&g.push(v)}return g},s.point=function(f,p){for(var h=[],g=0;g<f.length;g++){var m=f[g];if(l.contains(m.bounds,p))for(var v=m.parts.length===1?0:1;v<m.parts.length;v++){var x=m.parts[v];if(l.contains(x.bounds,p)&&c.contains(x.vertices,p)){h.push(m);break}}}return h}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(0),l=i(6),u=i(1),c=i(5),f=i(2),p=i(14);(function(){var h,g;typeof window<"u"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(w){window.setTimeout(function(){w(a.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s._goodFps=30,s._goodDelta=1e3/60,s.create=function(w){var I={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!w.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},T=a.extend(I,w);return T.canvas&&(T.canvas.width=T.options.width||T.canvas.width,T.canvas.height=T.options.height||T.canvas.height),T.mouse=w.mouse,T.engine=w.engine,T.canvas=T.canvas||x(T.options.width,T.options.height),T.context=T.canvas.getContext("2d"),T.textures={},T.bounds=T.bounds||{min:{x:0,y:0},max:{x:T.canvas.width,y:T.canvas.height}},T.controller=s,T.options.showBroadphase=!1,T.options.pixelRatio!==1&&s.setPixelRatio(T,T.options.pixelRatio),a.isElement(T.element)&&T.element.appendChild(T.canvas),T},s.run=function(w){(function I(T){w.frameRequestId=h(I),m(w,T),s.world(w,T),w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0),(w.options.showStats||w.options.showDebug)&&s.stats(w,w.context,T),(w.options.showPerformance||w.options.showDebug)&&s.performance(w,w.context,T),w.context.setTransform(1,0,0,1,0,0)})()},s.stop=function(w){g(w.frameRequestId)},s.setPixelRatio=function(w,I){var T=w.options,y=w.canvas;I==="auto"&&(I=b(y)),T.pixelRatio=I,y.setAttribute("data-pixel-ratio",I),y.width=T.width*I,y.height=T.height*I,y.style.width=T.width+"px",y.style.height=T.height+"px"},s.setSize=function(w,I,T){w.options.width=I,w.options.height=T,w.bounds.max.x=w.bounds.min.x+I,w.bounds.max.y=w.bounds.min.y+T,w.options.pixelRatio!==1?s.setPixelRatio(w,w.options.pixelRatio):(w.canvas.width=I,w.canvas.height=T)},s.lookAt=function(w,I,T,y){y=typeof y<"u"?y:!0,I=a.isArray(I)?I:[I],T=T||{x:0,y:0};for(var S={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},k=0;k<I.length;k+=1){var A=I[k],D=A.bounds?A.bounds.min:A.min||A.position||A,N=A.bounds?A.bounds.max:A.max||A.position||A;D&&N&&(D.x<S.min.x&&(S.min.x=D.x),N.x>S.max.x&&(S.max.x=N.x),D.y<S.min.y&&(S.min.y=D.y),N.y>S.max.y&&(S.max.y=N.y))}var B=S.max.x-S.min.x+2*T.x,z=S.max.y-S.min.y+2*T.y,J=w.canvas.height,F=w.canvas.width,L=F/J,W=B/z,G=1,oe=1;W>L?oe=W/L:G=L/W,w.options.hasBounds=!0,w.bounds.min.x=S.min.x,w.bounds.max.x=S.min.x+B*G,w.bounds.min.y=S.min.y,w.bounds.max.y=S.min.y+z*oe,y&&(w.bounds.min.x+=B*.5-B*G*.5,w.bounds.max.x+=B*.5-B*G*.5,w.bounds.min.y+=z*.5-z*oe*.5,w.bounds.max.y+=z*.5-z*oe*.5),w.bounds.min.x-=T.x,w.bounds.max.x-=T.x,w.bounds.min.y-=T.y,w.bounds.max.y-=T.y,w.mouse&&(p.setScale(w.mouse,{x:(w.bounds.max.x-w.bounds.min.x)/w.canvas.width,y:(w.bounds.max.y-w.bounds.min.y)/w.canvas.height}),p.setOffset(w.mouse,w.bounds.min))},s.startViewTransform=function(w){var I=w.bounds.max.x-w.bounds.min.x,T=w.bounds.max.y-w.bounds.min.y,y=I/w.options.width,S=T/w.options.height;w.context.setTransform(w.options.pixelRatio/y,0,0,w.options.pixelRatio/S,0,0),w.context.translate(-w.bounds.min.x,-w.bounds.min.y)},s.endViewTransform=function(w){w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0)},s.world=function(w,I){var T=a.now(),y=w.engine,S=y.world,k=w.canvas,A=w.context,D=w.options,N=w.timing,B=l.allBodies(S),z=l.allConstraints(S),J=D.wireframes?D.wireframeBackground:D.background,F=[],L=[],W,G={timestamp:y.timing.timestamp};if(c.trigger(w,"beforeRender",G),w.currentBackground!==J&&R(w,J),A.globalCompositeOperation="source-in",A.fillStyle="transparent",A.fillRect(0,0,k.width,k.height),A.globalCompositeOperation="source-over",D.hasBounds){for(W=0;W<B.length;W++){var oe=B[W];u.overlaps(oe.bounds,w.bounds)&&F.push(oe)}for(W=0;W<z.length;W++){var re=z[W],le=re.bodyA,Ve=re.bodyB,De=re.pointA,se=re.pointB;le&&(De=f.add(le.position,re.pointA)),Ve&&(se=f.add(Ve.position,re.pointB)),!(!De||!se)&&(u.contains(w.bounds,De)||u.contains(w.bounds,se))&&L.push(re)}s.startViewTransform(w),w.mouse&&(p.setScale(w.mouse,{x:(w.bounds.max.x-w.bounds.min.x)/w.options.width,y:(w.bounds.max.y-w.bounds.min.y)/w.options.height}),p.setOffset(w.mouse,w.bounds.min))}else L=z,F=B,w.options.pixelRatio!==1&&w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0);!D.wireframes||y.enableSleeping&&D.showSleeping?s.bodies(w,F,A):(D.showConvexHulls&&s.bodyConvexHulls(w,F,A),s.bodyWireframes(w,F,A)),D.showBounds&&s.bodyBounds(w,F,A),(D.showAxes||D.showAngleIndicator)&&s.bodyAxes(w,F,A),D.showPositions&&s.bodyPositions(w,F,A),D.showVelocity&&s.bodyVelocity(w,F,A),D.showIds&&s.bodyIds(w,F,A),D.showSeparations&&s.separations(w,y.pairs.list,A),D.showCollisions&&s.collisions(w,y.pairs.list,A),D.showVertexNumbers&&s.vertexNumbers(w,F,A),D.showMousePosition&&s.mousePosition(w,w.mouse,A),s.constraints(L,A),D.hasBounds&&s.endViewTransform(w),c.trigger(w,"afterRender",G),N.lastElapsed=a.now()-T},s.stats=function(w,I,T){for(var y=w.engine,S=y.world,k=l.allBodies(S),A=0,D=55,N=44,B=0,z=0,J=0;J<k.length;J+=1)A+=k[J].parts.length;var F={Part:A,Body:k.length,Cons:l.allConstraints(S).length,Comp:l.allComposites(S).length,Pair:y.pairs.list.length};I.fillStyle="#0e0f19",I.fillRect(B,z,D*5.5,N),I.font="12px Arial",I.textBaseline="top",I.textAlign="right";for(var L in F){var W=F[L];I.fillStyle="#aaa",I.fillText(L,B+D,z+8),I.fillStyle="#eee",I.fillText(W,B+D,z+26),B+=D}},s.performance=function(w,I){var T=w.engine,y=w.timing,S=y.deltaHistory,k=y.elapsedHistory,A=y.timestampElapsedHistory,D=y.engineDeltaHistory,N=y.engineUpdatesHistory,B=y.engineElapsedHistory,z=T.timing.lastUpdatesPerFrame,J=T.timing.lastDelta,F=v(S),L=v(k),W=v(D),G=v(N),oe=v(B),re=v(A),le=re/F||0,Ve=Math.round(F/J),De=1e3/F||0,se=4,Ne=12,Ee=60,Xe=34,he=10,Ke=69;I.fillStyle="#0e0f19",I.fillRect(0,50,Ne*5+Ee*6+22,Xe),s.status(I,he,Ke,Ee,se,S.length,Math.round(De)+" fps",De/s._goodFps,function(Re){return S[Re]/F-1}),s.status(I,he+Ne+Ee,Ke,Ee,se,D.length,J.toFixed(2)+" dt",s._goodDelta/J,function(Re){return D[Re]/W-1}),s.status(I,he+(Ne+Ee)*2,Ke,Ee,se,N.length,z+" upf",Math.pow(a.clamp(G/Ve||1,0,1),4),function(Re){return N[Re]/G-1}),s.status(I,he+(Ne+Ee)*3,Ke,Ee,se,B.length,oe.toFixed(2)+" ut",1-z*oe/s._goodFps,function(Re){return B[Re]/oe-1}),s.status(I,he+(Ne+Ee)*4,Ke,Ee,se,k.length,L.toFixed(2)+" rt",1-L/s._goodFps,function(Re){return k[Re]/L-1}),s.status(I,he+(Ne+Ee)*5,Ke,Ee,se,A.length,le.toFixed(2)+" x",le*le*le,function(Re){return(A[Re]/S[Re]/le||0)-1})},s.status=function(w,I,T,y,S,k,A,D,N){w.strokeStyle="#888",w.fillStyle="#444",w.lineWidth=1,w.fillRect(I,T+7,y,1),w.beginPath(),w.moveTo(I,T+7-S*a.clamp(.4*N(0),-2,2));for(var B=0;B<y;B+=1)w.lineTo(I+B,T+7-(B<k?S*a.clamp(.4*N(B),-2,2):0));w.stroke(),w.fillStyle="hsl("+a.clamp(25+95*D,0,120)+",100%,60%)",w.fillRect(I,T-7,4,4),w.font="12px Arial",w.textBaseline="middle",w.textAlign="right",w.fillStyle="#eee",w.fillText(A,I+y,T-5)},s.constraints=function(w,I){for(var T=I,y=0;y<w.length;y++){var S=w[y];if(!(!S.render.visible||!S.pointA||!S.pointB)){var k=S.bodyA,A=S.bodyB,D,N;if(k?D=f.add(k.position,S.pointA):D=S.pointA,S.render.type==="pin")T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.closePath();else{if(A?N=f.add(A.position,S.pointB):N=S.pointB,T.beginPath(),T.moveTo(D.x,D.y),S.render.type==="spring")for(var B=f.sub(N,D),z=f.perp(f.normalise(B)),J=Math.ceil(a.clamp(S.length/5,12,20)),F,L=1;L<J;L+=1)F=L%2===0?1:-1,T.lineTo(D.x+B.x*(L/J)+z.x*F*4,D.y+B.y*(L/J)+z.y*F*4);T.lineTo(N.x,N.y)}S.render.lineWidth&&(T.lineWidth=S.render.lineWidth,T.strokeStyle=S.render.strokeStyle,T.stroke()),S.render.anchors&&(T.fillStyle=S.render.strokeStyle,T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.arc(N.x,N.y,3,0,2*Math.PI),T.closePath(),T.fill())}}},s.bodies=function(w,I,T){var y=T;w.engine;var S=w.options,k=S.showInternalEdges||!S.wireframes,A,D,N,B;for(N=0;N<I.length;N++)if(A=I[N],!!A.render.visible){for(B=A.parts.length>1?1:0;B<A.parts.length;B++)if(D=A.parts[B],!!D.render.visible){if(S.showSleeping&&A.isSleeping?y.globalAlpha=.5*D.render.opacity:D.render.opacity!==1&&(y.globalAlpha=D.render.opacity),D.render.sprite&&D.render.sprite.texture&&!S.wireframes){var z=D.render.sprite,J=E(w,z.texture);y.translate(D.position.x,D.position.y),y.rotate(D.angle),y.drawImage(J,J.width*-z.xOffset*z.xScale,J.height*-z.yOffset*z.yScale,J.width*z.xScale,J.height*z.yScale),y.rotate(-D.angle),y.translate(-D.position.x,-D.position.y)}else{if(D.circleRadius)y.beginPath(),y.arc(D.position.x,D.position.y,D.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(D.vertices[0].x,D.vertices[0].y);for(var F=1;F<D.vertices.length;F++)!D.vertices[F-1].isInternal||k?y.lineTo(D.vertices[F].x,D.vertices[F].y):y.moveTo(D.vertices[F].x,D.vertices[F].y),D.vertices[F].isInternal&&!k&&y.moveTo(D.vertices[(F+1)%D.vertices.length].x,D.vertices[(F+1)%D.vertices.length].y);y.lineTo(D.vertices[0].x,D.vertices[0].y),y.closePath()}S.wireframes?(y.lineWidth=1,y.strokeStyle=w.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=D.render.fillStyle,D.render.lineWidth&&(y.lineWidth=D.render.lineWidth,y.strokeStyle=D.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},s.bodyWireframes=function(w,I,T){var y=T,S=w.options.showInternalEdges,k,A,D,N,B;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.render.visible)for(B=k.parts.length>1?1:0;B<k.parts.length;B++){for(A=k.parts[B],y.moveTo(A.vertices[0].x,A.vertices[0].y),N=1;N<A.vertices.length;N++)!A.vertices[N-1].isInternal||S?y.lineTo(A.vertices[N].x,A.vertices[N].y):y.moveTo(A.vertices[N].x,A.vertices[N].y),A.vertices[N].isInternal&&!S&&y.moveTo(A.vertices[(N+1)%A.vertices.length].x,A.vertices[(N+1)%A.vertices.length].y);y.lineTo(A.vertices[0].x,A.vertices[0].y)}y.lineWidth=1,y.strokeStyle=w.options.wireframeStrokeStyle,y.stroke()},s.bodyConvexHulls=function(w,I,T){var y=T,S,k,A;for(y.beginPath(),k=0;k<I.length;k++)if(S=I[k],!(!S.render.visible||S.parts.length===1)){for(y.moveTo(S.vertices[0].x,S.vertices[0].y),A=1;A<S.vertices.length;A++)y.lineTo(S.vertices[A].x,S.vertices[A].y);y.lineTo(S.vertices[0].x,S.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},s.vertexNumbers=function(w,I,T){var y=T,S,k,A;for(S=0;S<I.length;S++){var D=I[S].parts;for(A=D.length>1?1:0;A<D.length;A++){var N=D[A];for(k=0;k<N.vertices.length;k++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(S+"_"+k,N.position.x+(N.vertices[k].x-N.position.x)*.8,N.position.y+(N.vertices[k].y-N.position.y)*.8)}}},s.mousePosition=function(w,I,T){var y=T;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(I.position.x+"  "+I.position.y,I.position.x+5,I.position.y-5)},s.bodyBounds=function(w,I,T){var y=T;w.engine;var S=w.options;y.beginPath();for(var k=0;k<I.length;k++){var A=I[k];if(A.render.visible)for(var D=I[k].parts,N=D.length>1?1:0;N<D.length;N++){var B=D[N];y.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}S.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},s.bodyAxes=function(w,I,T){var y=T;w.engine;var S=w.options,k,A,D,N;for(y.beginPath(),A=0;A<I.length;A++){var B=I[A],z=B.parts;if(B.render.visible)if(S.showAxes)for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++){var J=k.axes[N];y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+J.x*20,k.position.y+J.y*20)}else for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++)y.moveTo(k.position.x,k.position.y),y.lineTo((k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}S.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},s.bodyPositions=function(w,I,T){var y=T;w.engine;var S=w.options,k,A,D,N;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.render.visible)for(N=0;N<k.parts.length;N++)A=k.parts[N],y.arc(A.position.x,A.position.y,3,0,2*Math.PI,!1),y.closePath();for(S.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),D=0;D<I.length;D++)k=I[D],k.render.visible&&(y.arc(k.positionPrev.x,k.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},s.bodyVelocity=function(w,I,T){var y=T;y.beginPath();for(var S=0;S<I.length;S++){var k=I[S];if(k.render.visible){var A=o.getVelocity(k);y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+A.x,k.position.y+A.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},s.bodyIds=function(w,I,T){var y=T,S,k;for(S=0;S<I.length;S++)if(I[S].render.visible){var A=I[S].parts;for(k=A.length>1?1:0;k<A.length;k++){var D=A[k];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(D.id,D.position.x+10,D.position.y-10)}}},s.collisions=function(w,I,T){var y=T,S=w.options,k,A,D,N;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.isActive)for(A=k.collision,N=0;N<k.contactCount;N++){var B=k.contacts[N],z=B.vertex;y.rect(z.x-1.5,z.y-1.5,3.5,3.5)}for(S.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.isActive&&(A=k.collision,k.contactCount>0)){var J=k.contacts[0].vertex.x,F=k.contacts[0].vertex.y;k.contactCount===2&&(J=(k.contacts[0].vertex.x+k.contacts[1].vertex.x)/2,F=(k.contacts[0].vertex.y+k.contacts[1].vertex.y)/2),A.bodyB===A.supports[0].body||A.bodyA.isStatic===!0?y.moveTo(J-A.normal.x*8,F-A.normal.y*8):y.moveTo(J+A.normal.x*8,F+A.normal.y*8),y.lineTo(J,F)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},s.separations=function(w,I,T){var y=T,S=w.options,k,A,D,N,B;for(y.beginPath(),B=0;B<I.length;B++)if(k=I[B],!!k.isActive){A=k.collision,D=A.bodyA,N=A.bodyB;var z=1;!N.isStatic&&!D.isStatic&&(z=.5),N.isStatic&&(z=0),y.moveTo(N.position.x,N.position.y),y.lineTo(N.position.x-A.penetration.x*z,N.position.y-A.penetration.y*z),z=1,!N.isStatic&&!D.isStatic&&(z=.5),D.isStatic&&(z=0),y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+A.penetration.x*z,D.position.y+A.penetration.y*z)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},s.inspector=function(w,I){w.engine;var T=w.selected,y=w.render,S=y.options,k;if(S.hasBounds){var A=y.bounds.max.x-y.bounds.min.x,D=y.bounds.max.y-y.bounds.min.y,N=A/y.options.width,B=D/y.options.height;I.scale(1/N,1/B),I.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var z=0;z<T.length;z++){var J=T[z].data;switch(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.9)",I.setLineDash([1,2]),J.type){case"body":k=J.bounds,I.beginPath(),I.rect(Math.floor(k.min.x-3),Math.floor(k.min.y-3),Math.floor(k.max.x-k.min.x+6),Math.floor(k.max.y-k.min.y+6)),I.closePath(),I.stroke();break;case"constraint":var F=J.pointA;J.bodyA&&(F=J.pointB),I.beginPath(),I.arc(F.x,F.y,10,0,2*Math.PI),I.closePath(),I.stroke();break}I.setLineDash([]),I.translate(-.5,-.5)}w.selectStart!==null&&(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.6)",I.fillStyle="rgba(255,165,0,0.1)",k=w.selectBounds,I.beginPath(),I.rect(Math.floor(k.min.x),Math.floor(k.min.y),Math.floor(k.max.x-k.min.x),Math.floor(k.max.y-k.min.y)),I.closePath(),I.stroke(),I.fill(),I.translate(-.5,-.5)),S.hasBounds&&I.setTransform(1,0,0,1,0,0)};var m=function(w,I){var T=w.engine,y=w.timing,S=y.historySize,k=T.timing.timestamp;y.delta=I-y.lastTime||s._goodDelta,y.lastTime=I,y.timestampElapsed=k-y.lastTimestamp||0,y.lastTimestamp=k,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,S),y.engineDeltaHistory.unshift(T.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,S),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,S),y.engineUpdatesHistory.unshift(T.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,S),y.engineElapsedHistory.unshift(T.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,S),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,S)},v=function(w){for(var I=0,T=0;T<w.length;T+=1)I+=w[T];return I/w.length||0},x=function(w,I){var T=document.createElement("canvas");return T.width=w,T.height=I,T.oncontextmenu=function(){return!1},T.onselectstart=function(){return!1},T},b=function(w){var I=w.getContext("2d"),T=window.devicePixelRatio||1,y=I.webkitBackingStorePixelRatio||I.mozBackingStorePixelRatio||I.msBackingStorePixelRatio||I.oBackingStorePixelRatio||I.backingStorePixelRatio||1;return T/y},E=function(w,I){var T=w.textures[I];return T||(T=w.textures[I]=new Image,T.src=I,T)},R=function(w,I){var T=I;/(jpg|gif|png)$/.test(I)&&(T="url("+I+")"),w.canvas.style.background=T,w.canvas.style.backgroundSize="contain",w.currentBackground=I}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(17),l=i(0);(function(){s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(c){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},p=l.extend(f,c);return p.fps=0,p},s.run=function(c,f){return c.timeBuffer=s._frameDeltaFallback,function p(h){c.frameRequestId=s._onNextFrame(c,p),h&&c.enabled&&s.tick(c,f,h)}(),c},s.tick=function(c,f,p){var h=l.now(),g=c.delta,m=0,v=p-c.timeLastTick;if((!v||!c.timeLastTick||v>Math.max(s._maxFrameDelta,c.maxFrameTime))&&(v=c.frameDelta||s._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(v),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var x=c.frameDeltaHistory.slice(0).sort(),b=c.frameDeltaHistory.slice(x.length*s._smoothingLowerBound,x.length*s._smoothingUpperBound),E=u(b);v=E||v}c.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),c.frameDelta=v,c.timeLastTick=p,c.timeBuffer+=c.frameDelta,c.timeBuffer=l.clamp(c.timeBuffer,0,c.frameDelta+g*s._timeBufferMargin),c.lastUpdatesDeferred=0;var R=c.maxUpdates||Math.ceil(c.maxFrameTime/g),w={timestamp:f.timing.timestamp};o.trigger(c,"beforeTick",w),o.trigger(c,"tick",w);for(var I=l.now();g>0&&c.timeBuffer>=g*s._timeBufferMargin;){o.trigger(c,"beforeUpdate",w),a.update(f,g),o.trigger(c,"afterUpdate",w),c.timeBuffer-=g,m+=1;var T=l.now()-h,y=l.now()-I,S=T+s._elapsedNextEstimate*y/m;if(m>=R||S>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/g-s._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=m,o.trigger(c,"afterTick",w),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/g)>R?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),c.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(c){s._cancelNextFrame(c)},s._onNextFrame=function(c,f){if(typeof window<"u"&&window.requestAnimationFrame)c.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId},s._cancelNextFrame=function(c){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(c.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(c){for(var f=0,p=c.length,h=0;h<p;h+=1)f+=c[h];return f/p||0}})()},function(n,r,i){var s={};n.exports=s;var o=i(8),a=i(0),l=a.deprecated;(function(){s.collides=function(u,c){return o.collides(u,c)},l(s,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(n,r,i){var s={};n.exports=s,i(1);var o=i(0);(function(){s.pathToVertices=function(a,l){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,c,f,p,h,g,m,v,x,b,E=[],R,w,I=0,T=0,y=0;l=l||15;var S=function(A,D,N){var B=N%2===1&&N>1;if(!x||A!=x.x||D!=x.y){x&&B?(R=x.x,w=x.y):(R=0,w=0);var z={x:R+A,y:w+D};(B||!x)&&(x=z),E.push(z),T=R+A,y=w+D}},k=function(A){var D=A.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":T=A.x,y=A.y;break;case"H":T=A.x;break;case"V":y=A.y;break}S(T,y,A.pathSegType)}};for(s._svgPathToAbsolute(a),f=a.getTotalLength(),g=[],u=0;u<a.pathSegList.numberOfItems;u+=1)g.push(a.pathSegList.getItem(u));for(m=g.concat();I<f;){if(b=a.getPathSegAtLength(I),h=g[b],h!=v){for(;m.length&&m[0]!=h;)k(m.shift());v=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=a.getPointAtLength(I),S(p.x,p.y,0);break}I+=l}for(u=0,c=m.length;u<c;++u)k(m[u]);return E},s._svgPathToAbsolute=function(a){for(var l,u,c,f,p,h,g=a.pathSegList,m=0,v=0,x=g.numberOfItems,b=0;b<x;++b){var E=g.getItem(b),R=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(R))"x"in E&&(m=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(c=m+E.x1),"x2"in E&&(p=m+E.x2),"y1"in E&&(f=v+E.y1),"y2"in E&&(h=v+E.y2),"x"in E&&(m+=E.x),"y"in E&&(v+=E.y),R){case"m":g.replaceItem(a.createSVGPathSegMovetoAbs(m,v),b);break;case"l":g.replaceItem(a.createSVGPathSegLinetoAbs(m,v),b);break;case"h":g.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(m),b);break;case"v":g.replaceItem(a.createSVGPathSegLinetoVerticalAbs(v),b);break;case"c":g.replaceItem(a.createSVGPathSegCurvetoCubicAbs(m,v,c,f,p,h),b);break;case"s":g.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(m,v,p,h),b);break;case"q":g.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(m,v,c,f),b);break;case"t":g.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(m,v),b);break;case"a":g.replaceItem(a.createSVGPathSegArcAbs(m,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),b);break;case"z":case"Z":m=l,v=u;break}(R=="M"||R=="m")&&(l=m,u=v)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(6);i(0),function(){s.create=o.create,s.add=o.add,s.remove=o.remove,s.clear=o.clear,s.addComposite=o.addComposite,s.addBody=o.addBody,s.addConstraint=o.addConstraint}()}])})})(uP);var YB=uP.exports;const Jw=Zw(YB),JB=()=>{const t=M.useRef(null);return M.useEffect(()=>{const{Engine:e,Render:n,Runner:r,Body:i,Composite:s,Mouse:o,MouseConstraint:a,World:l,Bodies:u,Constraint:c}=Jw,f=e.create(),p=f.world,h=window.innerWidth<700?window.innerWidth:600,g=Jw.Render.create({element:t.current,engine:f,options:{width:h+150,height:900,wireframes:!1,background:"transparent"}});n.run(g);const m=r.create();r.run(m,f);const v=[];let x=0;const b=(D,N,B)=>u.circle(D,N,B,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,render:{fillStyle:"hsl(340, 100%, 70%)",strokeStyle:"rgb(220, 220, 220)",lineWidth:2}}),E=(D,N,B,z,J)=>{const F=s.create({label:"NewtonsCradle"}),L=z*2;for(let W=0;W<B;W++){const G=b(D+W*L,N+J,z),oe=c.create({pointA:{x:D+W*L,y:N},bodyB:G,pointB:{x:0,y:0},length:J,stiffness:.9,render:{strokeStyle:"rgb(220, 220, 220,1)",lineWidth:1.5}});s.addBody(F,G),s.addConstraint(F,oe),v.push(G)}return F},R=5,w=21,I=w*2*R,T=h/2-I/2,y=E(T,135,R,w,175);l.add(p,y),i.translate(y.bodies[0],{x:-140,y:-60});const S=o.create(g.canvas),k=a.create(f,{mouse:S,constraint:{stiffness:.2,render:{visible:!1}}});l.add(p,k),g.mouse=S,n.lookAt(g,{min:{x:0,y:0},max:{x:h-50,y:700}});const A=()=>{x=(x+1)%360;const D=`hsl(340, 100%, ${70+Math.sin(x*.1)*7}%)`,N=`hsl(320, 100%, ${40+Math.sin(x*.1)*7}%)`;v.forEach(B=>{B.render.fillStyle=D,B.render.strokeStyle=N}),setTimeout(()=>{requestAnimationFrame(A)},200)};return A(),()=>{n.stop(g),r.stop(m),e.clear(f),g.canvas.remove(),g.canvas=null,g.context=null,g.textures={}}},[]),C.jsx("div",{ref:t,style:{backgroundColor:"rgba(0, 0, 0, 0)"}})},ZB=()=>C.jsx("div",{className:"graph__wrapper",children:C.jsxs("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:[C.jsx("defs",{children:C.jsx("path",{id:"textPath",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81",fill:"none"})}),C.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[C.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),C.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),C.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:C.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:C.jsx("mpath",{href:"#Path-1"})})}),C.jsxs("text",{className:"pointer-events-none arrowText",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"translate(0,-10)",children:[C.jsx("textPath",{href:"#textPath",startOffset:"24%",textAnchor:"middle",children:"My Board"}),C.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})]})]})}),eF=()=>C.jsx("div",{className:"graph__wrapper2",children:C.jsx("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:C.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[C.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),C.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),C.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:C.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:C.jsx("mpath",{href:"#Path-1"})})}),C.jsx("text",{className:"pointer-events-none",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"rotate(180, 227.5, 43.5) translate(0,-7)",children:C.jsxs("textPath",{href:"#Path-1",startOffset:"64%",textAnchor:"middle",children:["Shared Boards",C.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})})]})})});function tF(){const[t]=oP({words:["Manage Your Tasks","Organize Your Projects","Boost Your Productivity","Plan,Execute,Succeed","Track Your Progress","Collaborate Effortlessly","Get Things Done","Your Work Simplified"],loop:!0,typeSpeed:120,deleteSpeed:90,delaySpeed:3e3}),[e,n]=M.useState(!1),[r,i]=M.useState(1),s=()=>{n(!0),i(a=>(a+1)%3)},o=()=>{n(!1),i(a=>(a-1+3)%3)};return C.jsx("div",{className:"bg-zinc-800 overflow-x-hidden box-border   h-screen flex  overflow-y-hidden p-5 justify-center homecontiner",children:C.jsxs("div",{className:"flex sm:w-[100%] mb-2  items-center  mt-[40%] sm:shadow-xl  max-w-[900px] flex-col sm:mt-[10%]",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:o,className:"size-9 fixed top-[55%] leftarrow  flex self-start ml-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:s,className:"size-9 fixed top-[55%] rightarrow  flex self-end mr-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),C.jsx("div",{className:"workSpaceContainer ",children:C.jsxs(Ik,{mode:"wait",children:[r===0&&C.jsx(Gc.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:C.jsx(XB,{})},"workSpace0"),r===1&&C.jsx(Gc.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:"0",opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:C.jsxs("div",{className:"flex justify-center relative",children:[C.jsxs("h1",{className:" absolute ml-1.5 text-center text-gray-300 top-[13.8%] sm:top-[13.1%] pointer-events-none  text-2xl sm:text-3xl  ",children:[t,C.jsx(aP,{})]}),C.jsx("hr",{className:"NewtonsCradleHr "}),C.jsx(ZB,{className:!0}),C.jsx(eF,{}),C.jsx(JB,{className:" absolute"})]})},"yourBoards"),r===2&&C.jsx(Gc.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:C.jsx(QB,{})},"workSpace2")]})})]})})}const nF=()=>C.jsx("div",{id:"box",children:C.jsxs("div",{className:"cat",children:[C.jsxs("div",{className:"head",children:[C.jsxs("div",{className:"ears",children:[C.jsx("div",{className:"ear left"}),C.jsx("div",{className:"ear right"})]}),C.jsxs("div",{className:"eyes",children:[C.jsx("div",{className:"eye left"}),C.jsx("div",{className:"eye right"})]}),C.jsx("div",{className:"muzzle",children:C.jsx("div",{className:"nose"})})]}),C.jsx("div",{className:"body",children:C.jsx("div",{className:"paw"})}),C.jsx("div",{className:"tail absolute",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment",children:C.jsx("div",{className:"tail-segment"})})})})})})})})})})})})})})})})})})})})]})});function rF({avatarColor:t,avatarIn:e,userEmail:n,userName:r}){const i=Fs(),s=async()=>{try{await eV(je),i("/")}catch(a){console.error("Error logging out:",a)}},o=()=>{i("/")};return C.jsxs("div",{style:{backgroundColor:"#37393C"},className:"h-fit  gap-2 flex flex-col w-64 text-gray-300   py-4  shadow-xl  fixed z-[10000] rounded-md top-12 right-1",children:[C.jsx("p",{className:"text-sm mb-2 px-5",children:"ACCOUNT"}),C.jsxs("div",{className:"flex px-4",children:[C.jsx("div",{className:"flex   justify-center items-center  hover:opacity-85 cursor-pointer ",children:C.jsx("div",{className:" pointer-events-none mr-2 select-none  mb-1 ",style:{backgroundColor:`${t}`,color:"rgb(39, 39, 42)",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"1px solid #555"},children:e.toUpperCase()})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-md mb-[-4px]",children:r}),C.jsx("p",{className:"text-sm opacity-90",children:n})]})]}),C.jsx("div",{className:"flex justify-center",children:C.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),C.jsx(dm,{to:"CardsArchive",children:C.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:C.jsx("p",{className:"text-[.9rem]",children:"Cards Archive"})})}),C.jsx("div",{className:"flex justify-center",children:C.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),r!=="Guest"&&C.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:C.jsx("p",{onClick:s,className:"text-[.9rem]",children:"Log out"})}),r==="Guest"&&C.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:C.jsx("p",{onClick:o,className:"text-[.9rem]",children:"Sign in"})})]})}function iF(t){const e=Fs(),[n,r]=M.useState(!1),i=M.useRef();M.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(r(!0),a.disconnect())},{threshold:.1});return i.current&&a.observe(i.current),()=>{i.current&&a.unobserve(i.current)}},[i]);const s=n&&t.backgroundImage?{backgroundImage:`url('${t.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},o=()=>{e(`/Board/${t.id}`,{state:t})};return C.jsxs("div",{onClick:o,className:"flex items-center mb-0.5 gap-2   cursor-pointer",children:[C.jsx("div",{ref:i,style:s,className:`p-5 h-[40px]  w-[60px] hover:opacity-85 cursor-pointer rounded-sm ${t.background}`}),C.jsx("h2",{className:"text-zinc-300  text-lg truncate whitespace-nowrap overflow-hidden",children:t.title})]})}function sF(){const t=M.useRef(null),[e,n]=M.useState([]),[r,i]=M.useState(!1),s=M.useRef(null),[o,a]=M.useState({}),[l,u]=M.useState(!1);M.useEffect(()=>{const v=Ki(je,x=>{x?(async()=>{const E=$s(ae,`users/${x.uid}/Boards`),w=(await Ws(E)).docs.map(I=>({id:I.id,data:I.data()}));n(w)})().catch(E=>console.error("Error fetching lists:",E)):n([])});return()=>v()},[]);const c=v=>{s.current&&!s.current.contains(v.target)&&i(!1)};M.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]);const f=v=>{t.current&&!t.current.contains(v.target)&&u(!1)};M.useEffect(()=>(document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[]),M.useEffect(()=>{const v=Ki(je,x=>{x&&(async()=>{try{const E=fe(ae,"users",x.uid),R=await pu(E);if(R.exists()){const w={id:R.id,data:R.data()};a(w.data)}else console.log("No such board!")}catch(E){console.error("Error fetching board:",E)}})()});return()=>v()},[]);const p=o.avatar?o.avatar.color:"#111827",h=o.avatar?o.avatar.initials:"A",g=o.name||"Guest",m=o.email||"example@example.com";return C.jsxs("div",{children:[l&&C.jsxs("div",{ref:t,children:[" ",C.jsx(rF,{avatarColor:p,avatarIn:h,userName:g,userEmail:m})]}),C.jsx("nav",{className:"border-b-2 border-gray-500 h-[46px] sm:h-[47.5px] bg-zinc-800 text-lg absolute w-screen z-10",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-5",children:[C.jsx(dm,{to:"/Home",children:C.jsxs("div",{className:"text-zinc-50 cursor-pointer flex gap-5 cat catlogo items-center font-bold",children:[C.jsx(nF,{}),"KittyTask"]})}),C.jsxs("div",{className:"text-gray-200 relative text-md flex items-center ",children:[r&&C.jsx("div",{ref:s,className:"w-[200px] h-fit left-[-55px]   absolute p-2 px-3 rounded-md shadow-xl  bg-zinc-700 top-10",children:C.jsxs("div",{className:"flex flex-col ",children:[C.jsx("h1",{className:"text-center",children:" All Boards"}),C.jsx("hr",{className:"w-full border-0 border-b border-gray-300 border-opacity-85 my-2"}),C.jsx("div",{className:"max-h-[200px] overflow-y-auto ",children:e.map(v=>C.jsx("div",{className:"hover:bg-neutral-600 rounded-md p-1",children:C.jsx(iF,{id:v.id,title:v.data.title,background:v.data.background,backgroundImage:v.data.backgroundImage,boardVisibility:v.data.boardVisibility},v.id)},v.id))})]})}),C.jsxs("div",{className:" px-3 flex items-center cursor-pointer rounded-md py-.5 hover:bg-zinc-700",onClick:()=>{i(!r)},children:["Boards",C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.4",stroke:"currentColor",className:"size-5 ml-0.5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})," "]}),C.jsx(dm,{to:"/CreateBoard",children:C.jsx("button",{className:"ml-[-.5em] px-3 py-.5 bg-pink-500 hover:bg-pink-700 text-gray-50 rounded-md",children:"Create"})})]}),C.jsx("div",{onClick:()=>{u(!l)},className:"flex mr-2 justify-center items-center hover:opacity-85 cursor-pointer",children:C.jsx("div",{className:"select-none mb-1 border-2",style:{backgroundColor:p,color:"rgb(39, 39, 42)",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"0 solid #555"},children:h.toUpperCase()})})]})})]})}function oF(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState(""),l=Fs(),[u,c]=M.useState(""),[f,p]=M.useState(""),[h,g]=M.useState(""),[m,v]=M.useState(""),[x,b]=M.useState(!1),E=a2(),R=async S=>{if(S.preventDefault(),a(""),b(!0),!n||!i){a("Please fill in both email and password."),b(!1);return}try{const k=await Y4(je,n,i);l("/Home")}catch(k){console.error("Login error:",k),a("Error logging in: "+k.message)}finally{b(!1)}},w=S=>{let k=0;for(let D=0;D<S.length;D++)k=S.charCodeAt(D)+((k<<5)-k);return`hsl(${k%360}, 70%, 80%)`},I=S=>S.split(" ").map(k=>k[0]).join(""),T=async S=>{if(S.preventDefault(),v(""),!u||!f||!h){v("Please fill in all fields (name, email, and password).");return}b(!0);const k=J2();try{const D=(await X4(k,f,h)).user,N=w(u),B=I(u);await ir(fe(E,"users",D.uid),{name:u,email:f,createdAt:new Date,avatar:{color:N,initials:B}}),l("/Home")}catch(A){console.error("Error creating account:",A),v("Error creating account: "+A.message)}finally{b(!1)}},y=()=>{e(!t)};return C.jsxs("div",{className:"h-screen w-screen  flex justify-center items-center overflow-y-hidden  ",children:[x&&C.jsxs("div",{className:"flex flex-col justify-center items-center gap-6 p-4 ",children:[C.jsx(sP,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),C.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!x&&C.jsxs("div",{className:`flex mx-52 my-auto  p-20 py-52 shadow-2xl justify-center rounded-xl  items-center gap-[17%] sm:gap-40 logincontainer ${t?"animate-right":""}`,children:[C.jsxs("div",{className:" flex flex-col justify-center items-center  ",children:[C.jsxs("div",{className:"signinmode flex flex-col justify-start items-center",children:[C.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"Already have an account?"}),C.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Welcome back! Sign in to continue organizing and making progress."}),C.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign in"}),C.jsx("img",{src:"./cat.svg",className:" hover:scale-110 w-[80%] max-w-[440px] hover:transform-cpu",alt:"cat"})]}),C.jsxs("form",{className:"singinfrom flex flex-col justify-center items-center",onSubmit:R,children:[C.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign in"}),C.jsxs("div",{className:"flex relative",children:[C.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),C.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>r(S.target.value)})]}),C.jsxs("div",{className:"flex relative",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),C.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>s(S.target.value)})]}),C.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4 sm:mt-5   py-1.5 px-9 rounded-2xl  text-m",children:"Sign in"}),o&&C.jsx("p",{className:"text-center text-xs  text-red-600",children:"Oops! It looks like your email or password is incorrect. Please try again."})]})]}),C.jsxs("div",{className:"flex flex-col justify-center items-center  justify-self-end",children:[C.jsxs("div",{className:"signupmode flex flex-col justify-center items-center",children:[C.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"New to KittyTask??"}),C.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Start organizing your life today! Sign up to manage your tasks, projects, and ideas all in one place."}),C.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign up"}),C.jsx("img",{src:"./cat2.svg",className:" hover:scale-110 hover:transform-cpu w-[80%] max-w-[440px]",alt:"cat"})]}),C.jsxs("form",{className:"signupfrom flex flex-col  items-center",onSubmit:T,children:[C.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign up"}),C.jsxs("div",{className:"flex relative",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),C.jsx("input",{type:"text",placeholder:"Username",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>c(S.target.value)})]}),C.jsxs("div",{className:"flex relative",children:[C.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),C.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>p(S.target.value)})]}),C.jsxs("div",{className:"flex relative",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),C.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 mb-2 text-black  rounded-2xl w-72",onChange:S=>g(S.target.value)})]}),C.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 fm-4  sm:mt-5  py-1.5 px-9 rounded-2xl  text-m",children:"Sign up"}),m&&C.jsx("p",{className:"text-center text-xs  text-red-600",children:m})]})]})]})]})}function aF(){const[t,e]=M.useState({});M.useEffect(()=>{const o=Ki(je,a=>{a&&(async()=>{try{const u=fe(ae,"users",a.uid),c=await pu(u);if(c.exists()){const f={id:c.id,data:c.data()};e(f.data)}else console.log("No such board!")}catch(u){console.error("Error fetching board:",u)}})()});return()=>o()},[]);const n=t.avatar?t.avatar.color:"#111827",r=t.avatar?t.avatar.initials:"A",i=t.name||"Guest",s=t.email||"example@example.com";return C.jsx("div",{className:"flex bg-zinc-800 w-screen h-screen pt-20 pb-10 justify-center text-gray-300 ",children:C.jsxs("div",{className:"w-screen relative max-w-[1000px] rounded-lg pt-2 px-2 sm:p-7  bg-zinc-800 shadow-xl  ",children:[C.jsx("span",{className:"CardsArchive",children:"Cards Archive"}),C.jsxs("div",{className:"flex mr-2 mt-[7em]  hover:opacity-85 cursor-pointer w-fit",children:[C.jsx("div",{className:"flex hover:opacity-85 cursor-pointer justify-center items-center ",children:C.jsx("div",{className:" pointer-events-none mr-2 select-none  mb-1 ",style:{backgroundColor:`${n}`,color:"rgb(39, 39, 42)",width:"43px",height:"43px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"1px solid #555"},children:r.toUpperCase()})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-xl mb-[-4px]",children:i}),C.jsx("p",{className:"text-md opacity-90",children:s})]})]}),C.jsx("hr",{className:" w-full mt-2 border-0 border-b border-gray-400 border-opacity-75"}),C.jsx("div",{className:"flex w-full h-[30vh] text-3xl justify-center items-center",children:"Come in the future! :)"})]})})}function lF(){return C.jsx("div",{className:"bg-zinc-800 overflow-x-hidden box-border   h-screen flex  overflow-y-hidden p-5 justify-center homecontiner",children:C.jsx("div",{className:"flex sm:w-[100%] mb-2  items-center  mt-[40%] sm:shadow-xl  max-w-[900px] flex-col sm:mt-[10%]",children:C.jsx(Bv,{})})})}function uF(){return C.jsx(eR,{children:C.jsx(cF,{})})}function cF(){const t=sa();return C.jsxs("div",{className:"app",children:[t.pathname!=="/"&&C.jsx(sF,{}),C.jsxs(GA,{children:[C.jsx(no,{path:"/CardsArchive",element:C.jsx(aF,{})}),C.jsx(no,{path:"/Home",element:C.jsx(tF,{})}),C.jsx(no,{path:"/",element:C.jsx(oF,{})}),C.jsx(no,{path:"/Board/:id",element:C.jsx(HB,{})}),C.jsx(no,{path:"/CreateBoard",element:C.jsx(lF,{})})]})]})}hT(document.getElementById("root")).render(C.jsx(M.StrictMode,{children:C.jsx(nA,{children:C.jsx(uF,{})})}));
