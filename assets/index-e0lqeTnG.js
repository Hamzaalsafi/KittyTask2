function VP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wb={exports:{}},Ud={},bb={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),jP=Symbol.for("react.portal"),FP=Symbol.for("react.fragment"),BP=Symbol.for("react.strict_mode"),UP=Symbol.for("react.profiler"),zP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),WP=Symbol.for("react.forward_ref"),HP=Symbol.for("react.suspense"),qP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),oy=Symbol.iterator;function GP(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var _b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb=Object.assign,Tb={};function qo(t,e,n){this.props=t,this.context=e,this.refs=Tb,this.updater=n||_b}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sb(){}Sb.prototype=qo.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=Tb,this.updater=n||_b}var Gm=Km.prototype=new Sb;Gm.constructor=Km;Eb(Gm,qo.prototype);Gm.isPureReactComponent=!0;var ay=Array.isArray,kb=Object.prototype.hasOwnProperty,Qm={current:null},Cb={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kb.call(e,r)&&!Cb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wl,type:t,key:s,ref:o,props:i,_owner:Qm.current}}function QP(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function XP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ly=/\/+/g;function ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XP(""+t.key):e.toString(36)}function cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case jP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ef(o,0):r,ay(i)?(n="",t!=null&&(n=t.replace(ly,"$&/")+"/"),cu(i,e,n,"",function(c){return c})):i!=null&&(Xm(i)&&(i=QP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ly,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ay(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ef(s,a);o+=cu(s,e,n,l,i)}else if(l=GP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ef(s,a++),o+=cu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dc(t,e,n){if(t==null)return t;var r=[],i=0;return cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},uu={transition:null},JP={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:uu,ReactCurrentOwner:Qm};function Ib(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!Xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=qo;ke.Fragment=FP;ke.Profiler=UP;ke.PureComponent=Km;ke.StrictMode=BP;ke.Suspense=HP;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JP;ke.act=Ib;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Eb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kb.call(e,l)&&!Cb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wl,type:t.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zP,_context:t},t.Consumer=t};ke.createElement=Pb;ke.createFactory=function(t){var e=Pb.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:WP,render:t}};ke.isValidElement=Xm;ke.lazy=function(t){return{$$typeof:KP,_payload:{_status:-1,_result:t},_init:YP}};ke.memo=function(t,e){return{$$typeof:qP,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};ke.unstable_act=Ib;ke.useCallback=function(t,e){return un.current.useCallback(t,e)};ke.useContext=function(t){return un.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return un.current.useDeferredValue(t)};ke.useEffect=function(t,e){return un.current.useEffect(t,e)};ke.useId=function(){return un.current.useId()};ke.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return un.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};ke.useRef=function(t){return un.current.useRef(t)};ke.useState=function(t){return un.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return un.current.useTransition()};ke.version="18.3.1";bb.exports=ke;var M=bb.exports;const be=xb(M),ZP=VP({__proto__:null,default:be},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=M,t2=Symbol.for("react.element"),n2=Symbol.for("react.fragment"),r2=Object.prototype.hasOwnProperty,i2=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s2={key:!0,ref:!0,__self:!0,__source:!0};function Ab(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r2.call(e,r)&&!s2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t2,type:t,key:s,ref:o,props:i,_owner:i2.current}}Ud.Fragment=n2;Ud.jsx=Ab;Ud.jsxs=Ab;wb.exports=Ud;var P=wb.exports,Rb={exports:{}},Dn={},Db={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var Q=V.length;V.push(W);e:for(;0<Q;){var oe=Q-1>>>1,ee=V[oe];if(0<i(ee,W))V[oe]=W,V[Q]=ee,Q=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],Q=V.pop();if(Q!==W){V[0]=Q;e:for(var oe=0,ee=V.length,ae=ee>>>1;oe<ae;){var Re=2*(oe+1)-1,Ae=V[Re],re=Re+1,De=V[re];if(0>i(Ae,Q))re<ee&&0>i(De,Ae)?(V[oe]=De,V[re]=Q,oe=re):(V[oe]=Ae,V[Re]=Q,oe=Re);else if(re<ee&&0>i(De,Q))V[oe]=De,V[re]=Q,oe=re;else break e}}return W}function i(V,W){var Q=V.sortIndex-W.sortIndex;return Q!==0?Q:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,h=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=V)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function R(V){if(m=!1,_(V),!g)if(n(l)!==null)g=!0,Y(E);else{var W=n(c);W!==null&&U(R,W.startTime-V)}}function E(V,W){g=!1,m&&(m=!1,x(y),y=-1),h=!0;var Q=p;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||V&&!I());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var ee=oe(f.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var Re=n(c);Re!==null&&U(R,Re.startTime-W),ae=!1}return ae}finally{f=null,p=Q,h=!1}}var A=!1,T=null,y=-1,S=5,k=-1;function I(){return!(t.unstable_now()-k<S)}function D(){if(T!==null){var V=t.unstable_now();k=V;var W=!0;try{W=T(!0,V)}finally{W?N():(A=!1,T=null)}}else A=!1}var N;if(typeof w=="function")N=function(){w(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,N=function(){z.postMessage(null)}}else N=function(){v(D,0)};function Y(V){T=V,A||(A=!0,N())}function U(V,W){y=v(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,Y(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var Q=p;p=W;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return W()}finally{p=Q}},t.unstable_scheduleCallback=function(V,W,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,V={id:u++,callback:W,priorityLevel:V,startTime:Q,expirationTime:ee,sortIndex:-1},Q>oe?(V.sortIndex=Q,e(c,V),n(l)===null&&V===n(c)&&(m?(x(y),y=-1):m=!0,U(R,Q-oe))):(V.sortIndex=ee,e(l,V),g||h||(g=!0,Y(E))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var W=p;return function(){var Q=p;p=W;try{return V.apply(this,arguments)}finally{p=Q}}}})(Nb);Db.exports=Nb;var o2=Db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=M,An=o2;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mb=new Set,ul={};function As(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(ul[t]=e,t=0;t<e.length;t++)Mb.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,l2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},uy={};function c2(t){return ip.call(uy,t)?!0:ip.call(cy,t)?!1:l2.test(t)?uy[t]=!0:(cy[t]=!0,!1)}function u2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d2(t,e,n,r){if(e===null||typeof e>"u"||u2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ym,Jm);Ut[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ym,Jm);Ut[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ym,Jm);Ut[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d2(e,n,i,r)&&(n=null),r||i===null?c2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),dy=Symbol.iterator;function wa(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,tf;function Ia(t){if(tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var nf=!1;function rf(t,e){if(!t||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ia(t):""}function h2(t){switch(t.tag){case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return t=rf(t.type,!1),t;case 11:return t=rf(t.type.render,!1),t;case 1:return t=rf(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case sp:return"Profiler";case eg:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lb:return(t.displayName||"Context")+".Consumer";case Ob:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function f2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p2(t){var e=jb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mc(t){t._valueTracker||(t._valueTracker=p2(t))}function Fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function up(t,e){Bb(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||Vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function py(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Aa(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function Ub(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function my(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oc,$b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m2=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){m2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function Wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function Hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var g2=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(g2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vp=null,yo=null,xo=null;function gy(t){if(t=Kl(t)){if(typeof vp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=qd(e),vp(t.stateNode,t.type,e))}}function qb(t){yo?xo?xo.push(t):xo=[t]:yo=t}function Kb(){if(yo){var t=yo,e=xo;if(xo=yo=null,gy(t),e)for(t=0;t<e.length;t++)gy(e[t])}}function Gb(t,e){return t(e)}function Qb(){}var sf=!1;function Xb(t,e,n){if(sf)return t(e,n);sf=!0;try{return Gb(t,e,n)}finally{sf=!1,(yo!==null||xo!==null)&&(Qb(),Kb())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var yp=!1;if(Wr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){yp=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{yp=!1}function v2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ha=!1,ju=null,Fu=!1,xp=null,y2={onError:function(t){Ha=!0,ju=t}};function x2(t,e,n,r,i,s,o,a,l){Ha=!1,ju=null,v2.apply(y2,arguments)}function w2(t,e,n,r,i,s,o,a,l){if(x2.apply(this,arguments),Ha){if(Ha){var c=ju;Ha=!1,ju=null}else throw Error(K(198));Fu||(Fu=!0,xp=c)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vy(t){if(Rs(t)!==t)throw Error(K(188))}function b2(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vy(i),t;if(s===r)return vy(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Jb(t){return t=b2(t),t!==null?Zb(t):null}function Zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zb(t);if(e!==null)return e;t=t.sibling}return null}var e_=An.unstable_scheduleCallback,yy=An.unstable_cancelCallback,_2=An.unstable_shouldYield,E2=An.unstable_requestPaint,mt=An.unstable_now,T2=An.unstable_getCurrentPriorityLevel,ig=An.unstable_ImmediatePriority,t_=An.unstable_UserBlockingPriority,Bu=An.unstable_NormalPriority,S2=An.unstable_LowPriority,n_=An.unstable_IdlePriority,zd=null,mr=null;function k2(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(zd,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:I2,C2=Math.log,P2=Math.LN2;function I2(t){return t>>>=0,t===0?32:31-(C2(t)/P2|0)|0}var Lc=64,Vc=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ra(a):(s&=o,s!==0&&(r=Ra(s)))}else o=n&~i,o!==0?r=Ra(o):s!==0&&(r=Ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function A2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=A2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r_(){var t=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function D2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function i_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s_,og,o_,a_,l_,bp=!1,jc=[],Ei=null,Ti=null,Si=null,fl=new Map,pl=new Map,hi=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xy(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Kl(e),e!==null&&og(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M2(t,e,n,r,i){switch(e){case"focusin":return Ei=_a(Ei,t,e,n,r,i),!0;case"dragenter":return Ti=_a(Ti,t,e,n,r,i),!0;case"mouseover":return Si=_a(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,_a(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,_a(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function c_(t){var e=ds(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Yb(n),e!==null){t.blockedOn=e,l_(t.priority,function(){o_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return e=Kl(n),e!==null&&og(e),t.blockedOn=n,!1;e.shift()}return!0}function wy(t,e,n){du(t)&&n.delete(e)}function O2(){bp=!1,Ei!==null&&du(Ei)&&(Ei=null),Ti!==null&&du(Ti)&&(Ti=null),Si!==null&&du(Si)&&(Si=null),fl.forEach(wy),pl.forEach(wy)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,bp||(bp=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,O2)))}function ml(t){function e(i){return Ea(i,t)}if(0<jc.length){Ea(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Ea(Ei,t),Ti!==null&&Ea(Ti,t),Si!==null&&Ea(Si,t),fl.forEach(e),pl.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)c_(n),n.blockedOn===null&&hi.shift()}var wo=Jr.ReactCurrentBatchConfig,zu=!0;function L2(t,e,n,r){var i=ze,s=wo.transition;wo.transition=null;try{ze=1,ag(t,e,n,r)}finally{ze=i,wo.transition=s}}function V2(t,e,n,r){var i=ze,s=wo.transition;wo.transition=null;try{ze=4,ag(t,e,n,r)}finally{ze=i,wo.transition=s}}function ag(t,e,n,r){if(zu){var i=_p(t,e,n,r);if(i===null)gf(t,e,r,$u,n),xy(t,r);else if(M2(i,t,e,n,r))r.stopPropagation();else if(xy(t,r),e&4&&-1<N2.indexOf(t)){for(;i!==null;){var s=Kl(i);if(s!==null&&s_(s),s=_p(t,e,n,r),s===null&&gf(t,e,r,$u,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gf(t,e,r,null,n)}}var $u=null;function _p(t,e,n,r){if($u=null,t=rg(r),t=ds(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $u=t,null}function u_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case ig:return 1;case t_:return 4;case Bu:case S2:return 16;case n_:return 536870912;default:return 16}default:return 16}}var yi=null,lg=null,hu=null;function d_(){if(hu)return hu;var t,e=lg,n=e.length,r,i="value"in yi?yi.value:yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hu=i.slice(t,1<r?1-r:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function by(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fc:by,this.isPropagationStopped=by,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=Nn(Ko),ql=at({},Ko,{view:0,detail:0}),j2=Nn(ql),af,lf,Ta,$d=at({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ta&&(Ta&&t.type==="mousemove"?(af=t.screenX-Ta.screenX,lf=t.screenY-Ta.screenY):lf=af=0,Ta=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),_y=Nn($d),F2=at({},$d,{dataTransfer:0}),B2=Nn(F2),U2=at({},ql,{relatedTarget:0}),cf=Nn(U2),z2=at({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Nn(z2),W2=at({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H2=Nn(W2),q2=at({},Ko,{data:0}),Ey=Nn(q2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q2[t])?!!e[t]:!1}function ug(){return X2}var Y2=at({},ql,{key:function(t){if(t.key){var e=K2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J2=Nn(Y2),Z2=at({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ty=Nn(Z2),eI=at({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),tI=Nn(eI),nI=at({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=Nn(nI),iI=at({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sI=Nn(iI),oI=[9,13,27,32],dg=Wr&&"CompositionEvent"in window,qa=null;Wr&&"documentMode"in document&&(qa=document.documentMode);var aI=Wr&&"TextEvent"in window&&!qa,h_=Wr&&(!dg||qa&&8<qa&&11>=qa),Sy=" ",ky=!1;function f_(t,e){switch(t){case"keyup":return oI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function lI(t,e){switch(t){case"compositionend":return p_(e);case"keypress":return e.which!==32?null:(ky=!0,Sy);case"textInput":return t=e.data,t===Sy&&ky?null:t;default:return null}}function cI(t,e){if(eo)return t==="compositionend"||!dg&&f_(t,e)?(t=d_(),hu=lg=yi=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h_&&e.locale!=="ko"?null:e.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uI[t.type]:e==="textarea"}function m_(t,e,n,r){qb(r),e=Wu(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,gl=null;function dI(t){k_(t,0)}function Wd(t){var e=ro(t);if(Fb(e))return t}function hI(t,e){if(t==="change")return e}var g_=!1;if(Wr){var uf;if(Wr){var df="oninput"in document;if(!df){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),df=typeof Py.oninput=="function"}uf=df}else uf=!1;g_=uf&&(!document.documentMode||9<document.documentMode)}function Iy(){Ka&&(Ka.detachEvent("onpropertychange",v_),gl=Ka=null)}function v_(t){if(t.propertyName==="value"&&Wd(gl)){var e=[];m_(e,gl,t,rg(t)),Xb(dI,e)}}function fI(t,e,n){t==="focusin"?(Iy(),Ka=e,gl=n,Ka.attachEvent("onpropertychange",v_)):t==="focusout"&&Iy()}function pI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wd(gl)}function mI(t,e){if(t==="click")return Wd(e)}function gI(t,e){if(t==="input"||t==="change")return Wd(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:vI;function vl(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function Ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ry(t,e){var n=Ay(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ay(n)}}function y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x_(){for(var t=window,e=Vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vu(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yI(t){var e=x_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y_(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ry(n,s);var o=Ry(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=Wr&&"documentMode"in document&&11>=document.documentMode,to=null,Ep=null,Ga=null,Tp=!1;function Dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tp||to==null||to!==Vu(r)||(r=to,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&vl(Ga,r)||(Ga=r,r=Wu(Ep,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},hf={},w_={};Wr&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Hd(t){if(hf[t])return hf[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w_)return hf[t]=e[n];return t}var b_=Hd("animationend"),__=Hd("animationiteration"),E_=Hd("animationstart"),T_=Hd("transitionend"),S_=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){S_.set(t,e),As(e,[t])}for(var ff=0;ff<Ny.length;ff++){var pf=Ny[ff],wI=pf.toLowerCase(),bI=pf[0].toUpperCase()+pf.slice(1);qi(wI,"on"+bI)}qi(b_,"onAnimationEnd");qi(__,"onAnimationIteration");qi(E_,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(T_,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function My(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w2(r,e,void 0,t),t.currentTarget=null}function k_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;My(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;My(i,a,c),s=l}}}if(Fu)throw t=xp,Fu=!1,xp=null,t}function Xe(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var r=t+"__bubble";n.has(r)||(C_(e,t,2,!1),n.add(r))}function mf(t,e,n){var r=0;e&&(r|=4),C_(n,t,r,e)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Uc]){t[Uc]=!0,Mb.forEach(function(n){n!=="selectionchange"&&(_I.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uc]||(e[Uc]=!0,mf("selectionchange",!1,e))}}function C_(t,e,n,r){switch(u_(e)){case 1:var i=L2;break;case 4:i=V2;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Xb(function(){var c=s,u=rg(n),f=[];e:{var p=S_.get(t);if(p!==void 0){var h=cg,g=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":h=J2;break;case"focusin":g="focus",h=cf;break;case"focusout":g="blur",h=cf;break;case"beforeblur":case"afterblur":h=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=tI;break;case b_:case __:case E_:h=$2;break;case T_:h=rI;break;case"scroll":h=j2;break;case"wheel":h=sI;break;case"copy":case"cut":case"paste":h=H2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ty}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?p!==null?p+"Capture":null:p;m=[];for(var w=c,_;w!==null;){_=w;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,x!==null&&(R=hl(w,x),R!=null&&m.push(xl(w,R,_)))),v)break;w=w.return}0<m.length&&(p=new h(p,g,null,n,u),f.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==gp&&(g=n.relatedTarget||n.fromElement)&&(ds(g)||g[Hr]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?ds(g):null,g!==null&&(v=Rs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=_y,R="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ty,R="onPointerLeave",x="onPointerEnter",w="pointer"),v=h==null?p:ro(h),_=g==null?p:ro(g),p=new m(R,w+"leave",h,n,u),p.target=v,p.relatedTarget=_,R=null,ds(u)===c&&(m=new m(x,w+"enter",g,n,u),m.target=_,m.relatedTarget=v,R=m),v=R,h&&g)t:{for(m=h,x=g,w=0,_=m;_;_=$s(_))w++;for(_=0,R=x;R;R=$s(R))_++;for(;0<w-_;)m=$s(m),w--;for(;0<_-w;)x=$s(x),_--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=$s(m),x=$s(x)}m=null}else m=null;h!==null&&Oy(f,p,h,m,!1),g!==null&&v!==null&&Oy(f,v,g,m,!0)}}e:{if(p=c?ro(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=hI;else if(Cy(p))if(g_)E=gI;else{E=pI;var A=fI}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=mI);if(E&&(E=E(t,c))){m_(f,E,n,u);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&dp(p,"number",p.value)}switch(A=c?ro(c):window,t){case"focusin":(Cy(A)||A.contentEditable==="true")&&(to=A,Ep=c,Ga=null);break;case"focusout":Ga=Ep=to=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,Dy(f,n,u);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":Dy(f,n,u)}var T;if(dg)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else eo?f_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(h_&&n.locale!=="ko"&&(eo||y!=="onCompositionStart"?y==="onCompositionEnd"&&eo&&(T=d_()):(yi=u,lg="value"in yi?yi.value:yi.textContent,eo=!0)),A=Wu(c,y),0<A.length&&(y=new Ey(y,t,null,n,u),f.push({event:y,listeners:A}),T?y.data=T:(T=p_(n),T!==null&&(y.data=T)))),(T=aI?lI(t,n):cI(t,n))&&(c=Wu(c,"onBeforeInput"),0<c.length&&(u=new Ey("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}k_(f,e)})}function xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(xl(t,s,i)),s=hl(t,e),s!=null&&r.push(xl(t,s,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=hl(n,s),l!=null&&o.unshift(xl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function Ly(t){return(typeof t=="string"?t:""+t).replace(EI,`
`).replace(TI,"")}function zc(t,e,n){if(e=Ly(e),Ly(t)!==e&&n)throw Error(K(425))}function Hu(){}var Sp=null,kp=null;function Cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,kI=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(t){return Vy.resolve(null).then(t).catch(CI)}:Pp;function CI(t){setTimeout(function(){throw t})}function vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),fr="__reactFiber$"+Go,wl="__reactProps$"+Go,Hr="__reactContainer$"+Go,Ip="__reactEvents$"+Go,PI="__reactListeners$"+Go,II="__reactHandles$"+Go;function ds(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jy(t);t!==null;){if(n=t[fr])return n;t=jy(t)}return e}t=n,n=t.parentNode}return null}function Kl(t){return t=t[fr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function qd(t){return t[wl]||null}var Ap=[],io=-1;function Ki(t){return{current:t}}function Ye(t){0>io||(t.current=Ap[io],Ap[io]=null,io--)}function Ge(t,e){io++,Ap[io]=t.current,t.current=e}var Vi={},rn=Ki(Vi),vn=Ki(!1),ws=Vi;function Io(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function qu(){Ye(vn),Ye(rn)}function Fy(t,e,n){if(rn.current!==Vi)throw Error(K(168));Ge(rn,e),Ge(vn,n)}function P_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,f2(t)||"Unknown",i));return at({},n,r)}function Ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,ws=rn.current,Ge(rn,t),Ge(vn,vn.current),!0}function By(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=P_(t,e,ws),r.__reactInternalMemoizedMergedChildContext=t,Ye(vn),Ye(rn),Ge(rn,t)):Ye(vn),Ge(vn,n)}var Ar=null,Kd=!1,yf=!1;function I_(t){Ar===null?Ar=[t]:Ar.push(t)}function AI(t){Kd=!0,I_(t)}function Gi(){if(!yf&&Ar!==null){yf=!0;var t=0,e=ze;try{var n=Ar;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Kd=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),e_(ig,Gi),i}finally{ze=e,yf=!1}}return null}var so=[],oo=0,Gu=null,Qu=0,Fn=[],Bn=0,bs=null,Rr=1,Dr="";function ss(t,e){so[oo++]=Qu,so[oo++]=Gu,Gu=t,Qu=e}function A_(t,e,n){Fn[Bn++]=Rr,Fn[Bn++]=Dr,Fn[Bn++]=bs,bs=t;var r=Rr;t=Dr;var i=32-er(r)-1;r&=~(1<<i),n+=1;var s=32-er(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-er(e)+i|n<<i|r,Dr=s+t}else Rr=1<<s|n<<i|r,Dr=t}function fg(t){t.return!==null&&(ss(t,1),A_(t,1,0))}function pg(t){for(;t===Gu;)Gu=so[--oo],so[oo]=null,Qu=so[--oo],so[oo]=null;for(;t===bs;)bs=Fn[--Bn],Fn[Bn]=null,Dr=Fn[--Bn],Fn[Bn]=null,Rr=Fn[--Bn],Fn[Bn]=null}var In=null,Cn=null,et=!1,Yn=null;function R_(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Cn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:Rr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Cn=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(et){var e=Cn;if(e){var n=e;if(!Uy(t,e)){if(Rp(t))throw Error(K(418));e=ki(n.nextSibling);var r=In;e&&Uy(t,e)?R_(r,n):(t.flags=t.flags&-4097|2,et=!1,In=t)}}else{if(Rp(t))throw Error(K(418));t.flags=t.flags&-4097|2,et=!1,In=t}}}function zy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function $c(t){if(t!==In)return!1;if(!et)return zy(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cp(t.type,t.memoizedProps)),e&&(e=Cn)){if(Rp(t))throw D_(),Error(K(418));for(;e;)R_(t,e),e=ki(e.nextSibling)}if(zy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=In?ki(t.stateNode.nextSibling):null;return!0}function D_(){for(var t=Cn;t;)t=ki(t.nextSibling)}function Ao(){Cn=In=null,et=!1}function mg(t){Yn===null?Yn=[t]:Yn.push(t)}var RI=Jr.ReactCurrentBatchConfig;function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Wc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function N_(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ai(x,w),x.index=0,x.sibling=null,x}function s(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,_,R){return w===null||w.tag!==6?(w=Sf(_,x.mode,R),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,R){var E=_.type;return E===Zs?u(x,w,_.props.children,R,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ci&&$y(E)===w.type)?(R=i(w,_.props),R.ref=Sa(x,w,_),R.return=x,R):(R=wu(_.type,_.key,_.props,null,x.mode,R),R.ref=Sa(x,w,_),R.return=x,R)}function c(x,w,_,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=kf(_,x.mode,R),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function u(x,w,_,R,E){return w===null||w.tag!==7?(w=vs(_,x.mode,R,E),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Sf(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:return _=wu(w.type,w.key,w.props,null,x.mode,_),_.ref=Sa(x,null,w),_.return=x,_;case Js:return w=kf(w,x.mode,_),w.return=x,w;case ci:var R=w._init;return f(x,R(w._payload),_)}if(Aa(w)||wa(w))return w=vs(w,x.mode,_,null),w.return=x,w;Wc(x,w)}return null}function p(x,w,_,R){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(x,w,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return _.key===E?l(x,w,_,R):null;case Js:return _.key===E?c(x,w,_,R):null;case ci:return E=_._init,p(x,w,E(_._payload),R)}if(Aa(_)||wa(_))return E!==null?null:u(x,w,_,R,null);Wc(x,_)}return null}function h(x,w,_,R,E){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(_)||null,a(w,x,""+R,E);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Nc:return x=x.get(R.key===null?_:R.key)||null,l(w,x,R,E);case Js:return x=x.get(R.key===null?_:R.key)||null,c(w,x,R,E);case ci:var A=R._init;return h(x,w,_,A(R._payload),E)}if(Aa(R)||wa(R))return x=x.get(_)||null,u(w,x,R,E,null);Wc(w,R)}return null}function g(x,w,_,R){for(var E=null,A=null,T=w,y=w=0,S=null;T!==null&&y<_.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var k=p(x,T,_[y],R);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(x,T),w=s(k,w,y),A===null?E=k:A.sibling=k,A=k,T=S}if(y===_.length)return n(x,T),et&&ss(x,y),E;if(T===null){for(;y<_.length;y++)T=f(x,_[y],R),T!==null&&(w=s(T,w,y),A===null?E=T:A.sibling=T,A=T);return et&&ss(x,y),E}for(T=r(x,T);y<_.length;y++)S=h(T,x,y,_[y],R),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?y:S.key),w=s(S,w,y),A===null?E=S:A.sibling=S,A=S);return t&&T.forEach(function(I){return e(x,I)}),et&&ss(x,y),E}function m(x,w,_,R){var E=wa(_);if(typeof E!="function")throw Error(K(150));if(_=E.call(_),_==null)throw Error(K(151));for(var A=E=null,T=w,y=w=0,S=null,k=_.next();T!==null&&!k.done;y++,k=_.next()){T.index>y?(S=T,T=null):S=T.sibling;var I=p(x,T,k.value,R);if(I===null){T===null&&(T=S);break}t&&T&&I.alternate===null&&e(x,T),w=s(I,w,y),A===null?E=I:A.sibling=I,A=I,T=S}if(k.done)return n(x,T),et&&ss(x,y),E;if(T===null){for(;!k.done;y++,k=_.next())k=f(x,k.value,R),k!==null&&(w=s(k,w,y),A===null?E=k:A.sibling=k,A=k);return et&&ss(x,y),E}for(T=r(x,T);!k.done;y++,k=_.next())k=h(T,x,y,k.value,R),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?y:k.key),w=s(k,w,y),A===null?E=k:A.sibling=k,A=k);return t&&T.forEach(function(D){return e(x,D)}),et&&ss(x,y),E}function v(x,w,_,R){if(typeof _=="object"&&_!==null&&_.type===Zs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:e:{for(var E=_.key,A=w;A!==null;){if(A.key===E){if(E=_.type,E===Zs){if(A.tag===7){n(x,A.sibling),w=i(A,_.props.children),w.return=x,x=w;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ci&&$y(E)===A.type){n(x,A.sibling),w=i(A,_.props),w.ref=Sa(x,A,_),w.return=x,x=w;break e}n(x,A);break}else e(x,A);A=A.sibling}_.type===Zs?(w=vs(_.props.children,x.mode,R,_.key),w.return=x,x=w):(R=wu(_.type,_.key,_.props,null,x.mode,R),R.ref=Sa(x,w,_),R.return=x,x=R)}return o(x);case Js:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=kf(_,x.mode,R),w.return=x,x=w}return o(x);case ci:return A=_._init,v(x,w,A(_._payload),R)}if(Aa(_))return g(x,w,_,R);if(wa(_))return m(x,w,_,R);Wc(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=Sf(_,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return v}var Ro=N_(!0),M_=N_(!1),Xu=Ki(null),Yu=null,ao=null,gg=null;function vg(){gg=ao=Yu=null}function yg(t){var e=Xu.current;Ye(Xu),t._currentValue=e}function Np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){Yu=t,gg=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(Yu===null)throw Error(K(308));ao=t,Yu.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var hs=null;function xg(t){hs===null?hs=[t]:hs.push(t)}function O_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ju(t,e,n,r){var i=t.updateQueue;ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(p=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=at({},f,p);break e;case 2:ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=f}}function Hy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Gl={},gr=Ki(Gl),bl=Ki(Gl),_l=Ki(Gl);function fs(t){if(t===Gl)throw Error(K(174));return t}function bg(t,e){switch(Ge(_l,e),Ge(bl,t),Ge(gr,Gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}Ye(gr),Ge(gr,e)}function Do(){Ye(gr),Ye(bl),Ye(_l)}function V_(t){fs(_l.current);var e=fs(gr.current),n=fp(e,t.type);e!==n&&(Ge(bl,t),Ge(gr,n))}function _g(t){bl.current===t&&(Ye(gr),Ye(bl))}var it=Ki(0);function Zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function Eg(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var mu=Jr.ReactCurrentDispatcher,wf=Jr.ReactCurrentBatchConfig,_s=0,ot=null,xt=null,It=null,ed=!1,Qa=!1,El=0,DI=0;function Gt(){throw Error(K(321))}function Tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,s){if(_s=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?LI:VI,t=n(r,i),Qa){s=0;do{if(Qa=!1,El=0,25<=s)throw Error(K(301));s+=1,It=xt=null,e.updateQueue=null,mu.current=jI,t=n(r,i)}while(Qa)}if(mu.current=td,e=xt!==null&&xt.next!==null,_s=0,It=xt=ot=null,ed=!1,e)throw Error(K(300));return t}function kg(){var t=El!==0;return El=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ot.memoizedState=It=t:It=It.next=t,It}function Wn(){if(xt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=It===null?ot.memoizedState:It.next;if(e!==null)It=e,xt=t;else{if(t===null)throw Error(K(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?ot.memoizedState=It=t:It=It.next=t}return It}function Tl(t,e){return typeof e=="function"?e(t):e}function bf(t){var e=Wn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((_s&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ot.lanes|=u,Es|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,Es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=Wn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j_(){}function F_(t,e){var n=ot,r=Wn(),i=e(),s=!rr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,Cg(z_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Sl(9,U_.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(K(349));_s&30||B_(n,e,i)}return i}function B_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U_(t,e,n,r){e.value=n,e.getSnapshot=r,$_(e)&&W_(t)}function z_(t,e,n){return n(function(){$_(e)&&W_(t)})}function $_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function W_(t){var e=qr(t,1);e!==null&&tr(e,t,1,-1)}function qy(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=OI.bind(null,ot,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H_(){return Wn().memoizedState}function gu(t,e,n,r){var i=hr();ot.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&Tg(r,o.deps)){i.memoizedState=Sl(e,n,s,r);return}}ot.flags|=t,i.memoizedState=Sl(1|e,n,s,r)}function Ky(t,e){return gu(8390656,8,t,e)}function Cg(t,e){return Gd(2048,8,t,e)}function q_(t,e){return Gd(4,2,t,e)}function K_(t,e){return Gd(4,4,t,e)}function G_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q_(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,G_.bind(null,e,t),n)}function Pg(){}function X_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J_(t,e,n){return _s&21?(rr(n,e)||(n=r_(),ot.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function NI(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=wf.transition;wf.transition={};try{t(!1),e()}finally{ze=n,wf.transition=r}}function Z_(){return Wn().memoizedState}function MI(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eE(t))tE(e,n);else if(n=O_(t,e,n,r),n!==null){var i=cn();tr(n,t,r,i),nE(n,e,r)}}function OI(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eE(t))tE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(i.next=i,xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=O_(t,e,i,r),n!==null&&(i=cn(),tr(n,t,r,i),nE(n,e,r))}}function eE(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function tE(t,e){Qa=ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}var td={readContext:$n,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},LI={readContext:$n,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:Ky,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,G_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MI.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:qy,useDebugValue:Pg,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=qy(!1),e=t[0];return t=NI.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=hr();if(et){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Rt===null)throw Error(K(349));_s&30||B_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ky(z_.bind(null,r,s,t),[t]),r.flags|=2048,Sl(9,U_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=Rt.identifierPrefix;if(et){var n=Dr,r=Rr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VI={readContext:$n,useCallback:X_,useContext:$n,useEffect:Cg,useImperativeHandle:Q_,useInsertionEffect:q_,useLayoutEffect:K_,useMemo:Y_,useReducer:bf,useRef:H_,useState:function(){return bf(Tl)},useDebugValue:Pg,useDeferredValue:function(t){var e=Wn();return J_(e,xt.memoizedState,t)},useTransition:function(){var t=bf(Tl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:F_,useId:Z_,unstable_isNewReconciler:!1},jI={readContext:$n,useCallback:X_,useContext:$n,useEffect:Cg,useImperativeHandle:Q_,useInsertionEffect:q_,useLayoutEffect:K_,useMemo:Y_,useReducer:_f,useRef:H_,useState:function(){return _f(Tl)},useDebugValue:Pg,useDeferredValue:function(t){var e=Wn();return xt===null?e.memoizedState=t:J_(e,xt.memoizedState,t)},useTransition:function(){var t=_f(Tl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:F_,useId:Z_,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Ii(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(tr(e,t,i,r),pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Ii(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(tr(e,t,i,r),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Ii(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,r),e!==null&&(tr(e,t,r,n),pu(e,t,r))}};function Gy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function rE(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=yn(e)?ws:rn.current,r=e.contextTypes,s=(r=r!=null)?Io(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=yn(e)?ws:rn.current,i.context=Io(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qd.enqueueReplaceState(i,i.state,null),Ju(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e){try{var n="",r=e;do n+=h2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FI=typeof WeakMap=="function"?WeakMap:Map;function iE(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rd||(rd=!0,qp=r),Lp(t,e)},n}function sE(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZI.bind(null,t,e,n),e.then(t,t))}function Yy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var BI=Jr.ReactCurrentOwner,gn=!1;function ln(t,e,n,r){e.child=t===null?M_(e,null,n,r):Ro(e,t.child,n,r)}function Zy(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=Sg(t,e,n,r,s,i),n=kg(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(et&&n&&fg(e),e.flags|=1,ln(t,e,r,i),e.child)}function e1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oE(t,e,s,r,i)):(t=wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Ai(s,r),t.ref=e.ref,t.return=e,e.child=t}function oE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return Vp(t,e,n,r,i)}function aE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(co,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(co,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(co,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(co,kn),kn|=r;return ln(t,e,i,n),e.child}function lE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vp(t,e,n,r,i){var s=yn(n)?ws:rn.current;return s=Io(e,s),bo(e,i),n=Sg(t,e,n,r,s,i),r=kg(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(et&&r&&fg(e),e.flags|=1,ln(t,e,n,i),e.child)}function t1(t,e,n,r,i){if(yn(n)){var s=!0;Ku(e)}else s=!1;if(bo(e,i),e.stateNode===null)vu(t,e),rE(e,n,r),Op(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=yn(n)?ws:rn.current,c=Io(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Qy(e,o,r,c),ui=!1;var p=e.memoizedState;o.state=p,Ju(e,r,o,i),l=e.memoizedState,a!==r||p!==l||vn.current||ui?(typeof u=="function"&&(Mp(e,n,u,r),l=e.memoizedState),(a=ui||Gy(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,L_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=yn(n)?ws:rn.current,l=Io(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Qy(e,o,r,l),ui=!1,p=e.memoizedState,o.state=p,Ju(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||vn.current||ui?(typeof h=="function"&&(Mp(e,n,h,r),g=e.memoizedState),(c=ui||Gy(e,n,c,r,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return jp(t,e,n,r,s,i)}function jp(t,e,n,r,i,s){lE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&By(e,n,!1),Kr(t,e,s);r=e.stateNode,BI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ro(e,t.child,null,s),e.child=Ro(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&By(e,n,!0),e.child}function cE(t){var e=t.stateNode;e.pendingContext?Fy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fy(t,e.context,!1),bg(t,e.containerInfo)}function n1(t,e,n,r,i){return Ao(),mg(i),e.flags|=256,ln(t,e,n,r),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function uE(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(it,i&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jd(o,r,0,null),t=vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bp(n),e.memoizedState=Fp,t):Ig(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ai(a,s):(s=vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fp,r}return s=t.child,t=s.sibling,r=Ai(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ig(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hc(t,e,n,r){return r!==null&&mg(r),Ro(e,t.child,null,n),t=Ig(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(K(422))),Hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jd({mode:"visible",children:r.children},i,0,null),s=vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ro(e,t.child,null,o),e.child.memoizedState=Bp(o),e.memoizedState=Fp,s);if(!(e.mode&1))return Hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Ef(s,r,void 0),Hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qr(t,i),tr(r,t,i,-1))}return Og(),r=Ef(Error(K(421))),Hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=ki(i.nextSibling),In=e,et=!0,Yn=null,t!==null&&(Fn[Bn++]=Rr,Fn[Bn++]=Dr,Fn[Bn++]=bs,Rr=t.id,Dr=t.overflow,bs=e),e=Ig(e,r.children),e.flags|=4096,e)}function r1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Np(t.return,e,n)}function Tf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r1(t,n,e);else if(t.tag===19)r1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zI(t,e,n){switch(e.tag){case 3:cE(e),Ao();break;case 5:V_(e);break;case 1:yn(e.type)&&Ku(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Xu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?uE(t,e,n):(Ge(it,it.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,aE(t,e,n)}return Kr(t,e,n)}var hE,Up,fE,pE;hE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Up=function(){};fE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(gr.current);var s=null;switch(n){case"input":i=cp(t,i),r=cp(t,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=hp(t,i),r=hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hu)}pp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ul.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ul.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $I(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return yn(e.type)&&qu(),Qt(e),null;case 3:return r=e.stateNode,Do(),Ye(vn),Ye(rn),Eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Qp(Yn),Yn=null))),Up(t,e),Qt(e),null;case 5:_g(e);var i=fs(_l.current);if(n=e.type,t!==null&&e.stateNode!=null)fE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Qt(e),null}if(t=fs(gr.current),$c(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Da.length;i++)Xe(Da[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":hy(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":py(r,s),Xe("invalid",r)}pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zc(r.textContent,a,t),i=["children",""+a]):ul.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Mc(r),fy(r,s,!0);break;case"textarea":Mc(r),my(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[wl]=r,hE(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Da.length;i++)Xe(Da[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":hy(t,r),i=cp(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":py(t,r),i=hp(t,r),Xe("invalid",t);break;default:i=r}pp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Hb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$b(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",t):l!=null&&Zm(t,s,l,o))}switch(n){case"input":Mc(t),fy(t,r,!1);break;case"textarea":Mc(t),my(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)pE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=fs(_l.current),fs(gr.current),$c(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Qt(e),null;case 13:if(Ye(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Cn!==null&&e.mode&1&&!(e.flags&128))D_(),Ao(),e.flags|=98560,s=!1;else if(s=$c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[fr]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else Yn!==null&&(Qp(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?_t===0&&(_t=3):Og())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return Do(),Up(t,e),t===null&&yl(e.stateNode.containerInfo),Qt(e),null;case 10:return yg(e.type._context),Qt(e),null;case 17:return yn(e.type)&&qu(),Qt(e),null;case 19:if(Ye(it),s=e.memoizedState,s===null)return Qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ka(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zu(t),o!==null){for(e.flags|=128,ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>Mo&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Qt(e),null}else 2*mt()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=it.current,Ge(it,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return Mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function WI(t,e){switch(pg(e),e.tag){case 1:return yn(e.type)&&qu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),Ye(vn),Ye(rn),Eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _g(e),null;case 13:if(Ye(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(it),null;case 4:return Do(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var qc=!1,Zt=!1,HI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function zp(t,e,n){try{n()}catch(r){ut(t,e,r)}}var i1=!1;function qI(t,e){if(Sp=zu,t=x_(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:t,selectionRange:n},zu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Gn(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(R){ut(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=i1,i1=!1,g}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zp(e,n,s)}i=i.next}while(i!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $p(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mE(t){var e=t.alternate;e!==null&&(t.alternate=null,mE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[wl],delete e[Ip],delete e[PI],delete e[II])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gE(t){return t.tag===5||t.tag===3||t.tag===4}function s1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hu));else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var Lt=null,Xn=!1;function si(t,e,n){for(n=n.child;n!==null;)vE(t,e,n),n=n.sibling}function vE(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(zd,n)}catch{}switch(n.tag){case 5:Zt||lo(n,e);case 6:var r=Lt,i=Xn;Lt=null,si(t,e,n),Lt=r,Xn=i,Lt!==null&&(Xn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Xn?(t=Lt,n=n.stateNode,t.nodeType===8?vf(t.parentNode,n):t.nodeType===1&&vf(t,n),ml(t)):vf(Lt,n.stateNode));break;case 4:r=Lt,i=Xn,Lt=n.stateNode.containerInfo,Xn=!0,si(t,e,n),Lt=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zp(n,e,o),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!Zt&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,si(t,e,n),Zt=r):si(t,e,n);break;default:si(t,e,n)}}function o1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HI),e.forEach(function(r){var i=t5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Xn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Xn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(Lt===null)throw Error(K(160));vE(s,o,i),Lt=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yE(e,t),e=e.sibling}function yE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ur(t),r&4){try{Xa(3,t,t.return),Xd(3,t)}catch(m){ut(t,t.return,m)}try{Xa(5,t,t.return)}catch(m){ut(t,t.return,m)}}break;case 1:qn(e,t),ur(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(qn(e,t),ur(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(m){ut(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Bb(i,s),mp(a,o);var c=mp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Hb(i,f):u==="dangerouslySetInnerHTML"?$b(i,f):u==="children"?dl(i,f):Zm(i,u,f,c)}switch(a){case"input":up(i,s);break;case"textarea":Ub(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?vo(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(m){ut(t,t.return,m)}}break;case 6:if(qn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ut(t,t.return,m)}}break;case 3:if(qn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(m){ut(t,t.return,m)}break;case 4:qn(e,t),ur(t);break;case 13:qn(e,t),ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=mt())),r&4&&o1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||u,qn(e,t),Zt=c):qn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(f=ne=u;ne!==null;){switch(p=ne,h=p.child,p.tag){case 0:case 11:case 14:case 15:Xa(4,p,p.return);break;case 1:lo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ut(r,n,m)}}break;case 5:lo(p,p.return);break;case 22:if(p.memoizedState!==null){l1(f);continue}}h!==null?(h.return=p,ne=h):l1(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wb("display",o))}catch(m){ut(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ut(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(e,t),ur(t),r&4&&o1(t);break;case 21:break;default:qn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gE(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var s=s1(t);Hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s1(t);Wp(t,a,o);break;default:throw Error(K(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KI(t,e,n){ne=t,xE(t)}function xE(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=qc;var c=Zt;if(qc=o,(Zt=l)&&!c)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?c1(i):l!==null?(l.return=o,ne=l):c1(i);for(;s!==null;)ne=s,xE(s),s=s.sibling;ne=i,qc=a,Zt=c}a1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):a1(t)}}function a1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Zt||e.flags&512&&$p(e)}catch(p){ut(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function l1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function c1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var s=e.return;try{$p(e)}catch(l){ut(e,s,l)}break;case 5:var o=e.return;try{$p(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var GI=Math.ceil,nd=Jr.ReactCurrentDispatcher,Ag=Jr.ReactCurrentOwner,zn=Jr.ReactCurrentBatchConfig,Oe=0,Rt=null,vt=null,Bt=0,kn=0,co=Ki(0),_t=0,kl=null,Es=0,Yd=0,Rg=0,Ya=null,pn=null,Dg=0,Mo=1/0,Ir=null,rd=!1,qp=null,Pi=null,Kc=!1,xi=null,id=0,Ja=0,Kp=null,yu=-1,xu=0;function cn(){return Oe&6?mt():yu!==-1?yu:yu=mt()}function Ii(t){return t.mode&1?Oe&2&&Bt!==0?Bt&-Bt:RI.transition!==null?(xu===0&&(xu=r_()),xu):(t=ze,t!==0||(t=window.event,t=t===void 0?16:u_(t.type)),t):1}function tr(t,e,n,r){if(50<Ja)throw Ja=0,Kp=null,Error(K(185));Hl(t,n,r),(!(Oe&2)||t!==Rt)&&(t===Rt&&(!(Oe&2)&&(Yd|=n),_t===4&&fi(t,Bt)),xn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Mo=mt()+500,Kd&&Gi()))}function xn(t,e){var n=t.callbackNode;R2(t,e);var r=Uu(t,t===Rt?Bt:0);if(r===0)n!==null&&yy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yy(n),e===1)t.tag===0?AI(u1.bind(null,t)):I_(u1.bind(null,t)),kI(function(){!(Oe&6)&&Gi()}),n=null;else{switch(i_(r)){case 1:n=ig;break;case 4:n=t_;break;case 16:n=Bu;break;case 536870912:n=n_;break;default:n=Bu}n=CE(n,wE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wE(t,e){if(yu=-1,xu=0,Oe&6)throw Error(K(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Uu(t,t===Rt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var i=Oe;Oe|=2;var s=_E();(Rt!==t||Bt!==e)&&(Ir=null,Mo=mt()+500,gs(t,e));do try{YI();break}catch(a){bE(t,a)}while(!0);vg(),nd.current=s,Oe=i,vt!==null?e=0:(Rt=null,Bt=0,e=_t)}if(e!==0){if(e===2&&(i=wp(t),i!==0&&(r=i,e=Gp(t,i))),e===1)throw n=kl,gs(t,0),fi(t,r),xn(t,mt()),n;if(e===6)fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!QI(i)&&(e=sd(t,r),e===2&&(s=wp(t),s!==0&&(r=s,e=Gp(t,s))),e===1))throw n=kl,gs(t,0),fi(t,r),xn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:os(t,pn,Ir);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=Dg+500-mt(),10<e)){if(Uu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pp(os.bind(null,t,pn,Ir),e);break}os(t,pn,Ir);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-er(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GI(r/1960))-r,10<r){t.timeoutHandle=Pp(os.bind(null,t,pn,Ir),r);break}os(t,pn,Ir);break;case 5:os(t,pn,Ir);break;default:throw Error(K(329))}}}return xn(t,mt()),t.callbackNode===n?wE.bind(null,t):null}function Gp(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=sd(t,e),t!==2&&(e=pn,pn=n,e!==null&&Qp(e)),t}function Qp(t){pn===null?pn=t:pn.push.apply(pn,t)}function QI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~Rg,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function u1(t){if(Oe&6)throw Error(K(327));_o();var e=Uu(t,0);if(!(e&1))return xn(t,mt()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=wp(t);r!==0&&(e=r,n=Gp(t,r))}if(n===1)throw n=kl,gs(t,0),fi(t,e),xn(t,mt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,pn,Ir),xn(t,mt()),null}function Ng(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Mo=mt()+500,Kd&&Gi())}}function Ts(t){xi!==null&&xi.tag===0&&!(Oe&6)&&_o();var e=Oe;Oe|=1;var n=zn.transition,r=ze;try{if(zn.transition=null,ze=1,t)return t()}finally{ze=r,zn.transition=n,Oe=e,!(Oe&6)&&Gi()}}function Mg(){kn=co.current,Ye(co)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SI(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qu();break;case 3:Do(),Ye(vn),Ye(rn),Eg();break;case 5:_g(r);break;case 4:Do();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:yg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(Rt=t,vt=t=Ai(t.current,null),Bt=kn=e,_t=0,kl=null,Rg=Yd=Es=0,pn=Ya=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return t}function bE(t,e){do{var n=vt;try{if(vg(),mu.current=td,ed){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}if(_s=0,It=xt=ot=null,Qa=!1,El=0,Ag.current=null,n===null||n.return===null){_t=1,kl=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Yy(o);if(h!==null){h.flags&=-257,Jy(h,o,a,s,e),h.mode&1&&Xy(s,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Xy(s,c,e),Og();break e}l=Error(K(426))}}else if(et&&a.mode&1){var v=Yy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Jy(v,o,a,s,e),mg(No(l,a));break e}}s=l=No(l,a),_t!==4&&(_t=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=iE(s,l,e);Wy(s,x);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pi===null||!Pi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=sE(s,a,e);Wy(s,R);break e}}s=s.return}while(s!==null)}TE(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function _E(){var t=nd.current;return nd.current=td,t===null?td:t}function Og(){(_t===0||_t===3||_t===2)&&(_t=4),Rt===null||!(Es&268435455)&&!(Yd&268435455)||fi(Rt,Bt)}function sd(t,e){var n=Oe;Oe|=2;var r=_E();(Rt!==t||Bt!==e)&&(Ir=null,gs(t,e));do try{XI();break}catch(i){bE(t,i)}while(!0);if(vg(),Oe=n,nd.current=r,vt!==null)throw Error(K(261));return Rt=null,Bt=0,_t}function XI(){for(;vt!==null;)EE(vt)}function YI(){for(;vt!==null&&!_2();)EE(vt)}function EE(t){var e=kE(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?TE(t):vt=e,Ag.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WI(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,vt=null;return}}else if(n=$I(n,e,kn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);_t===0&&(_t=5)}function os(t,e,n){var r=ze,i=zn.transition;try{zn.transition=null,ze=1,JI(t,e,n,r)}finally{zn.transition=i,ze=r}return null}function JI(t,e,n,r){do _o();while(xi!==null);if(Oe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(D2(t,s),t===Rt&&(vt=Rt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,CE(Bu,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=ze;ze=1;var a=Oe;Oe|=4,Ag.current=null,qI(t,n),yE(n,t),yI(kp),zu=!!Sp,kp=Sp=null,t.current=n,KI(n),E2(),Oe=a,ze=o,zn.transition=s}else t.current=n;if(Kc&&(Kc=!1,xi=t,id=i),s=t.pendingLanes,s===0&&(Pi=null),k2(n.stateNode),xn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,t=qp,qp=null,t;return id&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===Kp?Ja++:(Ja=0,Kp=t):Ja=0,Gi(),null}function _o(){if(xi!==null){var t=i_(id),e=zn.transition,n=ze;try{if(zn.transition=null,ze=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,id=0,Oe&6)throw Error(K(331));var i=Oe;for(Oe|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Xa(8,u,s)}var f=u.child;if(f!==null)f.return=u,ne=f;else for(;ne!==null;){u=ne;var p=u.sibling,h=u.return;if(mE(u),u===c){ne=null;break}if(p!==null){p.return=h,ne=p;break}ne=h}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xa(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ne=x;break e}ne=s.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ne=_;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(E){ut(a,a.return,E)}if(a===o){ne=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break e}ne=a.return}}if(Oe=i,Gi(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(zd,t)}catch{}r=!0}return r}finally{ze=n,zn.transition=e}}return!1}function d1(t,e,n){e=No(n,e),e=iE(t,e,1),t=Ci(t,e,1),e=cn(),t!==null&&(Hl(t,1,e),xn(t,e))}function ut(t,e,n){if(t.tag===3)d1(t,t,n);else for(;e!==null;){if(e.tag===3){d1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=No(n,t),t=sE(e,t,1),e=Ci(e,t,1),t=cn(),e!==null&&(Hl(e,1,t),xn(e,t));break}}e=e.return}}function ZI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Bt&n)===n&&(_t===4||_t===3&&(Bt&130023424)===Bt&&500>mt()-Dg?gs(t,0):Rg|=n),xn(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=cn();t=qr(t,e),t!==null&&(Hl(t,e,n),xn(t,n))}function e5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SE(t,n)}function t5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),SE(t,n)}var kE;kE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,zI(t,e,n);gn=!!(t.flags&131072)}else gn=!1,et&&e.flags&1048576&&A_(e,Qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vu(t,e),t=e.pendingProps;var i=Io(e,rn.current);bo(e,n),i=Sg(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Ku(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wg(e),i.updater=Qd,e.stateNode=i,i._reactInternals=e,Op(e,r,t,n),e=jp(null,e,r,!0,s,n)):(e.tag=0,et&&s&&fg(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=r5(r),t=Gn(r,t),i){case 0:e=Vp(null,e,r,t,n);break e;case 1:e=t1(null,e,r,t,n);break e;case 11:e=Zy(null,e,r,t,n);break e;case 14:e=e1(null,e,r,Gn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Vp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),t1(t,e,r,i,n);case 3:e:{if(cE(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,L_(t,e),Ju(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=No(Error(K(423)),e),e=n1(t,e,r,n,i);break e}else if(r!==i){i=No(Error(K(424)),e),e=n1(t,e,r,n,i);break e}else for(Cn=ki(e.stateNode.containerInfo.firstChild),In=e,et=!0,Yn=null,n=M_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===i){e=Kr(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return V_(e),t===null&&Dp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cp(r,i)?o=null:s!==null&&Cp(r,s)&&(e.flags|=32),lE(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return uE(t,e,n);case 4:return bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Zy(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(Xu,r._currentValue),r._currentValue=o,s!==null)if(rr(s.value,o)){if(s.children===i.children&&!vn.current){e=Kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Np(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=$n(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),e1(t,e,r,i,n);case 15:return oE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),vu(t,e),e.tag=1,yn(r)?(t=!0,Ku(e)):t=!1,bo(e,n),rE(e,r,i),Op(e,r,i,n),jp(null,e,r,!0,t,n);case 19:return dE(t,e,n);case 22:return aE(t,e,n)}throw Error(K(156,e.tag))};function CE(t,e){return e_(t,e)}function n5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new n5(t,e,n,r)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r5(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return vs(n.children,i,s,e);case eg:o=8,i|=8;break;case sp:return t=Un(12,n,e,i|2),t.elementType=sp,t.lanes=s,t;case op:return t=Un(13,n,e,i),t.elementType=op,t.lanes=s,t;case ap:return t=Un(19,n,e,i),t.elementType=ap,t.lanes=s,t;case Vb:return Jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ob:o=10;break e;case Lb:o=9;break e;case tg:o=11;break e;case ng:o=14;break e;case ci:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Un(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vs(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Jd(t,e,n,r){return t=Un(22,t,r,e),t.elementType=Vb,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(t,e,n,r,i,s,o,a,l){return t=new i5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),t}function s5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return Vi;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(yn(n))return P_(t,n,e)}return e}function IE(t,e,n,r,i,s,o,a,l){return t=Vg(n,r,!0,t,i,s,o,a,l),t.context=PE(null),n=t.current,r=cn(),i=Ii(n),s=Vr(r,i),s.callback=e??null,Ci(n,s,i),t.current.lanes=i,Hl(t,i,r),xn(t,r),t}function Zd(t,e,n,r){var i=e.current,s=cn(),o=Ii(i);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(i,e,o),t!==null&&(tr(t,i,o,s),pu(t,i,o)),o}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jg(t,e){h1(t,e),(t=t.alternate)&&h1(t,e)}function o5(){return null}var AE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fg(t){this._internalRoot=t}eh.prototype.render=Fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Zd(t,e,null,null)};eh.prototype.unmount=Fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Zd(null,t,null,null)}),e[Hr]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=a_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&c_(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f1(){}function a5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=od(o);s.call(c)}}var o=IE(e,r,t,0,null,!1,!1,"",f1);return t._reactRootContainer=o,t[Hr]=o.current,yl(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=od(l);a.call(c)}}var l=Vg(t,0,!1,null,null,!1,!1,"",f1);return t._reactRootContainer=l,t[Hr]=l.current,yl(t.nodeType===8?t.parentNode:t),Ts(function(){Zd(e,l,n,r)}),l}function nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=od(o);a.call(l)}}Zd(e,o,t,i)}else o=a5(n,e,t,i,r);return od(o)}s_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(sg(e,n|1),xn(e,mt()),!(Oe&6)&&(Mo=mt()+500,Gi()))}break;case 13:Ts(function(){var r=qr(t,1);if(r!==null){var i=cn();tr(r,t,1,i)}}),jg(t,1)}};og=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=cn();tr(e,t,134217728,n)}jg(t,134217728)}};o_=function(t){if(t.tag===13){var e=Ii(t),n=qr(t,e);if(n!==null){var r=cn();tr(n,t,e,r)}jg(t,e)}};a_=function(){return ze};l_=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};vp=function(t,e,n){switch(e){case"input":if(up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qd(r);if(!i)throw Error(K(90));Fb(r),up(r,i)}}}break;case"textarea":Ub(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};Gb=Ng;Qb=Ts;var l5={usingClientEntryPoint:!1,Events:[Kl,ro,qd,qb,Kb,Ng]},Ca={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c5={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||o5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{zd=Gc.inject(c5),mr=Gc}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l5;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(K(200));return s5(t,e,null,n)};Dn.createRoot=function(t,e){if(!Bg(t))throw Error(K(299));var n=!1,r="",i=AE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vg(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Fg(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Jb(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ts(t)};Dn.hydrate=function(t,e,n){if(!th(e))throw Error(K(200));return nh(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IE(e,null,t,1,n??null,i,!1,s,o),t[Hr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eh(e)};Dn.render=function(t,e,n){if(!th(e))throw Error(K(200));return nh(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!th(t))throw Error(K(40));return t._reactRootContainer?(Ts(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};Dn.unstable_batchedUpdates=Ng;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!th(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return nh(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),Rb.exports=Dn;var us=Rb.exports,DE,p1=us;DE=p1.createRoot,p1.hydrateRoot;const NE=M.createContext(),u5=({children:t})=>{const[e,n]=M.useState(!1),r=()=>n(i=>!i);return P.jsx(NE.Provider,{value:{menuOpen:e,setMenuOpen:n,toggleMenu:r},children:t})},Xp=()=>M.useContext(NE);/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const m1="popstate";function d5(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ds(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Yp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:ad(s))}function r(i,s){Ug(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return f5(e,n,r,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h5(){return Math.random().toString(36).substr(2,8)}function g1(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:n,key:e&&e.key||r||h5()})}function ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=wi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Cl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=wi.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:x})}function p(v,x){a=wi.Push;let w=Yp(m.location,v,x);n&&n(w,v),c=u()+1;let _=g1(w,c),R=m.createHref(w);try{o.pushState(_,"",R)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(R)}s&&l&&l({action:a,location:m.location,delta:1})}function h(v,x){a=wi.Replace;let w=Yp(m.location,v,x);n&&n(w,v),c=u();let _=g1(w,c),R=m.createHref(w);o.replaceState(_,"",R),s&&l&&l({action:a,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:ad(v);return w=w.replace(/ $/,"%20"),yt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m1,f),l=v,()=>{i.removeEventListener(m1,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:h,go(v){return o.go(v)}};return m}var v1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v1||(v1={}));function p5(t,e,n){return n===void 0&&(n="/"),m5(t,e,n,!1)}function m5(t,e,n,r){let i=typeof e=="string"?Ds(e):e,s=zg(i.pathname||"/",n);if(s==null)return null;let o=ME(t);g5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=C5(s);a=S5(o[l],c,r)}return a}function ME(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ri([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ME(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:E5(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OE(s.path))i(s,o,l)}),e}function OE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v5=/^:[\w-]+$/,y5=3,x5=2,w5=1,b5=10,_5=-2,y1=t=>t==="*";function E5(t,e){let n=t.split("/"),r=n.length;return n.some(y1)&&(r+=_5),e&&(r+=x5),n.filter(i=>!y1(i)).reduce((i,s)=>i+(v5.test(s)?y5:s===""?w5:b5),r)}function T5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function S5(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ri([s,f.pathname]),pathnameBase:R5(Ri([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ri([s,f.pathnameBase]))}return o}function x1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function k5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function C5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:I5(n,e):e,search:D5(r),hash:N5(i)}}function I5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LE(t,e){let n=A5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ds(t):(i=Cl({},t),yt(!i.pathname||!i.pathname.includes("?"),Cf("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),Cf("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),Cf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=P5(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),R5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jE=["post","put","patch","delete"];new Set(jE);const O5=["get",...jE];new Set(O5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const $g=M.createContext(null),L5=M.createContext(null),Ns=M.createContext(null),rh=M.createContext(null),Ms=M.createContext({outlet:null,matches:[],isDataRoute:!1}),FE=M.createContext(null);function V5(t,e){let{relative:n}=e===void 0?{}:e;Ql()||yt(!1);let{basename:r,navigator:i}=M.useContext(Ns),{hash:s,pathname:o,search:a}=UE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ri([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ql(){return M.useContext(rh)!=null}function Qo(){return Ql()||yt(!1),M.useContext(rh).location}function BE(t){M.useContext(Ns).static||M.useLayoutEffect(t)}function Xl(){let{isDataRoute:t}=M.useContext(Ms);return t?X5():j5()}function j5(){Ql()||yt(!1);let t=M.useContext($g),{basename:e,future:n,navigator:r}=M.useContext(Ns),{matches:i}=M.useContext(Ms),{pathname:s}=Qo(),o=JSON.stringify(LE(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return BE(()=>{a.current=!0}),M.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=VE(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ri([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}function UE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Ns),{matches:i}=M.useContext(Ms),{pathname:s}=Qo(),o=JSON.stringify(LE(i,r.v7_relativeSplatPath));return M.useMemo(()=>VE(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function F5(t,e){return B5(t,e)}function B5(t,e,n,r){Ql()||yt(!1);let{navigator:i}=M.useContext(Ns),{matches:s}=M.useContext(Ms),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qo(),u;if(e){var f;let v=typeof e=="string"?Ds(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||yt(!1),u=v}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=p5(t,{pathname:h}),m=H5(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ri([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ri([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?M.createElement(rh.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:wi.Pop}},m):m}function U5(){let t=Q5(),e=M5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const z5=M.createElement(U5,null);class $5 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Ms.Provider,{value:this.props.routeContext},M.createElement(FE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W5(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext($g);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ms.Provider,{value:e},r)}function H5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||yt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let h,g=!1,m=null,v=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||z5,l&&(c<0&&p===0?(g=!0,v=null):c===p&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),w=()=>{let _;return h?_=m:g?_=v:f.route.Component?_=M.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,M.createElement(W5,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement($5,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var zE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zE||{}),ld=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ld||{});function q5(t){let e=M.useContext($g);return e||yt(!1),e}function K5(t){let e=M.useContext(L5);return e||yt(!1),e}function G5(t){let e=M.useContext(Ms);return e||yt(!1),e}function $E(t){let e=G5(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function Q5(){var t;let e=M.useContext(FE),n=K5(ld.UseRouteError),r=$E(ld.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X5(){let{router:t}=q5(zE.UseNavigateStable),e=$E(ld.UseNavigateStable),n=M.useRef(!1);return BE(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pl({fromRouteId:e},s)))},[t,e])}function Na(t){yt(!1)}function Y5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wi.Pop,navigator:s,static:o=!1,future:a}=t;Ql()&&yt(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:o,future:Pl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ds(r));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:g="default"}=r,m=M.useMemo(()=>{let v=zg(u,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:h,key:g},navigationType:i}},[l,u,f,p,h,g,i]);return m==null?null:M.createElement(Ns.Provider,{value:c},M.createElement(rh.Provider,{children:n,value:m}))}function J5(t){let{children:e,location:n}=t;return F5(Jp(e),n)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Jp(r.props.children,s));return}r.type!==Na&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function Z5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tA(t,e){return t.button===0&&(!e||e==="_self")&&!eA(t)}const nA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rA="6";try{window.__reactRouterVersion=rA}catch{}const iA="startTransition",w1=ZP[iA];function sA(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=d5({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=M.useCallback(f=>{c&&w1?w1(()=>l(f)):l(f)},[l,c]);return M.useLayoutEffect(()=>o.listen(u),[o,u]),M.createElement(Y5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=Z5(e,nA),{basename:h}=M.useContext(Ns),g,m=!1;if(typeof c=="string"&&aA.test(c)&&(g=c,oA))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),E=zg(R.pathname,h);R.origin===_.origin&&E!=null?c=E+R.search+R.hash:m=!0}catch{}let v=V5(c,{relative:i}),x=lA(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||x(_)}return M.createElement("a",Zp({},p,{href:g||v,onClick:m||s?r:w,ref:n,target:l}))});var b1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b1||(b1={}));var _1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_1||(_1={}));function lA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Xl(),c=Qo(),u=UE(t,{relative:o});return M.useCallback(f=>{if(tA(f,n)){f.preventDefault();let p=r!==void 0?r:ad(c)===ad(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(p=64)),r.push(n[u],n[f],n[p],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new uA;const p=s<<2|a>>4;if(r.push(p),c!==64){const h=a<<4&240|c>>2;if(r.push(h),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dA=function(t){const e=HE(t);return qE.encodeByteArray(e,!0)},cd=function(t){return dA(t).replace(/\./g,"")},KE=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>hA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process>"u"||typeof E1>"u")return;const t=E1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return fA()||pA()||mA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GE=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gA=t=>{const e=GE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QE=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},XE=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cd(JSON.stringify(n)),cd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function wA(){var t;const e=(t=ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PA,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zr(i,a,r)}}function IA(t,e){return t.replace(AA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AA=/\{\$([^}]+)}/g;function RA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(T1(s)&&T1(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DA(t,e){const n=new NA(t,e);return n.subscribe.bind(n)}class NA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pf),i.error===void 0&&(i.error=Pf),i.complete===void 0&&(i.complete=Pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(t){return t===as?void 0:t}function VA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const FA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},BA=Pe.INFO,UA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},zA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const $A=(t,e)=>e.some(n=>t instanceof n);let S1,k1;function WA(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,em=new WeakMap,JE=new WeakMap,If=new WeakMap,Hg=new WeakMap;function qA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function KA(t){if(em.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GA(t){tm=t(tm)}function QA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Af(this),e,...n);return JE.set(r,e.sort?e.sort():[e]),Di(r)}:HA().includes(t)?function(...e){return t.apply(Af(this),e),Di(YE.get(this))}:function(...e){return Di(t.apply(Af(this),e))}}function XA(t){return typeof t=="function"?QA(t):(t instanceof IDBTransaction&&KA(t),$A(t,WA())?new Proxy(t,tm):t)}function Di(t){if(t instanceof IDBRequest)return qA(t);if(If.has(t))return If.get(t);const e=XA(t);return e!==t&&(If.set(t,e),Hg.set(e,t)),e}const Af=t=>Hg.get(t);function YA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JA=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],Rf=new Map;function C1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Rf.set(e,s),s}GA(t=>({...t,get:(e,n,r)=>C1(e,n)||t.get(e,n,r),has:(e,n)=>!!C1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",P1="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Wg("@firebase/app"),nR="@firebase/app-compat",rR="@firebase/analytics-compat",iR="@firebase/analytics",sR="@firebase/app-check-compat",oR="@firebase/app-check",aR="@firebase/auth",lR="@firebase/auth-compat",cR="@firebase/database",uR="@firebase/data-connect",dR="@firebase/database-compat",hR="@firebase/functions",fR="@firebase/functions-compat",pR="@firebase/installations",mR="@firebase/installations-compat",gR="@firebase/messaging",vR="@firebase/messaging-compat",yR="@firebase/performance",xR="@firebase/performance-compat",wR="@firebase/remote-config",bR="@firebase/remote-config-compat",_R="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",SR="@firebase/vertexai",kR="@firebase/firestore-compat",CR="firebase",PR="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",IR={[nm]:"fire-core",[nR]:"fire-core-compat",[iR]:"fire-analytics",[rR]:"fire-analytics-compat",[oR]:"fire-app-check",[sR]:"fire-app-check-compat",[aR]:"fire-auth",[lR]:"fire-auth-compat",[cR]:"fire-rtdb",[uR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[hR]:"fire-fn",[fR]:"fire-fn-compat",[pR]:"fire-iid",[mR]:"fire-iid-compat",[gR]:"fire-fcm",[vR]:"fire-fcm-compat",[yR]:"fire-perf",[xR]:"fire-perf-compat",[wR]:"fire-rc",[bR]:"fire-rc-compat",[_R]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[kR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,AR=new Map,im=new Map;function I1(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oo(t){const e=t.name;if(im.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,t);for(const n of dd.values())I1(n,t);for(const n of AR.values())I1(n,t);return!0}function qg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Yl("app","Firebase",RR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=PR;function ZE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=QE()),!n)throw Ni.create("no-options");const s=dd.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new jA(i);for(const l of im.values())o.addComponent(l);const a=new DR(n,r,o);return dd.set(i,a),a}function eT(t=rm){const e=dd.get(t);if(!e&&t===rm&&QE())return ZE();if(!e)throw Ni.create("no-app",{appName:t});return e}function Mi(t,e,n){var r;let i=(r=IR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Oo(new Ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",MR=1,Il="firebase-heartbeat-store";let Df=null;function tT(){return Df||(Df=YA(NR,MR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Df}async function OR(t){try{const n=(await tT()).transaction(Il),r=await n.objectStore(Il).get(nT(t));return await n.done,r}catch(e){if(e instanceof Zr)Gr.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function A1(t,e){try{const r=(await tT()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,nT(t)),await r.done}catch(n){if(n instanceof Zr)Gr.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function nT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,VR=30*24*60*60*1e3;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:i}=FR(this._heartbeatsCache.heartbeats),s=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function FR(t,e=LR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),D1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D1(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){Oo(new Ss("platform-logger",e=>new eR(e),"PRIVATE")),Oo(new Ss("heartbeat",e=>new jR(e),"PRIVATE")),Mi(nm,P1,t),Mi(nm,P1,"esm2017"),Mi("fire-js","")}UR("");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,rT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function S(){}S.prototype=y.prototype,T.D=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(k,I,D){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return y.prototype[I].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,S){S||(S=0);var k=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)k[I]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(I=0;16>I;++I)k[I]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],I=T.g[2];var D=T.g[3],N=y+(D^S&(I^D))+k[0]+3614090360&4294967295;y=S+(N<<7&4294967295|N>>>25),N=D+(I^y&(S^I))+k[1]+3905402710&4294967295,D=y+(N<<12&4294967295|N>>>20),N=I+(S^D&(y^S))+k[2]+606105819&4294967295,I=D+(N<<17&4294967295|N>>>15),N=S+(y^I&(D^y))+k[3]+3250441966&4294967295,S=I+(N<<22&4294967295|N>>>10),N=y+(D^S&(I^D))+k[4]+4118548399&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(I^y&(S^I))+k[5]+1200080426&4294967295,D=y+(N<<12&4294967295|N>>>20),N=I+(S^D&(y^S))+k[6]+2821735955&4294967295,I=D+(N<<17&4294967295|N>>>15),N=S+(y^I&(D^y))+k[7]+4249261313&4294967295,S=I+(N<<22&4294967295|N>>>10),N=y+(D^S&(I^D))+k[8]+1770035416&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(I^y&(S^I))+k[9]+2336552879&4294967295,D=y+(N<<12&4294967295|N>>>20),N=I+(S^D&(y^S))+k[10]+4294925233&4294967295,I=D+(N<<17&4294967295|N>>>15),N=S+(y^I&(D^y))+k[11]+2304563134&4294967295,S=I+(N<<22&4294967295|N>>>10),N=y+(D^S&(I^D))+k[12]+1804603682&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(I^y&(S^I))+k[13]+4254626195&4294967295,D=y+(N<<12&4294967295|N>>>20),N=I+(S^D&(y^S))+k[14]+2792965006&4294967295,I=D+(N<<17&4294967295|N>>>15),N=S+(y^I&(D^y))+k[15]+1236535329&4294967295,S=I+(N<<22&4294967295|N>>>10),N=y+(I^D&(S^I))+k[1]+4129170786&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^I&(y^S))+k[6]+3225465664&4294967295,D=y+(N<<9&4294967295|N>>>23),N=I+(y^S&(D^y))+k[11]+643717713&4294967295,I=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(I^D))+k[0]+3921069994&4294967295,S=I+(N<<20&4294967295|N>>>12),N=y+(I^D&(S^I))+k[5]+3593408605&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^I&(y^S))+k[10]+38016083&4294967295,D=y+(N<<9&4294967295|N>>>23),N=I+(y^S&(D^y))+k[15]+3634488961&4294967295,I=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(I^D))+k[4]+3889429448&4294967295,S=I+(N<<20&4294967295|N>>>12),N=y+(I^D&(S^I))+k[9]+568446438&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^I&(y^S))+k[14]+3275163606&4294967295,D=y+(N<<9&4294967295|N>>>23),N=I+(y^S&(D^y))+k[3]+4107603335&4294967295,I=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(I^D))+k[8]+1163531501&4294967295,S=I+(N<<20&4294967295|N>>>12),N=y+(I^D&(S^I))+k[13]+2850285829&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^I&(y^S))+k[2]+4243563512&4294967295,D=y+(N<<9&4294967295|N>>>23),N=I+(y^S&(D^y))+k[7]+1735328473&4294967295,I=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(I^D))+k[12]+2368359562&4294967295,S=I+(N<<20&4294967295|N>>>12),N=y+(S^I^D)+k[5]+4294588738&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^I)+k[8]+2272392833&4294967295,D=y+(N<<11&4294967295|N>>>21),N=I+(D^y^S)+k[11]+1839030562&4294967295,I=D+(N<<16&4294967295|N>>>16),N=S+(I^D^y)+k[14]+4259657740&4294967295,S=I+(N<<23&4294967295|N>>>9),N=y+(S^I^D)+k[1]+2763975236&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^I)+k[4]+1272893353&4294967295,D=y+(N<<11&4294967295|N>>>21),N=I+(D^y^S)+k[7]+4139469664&4294967295,I=D+(N<<16&4294967295|N>>>16),N=S+(I^D^y)+k[10]+3200236656&4294967295,S=I+(N<<23&4294967295|N>>>9),N=y+(S^I^D)+k[13]+681279174&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^I)+k[0]+3936430074&4294967295,D=y+(N<<11&4294967295|N>>>21),N=I+(D^y^S)+k[3]+3572445317&4294967295,I=D+(N<<16&4294967295|N>>>16),N=S+(I^D^y)+k[6]+76029189&4294967295,S=I+(N<<23&4294967295|N>>>9),N=y+(S^I^D)+k[9]+3654602809&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^I)+k[12]+3873151461&4294967295,D=y+(N<<11&4294967295|N>>>21),N=I+(D^y^S)+k[15]+530742520&4294967295,I=D+(N<<16&4294967295|N>>>16),N=S+(I^D^y)+k[2]+3299628645&4294967295,S=I+(N<<23&4294967295|N>>>9),N=y+(I^(S|~D))+k[0]+4096336452&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~I))+k[7]+1126891415&4294967295,D=y+(N<<10&4294967295|N>>>22),N=I+(y^(D|~S))+k[14]+2878612391&4294967295,I=D+(N<<15&4294967295|N>>>17),N=S+(D^(I|~y))+k[5]+4237533241&4294967295,S=I+(N<<21&4294967295|N>>>11),N=y+(I^(S|~D))+k[12]+1700485571&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~I))+k[3]+2399980690&4294967295,D=y+(N<<10&4294967295|N>>>22),N=I+(y^(D|~S))+k[10]+4293915773&4294967295,I=D+(N<<15&4294967295|N>>>17),N=S+(D^(I|~y))+k[1]+2240044497&4294967295,S=I+(N<<21&4294967295|N>>>11),N=y+(I^(S|~D))+k[8]+1873313359&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~I))+k[15]+4264355552&4294967295,D=y+(N<<10&4294967295|N>>>22),N=I+(y^(D|~S))+k[6]+2734768916&4294967295,I=D+(N<<15&4294967295|N>>>17),N=S+(D^(I|~y))+k[13]+1309151649&4294967295,S=I+(N<<21&4294967295|N>>>11),N=y+(I^(S|~D))+k[4]+4149444226&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~I))+k[11]+3174756917&4294967295,D=y+(N<<10&4294967295|N>>>22),N=I+(y^(D|~S))+k[2]+718787259&4294967295,I=D+(N<<15&4294967295|N>>>17),N=S+(D^(I|~y))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var S=y-this.blockSize,k=this.B,I=this.h,D=0;D<y;){if(I==0)for(;D<=S;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<y;)if(k[I++]=T.charCodeAt(D++),I==this.blockSize){i(this,k),I=0;break}}else for(;D<y;)if(k[I++]=T[D++],I==this.blockSize){i(this,k),I=0;break}}this.h=I,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var S=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=S&255,S/=256;for(this.u(T),T=Array(16),y=S=0;4>y;++y)for(var k=0;32>k;k+=8)T[S++]=this.g[y]>>>k&255;return T};function s(T,y){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function o(T,y){this.h=y;for(var S=[],k=!0,I=T.length-1;0<=I;I--){var D=T[I]|0;k&&D==y||(S[I]=D,k=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var y=[],S=1,k=0;T>=S;k++)y[k]=T/S|0,S*=4294967296;return new o(y,0)}function u(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return v(u(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),k=f,I=0;I<T.length;I+=8){var D=Math.min(8,T.length-I),N=parseInt(T.substring(I,I+D),y);8>D?(D=c(Math.pow(y,D)),k=k.j(D).add(c(N))):(k=k.j(S),k=k.add(c(N)))}return k}var f=l(0),p=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,y=1,S=0;S<this.g.length;S++){var k=this.i(S);T+=(0<=k?k:4294967296+k)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var y=c(Math.pow(T,6)),S=this,k="";;){var I=R(S,y).g;S=x(S,I.j(y));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=I,g(S))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=x(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var y=T.g.length,S=[],k=0;k<y;k++)S[k]=~T.g[k];return new o(S,~T.h).add(p)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0,I=0;I<=y;I++){var D=k+(this.i(I)&65535)+(T.i(I)&65535),N=(D>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);k=N>>>16,D&=65535,N&=65535,S[I]=N<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(T,y){return T.add(v(y))}t.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(h)&&0>T.l(h))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,S=[],k=0;k<2*y;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<T.g.length;I++){var D=this.i(k)>>>16,N=this.i(k)&65535,F=T.i(I)>>>16,z=T.i(I)&65535;S[2*k+2*I]+=N*z,w(S,2*k+2*I),S[2*k+2*I+1]+=D*z,w(S,2*k+2*I+1),S[2*k+2*I+1]+=N*F,w(S,2*k+2*I+1),S[2*k+2*I+2]+=D*F,w(S,2*k+2*I+2)}for(k=0;k<y;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=y;k<2*y;k++)S[k]=0;return new o(S,0)};function w(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function _(T,y){this.g=T,this.h=y}function R(T,y){if(g(y))throw Error("division by zero");if(g(T))return new _(f,f);if(m(T))return y=R(v(T),y),new _(v(y.g),v(y.h));if(m(y))return y=R(T,v(y)),new _(v(y.g),y.h);if(30<T.g.length){if(m(T)||m(y))throw Error("slowDivide_ only works with positive integers.");for(var S=p,k=y;0>=k.l(T);)S=E(S),k=E(k);var I=A(S,1),D=A(k,1);for(k=A(k,2),S=A(S,2);!g(k);){var N=D.add(k);0>=N.l(T)&&(I=I.add(S),D=N),k=A(k,1),S=A(S,1)}return y=x(T,I.j(y)),new _(I,y)}for(I=f;0<=T.l(y);){for(S=Math.max(1,Math.floor(T.m()/y.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=c(S),N=D.j(y);m(N)||0<N.l(T);)S-=k,D=c(S),N=D.j(y);g(D)&&(D=p),I=I.add(D),T=x(T,N)}return new _(I,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)&T.i(k);return new o(S,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)|T.i(k);return new o(S,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)^T.i(k);return new o(S,this.h^T.h)};function E(T){for(var y=T.g.length+1,S=[],k=0;k<y;k++)S[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(S,T.h)}function A(T,y){var S=y>>5;y%=32;for(var k=T.g.length-S,I=[],D=0;D<k;D++)I[D]=0<y?T.i(D+S)>>>y|T.i(D+S+1)<<32-y:T.i(D+S);return new o(I,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ys=o}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,La,sT,bu,sm,oT,aT,lT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,C){return d==Array.prototype||d==Object.prototype||(d[b]=C.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var b=0;b<d.length;++b){var C=d[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var C=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var L=d[O];if(!(L in C))break e;C=C[L]}d=d[d.length-1],O=C[d],b=b(O),b!=O&&b!=null&&e(C,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var C=0,O=!1,L={next:function(){if(!O&&C<d.length){var j=C++;return{value:b(j,d[j]),done:!1}}return O=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function c(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function u(d,b,C){return d.call.apply(d.bind,arguments)}function f(d,b,C){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,O),d.apply(b,L)}}return function(){return d.apply(b,arguments)}}function p(d,b,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function h(d,b){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function g(d,b){function C(){}C.prototype=b.prototype,d.aa=b.prototype,d.prototype=new C,d.prototype.constructor=d,d.Qb=function(O,L,j){for(var X=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)X[qe-2]=arguments[qe];return b.prototype[L].apply(O,X)}}function m(d){const b=d.length;if(0<b){const C=Array(b);for(let O=0;O<b;O++)C[O]=d[O];return C}return[]}function v(d,b){for(let C=1;C<arguments.length;C++){const O=arguments[C];if(l(O)){const L=d.length||0,j=O.length||0;d.length=L+j;for(let X=0;X<j;X++)d[L+X]=O[X]}else d.push(O)}}class x{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(d,b,C){for(const O in d)b.call(C,d[O],O,d)}function T(d,b){for(const C in d)b.call(void 0,d[C],C,d)}function y(d){const b={};for(const C in d)b[C]=d[C];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,b){let C,O;for(let L=1;L<arguments.length;L++){O=arguments[L];for(C in O)d[C]=O[C];for(let j=0;j<S.length;j++)C=S[j],Object.prototype.hasOwnProperty.call(O,C)&&(d[C]=O[C])}}function I(d){var b=1;d=d.split(":");const C=[];for(;0<b&&d.length;)C.push(d.shift()),b--;return d.length&&C.push(d.join(":")),C}function D(d){a.setTimeout(()=>{throw d},0)}function N(){var d=W;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,C){const O=z.get();O.set(b,C),this.h?this.h.next=O:this.g=O,this.h=O}}var z=new x(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let U,V=!1,W=new F,Q=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(oe)}};var oe=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(C){D(C)}var b=z;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}V=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};a.addEventListener("test",C,b),a.removeEventListener("test",C,b)}catch{}return d}();function Ae(d,b){if(ae.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var C=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(E){e:{try{R(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else C=="mouseover"?b=d.fromElement:C=="mouseout"&&(b=d.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}g(Ae,ae);var re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Te=0;function nt(d,b,C,O,L){this.listener=d,this.proxy=null,this.src=b,this.type=C,this.capture=!!O,this.ha=L,this.key=++Te,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function He(d){this.src=d,this.g={},this.h=0}He.prototype.add=function(d,b,C,O,L){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var X=St(d,b,O,L);return-1<X?(b=d[X],C||(b.fa=!1)):(b=new nt(b,this.src,j,!!O,L),b.fa=C,d.push(b)),b};function Ce(d,b){var C=b.type;if(C in d.g){var O=d.g[C],L=Array.prototype.indexOf.call(O,b,void 0),j;(j=0<=L)&&Array.prototype.splice.call(O,L,1),j&&(he(b),d.g[C].length==0&&(delete d.g[C],d.h--))}}function St(d,b,C,O){for(var L=0;L<d.length;++L){var j=d[L];if(!j.da&&j.listener==b&&j.capture==!!C&&j.ha==O)return L}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),kt={};function dt(d,b,C,O,L){if(Array.isArray(b)){for(var j=0;j<b.length;j++)dt(d,b[j],C,O,L);return null}return C=we(C),d&&d[De]?d.K(b,C,c(O)?!!O.capture:!!O,L):_n(d,b,C,!1,O,L)}function _n(d,b,C,O,L,j){if(!b)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,qe=ge(d);if(qe||(d[Je]=qe=new He(d)),C=qe.add(b,C,O,X,j),C.proxy)return C;if(O=J(),C.proxy=O,O.src=d,O.listener=C,d.addEventListener)Re||(L=X),L===void 0&&(L=!1),d.addEventListener(b.toString(),O,L);else if(d.attachEvent)d.attachEvent(Z(b.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function J(){function d(C){return b.call(d.src,d.listener,C)}const b=ie;return d}function B(d,b,C,O,L){if(Array.isArray(b))for(var j=0;j<b.length;j++)B(d,b[j],C,O,L);else O=c(O)?!!O.capture:!!O,C=we(C),d&&d[De]?(d=d.i,b=String(b).toString(),b in d.g&&(j=d.g[b],C=St(j,C,O,L),-1<C&&(he(j[C]),Array.prototype.splice.call(j,C,1),j.length==0&&(delete d.g[b],d.h--)))):d&&(d=ge(d))&&(b=d.g[b.toString()],d=-1,b&&(d=St(b,C,O,L)),(C=-1<d?b[d]:null)&&G(C))}function G(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[De])Ce(b.i,d);else{var C=d.type,O=d.proxy;b.removeEventListener?b.removeEventListener(C,O,d.capture):b.detachEvent?b.detachEvent(Z(C),O):b.addListener&&b.removeListener&&b.removeListener(O),(C=ge(b))?(Ce(C,d),C.h==0&&(C.src=null,b[Je]=null)):he(d)}}}function Z(d){return d in kt?kt[d]:kt[d]="on"+d}function ie(d,b){if(d.da)d=!0;else{b=new Ae(b,this);var C=d.listener,O=d.ha||d.src;d.fa&&G(d),d=C.call(O,b)}return d}function ge(d){return d=d[Je],d instanceof He?d:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(d){return typeof d=="function"?d:(d[se]||(d[se]=function(b){return d.handleEvent(b)}),d[se])}function ve(){ee.call(this),this.i=new He(this),this.M=this,this.F=null}g(ve,ee),ve.prototype[De]=!0,ve.prototype.removeEventListener=function(d,b,C,O){B(this,d,b,C,O)};function Se(d,b){var C,O=d.F;if(O)for(C=[];O;O=O.F)C.push(O);if(d=d.M,O=b.type||b,typeof b=="string")b=new ae(b,d);else if(b instanceof ae)b.target=b.target||d;else{var L=b;b=new ae(O,d),k(b,L)}if(L=!0,C)for(var j=C.length-1;0<=j;j--){var X=b.g=C[j];L=Be(X,O,!0,b)&&L}if(X=b.g=d,L=Be(X,O,!0,b)&&L,L=Be(X,O,!1,b)&&L,C)for(j=0;j<C.length;j++)X=b.g=C[j],L=Be(X,O,!1,b)&&L}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var C=d.g[b],O=0;O<C.length;O++)he(C[O]);delete d.g[b],d.h--}}this.F=null},ve.prototype.K=function(d,b,C,O){return this.i.add(String(d),b,!1,C,O)},ve.prototype.L=function(d,b,C,O){return this.i.add(String(d),b,!0,C,O)};function Be(d,b,C,O){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,j=0;j<b.length;++j){var X=b[j];if(X&&!X.da&&X.capture==C){var qe=X.listener,Ot=X.ha||X.src;X.fa&&Ce(d.i,X),L=qe.call(Ot,O)!==!1&&L}}return L&&!O.defaultPrevented}function H(d,b,C){if(typeof d=="function")C&&(d=p(d,C));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function le(d){d.g=H(()=>{d.g=null,d.i&&(d.i=!1,le(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class $e extends ee{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(d){ee.call(this),this.h=d,this.g={}}g(Ct,ee);var on=[];function ei(d){A(d.g,function(b,C){this.g.hasOwnProperty(C)&&G(b)},d),d.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),ei(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=a.JSON.stringify,ca=a.JSON.parse,Fs=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ua(){}ua.prototype.h=null;function mc(d){return d.h||(d.h=d.i())}function gc(){}var rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nt(){ae.call(this,"d")}g(Nt,ae);function Mt(){ae.call(this,"c")}g(Mt,ae);var Wt={},an=null;function Ht(){return an=an||new ve}Wt.La="serverreachability";function En(d){ae.call(this,Wt.La,d)}g(En,ae);function Mn(d){const b=Ht();Se(b,new En(b))}Wt.STAT_EVENT="statevent";function hn(d,b){ae.call(this,Wt.STAT_EVENT,d),this.stat=b}g(hn,ae);function ht(d){const b=Ht();Se(b,new hn(b,d))}Wt.Ma="timingevent";function ti(d,b){ae.call(this,Wt.Ma,d),this.size=b}g(ti,ae);function lr(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function vc(d,b,C,O,L,j){d.info(function(){if(d.g)if(j)for(var X="",qe=j.split("&"),Ot=0;Ot<qe.length;Ot++){var Le=qe[Ot].split("=");if(1<Le.length){var qt=Le[0];Le=Le[1];var Kt=qt.split("_");X=2<=Kt.length&&Kt[1]=="type"?X+(qt+"="+Le+"&"):X+(qt+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+O+") [attempt "+L+"]: "+b+`
`+C+`
`+X})}function es(d,b,C,O,L,j,X){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+L+"]: "+b+`
`+C+`
`+j+" "+X})}function On(d,b,C,O){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+vP(d,C)+(O?" "+O:"")})}function da(d,b){d.info(function(){return"TIMEOUT: "+b})}cr.prototype.info=function(){};function vP(d,b){if(!d.g)return b;if(!b)return null;try{var C=JSON.parse(b);if(C){for(d=0;d<C.length;d++)if(Array.isArray(C[d])){var O=C[d];if(!(2>O.length)){var L=O[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return ar(C)}catch{return b}}var yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function xc(){}g(xc,ua),xc.prototype.g=function(){return new XMLHttpRequest},xc.prototype.i=function(){return{}},Uh=new xc;function ni(d,b,C,O){this.j=d,this.i=b,this.l=C,this.R=O||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _v}function _v(){this.i=null,this.g="",this.h=!1}var Ev={},zh={};function $h(d,b,C){d.L=1,d.v=Ec(kr(b)),d.m=C,d.P=!0,Tv(d,null)}function Tv(d,b){d.F=Date.now(),wc(d),d.A=kr(d.v);var C=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),jv(C.i,"t",O),d.C=0,C=d.j.J,d.h=new _v,d.g=ny(d.j,C?b:null,!d.m),0<d.O&&(d.M=new $e(p(d.Y,d,d.g),d.O)),b=d.U,C=d.g,O=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(on[0]=L.toString()),L=on);for(var j=0;j<L.length;j++){var X=dt(C,L[j],O||b.handleEvent,!1,b.h||b);if(!X)break;b.g[X.key]=X}b=d.H?y(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Mn(),vc(d.i,d.u,d.A,d.l,d.R,d.m)}ni.prototype.ca=function(d){d=d.target;const b=this.M;b&&Cr(d)==3?b.j():this.Y(d)},ni.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Cr(this.g);var b=this.g.Ba();const zs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||Kt!=4||b==7||(b==8||0>=zs?Mn(3):Mn(2)),Wh(this);var C=this.g.Z();this.X=C;t:if(Sv(this)){var O=Hv(this.g);d="";var L=O.length,j=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),ha(this);var X="";break t}this.h.i=new a.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,d+=this.h.i.decode(O[b],{stream:!(j&&b==L-1)});O.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=C==200,es(this.i,this.u,this.A,this.l,this.R,Kt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ot=this.g;if((qe=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(qe)){var Le=qe;break t}}Le=null}if(C=Le)On(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,C);else{this.o=!1,this.s=3,ht(12),ts(this),ha(this);break e}}if(this.P){C=!0;let Hn;for(;!this.J&&this.C<X.length;)if(Hn=yP(this,X),Hn==zh){Kt==4&&(this.s=4,ht(14),C=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Ev){this.s=4,ht(15),On(this.i,this.l,X,"[Invalid Chunk]"),C=!1;break}else On(this.i,this.l,Hn,null),Hh(this,Hn);if(Sv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||X.length!=0||this.h.h||(this.s=1,ht(16),C=!1),this.o=this.o&&C,!C)On(this.i,this.l,X,"[Invalid Chunked Response]"),ts(this),ha(this);else if(0<X.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Yh(qt),qt.M=!0,ht(11))}}else On(this.i,this.l,X,null),Hh(this,X);Kt==4&&ts(this),this.o&&!this.J&&(Kt==4?Jv(this.j,this):(this.o=!1,wc(this)))}else OP(this.g),C==400&&0<X.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),ts(this),ha(this)}}}catch{}finally{}};function Sv(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function yP(d,b){var C=d.C,O=b.indexOf(`
`,C);return O==-1?zh:(C=Number(b.substring(C,O)),isNaN(C)?Ev:(O+=1,O+C>b.length?zh:(b=b.slice(O,O+C),d.C=O+C,b)))}ni.prototype.cancel=function(){this.J=!0,ts(this)};function wc(d){d.S=Date.now()+d.I,kv(d,d.I)}function kv(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=lr(p(d.ba,d),b)}function Wh(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ni.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(da(this.i,this.A),this.L!=2&&(Mn(),ht(17)),ts(this),this.s=2,ha(this)):kv(this,this.S-d)};function ha(d){d.j.G==0||d.J||Jv(d.j,d)}function ts(d){Wh(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,ei(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Hh(d,b){try{var C=d.j;if(C.G!=0&&(C.g==d||qh(C.h,d))){if(!d.K&&qh(C.h,d)&&C.G==3){try{var O=C.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var L=O;if(L[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<d.F)Ic(C),Cc(C);else break e;Xh(C),ht(18)}}else C.za=L[1],0<C.za-C.T&&37500>L[2]&&C.F&&C.v==0&&!C.C&&(C.C=lr(p(C.Za,C),6e3));if(1>=Iv(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else rs(C,11)}else if((d.K||C.g==d)&&Ic(C),!w(b))for(L=C.Da.g.parse(b),b=0;b<L.length;b++){let Le=L[b];if(C.T=Le[0],Le=Le[1],C.G==2)if(Le[0]=="c"){C.K=Le[1],C.ia=Le[2];const qt=Le[3];qt!=null&&(C.la=qt,C.j.info("VER="+C.la));const Kt=Le[4];Kt!=null&&(C.Aa=Kt,C.j.info("SVER="+C.Aa));const zs=Le[5];zs!=null&&typeof zs=="number"&&0<zs&&(O=1.5*zs,C.L=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Hn=d.g;if(Hn){const Rc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var j=O.h;j.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Kh(j,j.h),j.h=null))}if(O.D){const Jh=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(O.ya=Jh,Qe(O.I,O.D,Jh))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-d.F,C.j.info("Handshake RTT: "+C.R+"ms")),O=C;var X=d;if(O.qa=ty(O,O.J?O.ia:null,O.W),X.K){Av(O.h,X);var qe=X,Ot=O.L;Ot&&(qe.I=Ot),qe.B&&(Wh(qe),wc(qe)),O.g=X}else Xv(O);0<C.i.length&&Pc(C)}else Le[0]!="stop"&&Le[0]!="close"||rs(C,7);else C.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?rs(C,7):Qh(C):Le[0]!="noop"&&C.l&&C.l.ta(Le),C.v=0)}}Mn(4)}catch{}}var xP=class{constructor(d,b){this.g=d,this.map=b}};function Cv(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pv(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Iv(d){return d.h?1:d.g?d.g.size:0}function qh(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Kh(d,b){d.g?d.g.add(b):d.h=b}function Av(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Cv.prototype.cancel=function(){if(this.i=Rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rv(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const C of d.g.values())b=b.concat(C.D);return b}return m(d.i)}function wP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],C=d.length,O=0;O<C;O++)b.push(d[O]);return b}b=[],C=0;for(O in d)b[C++]=d[O];return b}function bP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var C=0;C<d;C++)b.push(C);return b}b=[],C=0;for(const O in d)b[C++]=O;return b}}}function Dv(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var C=bP(d),O=wP(d),L=O.length,j=0;j<L;j++)b.call(void 0,O[j],C&&C[j],d)}var Nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _P(d,b){if(d){d=d.split("&");for(var C=0;C<d.length;C++){var O=d[C].indexOf("="),L=null;if(0<=O){var j=d[C].substring(0,O);L=d[C].substring(O+1)}else j=d[C];b(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ns(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ns){this.h=d.h,bc(this,d.j),this.o=d.o,this.g=d.g,_c(this,d.s),this.l=d.l;var b=d.i,C=new ma;C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),Mv(this,C),this.m=d.m}else d&&(b=String(d).match(Nv))?(this.h=!1,bc(this,b[1]||"",!0),this.o=fa(b[2]||""),this.g=fa(b[3]||"",!0),_c(this,b[4]),this.l=fa(b[5]||"",!0),Mv(this,b[6]||"",!0),this.m=fa(b[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}ns.prototype.toString=function(){var d=[],b=this.j;b&&d.push(pa(b,Ov,!0),":");var C=this.g;return(C||b=="file")&&(d.push("//"),(b=this.o)&&d.push(pa(b,Ov,!0),"@"),d.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&d.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(pa(C,C.charAt(0)=="/"?SP:TP,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",pa(C,CP)),d.join("")};function kr(d){return new ns(d)}function bc(d,b,C){d.j=C?fa(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function _c(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function Mv(d,b,C){b instanceof ma?(d.i=b,PP(d.i,d.h)):(C||(b=pa(b,kP)),d.i=new ma(b,d.h))}function Qe(d,b,C){d.i.set(b,C)}function Ec(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function fa(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function pa(d,b,C){return typeof d=="string"?(d=encodeURI(d).replace(b,EP),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function EP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ov=/[#\/\?@]/g,TP=/[#\?:]/g,SP=/[#\?]/g,kP=/[#\?@]/g,CP=/#/g;function ma(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function ri(d){d.g||(d.g=new Map,d.h=0,d.i&&_P(d.i,function(b,C){d.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}t=ma.prototype,t.add=function(d,b){ri(this),this.i=null,d=Bs(this,d);var C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(b),this.h+=1,this};function Lv(d,b){ri(d),b=Bs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Vv(d,b){return ri(d),b=Bs(d,b),d.g.has(b)}t.forEach=function(d,b){ri(this),this.g.forEach(function(C,O){C.forEach(function(L){d.call(b,L,O,this)},this)},this)},t.na=function(){ri(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),C=[];for(let O=0;O<b.length;O++){const L=d[O];for(let j=0;j<L.length;j++)C.push(b[O])}return C},t.V=function(d){ri(this);let b=[];if(typeof d=="string")Vv(this,d)&&(b=b.concat(this.g.get(Bs(this,d))));else{d=Array.from(this.g.values());for(let C=0;C<d.length;C++)b=b.concat(d[C])}return b},t.set=function(d,b){return ri(this),this.i=null,d=Bs(this,d),Vv(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function jv(d,b,C){Lv(d,b),0<C.length&&(d.i=null,d.g.set(Bs(d,b),m(C)),d.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var C=0;C<b.length;C++){var O=b[C];const j=encodeURIComponent(String(O)),X=this.V(O);for(O=0;O<X.length;O++){var L=j;X[O]!==""&&(L+="="+encodeURIComponent(String(X[O]))),d.push(L)}}return this.i=d.join("&")};function Bs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function PP(d,b){b&&!d.j&&(ri(d),d.i=null,d.g.forEach(function(C,O){var L=O.toLowerCase();O!=L&&(Lv(this,O),jv(this,L,C))},d)),d.j=b}function IP(d,b){const C=new cr;if(a.Image){const O=new Image;O.onload=h(ii,C,"TestLoadImage: loaded",!0,b,O),O.onerror=h(ii,C,"TestLoadImage: error",!1,b,O),O.onabort=h(ii,C,"TestLoadImage: abort",!1,b,O),O.ontimeout=h(ii,C,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else b(!1)}function AP(d,b){const C=new cr,O=new AbortController,L=setTimeout(()=>{O.abort(),ii(C,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:O.signal}).then(j=>{clearTimeout(L),j.ok?ii(C,"TestPingServer: ok",!0,b):ii(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),ii(C,"TestPingServer: error",!1,b)})}function ii(d,b,C,O,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),O(C)}catch{}}function RP(){this.g=new Fs}function DP(d,b,C){const O=C||"";try{Dv(d,function(L,j){let X=L;c(L)&&(X=ar(L)),b.push(O+j+"="+encodeURIComponent(X))})}catch(L){throw b.push(O+"type="+encodeURIComponent("_badmap")),L}}function Tc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Tc,ua),Tc.prototype.g=function(){return new Sc(this.l,this.j)},Tc.prototype.i=function(d){return function(){return d}}({});function Sc(d,b){ve.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Sc,ve),t=Sc.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,va(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fv(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ga(this):va(this),this.readyState==3&&Fv(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ga(this))},t.Qa=function(d){this.g&&(this.response=d,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(d){d.readyState=4,d.l=null,d.j=null,d.v=null,va(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=b.next();return d.join(`\r
`)};function va(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bv(d){let b="";return A(d,function(C,O){b+=O,b+=":",b+=C,b+=`\r
`}),b}function Gh(d,b,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=Bv(C),typeof d=="string"?C!=null&&encodeURIComponent(String(C)):Qe(d,b,C))}function ct(d){ve.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ct,ve);var NP=/^https?$/i,MP=["POST","PUT"];t=ct.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?mc(this.o):mc(Uh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(j){Uv(this,j);return}if(d=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var L in O)C.set(L,O[L]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const j of O.keys())C.set(j,O.get(j));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MP,b,void 0))||O||L||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of C)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wv(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){Uv(this,j)}};function Uv(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,zv(d),kc(d)}function zv(d){d.A||(d.A=!0,Se(d,"complete"),Se(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Se(this,"complete"),Se(this,"abort"),kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$v(this):this.bb())},t.bb=function(){$v(this)};function $v(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Cr(d)!=4||d.Z()!=2)){if(d.u&&Cr(d)==4)H(d.Ea,0,d);else if(Se(d,"readystatechange"),Cr(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var O;if(O=X===0){var L=String(d.D).match(Nv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),O=!NP.test(L?L.toLowerCase():"")}C=O}if(C)Se(d,"complete"),Se(d,"success");else{d.m=6;try{var j=2<Cr(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",zv(d)}}finally{kc(d)}}}}function kc(d,b){if(d.g){Wv(d);const C=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||Se(d,"ready");try{C.onreadystatechange=O}catch{}}}function Wv(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Cr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),ca(b)}};function Hv(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function OP(d){const b={};d=(d.g&&2<=Cr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(w(d[O]))continue;var C=I(d[O]);const L=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const j=b[L]||[];b[L]=j,j.push(C)}T(b,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(d,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||b}function qv(d){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,d),this.cb=ya("retryDelaySeedMs",1e4,d),this.Wa=ya("forwardChannelMaxRetries",2,d),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Cv(d&&d.concurrentRequestLimit),this.Da=new RP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qv.prototype,t.la=8,t.G=1,t.connect=function(d,b,C,O){ht(0),this.W=d,this.H=b||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.I=ty(this,null,this.W),Pc(this)};function Qh(d){if(Kv(d),d.G==3){var b=d.U++,C=kr(d.I);if(Qe(C,"SID",d.K),Qe(C,"RID",b),Qe(C,"TYPE","terminate"),xa(d,C),b=new ni(d,d.j,b),b.L=2,b.v=Ec(kr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=b.v,C=!0),C||(b.g=ny(b.j,null),b.g.ea(b.v)),b.F=Date.now(),wc(b)}ey(d)}function Cc(d){d.g&&(Yh(d),d.g.cancel(),d.g=null)}function Kv(d){Cc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ic(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Pc(d){if(!Pv(d.h)&&!d.s){d.s=!0;var b=d.Ga;U||Q(),V||(U(),V=!0),W.add(b,d),d.B=0}}function LP(d,b){return Iv(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=lr(p(d.Ga,d,b),Zv(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ni(this,this.j,d);let j=this.o;if(this.S&&(j?(j=y(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Qv(this,L,b),C=kr(this.I),Qe(C,"RID",d),Qe(C,"CVER",22),this.D&&Qe(C,"X-HTTP-Session-Id",this.D),xa(this,C),j&&(this.O?b="headers="+encodeURIComponent(String(Bv(j)))+"&"+b:this.m&&Gh(C,this.m,j)),Kh(this.h,L),this.Ua&&Qe(C,"TYPE","init"),this.P?(Qe(C,"$req",b),Qe(C,"SID","null"),L.T=!0,$h(L,C,null)):$h(L,C,b),this.G=2}}else this.G==3&&(d?Gv(this,d):this.i.length==0||Pv(this.h)||Gv(this))};function Gv(d,b){var C;b?C=b.l:C=d.U++;const O=kr(d.I);Qe(O,"SID",d.K),Qe(O,"RID",C),Qe(O,"AID",d.T),xa(d,O),d.m&&d.o&&Gh(O,d.m,d.o),C=new ni(d,d.j,C,d.B+1),d.m===null&&(C.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Qv(d,C,1e3),C.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Kh(d.h,C),$h(C,O,b)}function xa(d,b){d.H&&A(d.H,function(C,O){Qe(b,O,C)}),d.l&&Dv({},function(C,O){Qe(b,O,C)})}function Qv(d,b,C){C=Math.min(d.i.length,C);var O=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let j=-1;for(;;){const X=["count="+C];j==-1?0<C?(j=L[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let qe=!0;for(let Ot=0;Ot<C;Ot++){let Le=L[Ot].g;const qt=L[Ot].map;if(Le-=j,0>Le)j=Math.max(0,L[Ot].g-100),qe=!1;else try{DP(qt,X,"req"+Le+"_")}catch{O&&O(qt)}}if(qe){O=X.join("&");break e}}}return d=d.i.splice(0,C),b.D=d,O}function Xv(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;U||Q(),V||(U(),V=!0),W.add(b,d),d.v=0}}function Xh(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=lr(p(d.Fa,d),Zv(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Yv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=lr(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Cc(this),Yv(this))};function Yh(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Yv(d){d.g=new ni(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=kr(d.qa);Qe(b,"RID","rpc"),Qe(b,"SID",d.K),Qe(b,"AID",d.T),Qe(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(b,"TO",d.ja),Qe(b,"TYPE","xmlhttp"),xa(d,b),d.m&&d.o&&Gh(b,d.m,d.o),d.L&&(d.g.I=d.L);var C=d.g;d=d.ia,C.L=1,C.v=Ec(kr(b)),C.m=null,C.P=!0,Tv(C,d)}t.Za=function(){this.C!=null&&(this.C=null,Cc(this),Xh(this),ht(19))};function Ic(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Jv(d,b){var C=null;if(d.g==b){Ic(d),Yh(d),d.g=null;var O=2}else if(qh(d.h,b))C=b.D,Av(d.h,b),O=1;else return;if(d.G!=0){if(b.o)if(O==1){C=b.m?b.m.length:0,b=Date.now()-b.F;var L=d.B;O=Ht(),Se(O,new ti(O,C)),Pc(d)}else Xv(d);else if(L=b.s,L==3||L==0&&0<b.X||!(O==1&&LP(d,b)||O==2&&Xh(d)))switch(C&&0<C.length&&(b=d.h,b.i=b.i.concat(C)),L){case 1:rs(d,5);break;case 4:rs(d,10);break;case 3:rs(d,6);break;default:rs(d,2)}}}function Zv(d,b){let C=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(C*=2),C*b}function rs(d,b){if(d.j.info("Error code "+b),b==2){var C=p(d.fb,d),O=d.Xa;const L=!O;O=new ns(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bc(O,"https"),Ec(O),L?IP(O.toString(),C):AP(O.toString(),C)}else ht(2);d.G=0,d.l&&d.l.sa(b),ey(d),Kv(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ey(d){if(d.G=0,d.ka=[],d.l){const b=Rv(d.h);(b.length!=0||d.i.length!=0)&&(v(d.ka,b),v(d.ka,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.ra()}}function ty(d,b,C){var O=C instanceof ns?kr(C):new ns(C);if(O.g!="")b&&(O.g=b+"."+O.g),_c(O,O.s);else{var L=a.location;O=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var j=new ns(null);O&&bc(j,O),b&&(j.g=b),L&&_c(j,L),C&&(j.l=C),O=j}return C=d.D,b=d.ya,C&&b&&Qe(O,C,b),Qe(O,"VER",d.la),xa(d,O),O}function ny(d,b,C){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new ct(new Tc({eb:C})):new ct(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ry(){}t=ry.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ac(){}Ac.prototype.g=function(d,b){return new Tn(d,b)};function Tn(d,b){ve.call(this),this.g=new qv(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!w(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Us(this)}g(Tn,ve),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Qh(this.g)},Tn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.u&&(C={},C.__data__=ar(d),d=C);b.i.push(new xP(b.Ya++,d)),b.G==3&&Pc(b)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,Tn.aa.N.call(this)};function iy(d){Nt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const C in b){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}g(iy,Nt);function sy(){Mt.call(this),this.status=1}g(sy,Mt);function Us(d){this.g=d}g(Us,ry),Us.prototype.ua=function(){Se(this.g,"a")},Us.prototype.ta=function(d){Se(this.g,new iy(d))},Us.prototype.sa=function(d){Se(this.g,new sy)},Us.prototype.ra=function(){Se(this.g,"b")},Ac.prototype.createWebChannel=Ac.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,lT=function(){return new Ac},aT=function(){return Ht()},oT=Wt,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,bu=yc,bv.COMPLETE="complete",sT=bv,gc.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",ve.prototype.listen=ve.prototype.K,La=gc,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,iT=ct}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const M1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Wg("@firebase/firestore");function Gs(){return ks.logLevel}function te(t,...e){if(ks.logLevel<=Pe.DEBUG){const n=e.map(Kg);ks.debug(`Firestore (${Yo}): ${t}`,...n)}}function Qr(t,...e){if(ks.logLevel<=Pe.ERROR){const n=e.map(Kg);ks.error(`Firestore (${Yo}): ${t}`,...n)}}function Lo(t,...e){if(ks.logLevel<=Pe.WARN){const n=e.map(Kg);ks.warn(`Firestore (${Yo}): ${t}`,...n)}}function Kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function Fe(t,e){t||xe()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Jt(e)}}class HR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new KR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Et(0,0))}static max(){return new _e(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Al{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Al{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return XR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function YR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new ji(i,fe.empty(),e)}function JR(t){return new ji(t.readTime,t.key,-1)}class ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(_e.min(),fe.empty(),-1)}static max(){return new ji(_e.max(),fe.empty(),-1)}}function ZR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==eD)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function nD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sh.oe=-1;function oh(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function rD(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O1(e)),e=sD(t.get(n),e);return O1(e)}function sD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function O1(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Dt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hT("Invalid base64 string: "+s):s}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=oD.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ah(t){const e=t.mapValue.fields.__previous_value__;return Gg(e)?ah(e):e}function Rl(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:cD(t)?9007199254740991:lD(t)?10:11:xe()}function Er(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fi(i.timestampValue),a=Fi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bi(i.bytesValue).isEqual(Bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pt(i.doubleValue),a=pt(s.doubleValue);return o===a?hd(o)===hd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(L1(o)!==L1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Er(o[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function Nl(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=pt(s.integerValue||s.doubleValue),l=pt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return j1(t.timestampValue,e.timestampValue);case 4:return j1(Rl(t),Rl(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Bi(s),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Me(a[c],l[c]);if(u!==0)return u}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Me(pt(s.latitude),pt(o.latitude));return a!==0?a:Me(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const f=s.fields||{},p=o.fields||{},h=(a=f.value)===null||a===void 0?void 0:a.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,m=Me(((c=h==null?void 0:h.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:F1(h,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yc.mapValue&&o===Yc.mapValue)return 0;if(s===Yc.mapValue)return 1;if(o===Yc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=Me(l[f],u[f]);if(p!==0)return p;const h=jo(a[l[f]],c[u[f]]);if(h!==0)return h}return Me(l.length,u.length)}(t.mapValue,e.mapValue);default:throw xe()}}function j1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Fi(t),r=Fi(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function F1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=jo(n[i],r[i]);if(s)return s}return Me(n.length,r.length)}function Fo(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${om(n.fields[o])}`;return i+"}"}(t.mapValue):xe()}function _u(t){switch(Ui(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(t);return e?16+_u(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_u(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qi(r.fields,(s,o)=>{i+=s.length+_u(o)}),i}(t.mapValue);default:throw xe()}}function am(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function B1(t){return!!t&&"nullValue"in t}function U1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function lD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Za(this.value))}}function fT(t){const e=[];return Qi(t.fields,(n,r)=>{const i=new Ft([n]);if(Eu(r)){const s=fT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,_e.min(),_e.min(),_e.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,_e.min(),_e.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,_e.min(),_e.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function z1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function uD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class bt extends pT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hD(e,n,r):n==="array-contains"?new mD(e,r):n==="in"?new gD(e,r):n==="not-in"?new vD(e,r):n==="array-contains-any"?new yD(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fD(e,r):new pD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Tr(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mT(t){return t.op==="and"}function gT(t){return dD(t)&&mT(t)}function dD(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function lm(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(gT(t))return t.filters.map(e=>lm(e)).join(",");{const e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vT(o,i.filters[a]),!0):!1}(t,e):void xe()}function yT(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"}(t):"Filter"}class hD extends bt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fD extends bt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pD extends bt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class mD extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qg(n)&&Nl(n.arrayValue,this.value)}}class gD extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class vD extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nl(this.value.arrayValue,n)}}class yD extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function W1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xD(t,e,n,r,i,s,o)}function Xg(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ue=n}return e.ue}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$1(t.startAt,e.startAt)&&$1(t.endAt,e.endAt)}function cm(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wD(t,e,n,r,i,s,o,a){return new lh(t,e,n,r,i,s,o,a)}function Jg(t){return new lh(t)}function H1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return t.collectionGroup!==null}function el(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pd(s,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new pd(Ft.keyField(),r))}return e.ce}function vr(t){const e=Ee(t);return e.le||(e.le=_D(e,el(t))),e.le}function _D(t,e){if(t.limitType==="F")return W1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return W1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e,n){return new lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Yg(vr(t),vr(e))&&t.limitType===e.limitType}function wT(t){return`${Xg(vr(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yT(i)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of el(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=z1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,el(r),i)||r.endAt&&!function(o,a,l){const c=z1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,el(r),i))}(t,e)}function ED(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bT(t){return(e,n)=>{let r=!1;for(const i of el(t)){const s=TD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TD(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?jo(l,c):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new lt(fe.comparator);function Xr(){return SD}const _T=new lt(fe.comparator);function Va(...t){let e=_T;for(const n of t)e=e.insert(n.key,n);return e}function ET(t){let e=_T;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return tl()}function TT(){return tl()}function tl(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}const kD=new lt(fe.comparator),CD=new Dt(fe.comparator);function Ie(...t){let e=CD;for(const n of t)e=e.add(n);return e}const PD=new Dt(Me);function ID(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function ST(t){return{integerValue:""+t}}function AD(t,e){return rD(e)?ST(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function RD(t,e,n){return t instanceof md?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gg(s)&&(s=ah(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ml?CT(t,e):t instanceof Ol?PT(t,e):function(i,s){const o=kT(i,s),a=q1(o)+q1(i.Pe);return am(o)&&am(i.Pe)?ST(a):Zg(i.serializer,a)}(t,e)}function DD(t,e,n){return t instanceof Ml?CT(t,e):t instanceof Ol?PT(t,e):n}function kT(t,e){return t instanceof gd?function(r){return am(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class md extends dh{}class Ml extends dh{constructor(e){super(),this.elements=e}}function CT(t,e){const n=IT(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ol extends dh{constructor(e){super(),this.elements=e}}function PT(t,e){let n=IT(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class gd extends dh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q1(t){return pt(t.integerValue||t.doubleValue)}function IT(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ND(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ml&&i instanceof Ml||r instanceof Ol&&i instanceof Ol?Vo(r.elements,i.elements,Er):r instanceof gd&&i instanceof gd?Er(r.Pe,i.Pe):r instanceof md&&i instanceof md}(t.transform,e.transform)}class MD{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function AT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e0(t.key,nr.none()):new Zl(t.key,t.data,nr.none());{const n=t.data,r=mn.empty();let i=new Dt(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(t.key,r,new Pn(i.toArray()),nr.none())}}function OD(t,e,n){t instanceof Zl?function(i,s,o){const a=i.value.clone(),l=G1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,s,o){if(!Tu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof Zl?function(s,o,a,l){if(!Tu(s.precondition,o))return a;const c=s.value.clone(),u=Q1(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(s,o,a,l){if(!Tu(s.precondition,o))return a;const c=Q1(s.fieldTransforms,l,o),u=o.data;return u.setAll(RT(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Tu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kT(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function K1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>ND(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G1(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DD(o,a,n[i]))}return r}function Q1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RD(s,o,e))}return r}class e0 extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=AT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>K1(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>K1(n,r))}}class t0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return kD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ne;function UD(t){switch(t){default:return xe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function DT(t){if(t===void 0)return Qr("GRPC error has no .code"),q.UNKNOWN;switch(t){case gt.OK:return q.OK;case gt.CANCELLED:return q.CANCELLED;case gt.UNKNOWN:return q.UNKNOWN;case gt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case gt.INTERNAL:return q.INTERNAL;case gt.UNAVAILABLE:return q.UNAVAILABLE;case gt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case gt.NOT_FOUND:return q.NOT_FOUND;case gt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case gt.ABORTED:return q.ABORTED;case gt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case gt.DATA_LOSS:return q.DATA_LOSS;default:return xe()}}(Ne=gt||(gt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new ys([4294967295,4294967295],0);function X1(t){const e=zD().encode(t),n=new rT;return n.update(e),new Uint8Array(n.digest())}function Y1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([n,r],0),new ys([i,s],0)]}class n0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ys.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ys.fromNumber(r)));return i.compare($D)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X1(e),[r,i]=Y1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=X1(e),[r,i]=Y1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fh(_e.min(),i,new lt(Me),Xr(),Ie())}}class ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ec(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NT{constructor(e,n){this.targetId=e,this.me=n}}class MT{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J1{constructor(){this.fe=0,this.ge=ex(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ex()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=Z1(),this.Qe=new lt(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(cm(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,en.newNoDocument(o,_e.min()))}else Fe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof hT)return Lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n0(o,i,s)}catch(l){return Lo(l instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&cm(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,en.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new fh(e,n,this.Qe,this.ke,r);return this.ke=Xr(),this.qe=Z1(),this.Qe=new lt(Me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z1(){return new lt(fe.comparator)}function ex(){return new lt(fe.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class GD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QD(t,e){return vd(t,e.toTimestamp())}function yr(t){return Fe(!!t),_e.fromTimestamp(function(n){const r=Fi(n);return new Et(r.seconds,r.nanos)}(t))}function r0(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LT(t){const e=tt.fromString(t);return Fe(UT(e)),e}function fm(t,e){return r0(t.databaseId,e.path)}function Nf(t,e){const n=LT(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(jT(n))}function VT(t,e){return r0(t.databaseId,e)}function XD(t){const e=LT(t);return e.length===4?tt.emptyPath():jT(e)}function pm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jT(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tx(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function YD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Fe(u===void 0||typeof u=="string"),$t.fromBase64String(u||"")):(Fe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),$t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?q.UNKNOWN:DT(c.code);return new ue(u,c.message||"")}(o);n=new MT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nf(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):_e.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Su(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nf(t,r.document),s=r.readTime?yr(r.readTime):_e.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nf(t,r.document),s=r.removedTargetIds||[];n=new Su([],s,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BD(i,s),a=r.targetId;n=new NT(a,o)}}return n}function JD(t,e){let n;if(e instanceof Zl)n={update:tx(t,e.key,e.value)};else if(e instanceof e0)n={delete:fm(t,e.key)};else if(e instanceof Xi)n={update:tx(t,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof VD))return xe();n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe()}(t,e.precondition)),n}function ZD(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(_e.min())&&(o=yr(s)),new MD(o,i.transformResults||[])}(n,e))):[]}function eN(t,e){return{documents:[VT(t,e.path)]}}function tN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VT(t,i);const s=function(c){if(c.length!==0)return BT(Tr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Xs(p.field),direction:iN(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function nN(t){let e=XD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){const p=FT(f);return p instanceof Tr&&gT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(g){return new pd(Ys(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,oh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new fd(h,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,h=f.values||[];return new fd(h,p)}(n.endAt)),wD(e,i,o,s,a,"F",l,c)}function rN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ys(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ys(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>FT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function iN(t){return HD[t]}function sN(t){return qD[t]}function oN(t){return KD[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Ft.fromServerFormat(t.fieldPath)}function BT(t){return t instanceof bt?function(n){if(n.op==="=="){if(U1(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(B1(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U1(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(B1(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:sN(n.op),value:n.value}}}(t):t instanceof Tr?function(n){const r=n.getFilters().map(i=>BT(i));return r.length===1?r[0]:{compositeFilter:{op:oN(n.op),filters:r}}}(t):xe()}function aN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.ct=e}}function cN(t){const e=nN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.un=new dN}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ji.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class dN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bo(0)}static kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class hN{constructor(e){this.Un=e,this.buffer=new Dt(rx),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Hn(3e5)})}}class pN{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sh.oe);const r=new hN(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Gs()<=Pe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function mN(t,e){return new pN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nl(r.mutation,i,Pn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xr();const o=tl(),a=function(){return tl()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Xi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),nl(u.mutation,c,u.mutation.getFieldMask(),Et.now())):o.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new vN(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new lt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Pn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=TT();u.forEach(p=>{if(!s.has(p)){const h=AT(n.get(p),r.get(p));h!==null&&f.set(p,h),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ps());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:ET(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(f,p){return new lh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,en.newInvalidDocument(u)))});let a=Va();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&nl(u.mutation,c,Pn.empty(),Et.now()),uh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:cN(i.bundledQuery),readTime:yr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new lt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ps(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FD(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Tr=new Dt(Pt.Er),this.dr=new Dt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new tt([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new tt([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(Pt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Me);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new fe(s),0);let a=new Dt(Me);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Mr=e,this.docs=function(){return new lt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xr();const o=n.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ZR(JR(u),r)<=0||(i.has(u.key)||uh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TN(this)}getSize(e){return $.resolve(this.size)}}class TN extends gN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Nr=new Os(n=>Xg(n),Yg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new i0,this.targetCount=0,this.kr=Bo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sh(0),this.Kr=!1,this.Kr=!0,this.$r=new bN,this.referenceDelegate=e(this),this.Ur=new SN(this),this.indexManager=new uN,this.remoteDocumentCache=function(i){return new EN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lN(n),this.Gr=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _N(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new kN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kN extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Jr=new i0,this.Yr=null}static Zr(e){return new s0(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class yd{constructor(e,n){this.persistence=e,this.ti=new Os(r=>iD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mN(this,n)}static Zr(e,n){return new yd(e,n)}zr(){}jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return $.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,_e.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_u(e.data.value)),n}nr(e,n,r){return $.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new o0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SA()?8:nD(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CN;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gs()<=Pe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Gs()<=Pe.DEBUG&&te("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gs()<=Pe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):$.resolve())}Yi(e,n){if(H1(n))return $.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,um(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return H1(n)||i.isEqual(_e.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Gs()<=Pe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,YR(i,-1)).next(a=>a))})}ts(e,n){let r=new Dt(bT(e));return n.forEach((i,s)=>{uh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Gs()<=Pe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,ji.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lt(Me),this._s=new Os(s=>Xg(s),Yg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function AN(t,e,n,r){return new IN(t,e,n,r)}async function $T(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function RN(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,p=f.keys();let h=$.resolve();return p.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Fe(v!==null),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WT(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DN(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,f)));let h=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken($t.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,h,u)&&a.push(n.Ur.updateTargetData(s,h))});let l=Xr(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(NN(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(_e.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function NN(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function MN(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ON(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function mm(t,e,n){const r=Ee(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Zo(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ix(t,e,n){const r=Ee(t);let i=_e.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ee(l),p=f._s.get(u);return p!==void 0?$.resolve(f.os.get(p)):f.Ur.getTargetData(c,u)}(r,o,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Ie())).next(a=>(LN(r,ED(e),a),{documents:a,Ts:s})))}function LN(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sx{constructor(){this.activeTargetIds=ID()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.so=new sx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Mf(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class UN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Mf(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Lo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=FN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Mf();return new Promise((o,a)=>{const l=new iT;l.setWithCredentials(!0),l.listenOnce(sT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bu.NO_ERROR:const u=l.getResponseJson();te(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case bu.TIMEOUT:te(Xt,`RPC '${e}' ${s} timed out`),a(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case bu.HTTP_ERROR:const f=l.getStatus();if(te(Xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const h=p==null?void 0:p.error;if(h&&h.status&&h.message){const g=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(h.status);a(new ue(g,h.message))}else a(new ue(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{te(Xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(Xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Mf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lT(),a=aT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");te(Xt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let p=!1,h=!1;const g=new BN({Io:v=>{h?te(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(te(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),te(Xt,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),m=(v,x,w)=>{v.listen(x,_=>{try{w(_)}catch(R){setTimeout(()=>{throw R},0)}})};return m(f,La.EventType.OPEN,()=>{h||(te(Xt,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(f,La.EventType.CLOSE,()=>{h||(h=!0,te(Xt,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(f,La.EventType.ERROR,v=>{h||(h=!0,Lo(Xt,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new ue(q.UNAVAILABLE,"The operation could not be completed")))}),m(f,La.EventType.MESSAGE,v=>{var x;if(!h){const w=v.data[0];Fe(!!w);const _=w,R=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(R){te(Xt,`RPC '${e}' stream ${i} received error:`,R);const E=R.status;let A=function(S){const k=gt[S];if(k!==void 0)return DT(k)}(E),T=R.message;A===void 0&&(A=q.INTERNAL,T="Unknown error status: "+E+" with message "+R.message),h=!0,g.So(new ue(A,T)),f.close()}else te(Xt,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),m(a,oT.STAT_EVENT,v=>{v.stat===sm.PROXY?te(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===sm.NOPROXY&&te(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return new GD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new HT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends qT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=YD(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?yr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cm(l)?{documents:eN(s,l)}:{query:tN(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OT(s,o.resumeToken);const c=dm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=vd(s,o.snapshotVersion.toTimestamp());const c=dm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=rN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.a_(n)}}class $N extends qT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ZD(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,hm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.L_.add(4),await tc(c),c.q_.set("Unknown"),c.L_.delete(4),await mh(c)}(this))})}),this.q_=new HN(r,i)}}async function mh(t){if(Ls(t))for(const e of t.B_)await e(!0)}async function tc(t){for(const e of t.B_)await e(!1)}function KT(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),u0(n)?c0(n):ea(n).r_()&&l0(n,e))}function a0(t,e){const n=Ee(t),r=ea(n);n.N_.delete(e),r.r_()&&GT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ls(n)&&n.q_.set("Unknown"))}function l0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).A_(e)}function GT(t,e){t.Q_.xe(e),ea(t).R_(e)}function c0(t){t.Q_=new WD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.q_.v_()}function u0(t){return Ls(t)&&!ea(t).n_()&&t.N_.size>0}function Ls(t){return Ee(t).L_.size===0}function QT(t){t.Q_=void 0}async function KN(t){t.q_.set("Online")}async function GN(t){t.N_.forEach((e,n)=>{l0(t,e)})}async function QN(t,e){QT(t),u0(t)?(t.q_.M_(e),c0(t)):t.q_.set("Unknown")}async function XN(t,e,n){if(t.q_.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(t,r)}else if(e instanceof Su?t.Q_.Ke(e):e instanceof NT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await WT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken($t.EMPTY_BYTE_STRING,u.snapshotVersion)),GT(s,l);const f=new bi(u.target,l,c,u.sequenceNumber);l0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await xd(t,r)}}async function xd(t,e,n){if(!Zo(e))throw e;t.L_.add(1),await tc(t),t.q_.set("Offline"),n||(n=()=>WT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await mh(t)})}function XT(t,e){return e().catch(n=>xd(t,n,e))}async function gh(t){const e=Ee(t),n=zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YN(e);)try{const i=await MN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,JN(e,i)}catch(i){await xd(e,i)}YT(e)&&JT(e)}function YN(t){return Ls(t)&&t.O_.length<10}function JN(t,e){t.O_.push(e);const n=zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YT(t){return Ls(t)&&!zi(t).n_()&&t.O_.length>0}function JT(t){zi(t).start()}async function ZN(t){zi(t).p_()}async function eM(t){const e=zi(t);for(const n of t.O_)e.m_(n.mutations)}async function tM(t,e,n){const r=t.O_.shift(),i=t0.from(r,e,n);await XT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gh(t)}async function nM(t,e){e&&zi(t).V_&&await async function(r,i){if(function(o){return UD(o)&&o!==q.ABORTED}(i.code)){const s=r.O_.shift();zi(r).s_(),await XT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gh(r)}}(t,e),YT(t)&&JT(t)}async function ax(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.L_.add(3),await tc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await mh(n)}async function rM(t,e){const n=Ee(t);e?(n.L_.delete(2),await mh(n)):e||(n.L_.add(2),await tc(n),n.q_.set("Unknown"))}function ea(t){return t.K_||(t.K_=function(n,r,i){const s=Ee(n);return s.w_(),new zN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:KN.bind(null,t),Ro:GN.bind(null,t),mo:QN.bind(null,t),d_:XN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),u0(t)?c0(t):t.q_.set("Unknown")):(await t.K_.stop(),QT(t))})),t.K_}function zi(t){return t.U_||(t.U_=function(n,r,i){const s=Ee(n);return s.w_(),new $N(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZN.bind(null,t),mo:nM.bind(null,t),f_:eM.bind(null,t),g_:tM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await gh(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new d0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Zo(t))return new ue(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.W_=new lt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uo(e,n,Eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sM{constructor(){this.queries=cx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ee(n),s=i.queries;i.queries=cx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function cx(){return new Os(t=>wT(t),ch)}async function ZT(t,e){const n=Ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new iM,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=h0(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&f0(n)}async function eS(t,e){const n=Ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oM(t,e){const n=Ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&f0(n)}function aM(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function f0(t){t.Y_.forEach(e=>{e.next()})}var gm,ux;(ux=gm||(gm={})).ea="default",ux.Cache="cache";class tS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.key=e}}class rS{constructor(e){this.key=e}}class lM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=bT(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const p=i.get(u),h=uh(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;p&&h?p.data.isEqual(h.data)?g!==m&&(r.track({type:3,doc:h}),v=!0):this.ga(p,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Aa(h,l)>0||c&&this.Aa(h,c)<0)&&(a=!0)):!p&&h?(r.track({type:0,doc:h}),v=!0):p&&!h&&(r.track({type:1,doc:p}),v=!0,(l||c)&&(a=!0)),v&&(h?(o=o.add(h),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(h,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return m(h)-m(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Uo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uM{constructor(e){this.key=e,this.va=!1}}class dM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Os(a=>wT(a),ch),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(fe.comparator),this.Na=new Map,this.La=new i0,this.Ba={},this.ka=new Map,this.qa=Bo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hM(t,e,n=!0){const r=cS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await iS(r,e,n,!0),i}async function fM(t,e){const n=cS(t);await iS(n,e,!0,!1)}async function iS(t,e,n,r){const i=await ON(t.localStore,vr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await pM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KT(t.remoteStore,i),a}async function pM(t,e,n,r,i){t.Ka=(f,p,h)=>async function(m,v,x,w){let _=v.view.ma(x);_.ns&&(_=await ix(m.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,_)));const R=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(_,m.isPrimaryClient,R,E);return hx(m,v.targetId,A.wa),A.snapshot}(t,f,p,h);const s=await ix(t.localStore,e,!0),o=new lM(e,s.Ts),a=o.ma(s.documents),l=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);hx(t,n,c.wa);const u=new cM(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function mM(t,e,n){const r=Ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ch(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&a0(r.remoteStore,i.targetId),vm(r,i.targetId)}).catch(Jo)):(vm(r,i.targetId),await mm(r.localStore,i.targetId,!0))}async function gM(t,e){const n=Ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a0(n.remoteStore,r.targetId))}async function vM(t,e,n){const r=TM(t);try{const i=await function(o,a){const l=Ee(o),c=Et.now(),u=a.reduce((h,g)=>h.add(g.key),Ie());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Xr(),m=Ie();return l.cs.getEntries(h,u).next(v=>{g=v,g.forEach((x,w)=>{w.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(v=>{f=v;const x=[];for(const w of a){const _=LD(w,f.get(w.key).overlayedDocument);_!=null&&x.push(new Xi(w.key,_,fT(_.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,x,a)}).next(v=>{p=v;const x=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,x)})}).then(()=>({batchId:p.batchId,changes:ET(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new lt(Me)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await nc(r,i.changes),await gh(r.remoteStore)}catch(i){const s=h0(i,"Failed to persist write");n.reject(s)}}async function sS(t,e){const n=Ee(t);try{const r=await DN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Fe(o.va):i.removedDocuments.size>0&&(Fe(o.va),o.va=!1))}),await nc(n,r,e)}catch(r){await Jo(r)}}function dx(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ee(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&f0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yM(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new lt(fe.comparator);o=o.insert(s,en.newNoDocument(s,_e.min()));const a=Ie().add(s),l=new fh(_e.min(),new Map,new lt(Me),o,a);await sS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),p0(r)}else await mm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(Jo)}async function xM(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await RN(n.localStore,e);aS(n,r,null),oS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Jo(i)}}async function wM(t,e,n){const r=Ee(t);try{const i=await function(o,a){const l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Fe(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);aS(r,e,n),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,i)}catch(i){await Jo(i)}}function oS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aS(t,e,n){const r=Ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lS(t,r)})}function lS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(a0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),p0(t))}function hx(t,e,n){for(const r of n)r instanceof nS?(t.La.addReference(r.key,e),bM(t,r)):r instanceof rS?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lS(t,r.key)):xe()}function bM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),p0(t))}function p0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new uM(n)),t.Oa=t.Oa.insert(n,r),KT(t.remoteStore,new bi(vr(Jg(n.path)),r,"TargetPurposeLimboResolution",sh.oe))}}async function nc(t,e,n){const r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=o0.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,p=>$.forEach(p.$i,h=>u.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>$.forEach(p.Ui,h=>u.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!Zo(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const h=u.os.get(p),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(p,m)}}}(r.localStore,s))}async function _M(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await $T(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.hs)}}function EM(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function cS(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yM.bind(null,e),e.Ca.d_=oM.bind(null,e.eventManager),e.Ca.$a=aM.bind(null,e.eventManager),e}function TM(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return AN(this.persistence,new PN,e.initialUser,this.serializer)}Ga(e){return new zT(s0.Zr,this.serializer)}Wa(e){return new VN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class SM extends wd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Fe(this.persistence.referenceDelegate instanceof yd);const r=this.persistence.referenceDelegate.garbageCollector;return new fN(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new zT(r=>yd.Zr(r,n),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sM}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),r=function(s){return new UN(s)}(e.databaseInfo);return function(s,o,a,l){return new WN(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new qN(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dx(this.syncEngine,n,0),function(){return ox.D()?new ox:new jN}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const f=new dM(i,s,o,a,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ee(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await tc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=uT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $T(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CM(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ax(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ax(e.remoteStore,i)),t._onlineComponents=e}async function CM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new wd)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Lf(t,new SM(void 0));return t._offlineComponents}async function dS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await fx(t,new ym))),t._onlineComponents}function PM(t){return dS(t).then(e=>e.syncEngine)}async function hS(t){const e=await dS(t),n=e.eventManager;return n.onListen=hM.bind(null,e.syncEngine),n.onUnlisten=mM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gM.bind(null,e.syncEngine),n}function IM(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new uS({next:p=>{u.Za(),o.enqueueAndForget(()=>eS(s,f));const h=p.docs.has(a);!h&&p.fromCache?c.reject(new ue(q.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&l&&l.source==="server"?c.reject(new ue(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new tS(Jg(a.path),u,{includeMetadataChanges:!0,_a:!0});return ZT(s,f)}(await hS(t),t.asyncQueue,e,n,r)),r.promise}function AM(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new uS({next:p=>{u.Za(),o.enqueueAndForget(()=>eS(s,f)),p.fromCache&&l.source==="server"?c.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new tS(a,u,{includeMetadataChanges:!0,_a:!0});return ZT(s,f)}(await hS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e,n){if(!n)throw new ue(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RM(t,e,n,r){if(e===!0&&r===!0)throw new ue(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mx(t){if(!fe.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gx(t){if(fe.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zR;switch(r.type){case"firstParty":return new qR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(te("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function DM(t,e,n,r={}){var i;const s=(t=Sr(t,vh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Jt.MOCK_USER;else{a=yA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jt(c)}t._authCredentials=new $R(new cT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yh(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Oi extends yh{constructor(e,n,r){super(e,n,Jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new fe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=zt(t),pS("collection","path",e),t instanceof vh){const r=tt.fromString(e,...n);return gx(r),new Oi(t,null,r)}{if(!(t instanceof wn||t instanceof Oi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return gx(r),new Oi(t.firestore,null,r)}}function me(t,e,...n){if(t=zt(t),arguments.length===1&&(e=uT.newId()),pS("doc","path",e),t instanceof vh){const r=tt.fromString(e,...n);return mx(r),new wn(t,null,new fe(r))}{if(!(t instanceof wn||t instanceof Oi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return mx(r),new wn(t.firestore,t instanceof Oi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new HT(this,"async_queue_retry"),this.Vu=()=>{const r=Of();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=d0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class na extends vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yx(e),this._firestoreClient=void 0,await e}}}function mS(t,e){const n=typeof t=="object"?t:eT(),r=typeof t=="string"?t:"(default)",i=qg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gA("firestore");s&&DM(i,...s)}return i}function g0(t){if(t._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NM(t),t._firestoreClient}function NM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new aD(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new kM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo($t.fromBase64String(e))}catch(n){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^__.*__$/;class OM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}class gS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class w0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(vS(this.Cu)&&MM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ph(e)}Qu(e,n,r,i=!1){return new w0({Cu:e,methodName:n,qu:r,path:Ft.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yS(t){const e=t._freezeSettings(),n=ph(t._databaseId);return new LM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VM(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);b0("Data must be an object, but it was:",o,r);const a=xS(r,o);let l,c;if(s.merge)l=new Pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const p=xm(e,f,n);if(!o.contains(p))throw new ue(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);bS(u,p)||u.push(p)}l=new Pn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new OM(new mn(a),l,c)}class wh extends v0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function jM(t,e,n,r){const i=t.Qu(1,e,n);b0("Data must be an object, but it was:",i,r);const s=[],o=mn.empty();Qi(r,(l,c)=>{const u=_0(e,l,n);c=zt(c);const f=i.Nu(u);if(c instanceof wh)s.push(u);else{const p=bh(c,f);p!=null&&(s.push(u),o.set(u,p))}});const a=new Pn(s);return new gS(o,a,i.fieldTransforms)}function FM(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[xm(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(xm(e,s[p])),l.push(s[p+1]);const c=[],u=mn.empty();for(let p=a.length-1;p>=0;--p)if(!bS(c,a[p])){const h=a[p];let g=l[p];g=zt(g);const m=o.Nu(h);if(g instanceof wh)c.push(h);else{const v=bh(g,m);v!=null&&(c.push(h),u.set(h,v))}}const f=new Pn(c);return new gS(u,f,o.fieldTransforms)}function bh(t,e){if(wS(t=zt(t)))return b0("Unsupported field value:",e,t),xS(t,e);if(t instanceof v0)return function(r,i){if(!vS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bh(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Et.fromDate(r);return{timestampValue:vd(i.serializer,s)}}if(r instanceof Et){const s=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(i.serializer,s)}}if(r instanceof y0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:OT(i.serializer,r._byteString)};if(r instanceof wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:r0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof x0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Zg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${m0(r)}`)}(t,e)}function xS(t,e){const n={};return dT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,i)=>{const s=bh(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof y0||t instanceof zo||t instanceof wn||t instanceof v0||t instanceof x0)}function b0(t,e,n){if(!wS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=m0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xm(t,e,n){if((e=zt(e))instanceof xh)return e._internalPath;if(typeof e=="string")return _0(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const BM=new RegExp("[~\\*/\\[\\]]");function _0(t,e,n){if(e.search(BM)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xh(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(q.INVALID_ARGUMENT,a+t+l)}function bS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ES("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UM extends _S{data(){return super.data()}}function ES(t,e){return typeof e=="string"?_0(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $M{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>pt(o.doubleValue));return new x0(s)}convertGeoPoint(e){return new y0(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ah(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Fe(UT(r));const i=new Dl(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TS extends _S{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ES("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ku extends TS{data(e={}){return super.data(e)}}class HM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ku(this._firestore,this._userDataWriter,r.key,r,new Fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:qM(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){t=Sr(t,wn);const e=Sr(t.firestore,na);return IM(g0(e),t._key).then(n=>KM(e,t,n))}class SS extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function ra(t){t=Sr(t,yh);const e=Sr(t.firestore,na),n=g0(e),r=new SS(e);return zM(t._query),AM(n,t._query).then(i=>new HM(e,r,t,i))}function Jn(t,e,n){t=Sr(t,wn);const r=Sr(t.firestore,na),i=WM(t.converter,e,n);return E0(r,[VM(yS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function Ke(t,e,n,...r){t=Sr(t,wn);const i=Sr(t.firestore,na),s=yS(i);let o;return o=typeof(e=zt(e))=="string"||e instanceof xh?FM(s,"updateDoc",t._key,e,n,r):jM(s,"updateDoc",t._key,e),E0(i,[o.toMutation(t._key,nr.exists(!0))])}function _i(t){return E0(Sr(t.firestore,na),[new e0(t._key,nr.none())])}function E0(t,e){return function(r,i){const s=new jr;return r.asyncQueue.enqueueAndForget(async()=>vM(await PM(r),i,s)),s.promise}(g0(t),e)}function KM(t,e,n){const r=n.docs.get(e._key),i=new SS(t);return new TS(t,i,e._key,r,new Fa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Yo=i})(Xo),Oo(new Ss("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new na(new WR(r.getProvider("auth-internal")),new GR(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mi(M1,"4.7.4",e),Mi(M1,"4.7.4","esm2017")})();var GM="firebase",QM="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(GM,QM,"app");function T0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=kS,CS=new Yl("auth","Firebase",kS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Wg("@firebase/auth");function YM(t,...e){_d.logLevel<=Pe.WARN&&_d.warn(`Auth (${Xo}): ${t}`,...e)}function Cu(t,...e){_d.logLevel<=Pe.ERROR&&_d.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw S0(t,...e)}function xr(t,...e){return S0(t,...e)}function PS(t,e,n){const r=Object.assign(Object.assign({},XM()),{[e]:n});return new Yl("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return PS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CS.create(t,...e)}function ye(t,e,...n){if(!t)throw S0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Yr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JM(){return xx()==="http:"||xx()==="https:"}function xx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||_A()||"connection"in navigator)?navigator.onLine:!0}function eO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=xA()||EA()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new ic(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ji(t,e,n,r,i={}){return AS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return bA()||(c.referrerPolicy="no-referrer"),IS.fetch()(RS(t,t.config.apiHost,n,a),c)})}async function AS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tO),e);try{const i=new iO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PS(t,u,c);ir(t,u)}}catch(i){if(i instanceof Zr)throw i;ir(t,"network-request-failed",{message:String(i)})}}async function sc(t,e,n,r,i={}){const s=await Ji(t,e,n,r,i);return"mfaPendingCredential"in s&&ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function RS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k0(t.config,i):`${t.config.apiScheme}://${i}`}function rO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),nO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}function wx(t){return t!==void 0&&t.enterprise!==void 0}class sO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oO(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function DS(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lO(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=C0(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rl(Vf(i.auth_time)),issuedAtTime:rl(Vf(i.iat)),expirationTime:rl(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function C0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const i=KE(n);return i?JSON.parse(i):(Cu("Failed to decode base64 JWT payload"),null)}catch(i){return Cu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bx(t){const e=C0(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&cO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ll(t,DS(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NS(s.providerUserInfo):[],a=hO(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function dO(t){const e=zt(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NS(t){return t.map(e=>{var{providerId:n}=e,r=T0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){const n=await AS(t,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pO(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new To;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=T0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lO(this,e)}reload(){return dO(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Ll(this,aO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:R,isAnonymous:E,providerData:A,stsTokenManager:T}=n;ye(_&&T,e,"internal-error");const y=To.fromJSON(this.name,T);ye(typeof _=="string",e,"internal-error"),oi(f,e.name),oi(p,e.name),ye(typeof R=="boolean",e,"internal-error"),ye(typeof E=="boolean",e,"internal-error"),oi(h,e.name),oi(g,e.name),oi(m,e.name),oi(v,e.name),oi(x,e.name),oi(w,e.name);const S=new Mr({uid:_,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:E,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:y,createdAt:x,lastLoginAt:w});return A&&Array.isArray(A)&&(S.providerData=A.map(k=>Object.assign({},k))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const s=new Mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ed(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new To;a.updateFromIdToken(r);const l=new Mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map;function Or(t){Yr(t instanceof Function,"Expected a class definition");let e=_x.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_x.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MS.type="NONE";const Ex=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Or(Ex),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Or(Ex);const o=Pu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const f=Mr._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new So(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BS(e))return"Blackberry";if(US(e))return"Webos";if(LS(e))return"Safari";if((e.includes("chrome/")||VS(e))&&!e.includes("edge/"))return"Chrome";if(FS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OS(t=sn()){return/firefox\//i.test(t)}function LS(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VS(t=sn()){return/crios\//i.test(t)}function jS(t=sn()){return/iemobile/i.test(t)}function FS(t=sn()){return/android/i.test(t)}function BS(t=sn()){return/blackberry/i.test(t)}function US(t=sn()){return/webos/i.test(t)}function P0(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mO(t=sn()){var e;return P0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gO(){return TA()&&document.documentMode===10}function zS(t=sn()){return P0(t)||FS(t)||US(t)||BS(t)||/windows phone/i.test(t)||jS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e=[]){let n;switch(t){case"Browser":n=Tx(sn());break;case"Worker":n=`${Tx(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=6;class wO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sx(this),this.idTokenSubscription=new Sx(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DS(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Fr(this));const n=e?zt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yO(this),n=new wO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return zt(t)}class Sx{constructor(e){this.auth=e,this.observer=null,this.addObserver=DA(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _O(t){_h=t}function WS(t){return _h.loadJS(t)}function EO(){return _h.recaptchaEnterpriseScript}function TO(){return _h.gapiScript}function SO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kO{constructor(){this.enterprise=new CO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PO="recaptcha-enterprise",HS="NO_RECAPTCHA";class IO{constructor(e){this.type=PO,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{oO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new sO(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;wx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(HS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&wx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EO();l.length!==0&&(l+=a),WS(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function kx(t,e,n,r=!1,i=!1){const s=new IO(t);let o;if(i)o=HS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _m(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await kx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){const n=qg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ud(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function RO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DO(t,e,n){const r=Vs(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qS(e),{host:o,port:a}=NO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),MO()}function qS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NO(t){const e=qS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Cx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Cx(o)}}}function Cx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function OO(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function jO(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends I0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,n,"signInWithPassword",LO);case"emailLink":return VO(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,r,"signUpPassword",OO);case"emailLink":return jO(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class Cs extends I0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=T0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UO(t){const e=Ma(Oa(t)).link,n=e?Ma(Oa(e)).deep_link_id:null,r=Ma(Oa(t)).deep_link_id;return(r?Ma(Oa(r)).link:null)||r||n||e||t}class A0{constructor(e){var n,r,i,s,o,a;const l=Ma(Oa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=BO((i=l.mode)!==null&&i!==void 0?i:null);ye(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=UO(e);try{return new A0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=A0.parseLink(n);return ye(r,"argument-error"),Vl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends oc{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends oc{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends oc{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){return sc(t,"POST","/v1/accounts:signUp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Mr._fromIdTokenResponse(e,r,i),o=Px(r);return new Ps({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Px(r);return new Ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Px(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Zr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Td(e,n,r,i)}}function GS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(t,s,e,r):s})}async function $O(t,e,n=!1){const r=await Ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e,n=!1){const{auth:r}=t;if(pr(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const s=await Ll(t,GS(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=C0(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),Ps._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(t,e,n=!1){if(pr(t.app))return Promise.reject(Fr(t));const r="signIn",i=await GS(t,r,e),s=await Ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function HO(t,e){return QS(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t){const e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(pr(t.app))return Promise.reject(Fr(t));const r=Vs(t),o=await _m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XS(t),l}),a=await Ps._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KO(t,e,n){return pr(t.app)?Promise.reject(Fr(t)):HO(zt(t),ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XS(t),r})}function GO(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function QO(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function Is(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function XO(t){return zt(t).signOut()}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1e3,JO=10;class JS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const ZO=JS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZS.type="SESSION";const ek=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await eL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=R0("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function nL(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function rL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sL(){return tk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebaseLocalStorageDb",oL=1,kd="firebaseLocalStorage",rk="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(t,e){return t.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function aL(){const t=indexedDB.deleteDatabase(nk);return new ac(t).toPromise()}function Em(){const t=indexedDB.open(nk,oL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kd,{keyPath:rk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await aL(),e(await Em()))})})}async function Ix(t,e,n){const r=Th(t,!0).put({[rk]:e,value:n});return new ac(r).toPromise()}async function lL(t,e){const n=Th(t,!1).get(e),r=await new ac(n).toPromise();return r===void 0?null:r.value}function Ax(t,e){const n=Th(t,!0).delete(e);return new ac(n).toPromise()}const cL=800,uL=3;class ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(sL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rL(),!this.activeServiceWorker)return;this.sender=new tL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await Ix(e,Sd,"1"),await Ax(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ax(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Th(i,!1).getAll();return new ac(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ik.type="LOCAL";const dL=ik;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){return e?Or(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends I0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fL(t){return QS(t.auth,new D0(t),t.bypassAuthState)}function pL(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),WO(n,new D0(t),t.bypassAuthState)}async function mL(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),$O(n,new D0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return mL;case"reauthViaPopup":case"reauthViaRedirect":return pL;default:ir(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new ic(2e3,1e4);class uo extends sk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gL.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="pendingRedirect",Iu=new Map;class yL extends sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const r=await xL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xL(t,e){const n=_L(e),r=bL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wL(t,e){Iu.set(t._key(),e)}function bL(t){return Or(t._redirectPersistence)}function _L(t){return Pu(vL,t.config.apiKey,t.name)}async function EL(t,e,n=!1){if(pr(t.app))return Promise.reject(Fr(t));const r=Vs(t),i=hL(r,e),o=await new yL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=10*60*1e3;class SL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ok(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rx(e))}saveEventToCache(e){this.cachedEventUids.add(Rx(e)),this.lastProcessedEventTime=Date.now()}}function Rx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ok({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ok(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IL=/^https?/;async function AL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CL(t);for(const n of e)try{if(RL(n))return}catch{}ir(t,"unauthorized-domain")}function RL(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IL.test(n))return!1;if(PL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new ic(3e4,6e4);function Dx(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NL(t){return new Promise((e,n)=>{var r,i,s;function o(){Dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dx(),n(xr(t,"network-request-failed"))},timeout:DL.get()})}if(!((i=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wr().gapi)===null||s===void 0)&&s.load)o();else{const a=SO("iframefcb");return wr()[a]=()=>{gapi.load?o():n(xr(t,"network-request-failed"))},WS(`${TO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Au=null,e})}let Au=null;function ML(t){return Au=Au||NL(t),Au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new ic(5e3,15e3),LL="__/auth/iframe",VL="emulator/auth/iframe",jL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BL(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k0(e,VL):`https://${t.config.authDomain}/${LL}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=FL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jl(r).slice(1)}`}async function UL(t){const e=await ML(t),n=wr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:BL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xr(t,"network-request-failed"),a=wr().setTimeout(()=>{s(o)},OL.get());function l(){wr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$L=500,WL=600,HL="_blank",qL="http://localhost";class Nx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KL(t,e,n,r=$L,i=WL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=sn().toLowerCase();n&&(a=VS(c)?HL:n),OS(c)&&(e=e||qL,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[h,g])=>`${p}${h}=${g},`,"");if(mO(c)&&a!=="_self")return GL(e||"",a),new Nx(null);const f=window.open(e||"",a,u);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new Nx(f)}function GL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="__/auth/handler",XL="emulator/auth/handler",YL=encodeURIComponent("fac");async function Mx(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof KS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof oc){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${YL}=${encodeURIComponent(l)}`:"";return`${JL(t)}?${Jl(a).slice(1)}${c}`}function JL({config:t}){return t.emulator?k0(t,XL):`https://${t.authDomain}/${QL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class ZL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ek,this._completeRedirectFn=EL,this._overrideRedirectResult=wL}async _openPopup(e,n,r,i){var s;Yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Mx(e,n,r,wm(),i);return KL(e,o,R0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Mx(e,n,r,wm(),i);return nL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UL(e),r=new SL(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jf];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||LS()||P0()}}const eV=ZL;var Ox="@firebase/auth",Lx="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rV(t){Oo(new Ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(t)},c=new bO(r,i,s,l);return RO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new Ss("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new tV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(Ox,Lx,nV(t)),Mi(Ox,Lx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=5*60,sV=XE("authIdTokenMaxAge")||iV;let Vx=null;const oV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sV)return;const i=n==null?void 0:n.token;Vx!==i&&(Vx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ak(t=eT()){const e=qg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AO(t,{popupRedirectResolver:eV,persistence:[dL,ZO,ek]}),r=XE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oV(s.toString());QO(n,o,()=>o(n.currentUser)),GO(n,a=>o(a))}}const i=GE("auth");return i&&DO(n,`http://${i}`),n}function aV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_O({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rV("Browser");const lV={apiKey:"AIzaSyDpibbohgF-9aoUymLOQIJSKrDnYqr7ThU",authDomain:"kittytask.firebaseapp.com",projectId:"kittytask",storageBucket:"kittytask.firebasestorage.app",messagingSenderId:"731649481968",appId:"1:731649481968:web:373ca9c61500eb2c5df635",measurementId:"G-19NGHN1W0S"},lk=ZE(lV),Ve=ak(lk),de=mS(lk);function cV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Sh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function N0(t){return"nodeType"in t}function bn(t){var e,n;return t?sa(t)?t:N0(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function M0(t){const{Document:e}=bn(t);return t instanceof e}function lc(t){return sa(t)?!1:t instanceof bn(t).HTMLElement}function ck(t){return t instanceof bn(t).SVGElement}function oa(t){return t?sa(t)?t.document:N0(t)?M0(t)?t:lc(t)||ck(t)?t.ownerDocument:document:document:document}const sr=Sh?M.useLayoutEffect:M.useEffect;function O0(t){const e=M.useRef(t);return sr(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function uV(){const t=M.useRef(null),e=M.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=M.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function jl(t,e){e===void 0&&(e=[t]);const n=M.useRef(t);return sr(()=>{n.current!==t&&(n.current=t)},e),n}function cc(t,e){const n=M.useRef();return M.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Cd(t){const e=O0(t),n=M.useRef(null),r=M.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Tm(t){const e=M.useRef();return M.useEffect(()=>{e.current=t},[t]),e.current}let Ff={};function uc(t,e){return M.useMemo(()=>{if(e)return e;const n=Ff[t]==null?0:Ff[t]+1;return Ff[t]=n,t+"-"+n},[t,e])}function uk(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const Co=uk(1),Pd=uk(-1);function dV(t){return"clientX"in t&&"clientY"in t}function L0(t){if(!t)return!1;const{KeyboardEvent:e}=bn(t.target);return e&&t instanceof e}function hV(t){if(!t)return!1;const{TouchEvent:e}=bn(t.target);return e&&t instanceof e}function Sm(t){if(hV(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return dV(t)?{x:t.clientX,y:t.clientY}:null}const Id=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Id.Translate.toString(t),Id.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),jx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fV(t){return t.matches(jx)?t:t.querySelector(jx)}const pV={display:"none"};function mV(t){let{id:e,value:n}=t;return be.createElement("div",{id:e,style:pV},n)}function gV(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function vV(){const[t,e]=M.useState("");return{announce:M.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const dk=M.createContext(null);function yV(t){const e=M.useContext(dk);M.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function xV(){const[t]=M.useState(()=>new Set),e=M.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[M.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const wV={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bV={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function _V(t){let{announcements:e=bV,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=wV}=t;const{announce:s,announcement:o}=vV(),a=uc("DndLiveRegion"),[l,c]=M.useState(!1);if(M.useEffect(()=>{c(!0)},[]),yV(M.useMemo(()=>({onDragStart(f){let{active:p}=f;s(e.onDragStart({active:p}))},onDragMove(f){let{active:p,over:h}=f;e.onDragMove&&s(e.onDragMove({active:p,over:h}))},onDragOver(f){let{active:p,over:h}=f;s(e.onDragOver({active:p,over:h}))},onDragEnd(f){let{active:p,over:h}=f;s(e.onDragEnd({active:p,over:h}))},onDragCancel(f){let{active:p,over:h}=f;s(e.onDragCancel({active:p,over:h}))}}),[s,e])),!l)return null;const u=be.createElement(be.Fragment,null,be.createElement(mV,{id:r,value:i.draggable}),be.createElement(gV,{id:a,announcement:o}));return n?us.createPortal(u,n):u}var wt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(wt||(wt={}));function Ad(){}function Rd(t,e){return M.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function hk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const or=Object.freeze({x:0,y:0});function EV(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function TV(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function SV(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function kV(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Fx(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const fk=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Fx(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=EV(Fx(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(TV)};function CV(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const PV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=CV(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(SV)};function IV(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function pk(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:or}function AV(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const RV=AV(1);function DV(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function NV(t,e,n){const r=DV(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const MV={ignoreTransform:!1};function aa(t,e){e===void 0&&(e=MV);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=bn(t).getComputedStyle(t);c&&(n=NV(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function Bx(t){return aa(t,{ignoreTransform:!0})}function OV(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function LV(t,e){return e===void 0&&(e=bn(t).getComputedStyle(t)),e.position==="fixed"}function VV(t,e){e===void 0&&(e=bn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function V0(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(M0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!lc(i)||ck(i)||n.includes(i))return n;const s=bn(t).getComputedStyle(i);return i!==t&&VV(i,s)&&n.push(i),LV(i,s)?n:r(i.parentNode)}return t?r(t):n}function mk(t){const[e]=V0(t,1);return e??null}function Bf(t){return!Sh||!t?null:sa(t)?t:N0(t)?M0(t)||t===oa(t).scrollingElement?window:lc(t)?t:null:null}function gk(t){return sa(t)?t.scrollX:t.scrollLeft}function vk(t){return sa(t)?t.scrollY:t.scrollTop}function km(t){return{x:gk(t),y:vk(t)}}var At;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(At||(At={}));function yk(t){return!Sh||!t?!1:t===document.scrollingElement}function xk(t){const e={x:0,y:0},n=yk(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const jV={x:.2,y:.2};function FV(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=jV);const{isTop:c,isBottom:u,isLeft:f,isRight:p}=xk(t),h={x:0,y:0},g={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+m.height?(h.y=At.Backward,g.y=r*Math.abs((e.top+m.height-s)/m.height)):!u&&l>=e.bottom-m.height&&(h.y=At.Forward,g.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!p&&a>=e.right-m.width?(h.x=At.Forward,g.x=r*Math.abs((e.right-m.width-a)/m.width)):!f&&o<=e.left+m.width&&(h.x=At.Backward,g.x=r*Math.abs((e.left+m.width-o)/m.width)),{direction:h,speed:g}}function BV(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function wk(t){return t.reduce((e,n)=>Co(e,km(n)),or)}function UV(t){return t.reduce((e,n)=>e+gk(n),0)}function zV(t){return t.reduce((e,n)=>e+vk(n),0)}function $V(t,e){if(e===void 0&&(e=aa),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);mk(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const WV=[["x",["left","right"],UV],["y",["top","bottom"],zV]];class j0{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=V0(n),i=wk(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of WV)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class il{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function HV(t){const{EventTarget:e}=bn(t);return t instanceof e?t:oa(t)}function Uf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var jn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(jn||(jn={}));function Ux(t){t.preventDefault()}function qV(t){t.stopPropagation()}var je;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(je||(je={}));const bk={start:[je.Space,je.Enter],cancel:[je.Esc],end:[je.Space,je.Enter]},KV=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case je.Right:return{...n,x:n.x+25};case je.Left:return{...n,x:n.x-25};case je.Down:return{...n,y:n.y+25};case je.Up:return{...n,y:n.y-25}}};class _k{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new il(oa(n)),this.windowListeners=new il(bn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&$V(r),n(or)}handleKeyDown(e){if(L0(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=bk,coordinateGetter:o=KV,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:or;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(e,{active:n,context:r.current,currentCoordinates:u});if(f){const p=Pd(f,u),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const m of g){const v=e.code,{isTop:x,isRight:w,isLeft:_,isBottom:R,maxScroll:E,minScroll:A}=xk(m),T=BV(m),y={x:Math.min(v===je.Right?T.right-T.width/2:T.right,Math.max(v===je.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(v===je.Down?T.bottom-T.height/2:T.bottom,Math.max(v===je.Down?T.top:T.top+T.height/2,f.y))},S=v===je.Right&&!w||v===je.Left&&!_,k=v===je.Down&&!R||v===je.Up&&!x;if(S&&y.x!==f.x){const I=m.scrollLeft+p.x,D=v===je.Right&&I<=E.x||v===je.Left&&I>=A.x;if(D&&!p.y){m.scrollTo({left:I,behavior:a});return}D?h.x=m.scrollLeft-I:h.x=v===je.Right?m.scrollLeft-E.x:m.scrollLeft-A.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(k&&y.y!==f.y){const I=m.scrollTop+p.y,D=v===je.Down&&I<=E.y||v===je.Up&&I>=A.y;if(D&&!p.x){m.scrollTo({top:I,behavior:a});return}D?h.y=m.scrollTop-I:h.y=v===je.Down?m.scrollTop-E.y:m.scrollTop-A.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(e,Co(Pd(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_k.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=bk,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function zx(t){return!!(t&&"distance"in t)}function $x(t){return!!(t&&"delay"in t)}class F0{constructor(e,n,r){var i;r===void 0&&(r=HV(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=oa(o),this.documentListeners=new il(this.document),this.listeners=new il(r),this.windowListeners=new il(bn(o)),this.initialCoordinates=(i=Sm(s))!=null?i:or,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.DragStart,Ux),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),this.windowListeners.add(jn.ContextMenu,Ux),this.documentListeners.add(jn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($x(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(zx(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(jn.Click,qV,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=Sm(e))!=null?n:or,c=Pd(i,l);if(!r&&a){if(zx(a)){if(a.tolerance!=null&&Uf(c,a.tolerance))return this.handleCancel();if(Uf(c,a.distance))return this.handleStart()}return $x(a)&&Uf(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===je.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const GV={move:{name:"pointermove"},end:{name:"pointerup"}};class Ek extends F0{constructor(e){const{event:n}=e,r=oa(n.target);super(e,GV,r)}}Ek.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const QV={move:{name:"mousemove"},end:{name:"mouseup"}};var Cm;(function(t){t[t.RightClick=2]="RightClick"})(Cm||(Cm={}));class B0 extends F0{constructor(e){super(e,QV,oa(e.event.target))}}B0.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Cm.RightClick?!1:(r==null||r({event:n}),!0)}}];const zf={move:{name:"touchmove"},end:{name:"touchend"}};class U0 extends F0{constructor(e){super(e,zf)}static setup(){return window.addEventListener(zf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(zf.move.name,e)};function e(){}}}U0.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var sl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(sl||(sl={}));var Dd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Dd||(Dd={}));function XV(t){let{acceleration:e,activator:n=sl.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Dd.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:p}=t;const h=JV({delta:f,disabled:!s}),[g,m]=uV(),v=M.useRef({x:0,y:0}),x=M.useRef({x:0,y:0}),w=M.useMemo(()=>{switch(n){case sl.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case sl.DraggableRect:return i}},[n,i,l]),_=M.useRef(null),R=M.useCallback(()=>{const A=_.current;if(!A)return;const T=v.current.x*x.current.x,y=v.current.y*x.current.y;A.scrollBy(T,y)},[]),E=M.useMemo(()=>a===Dd.TreeOrder?[...c].reverse():c,[a,c]);M.useEffect(()=>{if(!s||!c.length||!w){m();return}for(const A of E){if((r==null?void 0:r(A))===!1)continue;const T=c.indexOf(A),y=u[T];if(!y)continue;const{direction:S,speed:k}=FV(A,y,w,e,p);for(const I of["x","y"])h[I][S[I]]||(k[I]=0,S[I]=0);if(k.x>0||k.y>0){m(),_.current=A,g(R,o),v.current=k,x.current=S;return}}v.current={x:0,y:0},x.current={x:0,y:0},m()},[e,R,r,m,s,o,JSON.stringify(w),JSON.stringify(h),g,c,E,u,JSON.stringify(p)])}const YV={x:{[At.Backward]:!1,[At.Forward]:!1},y:{[At.Backward]:!1,[At.Forward]:!1}};function JV(t){let{delta:e,disabled:n}=t;const r=Tm(e);return cc(i=>{if(n||!r||!i)return YV;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[At.Backward]:i.x[At.Backward]||s.x===-1,[At.Forward]:i.x[At.Forward]||s.x===1},y:{[At.Backward]:i.y[At.Backward]||s.y===-1,[At.Forward]:i.y[At.Forward]||s.y===1}}},[n,e,r])}function ZV(t,e){const n=e!==null?t.get(e):void 0,r=n?n.node.current:null;return cc(i=>{var s;return e===null?null:(s=r??i)!=null?s:null},[r,e])}function e4(t,e){return M.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var Fl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Fl||(Fl={}));var Pm;(function(t){t.Optimized="optimized"})(Pm||(Pm={}));const Wx=new Map;function t4(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=M.useState(null),{frequency:a,measure:l,strategy:c}=i,u=M.useRef(t),f=v(),p=jl(f),h=M.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(w=>w===null?x:w.concat(x.filter(_=>!w.includes(_))))},[p]),g=M.useRef(null),m=cc(x=>{if(f&&!n)return Wx;if(!x||x===Wx||u.current!==t||s!=null){const w=new Map;for(let _ of t){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){w.set(_.id,_.rect.current);continue}const R=_.node.current,E=R?new j0(l(R),R):null;_.rect.current=E,E&&w.set(_.id,E)}return w}return x},[t,s,n,f,l]);return M.useEffect(()=>{u.current=t},[t]),M.useEffect(()=>{f||h()},[n,f]),M.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),M.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},a))},[a,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:s!=null};function v(){switch(c){case Fl.Always:return!1;case Fl.BeforeDragging:return n;default:return!n}}}function Tk(t,e){return cc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function n4(t,e){return Tk(t,e)}function r4(t){let{callback:e,disabled:n}=t;const r=O0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function kh(t){let{callback:e,disabled:n}=t;const r=O0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function i4(t){return new j0(aa(t),t)}function Hx(t,e,n){e===void 0&&(e=i4);const[r,i]=M.useReducer(a,null),s=r4({callback(l){if(t)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),o=kh({callback:i});return sr(()=>{i(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),r;function a(l){if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function s4(t){const e=Tk(t);return pk(t,e)}const qx=[];function o4(t){const e=M.useRef(t),n=cc(r=>t?r&&r!==qx&&t&&e.current&&t.parentNode===e.current.parentNode?r:V0(t):qx,[t]);return M.useEffect(()=>{e.current=t},[t]),n}function a4(t){const[e,n]=M.useState(null),r=M.useRef(t),i=M.useCallback(s=>{const o=Bf(s.target);o&&n(a=>a?(a.set(o,km(o)),new Map(a)):null)},[]);return M.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=Bf(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,km(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=Bf(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),M.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Co(s,o),or):wk(t):or,[t,e])}function Kx(t,e){e===void 0&&(e=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},e),M.useEffect(()=>{const r=t!==or;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Pd(t,n.current):or}function l4(t){M.useEffect(()=>{if(!Sh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function c4(t,e){return M.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function Sk(t){return M.useMemo(()=>t?OV(t):null,[t])}const $f=[];function u4(t,e){e===void 0&&(e=aa);const[n]=t,r=Sk(n?bn(n):null),[i,s]=M.useReducer(a,$f),o=kh({callback:s});return t.length>0&&i===$f&&s(),sr(()=>{t.length?t.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),s())},[t]),i;function a(){return t.length?t.map(l=>yk(l)?r:new j0(e(l),l)):$f}}function d4(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return lc(e)?e:t}function h4(t){let{measure:e}=t;const[n,r]=M.useState(null),i=M.useCallback(c=>{for(const{target:u}of c)if(lc(u)){r(f=>{const p=e(u);return f?{...f,width:p.width,height:p.height}:p});break}},[e]),s=kh({callback:i}),o=M.useCallback(c=>{const u=d4(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=Cd(o);return M.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const f4=[{sensor:Ek,options:{}},{sensor:_k,options:{}}],p4={current:{}},Ru={draggable:{measure:Bx},droppable:{measure:Bx,strategy:Fl.WhileDragging,frequency:Pm.Optimized},dragOverlay:{measure:aa}};class ol extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const m4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ol,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ad},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ru,measureDroppableContainers:Ad,windowRect:null,measuringScheduled:!1},g4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ad,draggableNodes:new Map,over:null,measureDroppableContainers:Ad},Ch=M.createContext(g4),kk=M.createContext(m4);function v4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ol}}}function y4(t,e){switch(e.type){case wt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case wt.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case wt.DragEnd:case wt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wt.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new ol(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case wt.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new ol(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case wt.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new ol(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function x4(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=M.useContext(Ch),s=Tm(r),o=Tm(n==null?void 0:n.id);return M.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!L0(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=fV(u);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function w4(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function b4(t){return M.useMemo(()=>({draggable:{...Ru.draggable,...t==null?void 0:t.draggable},droppable:{...Ru.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Ru.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function _4(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=M.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;sr(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),f=pk(u,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=mk(c);p&&p.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const Ck=M.createContext({...or,scaleX:1,scaleY:1});var di;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(di||(di={}));const Pk=M.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=f4,collisionDetection:f=PV,measuring:p,modifiers:h,...g}=e;const m=M.useReducer(y4,void 0,v4),[v,x]=m,[w,_]=xV(),[R,E]=M.useState(di.Uninitialized),A=R===di.Initialized,{draggable:{active:T,nodes:y,translate:S},droppable:{containers:k}}=v,I=T?y.get(T):null,D=M.useRef({initial:null,translated:null}),N=M.useMemo(()=>{var rt;return T!=null?{id:T,data:(rt=I==null?void 0:I.data)!=null?rt:p4,rect:D}:null},[T,I]),F=M.useRef(null),[z,Y]=M.useState(null),[U,V]=M.useState(null),W=jl(g,Object.values(g)),Q=uc("DndDescribedBy",o),oe=M.useMemo(()=>k.getEnabled(),[k]),ee=b4(p),{droppableRects:ae,measureDroppableContainers:Re,measuringScheduled:Ae}=t4(oe,{dragging:A,dependencies:[S.x,S.y],config:ee.droppable}),re=ZV(y,T),De=M.useMemo(()=>U?Sm(U):null,[U]),Te=gc(),nt=n4(re,ee.draggable.measure);_4({activeNode:T?y.get(T):null,config:Te.layoutShiftCompensation,initialRect:nt,measure:ee.draggable.measure});const he=Hx(re,ee.draggable.measure,nt),He=Hx(re?re.parentElement:null),Ce=M.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),St=k.getNodeFor((n=Ce.current.over)==null?void 0:n.id),Je=h4({measure:ee.dragOverlay.measure}),kt=(r=Je.nodeRef.current)!=null?r:re,dt=A?(i=Je.rect)!=null?i:he:null,_n=!!(Je.nodeRef.current&&Je.rect),J=s4(_n?null:he),B=Sk(kt?bn(kt):null),G=o4(A?St??re:null),Z=u4(G),ie=w4(h,{transform:{x:S.x-J.x,y:S.y-J.y,scaleX:1,scaleY:1},activatorEvent:U,active:N,activeNodeRect:he,containerNodeRect:He,draggingNodeRect:dt,over:Ce.current.over,overlayNodeRect:Je.rect,scrollableAncestors:G,scrollableAncestorRects:Z,windowRect:B}),ge=De?Co(De,S):null,se=a4(G),we=Kx(se),ve=Kx(se,[he]),Se=Co(ie,we),Be=dt?RV(dt,ie):null,H=N&&Be?f({active:N,collisionRect:Be,droppableRects:ae,droppableContainers:oe,pointerCoordinates:ge}):null,le=kV(H,"id"),[$e,Ct]=M.useState(null),on=_n?ie:Co(ie,ve),ei=IV(on,(s=$e==null?void 0:$e.rect)!=null?s:null,he),ar=M.useCallback((rt,Nt)=>{let{sensor:Mt,options:Wt}=Nt;if(F.current==null)return;const an=y.get(F.current);if(!an)return;const Ht=rt.nativeEvent,En=new Mt({active:F.current,activeNode:an,event:Ht,options:Wt,context:Ce,onStart(hn){const ht=F.current;if(ht==null)return;const ti=y.get(ht);if(!ti)return;const{onDragStart:lr}=W.current,cr={active:{id:ht,data:ti.data,rect:D}};us.unstable_batchedUpdates(()=>{lr==null||lr(cr),E(di.Initializing),x({type:wt.DragStart,initialCoordinates:hn,active:ht}),w({type:"onDragStart",event:cr})})},onMove(hn){x({type:wt.DragMove,coordinates:hn})},onEnd:Mn(wt.DragEnd),onCancel:Mn(wt.DragCancel)});us.unstable_batchedUpdates(()=>{Y(En),V(rt.nativeEvent)});function Mn(hn){return async function(){const{active:ti,collisions:lr,over:cr,scrollAdjustedTranslate:vc}=Ce.current;let es=null;if(ti&&vc){const{cancelDrop:On}=W.current;es={activatorEvent:Ht,active:ti,collisions:lr,delta:vc,over:cr},hn===wt.DragEnd&&typeof On=="function"&&await Promise.resolve(On(es))&&(hn=wt.DragCancel)}F.current=null,us.unstable_batchedUpdates(()=>{x({type:hn}),E(di.Uninitialized),Ct(null),Y(null),V(null);const On=hn===wt.DragEnd?"onDragEnd":"onDragCancel";if(es){const da=W.current[On];da==null||da(es),w({type:On,event:es})}})}}},[y]),ca=M.useCallback((rt,Nt)=>(Mt,Wt)=>{const an=Mt.nativeEvent,Ht=y.get(Wt);if(F.current!==null||!Ht||an.dndKit||an.defaultPrevented)return;const En={active:Ht};rt(Mt,Nt.options,En)===!0&&(an.dndKit={capturedBy:Nt.sensor},F.current=Wt,ar(Mt,Nt))},[y,ar]),Fs=e4(u,ca);l4(u),sr(()=>{he&&R===di.Initializing&&E(di.Initialized)},[he,R]),M.useEffect(()=>{const{onDragMove:rt}=W.current,{active:Nt,activatorEvent:Mt,collisions:Wt,over:an}=Ce.current;if(!Nt||!Mt)return;const Ht={active:Nt,activatorEvent:Mt,collisions:Wt,delta:{x:Se.x,y:Se.y},over:an};us.unstable_batchedUpdates(()=>{rt==null||rt(Ht),w({type:"onDragMove",event:Ht})})},[Se.x,Se.y]),M.useEffect(()=>{const{active:rt,activatorEvent:Nt,collisions:Mt,droppableContainers:Wt,scrollAdjustedTranslate:an}=Ce.current;if(!rt||F.current==null||!Nt||!an)return;const{onDragOver:Ht}=W.current,En=Wt.get(le),Mn=En&&En.rect.current?{id:En.id,rect:En.rect.current,data:En.data,disabled:En.disabled}:null,hn={active:rt,activatorEvent:Nt,collisions:Mt,delta:{x:an.x,y:an.y},over:Mn};us.unstable_batchedUpdates(()=>{Ct(Mn),Ht==null||Ht(hn),w({type:"onDragOver",event:hn})})},[le]),sr(()=>{Ce.current={activatorEvent:U,active:N,activeNode:re,collisionRect:Be,collisions:H,droppableRects:ae,draggableNodes:y,draggingNode:kt,draggingNodeRect:dt,droppableContainers:k,over:$e,scrollableAncestors:G,scrollAdjustedTranslate:Se},D.current={initial:dt,translated:Be}},[N,re,H,Be,y,kt,dt,ae,k,$e,G,Se]),XV({...Te,delta:S,draggingRect:Be,pointerCoordinates:ge,scrollableAncestors:G,scrollableAncestorRects:Z});const ua=M.useMemo(()=>({active:N,activeNode:re,activeNodeRect:he,activatorEvent:U,collisions:H,containerNodeRect:He,dragOverlay:Je,draggableNodes:y,droppableContainers:k,droppableRects:ae,over:$e,measureDroppableContainers:Re,scrollableAncestors:G,scrollableAncestorRects:Z,measuringConfiguration:ee,measuringScheduled:Ae,windowRect:B}),[N,re,he,U,H,He,Je,y,k,ae,$e,Re,G,Z,ee,Ae,B]),mc=M.useMemo(()=>({activatorEvent:U,activators:Fs,active:N,activeNodeRect:he,ariaDescribedById:{draggable:Q},dispatch:x,draggableNodes:y,over:$e,measureDroppableContainers:Re}),[U,Fs,N,he,x,Q,y,$e,Re]);return be.createElement(dk.Provider,{value:_},be.createElement(Ch.Provider,{value:mc},be.createElement(kk.Provider,{value:ua},be.createElement(Ck.Provider,{value:ei},c)),be.createElement(x4,{disabled:(a==null?void 0:a.restoreFocus)===!1})),be.createElement(_V,{...a,hiddenTextDescribedById:Q}));function gc(){const rt=(z==null?void 0:z.autoScrollEnabled)===!1,Nt=typeof l=="object"?l.enabled===!1:l===!1,Mt=A&&!rt&&!Nt;return typeof l=="object"?{...l,enabled:Mt}:{enabled:Mt}}}),E4=M.createContext(null),Gx="button",T4="Droppable";function S4(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=uc(T4),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:p}=M.useContext(Ch),{role:h=Gx,roleDescription:g="draggable",tabIndex:m=0}=i??{},v=(l==null?void 0:l.id)===e,x=M.useContext(v?Ck:E4),[w,_]=Cd(),[R,E]=Cd(),A=c4(o,e),T=jl(n);sr(()=>(f.set(e,{id:e,key:s,node:w,activatorNode:R,data:T}),()=>{const S=f.get(e);S&&S.key===s&&f.delete(e)}),[f,e]);const y=M.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&h===Gx?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,h,m,v,g,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:y,isDragging:v,listeners:r?void 0:A,node:w,over:p,setNodeRef:_,setActivatorNodeRef:E,transform:x}}function k4(){return M.useContext(kk)}const C4="Droppable",P4={timeout:25};function I4(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=uc(C4),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=M.useContext(Ch),u=M.useRef({disabled:n}),f=M.useRef(!1),p=M.useRef(null),h=M.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...P4,...i},x=jl(m??r),w=M.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),_=kh({callback:w,disabled:g||!o}),R=M.useCallback((y,S)=>{_&&(S&&(_.unobserve(S),f.current=!1),y&&_.observe(y))},[_]),[E,A]=Cd(R),T=jl(e);return M.useEffect(()=>{!_||!E.current||(_.disconnect(),f.current=!1,_.observe(E.current))},[E,_]),sr(()=>(a({type:wt.RegisterDroppable,element:{id:r,key:s,disabled:n,node:E,rect:p,data:T}}),()=>a({type:wt.UnregisterDroppable,key:s,id:r})),[r]),M.useEffect(()=>{n!==u.current.disabled&&(a({type:wt.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:E,over:l,setNodeRef:A}}function Ph(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function A4(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function eu(t){return t!==null&&t>=0}function R4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function D4(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Ik=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Ph(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},tu={scaleX:1,scaleY:1},Ak=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...tu}:null}const l=N4(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...tu}:i<n&&i>=o?{x:0,y:a.height+l,...tu}:{x:0,y:0,...tu}};function N4(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Rk="Sortable",Dk=be.createContext({activeIndex:-1,containerId:Rk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ik,disabled:{draggable:!1,droppable:!1}});function Nk(t){let{children:e,id:n,items:r,strategy:i=Ik,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=k4(),f=uc(Rk,n),p=a.rect!==null,h=M.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),g=o!=null,m=o?h.indexOf(o.id):-1,v=c?h.indexOf(c.id):-1,x=M.useRef(h),w=!R4(h,x.current),_=v!==-1&&m===-1||w,R=D4(s);sr(()=>{w&&g&&u(h)},[w,h,g,u]),M.useEffect(()=>{x.current=h},[h]);const E=M.useMemo(()=>({activeIndex:m,containerId:f,disabled:R,disableTransforms:_,items:h,overIndex:v,useDragOverlay:p,sortedRects:A4(h,l),strategy:i}),[m,f,R.draggable,R.droppable,_,h,v,l,p,i]);return be.createElement(Dk.Provider,{value:E},e)}const M4=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Ph(n,r,i).indexOf(e)},O4=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},L4={duration:200,easing:"ease"},Mk="transform",V4=Id.Transition.toString({property:Mk,duration:0,easing:"linear"}),j4={roleDescription:"sortable"};function F4(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=M.useState(null),a=M.useRef(n);return sr(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=aa(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),M.useEffect(()=>{s&&o(null)},[s]),s}function Ok(t){let{animateLayoutChanges:e=O4,attributes:n,disabled:r,data:i,getNewIndex:s=M4,id:o,strategy:a,resizeObserverConfig:l,transition:c=L4}=t;const{items:u,containerId:f,activeIndex:p,disabled:h,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:x,strategy:w}=M.useContext(Dk),_=B4(r,h),R=u.indexOf(o),E=M.useMemo(()=>({sortable:{containerId:f,index:R,items:u},...i}),[f,i,R,u]),A=M.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:y,isOver:S,setNodeRef:k}=I4({id:o,data:E,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...l}}),{active:I,activatorEvent:D,activeNodeRect:N,attributes:F,setNodeRef:z,listeners:Y,isDragging:U,over:V,setActivatorNodeRef:W,transform:Q}=S4({id:o,data:E,attributes:{...j4,...n},disabled:_.draggable}),oe=cV(k,z),ee=!!I,ae=ee&&!g&&eu(p)&&eu(v),Re=!x&&U,Ae=Re&&ae?Q:null,De=ae?Ae??(a??w)({rects:m,activeNodeRect:N,activeIndex:p,overIndex:v,index:R}):null,Te=eu(p)&&eu(v)?s({id:o,items:u,activeIndex:p,overIndex:v}):R,nt=I==null?void 0:I.id,he=M.useRef({activeId:nt,items:u,newIndex:Te,containerId:f}),He=u!==he.current.items,Ce=e({active:I,containerId:f,isDragging:U,isSorting:ee,id:o,index:R,items:u,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:c,wasDragging:he.current.activeId!=null}),St=F4({disabled:!Ce,index:R,node:y,rect:T});return M.useEffect(()=>{ee&&he.current.newIndex!==Te&&(he.current.newIndex=Te),f!==he.current.containerId&&(he.current.containerId=f),u!==he.current.items&&(he.current.items=u)},[ee,Te,f,u]),M.useEffect(()=>{if(nt===he.current.activeId)return;if(nt&&!he.current.activeId){he.current.activeId=nt;return}const kt=setTimeout(()=>{he.current.activeId=nt},50);return()=>clearTimeout(kt)},[nt]),{active:I,activeIndex:p,attributes:F,data:E,rect:T,index:R,newIndex:Te,items:u,isOver:S,isSorting:ee,isDragging:U,listeners:Y,node:y,overIndex:v,over:V,setNodeRef:oe,setActivatorNodeRef:W,setDroppableNodeRef:k,setDraggableNodeRef:z,transform:St??De,transition:Je()};function Je(){if(St||He&&he.current.newIndex===R)return V4;if(!(Re&&!L0(D)||!c)&&(ee||Ce))return Id.Transition.toString({...c,property:Mk})}}function B4(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}je.Down,je.Right,je.Up,je.Left;function U4({title:t,id:e,listid:n,labels:r,item:i,BoardId:s,onDeleteCard:o,BG:a,sharedWith:l,lists:c}){const[u,f]=M.useState({x:0,y:0}),{menuOpen:p,setMenuOpen:h,toggleMenu:g}=Xp(),[m,v]=M.useState({x:0,y:0}),[x,w]=M.useState(!1),[_,R]=M.useState(!1),[E,A]=M.useState(r),T=M.useRef(null),y=M.useRef(null),S=M.useRef(null),k=M.useRef(null),I=M.useRef(null),D=M.useRef(null),N=M.useRef(null),[F,z]=M.useState(!1),[Y,U]=M.useState(!1),V=M.useRef(null),[W,Q]=M.useState(!1),[oe,ee]=M.useState(!1),[ae,Re]=M.useState(t),Ae=M.useRef(null),[re,De]=M.useState(!1),[Te,nt]=M.useState(a),he=H=>{switch(H){case"background1":return"bg-green-700";case"background2":return"bg-yellow-800";case"background3":return"bg-amber-700";case"background4":return"bg-red-800";case"background5":return"bg-indigo-800";case"background6":return"bg-blue-800";case"background7":return"bg-pink-900";case"background8":return"bg-gray-800"}},{attributes:He,listeners:Ce,setNodeRef:St,transform:Je,transition:kt,isDragging:dt}=Ok({id:i.id}),_n={transform:Je?`translate3d(${Je.x}px, ${Je.y}px,0) rotate(${dt?-2:0}deg)`:void 0,transition:kt,opacity:dt?.8:1,cursor:dt?"grabbing":"pointer",zIndex:dt?10:"auto"},J=H=>{St(H),k.current=H},B=H=>{H.preventDefault(),h(!0);const le=k.current.getBoundingClientRect(),$e=le.left+window.scrollX+270,Ct=le.top+window.scrollY-6,on=window.innerWidth;$e+200>on?Q(!0):Q(!1),on<650?ee(!0):ee(!1);const ei=$e+200>on?$e-535:$e,ar=Ct<0?0:Ct;f({x:ei,y:ar}),document.body.classList.add("MenuisOpen"),w(!0)};M.useEffect(()=>{Z()},[E]),M.useEffect(()=>{G()},[Te]);const G=async()=>{const H=Ve.currentUser;if(H)try{await Ke(me(de,`users/${H.uid}/Boards/${s}/Lists/${n}/cards`,e),{background:Te});const le=l.map($e=>Ke(me(de,`users/${$e.id}/Boards/${s}/Lists/${n}/cards`,e),{background:Te}));await Promise.all(le)}catch(le){console.error("Error updating background: ",le)}else console.error("User is not authenticated.")},Z=async()=>{const H=Ve.currentUser;if(H)try{await Ke(me(de,`users/${H.uid}/Boards/${s}/Lists/${n}/cards`,e),{labels:E});const le=l.map($e=>Ke(me(de,`users/${$e.id}/Boards/${s}/Lists/${n}/cards`,e),{labels:E}));await Promise.all(le)}catch(le){console.error("Error updating labels: ",le)}else console.error("User is not authenticated.")},ie=async()=>{const H=Ve.currentUser;if(H)try{o(e);const le=me(de,`users/${H.uid}/Boards/${s}/Lists/${n}/cards`,e);await _i(le);const $e=l.map(Ct=>{const on=me(de,`users/${Ct.id}/Boards/${s}/Lists/${n}/cards`,e);return _i(on)});await Promise.all($e)}catch(le){console.error("Error deleting card: ",le)}else console.error("User is not authenticated")},ge=()=>{const H=Ve.currentUser,le=document.createElement("textarea");le.value=`users/${H.uid}/Boards/${s}/Lists/${n}/cards/${e}`,document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le),De(!0),setTimeout(()=>{De(!1)},1500)},se=async H=>{const le=Ve.currentUser;if(le)try{const $e=ta(de,`users/${le.uid}/Boards/${s}/Lists/${H.id}/cards`),on=(await ra($e)).size,ei=me(de,`users/${le.uid}/Boards/${s}/Lists/${H.id}/cards`,e);await Jn(ei,{id:e,title:ae,labels:E,background:Te,order:on});const ar=l.map(ca=>{const Fs=me(de,`users/${ca.id}/Boards/${s}/Lists/${H.id}/cards`,e);return Jn(Fs,{id:e,title:ae,labels:E,background:Te,order:on})});await Promise.all(ar),await ie(),window.location.reload()}catch($e){console.error("Error moving card to list: ",$e)}else console.error("User is not authenticated")},we=async H=>{const le=H.target.value;Re(le);const $e=Ve.currentUser;if($e)try{await Ke(me(de,`users/${$e.uid}/Boards/${s}/Lists/${n}/cards`,e),{title:le});const Ct=l.map(on=>Ke(me(de,`users/${on.id}/Boards/${s}/Lists/${n}/cards`,e),{title:le}));await Promise.all(Ct)}catch(Ct){console.error("Error updating card title: ",Ct)}else console.error("User is not authenticated.")},ve=()=>{R(!0);const H=N.current.getBoundingClientRect();v({x:H.left,y:H.top})},Se=()=>{z(!0);const H=S.current.getBoundingClientRect();v({x:H.left,y:H.top})},Be=()=>{U(!0);const H=D.current.getBoundingClientRect();v({x:H.left,y:H.top})};return M.useEffect(()=>{const H=le=>{y.current&&!y.current.contains(le.target)&&!Ae.current.contains(le.target)&&(!T.current||!T.current.contains(le.target))&&(!V.current||!V.current.contains(le.target))&&(!I.current||!I.current.contains(le.target))&&(w(!1),h(!1),document.body.classList.remove("MenuisOpen")),T.current&&!T.current.contains(le.target)&&!N.current.contains(le.target)&&R(!1),V.current&&!V.current.contains(le.target)&&!S.current.contains(le.target)&&z(!1),I.current&&!I.current.contains(le.target)&&!D.current.contains(le.target)&&U(!1)};return document.addEventListener("click",H),()=>{document.removeEventListener("click",H)}},[x,_,h]),P.jsxs("div",{className:"w-full",children:[F&&P.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:V,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[P.jsx("div",{className:"flex justify-end align-top",children:P.jsx("button",{onClick:H=>{H.stopPropagation(),z(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:""})}),P.jsx("div",{className:"flex justify-center gap-6",children:P.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Background Cover"})}),P.jsx("div",{className:"flex flex-col gap-1.5",children:["background1","background2","background3","background4","background5","background6","background7","background8"].map((H,le)=>P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:Te===he(H),onChange:()=>{nt(he(H))},id:`radio-group-${le+1}`,type:"radio",className:"w-5 h-4 cursor-pointer border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:`radio-group-${le+1}`,className:`w-44 rounded-sm mr-4 cursor-pointer border-2 border-opacity-40 border-gray-500 hover:bg-opacity-80 ${he(H)}`})]},H))})]}),Y&&P.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:I,className:"flex absolute flex-col z-[10001] w-[200px]  rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[P.jsx("div",{className:"flex justify-end align-top",children:P.jsx("button",{onClick:H=>{H.stopPropagation(),U(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:""})}),P.jsx("div",{className:"flex justify-center gap-6",children:P.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"To List"})}),P.jsx("div",{className:"flex flex-col gap-1",children:c.map((H,le)=>P.jsxs("div",{onClick:()=>se(H),className:"flex py-1 justify-start ga-1 text-gray-300 hover:bg-gray-700  px-4",children:[P.jsx("p",{className:"text-lg",children:le+1}),P.jsxs("p",{className:"text-lg",children:[". ",H.title]})]},le))})]}),_&&P.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:oe?"52%":`${m.x-70}px`,maxWidth:oe?"170px":" "},ref:T,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800  gap-1.5",children:[P.jsx("div",{className:"flex justify-end align-top",children:P.jsx("button",{onClick:H=>{H.stopPropagation(),R(!1)},className:" m-1 text-slate-300  px-1  rounded-md  text-sm hover:bg-gray-600",children:""})}),P.jsx("div",{className:"flex justify-center gap-6",children:P.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Labels"})}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label1,onChange:()=>{A(H=>({...H,label1:!H.label1}))},id:"checkbox-group-1",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-1",className:"w-44 bg-green-600 rounded-sm mr-4 cursor-pointer hover:bg-green-500"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label2,onChange:()=>{A(H=>({...H,label2:!H.label2}))},id:"checkbox-group-2",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-2",className:"w-44 bg-yellow-800 rounded-sm mr-4 cursor-pointer hover:bg-yellow-700"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label3,onChange:()=>{A(H=>({...H,label3:!H.label3}))},id:"checkbox-group-3",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-3",className:"w-44 bg-amber-600  rounded-sm mr-4 cursor-pointer hover:bg-amber-500"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label4,onChange:()=>{A(H=>({...H,label4:!H.label4}))},id:"checkbox-group-4",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-4",className:"w-44 bg-red-700 rounded-sm mr-4 cursor-pointer hover:bg-red-600"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label5,onChange:()=>{A(H=>({...H,label5:!H.label5}))},id:"checkbox-group-5",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-5",className:"w-44 bg-indigo-800 rounded-sm mr-4 cursor-pointer hover:bg-indigo-800"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label6,onChange:()=>{A(H=>({...H,label6:!H.label6}))},id:"checkbox-group-6",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-6",className:"w-44 bg-blue-700 rounded-sm mr-4 cursor-pointer hover:bg-blue-600"})]}),P.jsxs("div",{className:"flex gap-1.5",children:[P.jsx("input",{checked:E.label7,onChange:()=>{A(H=>({...H,label7:!H.label7}))},id:"checkbox-group-7",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-7",className:"w-44 bg-pink-800 rounded-sm mr-4 cursor-pointer hover:bg-pink-700"})]}),P.jsxs("div",{className:"flex gap-1.5 mb-6",children:[P.jsx("input",{checked:E.label8,onChange:()=>{A(H=>({...H,label8:!H.label8}))},id:"checkbox-group-8",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),P.jsx("label",{htmlFor:"checkbox-group-8",className:"w-44 bg-neutral-400 rounded-sm mr-4 cursor-pointer hover:bg-neutral-300"})]})]}),P.jsx("div",{className:`overlay ${x?"visible":""}`}),x&&P.jsxs("div",{ref:y,className:"card flex item  z-[1001]  absolute  flex-col gap-[2.5px] ",style:{top:window.innerHeight>u.y+350?`${u.y+7}px`:`${u.y-180}px`,left:oe?"52.5%":`${u.x+10}px`,alignItems:`${W?"end":"start"}`},children:[P.jsxs("button",{ref:N,onClick:ve,className:"flex text-gray-300 shadow-xl bg-gray-800 hover:bg-gray-700 rounded-sm font-bold p-3 pr-3.5 py-2.5 w-fit  text-sm",children:[P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),"Edit labels "]}),P.jsxs("button",{ref:S,onClick:Se,className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25 1.5 1.5.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75 1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97-.75-.75.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25 12.75 9"})}),"Change cover"]}),P.jsxs("button",{ref:D,onClick:Be,className:"flex text-gray-300 shadow-xl  bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})}),"Move"]}),P.jsxs("button",{onClick:ge,className:`flex text-gray-300 shadow-xl ${re?"bg-green-600":"bg-gray-800"}  ${re?"hover:bg-green-700":"hover:bg-gray-700"}  font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm`,children:[re?P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}):P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),re?"Copied!":"Copy"]}),P.jsxs("button",{onClick:ie,className:"flex text-gray-300  bg-gray-800  hover:bg-gray-700 font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})]}),P.jsxs("div",{ref:J,style:_n,...He,...Ce,onContextMenu:B,className:`CARD relative justify-center flex flex-col cursor-pointer focus:border-solid focus:border-blue-500 select-none focus:outline-none  text-gray-300 text-md p-1 px-2.5 rounded-md w-full mx-0 my-1.5 ${Te||"bg-gray-800"}`,children:[x&&P.jsx("div",{children:P.jsx("textarea",{ref:Ae,className:`z-[1000]  absolute sm:w-full w-[70%] left-0  sm:right-0 top-0 pb-2 pt-3 ri text-start px-2.5 rounded-md  border-solid border-slate-400 border-0 focus:outline-none  text-slate-300 resize-none overflow-hidden ${Te||"bg-gray-800"}`,onChange:we,rows:"1",value:ae,onInput:H=>{H.target.style.height="auto",H.target.style.height=`${H.target.scrollHeight+15}px`}})}),P.jsxs("div",{className:" absolute right-0 pointer-events-auto text-md p-2 pt-1.5 text-[1.2rem] text-gray-300 hover:opacity-65",onClick:H=>{H.stopPropagation(),B(H)},children:["   ",P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.3",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"})})]}),P.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.label1&&P.jsx("span",{className:"z-[1001]  bg-green-600 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label2&&P.jsx("span",{className:"z-[1001] bg-yellow-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label3&&P.jsx("span",{className:"z-[1001] bg-amber-600  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label4&&P.jsx("span",{className:"z-[1001] bg-red-700  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label5&&P.jsx("span",{className:"z-[1001]  bg-indigo-700 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label6&&P.jsx("span",{className:"z-[1001]  bg-blue-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label7&&P.jsx("span",{className:"z-[1001]  bg-pink-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),E.label8&&P.jsx("span",{className:"z-[1001]  bg-neutral-400  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"})]}),ae||"Empty Card"]})]})}const z4=M.forwardRef(({item:t,Dragging:e,onDeleteList:n,title:r,lists:i,id:s,BoardId:o,sharedWith:a},l)=>{const[c,u]=M.useState(!1),[f,p]=M.useState(!1),[h,g]=M.useState({x:0,y:0}),m=M.useRef(null),[v,x]=M.useState(""),[w,_]=M.useState(""),[R,E]=M.useState([]),[A,T]=M.useState(r),y=M.useRef(null),S=M.useRef(null),k=M.useRef(null),[I,D]=M.useState(!1),{setMenuOpen:N}=Xp(),{menuOpen:F}=Xp(),{attributes:z,listeners:Y,setNodeRef:U,transform:V,transition:W,isDragging:Q}=Ok({id:t.id,disabled:F}),oe=J=>{J.preventDefault(),console.log("asd"),N(!0);const B=k.current.getBoundingClientRect(),G=B.left+window.scrollX+270,Z=B.top+window.scrollY-6;g({x:G,y:Z}),document.body.classList.add("MenuisOpen"),p(!0)};M.useEffect(()=>{const J=B=>{S.current&&!S.current.contains(B.target)&&!k.current.contains(B.target)&&!y.current.contains(B.target)&&(p(!1),N(!1),document.body.classList.remove("MenuisOpen"))};return document.addEventListener("click",J),()=>{document.removeEventListener("click",J)}},[f]);const ee=()=>{const J=Ve.currentUser,B=document.createElement("textarea");B.value=`users/${J.uid}/Boards/${o}/Lists/${s}`,document.body.appendChild(B),B.select(),document.execCommand("copy"),document.body.removeChild(B),D(!0),setTimeout(()=>{D(!1)},1500)},ae=J=>{const B=J.touches[0],G=J.target;G.offsetWidth>0&&B.clientX>=G.clientWidth&&J.stopPropagation()},Re=J=>{const B=J.target;B.offsetWidth>0&&J.clientX>=B.clientWidth&&J.stopPropagation()},Ae=J=>{J.preventDefault()},re=async()=>{const J=Ve.currentUser;if(J)try{_("");const B=me(de,v);x("");const G=await rc(B);if(G.exists()){const Z=G.data(),ie=new Date().getTime().toString(),ge={...Z,id:ie,order:R.length};E(ve=>[...ve,ge]);const se=me(de,`users/${J.uid}/Boards/${o}/Lists/${s}/cards`,ie);await Jn(se,ge),console.log("Card added successfully for current user");const we=a.map(ve=>{const Se=me(de,`users/${ve.id}/Boards/${o}/Lists/${s}/cards`,ie);return Jn(Se,ge)});await Promise.all(we),console.log("Card added successfully for all shared users")}else _("Please check the link and try again."),setTimeout(()=>_(""),3e3),console.error("The source card does not exist at the specified link")}catch{_("Please check the link and try again."),setTimeout(()=>_(""),3e3)}else _("User is not authenticated"),console.error("User is not authenticated")},De=async()=>{const J=Ve.currentUser;if(J)try{x("");const B=new Date().getTime().toString(),G={label1:!1,label2:!1,label3:!1,label4:!1,label5:!1,label6:!1,label7:!1,label8:!1},Z="bg-gray-800",ie={id:B,title:v,labels:G,background:Z};E(we=>[...we,ie]);const ge=me(de,`users/${J.uid}/Boards/${o}/Lists/${s}/cards`,B);await Jn(ge,{id:B,title:v,labels:G,order:R.length,background:Z}),console.log("Card added successfully for current user");const se=a.map(we=>{const ve=me(de,`users/${we.id}/Boards/${o}/Lists/${s}/cards`,B);return Jn(ve,{id:B,title:v,labels:G,order:R.length,background:Z})});await Promise.all(se),console.log("Card added successfully for all shared users")}catch(B){console.error("Error adding card to Firestore: ",B)}else console.error("User is not authenticated")};M.useEffect(()=>{const J=Is(Ve,B=>{B?(async()=>{const Z=ta(de,`users/${B.uid}/Boards/${o}/Lists/${s}/cards`),ge=(await ra(Z)).docs.map(se=>({id:se.id,title:se.data().title,labels:se.data().labels,order:se.data().order,background:se.data().background})).sort((se,we)=>se.order-we.order);E(ge)})().catch(Z=>console.error("Error fetching cards:",Z)):E([])});return()=>J()},[s]),M.useEffect(()=>{if(!c)return;const J=B=>{m.current&&!m.current.contains(B.target)&&nt()};return document.addEventListener("click",J),()=>{document.removeEventListener("click",J)}},[c]);const Te=J=>{J.stopPropagation(),u(!0)},nt=()=>{u(!1)},he=async J=>{const B=J.target.value;T(B);const G=Ve.currentUser;if(G)try{await Ke(me(de,`users/${G.uid}/Boards/${o}/Lists`,s),{title:B});const Z=a.map(ie=>Ke(me(de,`users/${ie.id}/Boards/${o}/Lists`,s),{title:B}));await Promise.all(Z)}catch(Z){console.error("Error updating list title: ",Z)}else console.error("User is not authenticated.")},He=async J=>{const{active:B,over:G}=J;if(B.id&&(G!=null&&G.id)){const Z=Ve.currentUser;if(Z){const ie=R.findIndex(se=>se.id===B.id),ge=R.findIndex(se=>se.id===G.id);if(ie!==-1&&ge!==-1){const se=Ph(R,ie,ge);try{E(se);const we=se.map((Se,Be)=>Ke(me(de,`users/${Z.uid}/Boards/${o}/Lists/${s}/cards`,Se.id),{order:Be,title:Se.title,labels:Se.labels,background:Se.background})),ve=a.map(Se=>se.map((Be,H)=>Ke(me(de,`users/${Se.id}/Boards/${o}/Lists/${s}/cards`,Be.id),{order:H,title:Be.title,labels:Be.labels,background:Be.background})));await Promise.all([...we,...ve.flat()])}catch(we){console.error("Error updating cards:",we)}}}else console.error("User is not authenticated")}},[Ce,St]=M.useState(window.innerWidth<=650);M.useEffect(()=>{const J=()=>{St(window.innerWidth<=650)};return window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J)}},[]);const Je={transform:V?`translate3d(${V.x}px, 0, 20px) rotate(${Q?-2:0}deg)`:void 0,transition:W,backgroundColor:Q?"rgba(0, 0, 0, 0.8)":"",cursor:Q?"grabbing":"pointer",zIndex:Q?10:"auto"},kt=hk(Rd(B0,{activationConstraint:{delay:100,tolerance:5}}),Rd(U0,{activationConstraint:{delay:100,tolerance:5}})),dt=async J=>{const B=Ve.currentUser;if(E(G=>G.filter(ie=>ie.id!==J).map((ie,ge)=>({...ie,order:ge}))),B)try{const G=R.filter(ge=>ge.id!==J);await _i(me(de,`users/${B.uid}/Boards/${o}/Lists/${s}/cards`,J));const Z=G.map((ge,se)=>Ke(me(de,`users/${B.uid}/Boards/${o}/Lists/${s}/cards`,ge.id),{order:se,title:ge.title,labels:ge.labels,background:ge.background})),ie=a.map(ge=>{const se=_i(me(de,`users/${ge.id}/Boards/${o}/Lists/${s}/cards`,J)),we=G.map((ve,Se)=>Ke(me(de,`users/${ge.id}/Boards/${o}/Lists/${s}/cards`,ve.id),{order:Se,title:ve.title,labels:ve.labels,background:ve.background}));return[se,...we]}).flat();await Promise.all([...Z,...ie]),console.log("Card deleted and orders updated for all shared users")}catch(G){console.error("Error updating card title: ",G)}else console.error("User is not authenticated")},_n=async()=>{const J=Ve.currentUser;if(J)try{n(s);const B=me(de,`users/${J.uid}/Boards/${o}/Lists`,s);await _i(B);const G=a.map(Z=>{const ie=me(de,`users/${Z.id}/Boards/${o}/Lists`,s);return _i(ie)});await Promise.all(G)}catch(B){console.error("Error deleting card: ",B)}else console.error("User is not authenticated")};return P.jsxs("div",{style:Je,className:`bg-black  ListCssCustom  px-2.5 py-2.5 shadow-xl  rounded-xl h-fit ${e&&!Q?"swing":""} ${!e||!Q?"snap-start":""}  ${Q?"dragList":""}`,children:[P.jsx("div",{className:`overlay ${f?"visible":""}`}),f&&P.jsxs("div",{ref:S,className:"card flex item  z-[10000]  absolute  flex-col gap-1",style:{top:`${h.y+5}px`,left:window.innerWidth>700?`${h.x-225}px`:`${h.x-335}px`,alignItems:`${window.innerWidth>700?"start":"end"}`},children:[P.jsxs("button",{onClick:ee,className:`flex text-gray-300 shadow-xl ${I?"bg-green-600":"bg-gray-800"}  ${I?"hover:bg-green-700":"hover:bg-gray-700"}  font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm`,children:[I?P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}):P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),I?"Copied!":"Copy"]}),P.jsxs("button",{onClick:_n,className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})]}),P.jsxs("div",{ref:U,...z,...Y,onContextMenu:Ae,children:[P.jsxs("div",{className:"flex relative overflow-x-hidden w-full h-10 justify-between items-start",children:[P.jsxs("div",{className:"focus:border-solid select-none focus:border-blue-500 focus:box-shadow focus:outline-none text-slate-300 px-1 text-lg mt-1.5 w-full mr-2",children:[A.length>22?`${A.substring(0,22)}...`:A,f&&P.jsx("div",{children:P.jsx("textarea",{ref:y,className:"z-[1000] absolute sm:w-full w-[68%] h-10 left-0 sm:right-0 top-0 pb-2 pt-3 ri text-start px-2.5 rounded-md bg-gray-800 border-solid border-slate-400 border-0 focus:outline-none text-slate-300 resize-none overflow-hidden focus:text-slate-300",value:A,rows:"1",onChange:he})})]}),P.jsxs("button",{ref:k,onClick:oe,className:"text-slate-300 p-1 hover:opacity-80 select-none text-xl",children:[" ",P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})})]})]}),P.jsx("div",{onTouchStart:ae,onMouseDown:Re,className:" flex  pr-1.5 flex-col justify-start kkkk my-3 items-center",children:P.jsx(Pk,{sensors:kt,collisionDetection:fk,onDragEnd:He,children:P.jsx(Nk,{items:R,strategy:Ak,children:R.map(J=>P.jsx(U4,{BoardId:o,listid:s,title:J.title,BG:J.background,id:J.id,labels:J.labels,item:J,onDeleteCard:dt,sharedWith:a,lists:i},J.id))})})})]}),P.jsxs("div",{children:[!c&&P.jsx("button",{onClick:Te,className:"text-slate-300 select-none text-opacity-95 hover:opacity-100 hover:bg-zinc-800 hover:bg-opacity-90 hover:shadow-xl w-full text-start px-1.5 py-1  rounded-md",children:"+ Add a card"}),c&&P.jsxs("div",{className:"mt-1",ref:m,children:[P.jsx("textarea",{placeholder:"Enter card title...",className:"pb-5 pt-1 h-16   text-start px-2.5 rounded-md w-full border-solid border-slate-400 border-0 focus:outline-none bg-gray-800 text-slate-300 resize-none overflow-hidden",onChange:J=>x(J.target.value),value:v,rows:"1",onInput:J=>{J.target.style.height="auto",J.target.style.height=`${J.target.scrollHeight+15}px`},onClick:J=>J.stopPropagation()}),P.jsxs("div",{className:"mt-3  flex justify-start gap-1.5",children:[P.jsx("button",{onClick:De,className:"bg-blue-600 hover:bg-blue-700 mr-1.5 text-gray-950 py-1 px-2 rounded-md text-m",children:"Add Card"}),P.jsx("button",{onClick:re,className:"text-slate-300 py-1 px-1 rounded-md text-md hover:bg-gray-800",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})})}),P.jsx("button",{onClick:()=>u(!1),className:"text-slate-300 py-1 px-1  rounded-md text-md hover:bg-gray-800",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("p",{className:"text-red-500 text-sm text-center mt-1",children:w})]})]})]})});function $4({BoardMember:t,visibility:e,id:n,Board:r}){const[i,s]=M.useState(t),[o,a]=M.useState(""),l=async()=>{try{if(!o){console.error("Email is required.");return}const c=ta(de,"users"),u=await ra(c);let f=null;if(u.forEach(p=>{const h=p.data();h.email===o&&(f={id:p.id,...h},console.log("User found: ",f))}),f){s(h=>[...h,f]);const p=[...i,f];try{const h=me(de,`users/${i[0].id}/Boards/${n}`);await Ke(h,{sharedWith:p});const g=me(de,`users/${f.id}/Boards/${n}`);await Jn(g,{...r.data,sharedWith:p},{merge:!0});const m=p.map(v=>{const x=me(de,`users/${v.id}/Boards/${n}`);return Ke(x,{sharedWith:p})});await Promise.all(m),console.log("Member added successfully and sharedWith updated for all members.")}catch(h){console.error("Error updating sharedWith: ",h)}}else{console.log("No user found with that email.");return}}catch(c){console.error("Error fetching users: ",c)}};return P.jsxs("div",{className:"bg-zinc-800 flex flex-col absolute  sm:top-24 top-[5.55em] z-[10000]   right-3  h-fit w-fit py-3 rounded-lg px-3.5 justify-start",children:[e==="private"&&P.jsx("div",{className:"w-[100%]  top-[-.2%]  p-1 right-[.1px]  h-[100%] absolute rounded-lg bg-zinc-950 bg-opacity-85 flex justify-center items-center",children:P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h1",{className:"text-gray-300 text-center text-lg",children:"This Board is private."}),P.jsx("p",{className:"text-gray-300 text-center text-sm",children:"To share it with others,switch it to shareable mode."})]})}),P.jsx("h1",{className:"text-gray-300 text-lg",children:"Share Board"}),P.jsx("div",{children:P.jsxs("div",{className:"flex gap-2.5 mt-4",children:[P.jsx("input",{onChange:c=>{a(c.target.value)},value:o,type:"email",required:!0,placeholder:"Enter Email address",className:"text:xl p-1.5 px-2.5 pr-12 h-fit rounded-md  border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-sm text-slate-300"}),P.jsx("button",{onClick:l,type:"submit",className:" text-zinc-800 bg-blue-500 hover:bg-blue-600 h-fit p-1.5 px-2 rounded-md",children:"Share"})]})}),P.jsxs("div",{className:"mt-7",children:[P.jsxs("h3",{className:"text-gray-300 text-[.9rem]",children:["Board members ",P.jsx("span",{className:" rounded-[50%] w-fit h-fit  p-.5 px-1 bg-slate-600 text-gray-300",children:i.length})]}),P.jsx("hr",{className:"w-full h-px mt-1  bg-gray-200 border-0 dark:bg-gray-500 opacity-90"})]}),P.jsx("div",{children:i.map((c,u)=>P.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[P.jsx("div",{children:P.jsx("div",{className:" pointer-events-none select-none",style:{backgroundColor:c.avatar.color,color:"#fff",width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"18px",border:"1.5px solid #555"},children:c.avatar.initials.toUpperCase()})}),P.jsxs("div",{children:[P.jsxs("h1",{className:"text-gray-300 text-opacity-95",children:[c.name," ",u===0?"(you)":""," "]}),P.jsxs("p",{className:"text-gray-300 text-sm -mt-1 text-opacity-85",children:["@",c.email," "]})]})]},c.id))})]})}function W4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Im=t=>Array.isArray(t);function Lk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bl(t){return typeof t=="string"||Array.isArray(t)}function Qx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function z0(t,e,n,r){if(typeof e=="function"){const[i,s]=Qx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Qx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ah(t,e,n){const r=t.getProps();return z0(r,e,n!==void 0?n:r.custom,t)}const $0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W0=["initial",...$0],dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(dc),Br=t=>t*1e3,Ur=t=>t/1e3,H4={type:"spring",stiffness:500,damping:25,restSpeed:10},q4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K4={type:"keyframes",duration:.8},G4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q4=(t,{keyframes:e})=>e.length>2?K4:js.has(t)?t.startsWith("scale")?q4(e[1]):H4:G4;function H0(t,e){return t?t[e]||t.default||t:void 0}const X4={skipAnimations:!1,useManualTiming:!1},Y4=t=>t!==null;function Rh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Y4),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const nn=t=>t;function J4(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,f=!1)=>{const h=f&&r?e:n;return u&&s.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const nu=["read","resolveKeyframes","update","preRender","render","postRender"],Z4=40;function Vk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=nu.reduce((x,w)=>(x[w]=J4(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:p}=o,h=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,Z4),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},g=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:nu.reduce((x,w)=>{const _=o[w];return x[w]=(R,E=!1,A=!1)=>(n||g(),_.schedule(R,E,A)),x},{}),cancel:x=>{for(let w=0;w<nu.length;w++)o[nu[w]].cancel(x)},state:i,steps:o}}const{schedule:We,cancel:$i,state:Vt,steps:Wf}=Vk(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0),jk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,e3=1e-7,t3=12;function n3(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=jk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>e3&&++a<t3);return o}function hc(t,e,n,r){if(t===e&&n===r)return nn;const i=s=>n3(s,0,1,t,n);return s=>s===0||s===1?s:jk(i(s),e,r)}const Fk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bk=t=>e=>1-t(1-e),Uk=hc(.33,1.53,.69,.99),q0=Bk(Uk),zk=Fk(q0),$k=t=>(t*=2)<1?.5*q0(t):.5*(2-Math.pow(2,-10*(t-1))),K0=t=>1-Math.sin(Math.acos(t)),Wk=Bk(K0),Hk=Fk(K0),qk=t=>/^0[^.\s]+$/u.test(t);function r3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qk(t):!0}let Am=nn;const Kk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Gk=t=>e=>typeof e=="string"&&e.startsWith(t),Qk=Gk("--"),i3=Gk("var(--"),G0=t=>i3(t)?s3.test(t.split("/*")[0].trim()):!1,s3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,o3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a3(t){const e=o3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Xk(t,e,n=1){const[r,i]=a3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Kk(o)?parseFloat(o):o}return G0(i)?Xk(i,e,n+1):i}const Wi=(t,e,n)=>n>e?e:n<t?t:n,la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ul={...la,transform:t=>Wi(0,1,t)},ru={...la,default:1},fc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),li=fc("deg"),br=fc("%"),pe=fc("px"),l3=fc("vh"),c3=fc("vw"),Xx={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},u3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yx=t=>t===la||t===pe,Jx=(t,e)=>parseFloat(t.split(", ")[e]),Zx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Jx(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Jx(s[1],t):0}},d3=new Set(["x","y","z"]),h3=dc.filter(t=>!d3.has(t));function f3(t){const e=[];return h3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $o={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Zx(4,13),y:Zx(5,14)};$o.translateX=$o.x;$o.translateY=$o.y;const Yk=t=>e=>e.test(t),p3={test:t=>t==="auto",parse:t=>t},Jk=[la,pe,br,li,c3,l3,p3],ew=t=>Jk.find(Yk(t)),xs=new Set;let Rm=!1,Dm=!1;function Zk(){if(Dm){const t=Array.from(xs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=f3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dm=!1,Rm=!1,xs.forEach(t=>t.complete()),xs.clear()}function eC(){xs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dm=!0)})}function m3(){eC(),Zk()}class Q0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xs.add(this),Rm||(Rm=!0,We.read(eC),We.resolveKeyframes(Zk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const al=t=>Math.round(t*1e5)/1e5,X0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g3(t){return t==null}const v3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y0=(t,e)=>n=>!!(typeof n=="string"&&v3.test(n)&&n.startsWith(t)||e&&!g3(n)&&Object.prototype.hasOwnProperty.call(n,e)),tC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(X0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},y3=t=>Wi(0,255,t),Hf={...la,transform:t=>Math.round(y3(t))},ms={test:Y0("rgb","red"),parse:tC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hf.transform(t)+", "+Hf.transform(e)+", "+Hf.transform(n)+", "+al(Ul.transform(r))+")"};function x3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Nm={test:Y0("#"),parse:x3,transform:ms.transform},ho={test:Y0("hsl","hue"),parse:tC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(al(e))+", "+br.transform(al(n))+", "+al(Ul.transform(r))+")"},Yt={test:t=>ms.test(t)||Nm.test(t)||ho.test(t),parse:t=>ms.test(t)?ms.parse(t):ho.test(t)?ho.parse(t):Nm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ms.transform(t):ho.transform(t)},w3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(X0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(w3))===null||n===void 0?void 0:n.length)||0)>0}const nC="number",rC="color",_3="var",E3="var(",tw="${}",T3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(T3,l=>(Yt.test(l)?(r.color.push(s),i.push(rC),n.push(Yt.parse(l))):l.startsWith(E3)?(r.var.push(s),i.push(_3),n.push(l)):(r.number.push(s),i.push(nC),n.push(parseFloat(l))),++s,tw)).split(tw);return{values:n,split:a,indexes:r,types:i}}function iC(t){return zl(t).values}function sC(t){const{split:e,types:n}=zl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===nC?s+=al(i[o]):a===rC?s+=Yt.transform(i[o]):s+=i[o]}return s}}const S3=t=>typeof t=="number"?0:t;function k3(t){const e=iC(t);return sC(t)(e.map(S3))}const Hi={test:b3,parse:iC,createTransformer:sC,getAnimatableNone:k3},C3=new Set(["brightness","contrast","saturate","opacity"]);function P3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(X0)||[];if(!r)return t;const i=n.replace(r,"");let s=C3.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const I3=/\b([a-z-]*)\(.*?\)/gu,Mm={...Hi,getAnimatableNone:t=>{const e=t.match(I3);return e?e.map(P3).join(" "):t}},A3={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},R3={rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:ru,scaleX:ru,scaleY:ru,scaleZ:ru,skew:li,skewX:li,skewY:li,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ul,originX:Xx,originY:Xx,originZ:pe},nw={...la,transform:Math.round},J0={...A3,...R3,zIndex:nw,size:pe,fillOpacity:Ul,strokeOpacity:Ul,numOctaves:nw},D3={...J0,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Mm,WebkitFilter:Mm},Z0=t=>D3[t];function oC(t,e){let n=Z0(t);return n!==Mm&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N3=new Set(["auto","none","0"]);function M3(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!N3.has(s)&&zl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=oC(n,i)}class aC extends Q0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),G0(c))){const u=Xk(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!u3.has(r)||e.length!==2)return;const[i,s]=e,o=ew(i),a=ew(s);if(o!==a)if(Yx(o)&&Yx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)r3(e[i])&&r.push(i);r.length&&M3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$o[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$o[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ev(t){return typeof t=="function"}let Du;function O3(){Du=void 0}const _r={now:()=>(Du===void 0&&_r.set(Vt.isProcessing||X4.useManualTiming?Vt.timestamp:performance.now()),Du),set:t=>{Du=t,queueMicrotask(O3)}},rw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hi.test(t)||t==="0")&&!t.startsWith("url("));function L3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function V3(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=rw(i,e),a=rw(s,e);return!o||!a?!1:L3(t)||(n==="spring"||ev(n))&&r}const j3=40;class lC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=_r.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>j3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&m3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=_r.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!V3(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Rh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function cC(t,e){return e?t*(1e3/e):0}const F3=5;function uC(t,e,n){const r=Math.max(e-F3,0);return cC(n-t(r),e-r)}const qf=.001,B3=.01,U3=10,z3=.05,$3=1;function W3({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Wi(z3,$3,o),t=Wi(B3,U3,Ur(t)),o<1?(i=c=>{const u=c*o,f=u*t,p=u-n,h=Om(c,o),g=Math.exp(-f);return qf-p/h*g},s=c=>{const f=c*o*t,p=f*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-f),m=Om(Math.pow(c,2),o);return(-i(c)+qf>0?-1:1)*((p-h)*g)/m}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-qf+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=q3(i,s,a);if(t=Br(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const H3=12;function q3(t,e,n){let r=n;for(let i=1;i<H3;i++)r=r-t(r)/e(r);return r}function Om(t,e){return t*Math.sqrt(1-e*e)}const K3=["duration","bounce"],G3=["stiffness","damping","mass"];function iw(t,e){return e.some(n=>t[n]!==void 0)}function Q3(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!iw(t,G3)&&iw(t,K3)){const n=W3(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:p}=Q3({...r,velocity:-Ur(r.velocity||0)}),h=f||0,g=l/(2*Math.sqrt(a*c)),m=s-i,v=Ur(Math.sqrt(a/c)),x=Math.abs(m)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let w;if(g<1){const _=Om(v,g);w=R=>{const E=Math.exp(-g*v*R);return s-E*((h+g*v*m)/_*Math.sin(_*R)+m*Math.cos(_*R))}}else if(g===1)w=_=>s-Math.exp(-v*_)*(m+(h+v*m)*_);else{const _=v*Math.sqrt(g*g-1);w=R=>{const E=Math.exp(-g*v*R),A=Math.min(_*R,300);return s-E*((h+g*v*m)*Math.sinh(A)+_*m*Math.cosh(A))/_}}return{calculatedDuration:p&&u||null,next:_=>{const R=w(_);if(p)o.done=_>=u;else{let E=0;g<1&&(E=_===0?Br(h):uC(w,_,R));const A=Math.abs(E)<=n,T=Math.abs(s-R)<=e;o.done=A&&T}return o.value=o.done?s:R,o}}}function sw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],p={done:!1,value:f},h=y=>a!==void 0&&y<a||l!==void 0&&y>l,g=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let m=n*e;const v=f+m,x=o===void 0?v:o(v);x!==v&&(m=x-f);const w=y=>-m*Math.exp(-y/r),_=y=>x+w(y),R=y=>{const S=w(y),k=_(y);p.done=Math.abs(S)<=c,p.value=p.done?x:k};let E,A;const T=y=>{h(p.value)&&(E=y,A=dC({keyframes:[p.value,g(p.value)],velocity:uC(_,y,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:y=>{let S=!1;return!A&&E===void 0&&(S=!0,R(y),T(y)),E!==void 0&&y>=E?A.next(y-E):(!S&&R(y),p)}}}const X3=hc(.42,0,1,1),Y3=hc(0,0,.58,1),hC=hc(.42,0,.58,1),J3=t=>Array.isArray(t)&&typeof t[0]!="number",tv=t=>Array.isArray(t)&&typeof t[0]=="number",ow={linear:nn,easeIn:X3,easeInOut:hC,easeOut:Y3,circIn:K0,circInOut:Hk,circOut:Wk,backIn:q0,backInOut:zk,backOut:Uk,anticipate:$k},aw=t=>{if(tv(t)){Am(t.length===4);const[e,n,r,i]=t;return hc(e,n,r,i)}else if(typeof t=="string")return Am(ow[t]!==void 0),ow[t];return t},Z3=(t,e)=>n=>e(t(n)),zr=(...t)=>t.reduce(Z3),Wo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},st=(t,e,n)=>t+(e-t)*n;function Kf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ej({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Kf(l,a,t+1/3),s=Kf(l,a,t),o=Kf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Nd(t,e){return n=>n>0?e:t}const Gf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},tj=[Nm,ms,ho],nj=t=>tj.find(e=>e.test(t));function lw(t){const e=nj(t);if(!e)return!1;let n=e.parse(t);return e===ho&&(n=ej(n)),n}const cw=(t,e)=>{const n=lw(t),r=lw(e);if(!n||!r)return Nd(t,e);const i={...n};return s=>(i.red=Gf(n.red,r.red,s),i.green=Gf(n.green,r.green,s),i.blue=Gf(n.blue,r.blue,s),i.alpha=st(n.alpha,r.alpha,s),ms.transform(i))},Lm=new Set(["none","hidden"]);function rj(t,e){return Lm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ij(t,e){return n=>st(t,e,n)}function nv(t){return typeof t=="number"?ij:typeof t=="string"?G0(t)?Nd:Yt.test(t)?cw:aj:Array.isArray(t)?fC:typeof t=="object"?Yt.test(t)?cw:sj:Nd}function fC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>nv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function sj(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=nv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function oj(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const aj=(t,e)=>{const n=Hi.createTransformer(e),r=zl(t),i=zl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lm.has(t)&&!i.values.length||Lm.has(e)&&!r.values.length?rj(t,e):zr(fC(oj(r,i),i.values),n):Nd(t,e)};function pC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):nv(t)(t,e)}function lj(t,e,n){const r=[],i=n||pC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nn:e;a=zr(l,a)}r.push(a)}return r}function cj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Am(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lj(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=Wo(t[u],t[u+1],c);return o[u](f)};return n?c=>l(Wi(t[0],t[s-1],c)):l}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Wo(0,e,r);t.push(st(n,1,i))}}function dj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function fj(t,e){return t.map(()=>e||hC).splice(0,t.length-1)}function Md({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=J3(r)?r.map(aw):aw(r),s={done:!1,value:e[0]},o=hj(n&&n.length===e.length?n:dj(e),t),a=cj(o,e,{ease:Array.isArray(i)?i:fj(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const uw=2e4;function pj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<uw;)e+=n,r=t.next(e);return e>=uw?1/0:e}const mj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>$i(e),now:()=>Vt.isProcessing?Vt.timestamp:_r.now()}},gj={decay:sw,inertia:sw,tween:Md,keyframes:Md,spring:dC},vj=t=>t/100;class rv extends lC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Q0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=ev(n)?n:gj[n]||Md;let l,c;a!==Md&&typeof e[0]!="number"&&(l=zr(vj,pC(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pj(u));const{calculatedDuration:f}=u,p=f+i,h=p*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:y}=this.options;return{done:!0,value:y[y.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:h,repeatType:g,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,R=s;if(h){const y=Math.min(this.currentTime,u)/f;let S=Math.floor(y),k=y%1;!k&&y>=1&&(k=1),k===1&&S--,S=Math.min(S,h+1),!!(S%2)&&(g==="reverse"?(k=1-k,m&&(k-=m/f)):g==="mirror"&&(R=o)),_=Wi(0,1,k)*f}const E=w?{done:!1,value:l[0]}:R.next(_);a&&(E.value=a(E.value));let{done:A}=E;!w&&c!==null&&(A=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return T&&i!==void 0&&(E.value=Rh(l,this.options,i)),v&&v(E.value),T&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Ur(e.calculatedDuration):0}get time(){return Ur(this.currentTime)}set time(e){e=Br(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ur(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=mj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yj=new Set(["opacity","clipPath","filter","transform"]),xj=10,wj=(t,e)=>{let n="";const r=Math.max(Math.round(e/xj),2);for(let i=0;i<r;i++)n+=t(Wo(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function iv(t){let e;return()=>(e===void 0&&(e=t()),e)}const bj={linearEasing:void 0};function _j(t,e){const n=iv(t);return()=>{var r;return(r=bj[e])!==null&&r!==void 0?r:n()}}const Od=_j(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function mC(t){return!!(typeof t=="function"&&Od()||!t||typeof t=="string"&&(t in Vm||Od())||tv(t)||Array.isArray(t)&&t.every(mC))}const Ba=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ba([0,.65,.55,1]),circOut:Ba([.55,0,1,.45]),backIn:Ba([.31,.01,.66,-.59]),backOut:Ba([.33,1.53,.69,.99])};function gC(t,e){if(t)return typeof t=="function"&&Od()?wj(t,e):tv(t)?Ba(t):Array.isArray(t)?t.map(n=>gC(n,e)||Vm.easeOut):Vm[t]}function Ej(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=gC(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function dw(t,e){t.timeline=e,t.onfinish=null}const Tj=iv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ld=10,Sj=2e4;function kj(t){return ev(t.type)||t.type==="spring"||!mC(t.ease)}function Cj(t,e){const n=new rv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Sj;)r=n.sample(s),i.push(r.value),s+=Ld;return{times:void 0,keyframes:i,duration:s-Ld,ease:"linear"}}const vC={anticipate:$k,backInOut:zk,circInOut:Hk};function Pj(t){return t in vC}class hw extends lC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new aC(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Od()&&Pj(o)&&(o=vC[o]),kj(this.options)){const{onComplete:p,onUpdate:h,motionValue:g,element:m,...v}=this.options,x=Cj(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const f=Ej(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(dw(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Rh(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ur(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ur(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Br(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return nn;const{animation:r}=n;dw(r,e)}return nn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:p,...h}=this.options,g=new rv({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Br(this.time);c.setWithVelocity(g.sample(m-Ld).value,g.sample(m).value,Ld)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Tj()&&r&&yj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Ij=iv(()=>window.ScrollTimeline!==void 0);class Aj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Ij()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Rj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const sv=(t,e,n,r={},i,s)=>o=>{const a=H0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Br(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Rj(a)||(u={...u,...Q4(t,u)}),u.duration&&(u.duration=Br(u.duration)),u.repeatDelay&&(u.repeatDelay=Br(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=Rh(u.keyframes,a);if(p!==void 0)return We.update(()=>{u.onUpdate(p),u.onComplete()}),new Aj([])}return!s&&hw.supports(u)?new hw(u):new rv(u)},Dj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Nj=t=>Im(t)?t[t.length-1]||0:t;function ov(t,e){t.indexOf(e)===-1&&t.push(e)}function av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lv{constructor(){this.subscriptions=[]}add(e){return ov(this.subscriptions,e),()=>av(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fw=30,Mj=t=>!isNaN(parseFloat(t));class Oj{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=_r.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_r.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lv);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fw);return cC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(t,e){return new Oj(t,e)}function Lj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$l(n))}function Vj(t,e){const n=Ah(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Nj(s[o]);Lj(t,o,a)}}const cv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jj="framerAppearId",yC="data-"+cv(jj);function xC(t){return t.props[yC]}const tn=t=>!!(t&&t.getVelocity);function Fj(t){return!!(tn(t)&&t.add)}function jm(t,e){const n=t.getValue("willChange");if(Fj(n))return n.add(e)}function Bj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),h=l[f];if(h===void 0||u&&Bj(u,f))continue;const g={delay:n,...H0(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const x=xC(t);if(x){const w=window.MotionHandoffAnimation(x,f,We);w!==null&&(g.startTime=w,m=!0)}}jm(t,f),p.start(sv(f,p,h,t.shouldReduceMotion&&js.has(f)?{type:!1}:g,t,m));const v=p.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&Vj(t,a)})}),c}function Fm(t,e,n={}){var r;const i=Ah(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(wC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:p}=s;return Uj(t,e,u+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Uj(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(zj).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Fm(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function zj(t,e){return t.sortNodePosition(e)}function $j(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fm(t,e,n);else{const i=typeof e=="function"?Ah(t,e,n.custom):e;r=Promise.all(wC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Wj=W0.length;function bC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Wj;n++){const r=W0[n],i=t.props[r];(Bl(i)||i===!1)&&(e[r]=i)}return e}const Hj=[...$0].reverse(),qj=$0.length;function Kj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$j(t,n,r)))}function Gj(t){let e=Kj(t),n=pw(),r=!0;const i=l=>(c,u)=>{var f;const p=Ah(t,u,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:g,...m}=p;c={...c,...m,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=bC(t.parent)||{},f=[],p=new Set;let h={},g=1/0;for(let v=0;v<qj;v++){const x=Hj[v],w=n[x],_=c[x]!==void 0?c[x]:u[x],R=Bl(_),E=x===l?w.isActive:null;E===!1&&(g=v);let A=_===u[x]&&_!==c[x]&&R;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&E===null||!_&&!w.prevProp||Ih(_)||typeof _=="boolean")continue;const T=Qj(w.prevProp,_);let y=T||x===l&&w.isActive&&!A&&R||v>g&&R,S=!1;const k=Array.isArray(_)?_:[_];let I=k.reduce(i(x),{});E===!1&&(I={});const{prevResolvedValues:D={}}=w,N={...D,...I},F=U=>{y=!0,p.has(U)&&(S=!0,p.delete(U)),w.needsAnimating[U]=!0;const V=t.getValue(U);V&&(V.liveStyle=!1)};for(const U in N){const V=I[U],W=D[U];if(h.hasOwnProperty(U))continue;let Q=!1;Im(V)&&Im(W)?Q=!Lk(V,W):Q=V!==W,Q?V!=null?F(U):p.add(U):V!==void 0&&p.has(U)?F(U):w.protectedKeys[U]=!0}w.prevProp=_,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&t.blockInitialAnimation&&(y=!1),y&&(!(A&&T)||S)&&f.push(...k.map(U=>({animation:U,options:{type:x}})))}if(p.size){const v={};p.forEach(x=>{const w=t.getBaseTarget(x),_=t.getValue(x);_&&(_.liveStyle=!0),v[x]=w??null}),f.push({animation:v})}let m=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pw(),r=!0}}}function Qj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Lk(e,t):!1}function is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pw(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Xj extends Zi{constructor(e){super(e),e.animationState||(e.animationState=Gj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ih(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yj=0;class Jj extends Zi{constructor(){super(...arguments),this.id=Yj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Zj={animation:{Feature:Xj},exit:{Feature:Jj}},_C=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Dh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const e6=t=>e=>_C(e)&&t(e,Dh(e));function Lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $r(t,e,n,r){return Lr(t,e,e6(n),r)}const mw=(t,e)=>Math.abs(t-e);function t6(t,e){const n=mw(t.x,e.x),r=mw(t.y,e.y);return Math.sqrt(n**2+r**2)}class EC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=t6(f.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:g}=f,{timestamp:m}=Vt;this.history.push({...g,timestamp:m});const{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Qf(p,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Xf(f.type==="pointercancel"?this.lastMoveEventInfo:Qf(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),g&&g(f,v)},!_C(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Dh(e),a=Qf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Vt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Xf(a,this.history)),this.removeListeners=zr($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function Qf(t,e){return e?{point:e(t.point)}:t}function gw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xf({point:t},e){return{point:t,delta:gw(t,TC(e)),offset:gw(t,n6(e)),velocity:r6(e,.1)}}function n6(t){return t[0]}function TC(t){return t[t.length-1]}function r6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=TC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Br(e)));)n--;if(!r)return{x:0,y:0};const s=Ur(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function SC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const vw=SC("dragHorizontal"),yw=SC("dragVertical");function kC(t){let e=!1;if(t==="y")e=yw();else if(t==="x")e=vw();else{const n=vw(),r=yw();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function CC(){const t=kC(!0);return t?(t(),!1):!0}function fo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const PC=1e-4,i6=1-PC,s6=1+PC,IC=.01,o6=0-IC,a6=0+IC;function Rn(t){return t.max-t.min}function l6(t,e,n){return Math.abs(t-e)<=n}function xw(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=Rn(n)/Rn(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i6&&t.scale<=s6||isNaN(t.scale))&&(t.scale=1),(t.translate>=o6&&t.translate<=a6||isNaN(t.translate))&&(t.translate=0)}function ll(t,e,n,r){xw(t.x,e.x,n.x,r?r.originX:void 0),xw(t.y,e.y,n.y,r?r.originY:void 0)}function ww(t,e,n){t.min=n.min+e.min,t.max=t.min+Rn(e)}function c6(t,e,n){ww(t.x,e.x,n.x),ww(t.y,e.y,n.y)}function bw(t,e,n){t.min=e.min-n.min,t.max=t.min+Rn(e)}function cl(t,e,n){bw(t.x,e.x,n.x),bw(t.y,e.y,n.y)}function u6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function _w(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function d6(t,{top:e,left:n,bottom:r,right:i}){return{x:_w(t.x,n,i),y:_w(t.y,e,r)}}function Ew(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function h6(t,e){return{x:Ew(t.x,e.x),y:Ew(t.y,e.y)}}function f6(t,e){let n=.5;const r=Rn(t),i=Rn(e);return i>r?n=Wo(e.min,e.max-r,t.min):r>i&&(n=Wo(t.min,t.max-i,e.min)),Wi(0,1,n)}function p6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bm=.35;function m6(t=Bm){return t===!1?t=0:t===!0&&(t=Bm),{x:Tw(t,"left","right"),y:Tw(t,"top","bottom")}}function Tw(t,e,n){return{min:Sw(t,e),max:Sw(t,n)}}function Sw(t,e){return typeof t=="number"?t:t[e]||0}const kw=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:kw(),y:kw()}),Cw=()=>({min:0,max:0}),ft=()=>({x:Cw(),y:Cw()});function Vn(t){return[t("x"),t("y")]}function AC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function g6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function v6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yf(t){return t===void 0||t===1}function Um({scale:t,scaleX:e,scaleY:n}){return!Yf(t)||!Yf(e)||!Yf(n)}function ls(t){return Um(t)||RC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RC(t){return Pw(t.x)||Pw(t.y)}function Pw(t){return t&&t!=="0%"}function Vd(t,e,n){const r=t-n,i=e*r;return n+i}function Iw(t,e,n,r,i){return i!==void 0&&(t=Vd(t,i,r)),Vd(t,n,r)+e}function zm(t,e=0,n=1,r,i){t.min=Iw(t.min,e,n,r,i),t.max=Iw(t.max,e,n,r,i)}function DC(t,{x:e,y:n}){zm(t.x,e.translate,e.scale,e.originPoint),zm(t.y,n.translate,n.scale,n.originPoint)}const Aw=.999999999999,Rw=1.0000000000001;function y6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&go(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DC(t,o)),r&&ls(s.latestValues)&&go(t,s.latestValues))}e.x<Rw&&e.x>Aw&&(e.x=1),e.y<Rw&&e.y>Aw&&(e.y=1)}function mo(t,e){t.min=t.min+e,t.max=t.max+e}function Dw(t,e,n,r,i=.5){const s=st(t.min,t.max,i);zm(t,e,n,s,r)}function go(t,e){Dw(t.x,e.x,e.scaleX,e.scale,e.originX),Dw(t.y,e.y,e.scaleY,e.scale,e.originY)}function NC(t,e){return AC(v6(t.getBoundingClientRect(),e))}function x6(t,e,n){const r=NC(t,n),{scroll:i}=e;return i&&(mo(r.x,i.offset.x),mo(r.y,i.offset.y)),r}const MC=({current:t})=>t?t.ownerDocument.defaultView:null,w6=new WeakMap;class b6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dh(u,"page").point)},s=(u,f)=>{const{drag:p,dragPropagation:h,onDragStart:g}=this.getProps();if(p&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kC(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(v=>{let x=this.getAxisMotionValue(v).get()||0;if(br.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[v];_&&(x=Rn(_)*(parseFloat(x)/100))}}this.originPoint[v]=x}),g&&We.postRender(()=>g(u,f)),jm(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:g,onDrag:m}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=_6(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Vn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new EC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:MC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&We.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!iu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=u6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&fo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=d6(i.layoutBox,n):this.constraints=!1,this.elastic=m6(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=p6(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=x6(r,i.root,this.visualElement.getTransformPagePoint());let o=h6(i.layout.layoutBox,s);if(n){const a=n(g6(o));this.hasMutatedConstraints=!!a,a&&(o=AC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vn(u=>{if(!iu(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const p=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jm(this.visualElement,e),r.start(sv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:r}=this.getProps();if(!iu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-st(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=f6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(o=>{if(!iu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(st(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;w6.set(this.visualElement,this);const e=this.visualElement.current,n=$r(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const o=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Bm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function iu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class E6 extends Zi{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new b6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nw=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class T6 extends Zi{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new EC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Nw(e),onStart:Nw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&We.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nh=M.createContext(null);function S6(){const t=M.useContext(Nh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=M.useId();M.useEffect(()=>r(i),[]);const s=M.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const uv=M.createContext({}),OC=M.createContext({}),Nu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=Mw(t,e.target.x),r=Mw(t,e.target.y);return`${n}% ${r}%`}},k6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Hi.parse(t);if(i.length>5)return r;const s=Hi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=st(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},jd={};function C6(t){Object.assign(jd,t)}const{schedule:dv,cancel:a9}=Vk(queueMicrotask,!1);class P6 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;C6(I6),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LC(t){const[e,n]=S6(),r=M.useContext(uv);return P.jsx(P6,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(OC),isPresent:e,safeToRemove:n})}const I6={borderRadius:{...Pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomLeftRadius:Pa,borderBottomRightRadius:Pa,boxShadow:k6},VC=["TopLeft","TopRight","BottomLeft","BottomRight"],A6=VC.length,Ow=t=>typeof t=="string"?parseFloat(t):t,Lw=t=>typeof t=="number"||pe.test(t);function R6(t,e,n,r,i,s){i?(t.opacity=st(0,n.opacity!==void 0?n.opacity:1,D6(r)),t.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,N6(r))):s&&(t.opacity=st(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<A6;o++){const a=`border${VC[o]}Radius`;let l=Vw(e,a),c=Vw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Lw(l)===Lw(c)?(t[a]=Math.max(st(Ow(l),Ow(c),r),0),(br.test(c)||br.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function Vw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D6=jC(0,.5,Wk),N6=jC(.5,.95,nn);function jC(t,e,n){return r=>r<t?0:r>e?1:n(Wo(t,e,r))}function jw(t,e){t.min=e.min,t.max=e.max}function Ln(t,e){jw(t.x,e.x),jw(t.y,e.y)}function Fw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Bw(t,e,n,r,i){return t-=e,t=Vd(t,1/n,r),i!==void 0&&(t=Vd(t,1/i,r)),t}function M6(t,e=0,n=1,r=.5,i,s=t,o=t){if(br.test(e)&&(e=parseFloat(e),e=st(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=st(s.min,s.max,r);t===s&&(a-=e),t.min=Bw(t.min,e,n,a,i),t.max=Bw(t.max,e,n,a,i)}function Uw(t,e,[n,r,i],s,o){M6(t,e[n],e[r],e[i],e.scale,s,o)}const O6=["x","scaleX","originX"],L6=["y","scaleY","originY"];function zw(t,e,n,r){Uw(t.x,e,O6,n?n.x:void 0,r?r.x:void 0),Uw(t.y,e,L6,n?n.y:void 0,r?r.y:void 0)}function $w(t){return t.translate===0&&t.scale===1}function FC(t){return $w(t.x)&&$w(t.y)}function Ww(t,e){return t.min===e.min&&t.max===e.max}function V6(t,e){return Ww(t.x,e.x)&&Ww(t.y,e.y)}function Hw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BC(t,e){return Hw(t.x,e.x)&&Hw(t.y,e.y)}function qw(t){return Rn(t.x)/Rn(t.y)}function Kw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class j6{constructor(){this.members=[]}add(e){ov(this.members,e),e.scheduleRender()}remove(e){if(av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function F6(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:p,skewX:h,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const B6=(t,e)=>t.depth-e.depth;class U6{constructor(){this.children=[],this.isDirty=!1}add(e){ov(this.children,e),this.isDirty=!0}remove(e){av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(B6),this.isDirty=!1,this.children.forEach(e)}}function Mu(t){const e=tn(t)?t.get():t;return Dj(e)?e.toValue():e}function z6(t,e){const n=_r.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&($i(r),t(s-e))};return We.read(r,!0),()=>$i(r)}function $6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function W6(t,e,n){const r=tn(t)?t:$l(t);return r.start(sv("",r,e,n)),r.animation}const cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ua=typeof window<"u"&&window.MotionDebug!==void 0,Jf=["","X","Y","Z"],H6={visibility:"hidden"},Gw=1e3;let q6=0;function Zf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function UC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&UC(r)}function zC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=q6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ua&&(cs.totalNodes=cs.resolvedTargetDeltas=cs.recalculatedProjection=0),this.nodes.forEach(Q6),this.nodes.forEach(eF),this.nodes.forEach(tF),this.nodes.forEach(X6),Ua&&window.MotionDebug.record(cs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new U6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=z6(p,250),Nu.hasAnimatedSinceResize&&(Nu.hasAnimatedSinceResize=!1,this.nodes.forEach(Xw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||oF,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),w=!this.targetLayout||!BC(this.targetLayout,g)||h,_=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const R={...H0(m,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||Xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qw);return}this.isUpdating||this.nodes.forEach(J6),this.isUpdating=!1,this.nodes.forEach(Z6),this.nodes.forEach(K6),this.nodes.forEach(G6),this.clearAllSnapshots();const a=_r.now();Vt.delta=Wi(0,1e3/60,a-Vt.timestamp),Vt.timestamp=a,Vt.isProcessing=!0,Wf.update.process(Vt),Wf.preRender.process(Vt),Wf.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Y6),this.sharedNodes.forEach(rF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ls(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),aF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ft();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(lF))){const{scroll:u}=this.root;u&&(mo(l.x,u.offset.x),mo(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=ft();if(Ln(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:p}=u;u!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ln(l,o),mo(l.x,f.offset.x),mo(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=ft();Ln(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&go(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ls(u.latestValues)&&go(l,u.latestValues)}return ls(this.latestValues)&&go(l,this.latestValues),l}removeTransform(o){const a=ft();Ln(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ls(c.latestValues))continue;Um(c.latestValues)&&c.updateSnapshot();const u=ft(),f=c.measurePageBox();Ln(u,f),zw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ls(this.latestValues)&&zw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),cl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),DC(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),cl(this.relativeTargetOrigin,this.target,h.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ua&&cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Um(this.parent.latestValues)||RC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ln(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;y6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ft());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!Kw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ua&&cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ft(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=h!==g,v=this.getStack(),x=!v||v.members.length<=1,w=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(sF));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const E=R/1e3;Yw(f.x,o.x,E),Yw(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iF(this.relativeTarget,this.relativeTargetOrigin,p,E),_&&V6(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ft()),Ln(_,this.relativeTarget)),m&&(this.animationValues=u,R6(u,c,this.latestValues,E,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Nu.hasAnimatedSinceResize=!0,this.currentAnimation=W6(0,Gw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&$C(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ft();const f=Rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ln(a,l),go(a,u),ll(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new j6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zf("z",o,c,this.animationValues);for(let u=0;u<Jf.length;u++)Zf(`rotate${Jf[u]}`,o,c,this.animationValues),Zf(`skew${Jf[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return H6;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Mu(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Mu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=F6(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const m in jd){if(p[m]===void 0)continue;const{correct:v,applyTo:x}=jd[m],w=c.transform==="none"?p[m]:v(p[m],f);if(x){const _=x.length;for(let R=0;R<_;R++)c[x[R]]=w}else c[m]=w}return this.options.layoutId&&(c.pointerEvents=f===this?Mu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Qw),this.root.sharedNodes.clear()}}}function K6(t){t.updateLayout()}function G6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Vn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=Rn(p);p.min=r[f].min,p.max=p.min+h}):$C(s,n.layoutBox,r)&&Vn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=Rn(r[f]);p.max=p.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=po();ll(a,r,n.layoutBox);const l=po();o?ll(l,t.applyTransform(i,!0),n.measuredBox):ll(l,r,n.layoutBox);const c=!FC(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:h}=f;if(p&&h){const g=ft();cl(g,n.layoutBox,p.layoutBox);const m=ft();cl(m,r,h.layoutBox),BC(g,m)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Q6(t){Ua&&cs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Y6(t){t.clearSnapshot()}function Qw(t){t.clearMeasurements()}function J6(t){t.isLayoutDirty=!1}function Z6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eF(t){t.resolveTargetDelta()}function tF(t){t.calcProjection()}function nF(t){t.resetSkewAndRotation()}function rF(t){t.removeLeadSnapshot()}function Yw(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jw(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function iF(t,e,n,r){Jw(t.x,e.x,n.x,r),Jw(t.y,e.y,n.y,r)}function sF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oF={duration:.45,ease:[.4,0,.1,1]},Zw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eb=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:nn;function tb(t){t.min=eb(t.min),t.max=eb(t.max)}function aF(t){tb(t.x),tb(t.y)}function $C(t,e,n){return t==="position"||t==="preserve-aspect"&&!l6(qw(e),qw(n),.2)}function lF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const cF=zC({attachResizeListener:(t,e)=>Lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ep={current:void 0},WC=zC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ep.current){const t=new cF({});t.mount(window),t.setOptions({layoutScroll:!0}),ep.current=t}return ep.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uF={pan:{Feature:T6},drag:{Feature:E6,ProjectionNode:WC,MeasureLayout:LC}};function nb(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||CC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&We.postRender(()=>l(s,o))};return $r(t.current,n,i,{passive:!t.getProps()[r]})}class dF extends Zi{mount(){this.unmount=zr(nb(this.node,!0),nb(this.node,!1))}unmount(){}}class hF extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const HC=(t,e)=>e?t===e?!0:HC(t,e.parentElement):!1;function tp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Dh(n))}class fF extends Zi{constructor(){super(...arguments),this.removeStartListeners=nn,this.removeEndListeners=nn,this.removeAccessibleListeners=nn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=$r(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps(),p=!f&&!HC(this.node.current,a.target)?u:c;p&&We.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=$r(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||tp("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&We.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Lr(this.node.current,"keyup",o),tp("down",(a,l)=>{this.startPress(a,l)})},n=Lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&tp("cancel",(s,o)=>this.cancelPress(s,o))},i=Lr(this.node.current,"blur",r);this.removeAccessibleListeners=zr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&We.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!CC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&We.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=$r(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $m=new WeakMap,np=new WeakMap,pF=t=>{const e=$m.get(t.target);e&&e(t)},mF=t=>{t.forEach(pF)};function gF({root:t,...e}){const n=t||document;np.has(n)||np.set(n,{});const r=np.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mF,{root:t,...e})),r[i]}function vF(t,e,n){const r=gF(e);return $m.set(t,n),r.observe(t),()=>{$m.delete(t),r.unobserve(t)}}const yF={some:0,all:1};class xF extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yF[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return vF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wF(e,n))&&this.startObserver()}unmount(){}}function wF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bF={inView:{Feature:xF},tap:{Feature:fF},focus:{Feature:hF},hover:{Feature:dF}},_F={layout:{ProjectionNode:WC,MeasureLayout:LC}},hv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Mh=M.createContext({}),fv=typeof window<"u",qC=fv?M.useLayoutEffect:M.useEffect,KC=M.createContext({strict:!1});function EF(t,e,n,r,i){var s,o;const{visualElement:a}=M.useContext(Mh),l=M.useContext(KC),c=M.useContext(Nh),u=M.useContext(hv).reducedMotion,f=M.useRef();r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,h=M.useContext(OC);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&TF(f.current,n,i,h),M.useInsertionEffect(()=>{p&&p.update(n,c)});const g=n[yC],m=M.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return qC(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),dv.render(p.render),m.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),m.current=!1))}),p}function TF(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&fo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function GC(t){if(t)return t.options.allowProjection!==!1?t.projection:GC(t.parent)}function SF(t,e,n){return M.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fo(n)&&(n.current=r))},[e])}function Oh(t){return Ih(t.animate)||W0.some(e=>Bl(t[e]))}function QC(t){return!!(Oh(t)||t.variants)}function kF(t,e){if(Oh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(r)?r:void 0}}return t.inherit!==!1?e:{}}function CF(t){const{initial:e,animate:n}=kF(t,M.useContext(Mh));return M.useMemo(()=>({initial:e,animate:n}),[rb(e),rb(n)])}function rb(t){return Array.isArray(t)?t.join(" "):t}const ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const t in ib)Ho[t]={isEnabled:e=>ib[t].some(n=>!!e[n])};function PF(t){for(const e in t)Ho[e]={...Ho[e],...t[e]}}const IF=Symbol.for("motionComponentSymbol");function AF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&PF(t);function s(a,l){let c;const u={...M.useContext(hv),...a,layoutId:RF(a)},{isStatic:f}=u,p=CF(a),h=r(a,f);if(!f&&fv){DF();const g=NF(u);c=g.MeasureLayout,p.visualElement=EF(i,h,u,e,g.ProjectionNode)}return P.jsxs(Mh.Provider,{value:p,children:[c&&p.visualElement?P.jsx(c,{visualElement:p.visualElement,...u}):null,n(i,a,SF(h,p.visualElement,l),h,f,p.visualElement)]})}const o=M.forwardRef(s);return o[IF]=i,o}function RF({layoutId:t}){const e=M.useContext(uv).id;return e&&t!==void 0?e+"-"+t:t}function DF(t,e){M.useContext(KC).strict}function NF(t){const{drag:e,layout:n}=Ho;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const MF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pv(t){return typeof t!="string"||t.includes("-")?!1:!!(MF.indexOf(t)>-1||/[A-Z]/u.test(t))}function XC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const YC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JC(t,e,n,r){XC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(YC.has(i)?i:cv(i),e.attrs[i])}function ZC(t,{layout:e,layoutId:n}){return js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jd[t]||t==="opacity")}function mv(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(tn(i[o])||e.style&&tn(e.style[o])||ZC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function eP(t,e,n){const r=mv(t,e,n);for(const i in t)if(tn(t[i])||tn(e[i])){const s=dc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function gv(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}function OF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:LF(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const tP=t=>(e,n)=>{const r=M.useContext(Mh),i=M.useContext(Nh),s=()=>OF(t,e,r,i);return n?s():gv(s)};function LF(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Mu(s[p]);let{initial:o,animate:a}=t;const l=Oh(t),c=QC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!Ih(f)){const p=Array.isArray(f)?f:[f];for(let h=0;h<p.length;h++){const g=z0(t,p[h]);if(g){const{transitionEnd:m,transition:v,...x}=g;for(const w in x){let _=x[w];if(Array.isArray(_)){const R=u?_.length-1:0;_=_[R]}_!==null&&(i[w]=_)}for(const w in m)i[w]=m[w]}}}return i}const vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),nP=()=>({...vv(),attrs:{}}),rP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,VF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jF=dc.length;function FF(t,e,n){let r="",i=!0;for(let s=0;s<jF;s++){const o=dc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=rP(a,J0[o]);if(!l){i=!1;const u=VF[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(js.has(l)){o=!0;continue}else if(Qk(l)){i[l]=c;continue}else{const u=rP(c,J0[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=FF(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function sb(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function BF(t,e,n){const r=sb(e,t.x,t.width),i=sb(n,t.y,t.height);return`${r} ${i}`}const UF={offset:"stroke-dashoffset",array:"stroke-dasharray"},zF={offset:"strokeDashoffset",array:"strokeDasharray"};function $F(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UF:zF;t[s.offset]=pe.transform(-r);const o=pe.transform(e),a=pe.transform(n);t[s.array]=`${o} ${a}`}function xv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(yv(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:h,dimensions:g}=t;p.transform&&(g&&(h.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=BF(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&$F(p,o,a,l,!1)}const wv=t=>typeof t=="string"&&t.toLowerCase()==="svg",WF={useVisualState:tP({scrapeMotionValuesFromProps:eP,createRenderState:nP,onMount:(t,e,{renderState:n,latestValues:r})=>{We.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{xv(n,r,wv(e.tagName),t.transformTemplate),JC(e,n)})}})},HF={useVisualState:tP({scrapeMotionValuesFromProps:mv,createRenderState:vv})};function iP(t,e,n){for(const r in e)!tn(e[r])&&!ZC(r,n)&&(t[r]=e[r])}function qF({transformTemplate:t},e){return M.useMemo(()=>{const n=vv();return yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KF(t,e){const n=t.style||{},r={};return iP(r,n,t),Object.assign(r,qF(t,e)),r}function GF(t,e){const n={},r=KF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QF.has(t)}let sP=t=>!Fd(t);function XF(t){t&&(sP=e=>e.startsWith("on")?!Fd(e):t(e))}try{XF(require("@emotion/is-prop-valid").default)}catch{}function YF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(sP(i)||n===!0&&Fd(i)||!e&&!Fd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function JF(t,e,n,r){const i=M.useMemo(()=>{const s=nP();return xv(s,e,wv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};iP(s,t.style,t),i.style={...s,...i.style}}return i}function ZF(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(pv(n)?JF:GF)(r,s,o,n),c=YF(r,typeof n=="string",t),u=n!==M.Fragment?{...c,...l,ref:i}:{},{children:f}=r,p=M.useMemo(()=>tn(f)?f.get():f,[f]);return M.createElement(n,{...u,children:p})}}function eB(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...pv(r)?WF:HF,preloadedFeatures:t,useRender:ZF(i),createVisualElement:e,Component:r};return AF(o)}}const Wm={current:null},oP={current:!1};function tB(){if(oP.current=!0,!!fv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wm.current=t.matches;t.addListener(e),e()}else Wm.current=!1}function nB(t,e,n){for(const r in e){const i=e[r],s=n[r];if(tn(i))t.addValue(r,i);else if(tn(s))t.addValue(r,$l(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,$l(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ob=new WeakMap,rB=[...Jk,Yt,Hi],iB=t=>rB.find(Yk(t)),ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=_r.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Oh(n),this.isVariantNode=QC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const h=f[p];l[p]!==void 0&&tn(h)&&h.set(l[p],!1)}}mount(e){this.current=e,ob.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oP.current||tB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ob.delete(this.current),this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=js.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ho){const n=Ho[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ab.length;r++){const i=ab[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Kk(i)||qk(i))?i=parseFloat(i):!iB(i)&&Hi.test(n)&&(i=oC(e,n)),this.setBaseTarget(e,tn(i)?i.get():i)),tn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=z0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aP extends sB{constructor(){super(...arguments),this.KeyframeResolver=aC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function oB(t){return window.getComputedStyle(t)}class aB extends aP{constructor(){super(...arguments),this.type="html",this.renderInstance=XC}readValueFromInstance(e,n){if(js.has(n)){const r=Z0(n);return r&&r.default||0}else{const r=oB(e),i=(Qk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NC(e,n)}build(e,n,r){yv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class lB extends aP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(js.has(n)){const r=Z0(n);return r&&r.default||0}return n=YC.has(n)?n:cv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eP(e,n,r)}build(e,n,r){xv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){JC(e,n,r,i)}mount(e){this.isSVGTag=wv(e.tagName),super.mount(e)}}const cB=(t,e)=>pv(t)?new lB(e):new aB(e,{allowProjection:t!==M.Fragment}),uB=eB({...Zj,...bF,...uF,..._F},cB),Ou=W4(uB);class dB extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hB({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=M.useContext(hv);return M.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),P.jsx(dB,{isPresent:e,childRef:r,sizeRef:i,children:M.cloneElement(t,{ref:r})})}const fB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=gv(pB),l=M.useId(),c=M.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),u=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return M.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=P.jsx(hB,{isPresent:n,children:t})),P.jsx(Nh.Provider,{value:u,children:t})};function pB(){return new Map}const su=t=>t.key||"";function lb(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const lP=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=M.useMemo(()=>lb(t),[t]),l=a.map(su),c=M.useRef(!0),u=M.useRef(a),f=gv(()=>new Map),[p,h]=M.useState(a),[g,m]=M.useState(a);qC(()=>{c.current=!1,u.current=a;for(let w=0;w<g.length;w++){const _=su(g[w]);l.includes(_)?f.delete(_):f.get(_)!==!0&&f.set(_,!1)}},[g,l.length,l.join("-")]);const v=[];if(a!==p){let w=[...a];for(let _=0;_<g.length;_++){const R=g[_],E=su(R);l.includes(E)||(w.splice(_,0,R),v.push(R))}o==="wait"&&v.length&&(w=v),m(lb(w)),h(a);return}const{forceRender:x}=M.useContext(uv);return P.jsx(P.Fragment,{children:g.map(w=>{const _=su(w),R=a===g||l.includes(_),E=()=>{if(f.has(_))f.set(_,!0);else return;let A=!0;f.forEach(T=>{T||(A=!1)}),A&&(x==null||x(),m(u.current),i&&i())};return P.jsx(fB,{isPresent:R,initial:!c.current||r?void 0:!1,custom:R?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:R?void 0:E,children:w},_)})})};function Tt(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}Tt(`.react-loading-indicator-normalize,
[class$=rli-bounding-box] {
  font-size: 1rem;
  display: inline-block;
  box-sizing: border-box;
  text-align: unset;
  isolation: isolate;
}

.rli-d-i-b {
  display: inline-block;
}

.rli-text-format {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 600;
  width: 90%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.7em;
  letter-spacing: 0.5px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Avenir Next", "Avenir", "Segoe UI", "Lucida Grande", "Helvetica Neue", "Helvetica", "Fira Sans", "Roboto", "Noto", "Droid Sans", "Cantarell", "Oxygen", "Ubuntu", "Franklin Gothic Medium", "Century Gothic", "Liberation Sans", sans-serif;
}`);var Ue=function(){return Ue=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ue.apply(this,arguments)};function Bd(t){return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}var mB=/^\s+/,gB=/\s+$/;function ce(t,e){if(e=e||{},(t=t||"")instanceof ce)return t;if(!(this instanceof ce))return new ce(t,e);var n=function(r){var i={r:0,g:0,b:0},s=1,o=null,a=null,l=null,c=!1,u=!1;typeof r=="string"&&(r=function(g){g=g.replace(mB,"").replace(gB,"").toLowerCase();var m,v=!1;if(Hm[g])g=Hm[g],v=!0;else if(g=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=Kn.rgb.exec(g))?{r:m[1],g:m[2],b:m[3]}:(m=Kn.rgba.exec(g))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=Kn.hsl.exec(g))?{h:m[1],s:m[2],l:m[3]}:(m=Kn.hsla.exec(g))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=Kn.hsv.exec(g))?{h:m[1],s:m[2],v:m[3]}:(m=Kn.hsva.exec(g))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=Kn.hex8.exec(g))?{r:Sn(m[1]),g:Sn(m[2]),b:Sn(m[3]),a:pb(m[4]),format:v?"name":"hex8"}:(m=Kn.hex6.exec(g))?{r:Sn(m[1]),g:Sn(m[2]),b:Sn(m[3]),format:v?"name":"hex"}:(m=Kn.hex4.exec(g))?{r:Sn(m[1]+""+m[1]),g:Sn(m[2]+""+m[2]),b:Sn(m[3]+""+m[3]),a:pb(m[4]+""+m[4]),format:v?"name":"hex8"}:(m=Kn.hex3.exec(g))?{r:Sn(m[1]+""+m[1]),g:Sn(m[2]+""+m[2]),b:Sn(m[3]+""+m[3]),format:v?"name":"hex"}:!1}(r)),Bd(r)=="object"&&(Pr(r.r)&&Pr(r.g)&&Pr(r.b)?(f=r.r,p=r.g,h=r.b,i={r:255*Ze(f,255),g:255*Ze(p,255),b:255*Ze(h,255)},c=!0,u=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Pr(r.h)&&Pr(r.s)&&Pr(r.v)?(o=za(r.s),a=za(r.v),i=function(g,m,v){g=6*Ze(g,360),m=Ze(m,100),v=Ze(v,100);var x=Math.floor(g),w=g-x,_=v*(1-m),R=v*(1-w*m),E=v*(1-(1-w)*m),A=x%6,T=[v,R,_,_,E,v][A],y=[E,v,v,R,_,_][A],S=[_,_,E,v,v,R][A];return{r:255*T,g:255*y,b:255*S}}(r.h,o,a),c=!0,u="hsv"):Pr(r.h)&&Pr(r.s)&&Pr(r.l)&&(o=za(r.s),l=za(r.l),i=function(g,m,v){var x,w,_;function R(T,y,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?T+6*(y-T)*S:S<.5?y:S<2/3?T+(y-T)*(2/3-S)*6:T}if(g=Ze(g,360),m=Ze(m,100),v=Ze(v,100),m===0)x=w=_=v;else{var E=v<.5?v*(1+m):v+m-v*m,A=2*v-E;x=R(A,E,g+1/3),w=R(A,E,g),_=R(A,E,g-1/3)}return{r:255*x,g:255*w,b:255*_}}(r.h,o,l),c=!0,u="hsl"),r.hasOwnProperty("a")&&(s=r.a));var f,p,h;return s=cP(s),{ok:c,format:r.format||u,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:s}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function cb(t,e,n){t=Ze(t,255),e=Ze(e,255),n=Ze(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=(s+o)/2;if(s==o)r=i=0;else{var l=s-o;switch(i=a>.5?l/(2-s-o):l/(s+o),s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function ub(t,e,n){t=Ze(t,255),e=Ze(e,255),n=Ze(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=s,l=s-o;if(i=s===0?0:l/s,s==o)r=0;else{switch(s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function db(t,e,n,r){var i=[Zn(Math.round(t).toString(16)),Zn(Math.round(e).toString(16)),Zn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function hb(t,e,n,r){return[Zn(uP(r)),Zn(Math.round(t).toString(16)),Zn(Math.round(e).toString(16)),Zn(Math.round(n).toString(16))].join("")}function vB(t,e){e=e===0?0:e||10;var n=ce(t).toHsl();return n.s-=e/100,n.s=Lh(n.s),ce(n)}function yB(t,e){e=e===0?0:e||10;var n=ce(t).toHsl();return n.s+=e/100,n.s=Lh(n.s),ce(n)}function xB(t){return ce(t).desaturate(100)}function wB(t,e){e=e===0?0:e||10;var n=ce(t).toHsl();return n.l+=e/100,n.l=Lh(n.l),ce(n)}function bB(t,e){e=e===0?0:e||10;var n=ce(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),ce(n)}function _B(t,e){e=e===0?0:e||10;var n=ce(t).toHsl();return n.l-=e/100,n.l=Lh(n.l),ce(n)}function EB(t,e){var n=ce(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ce(n)}function TB(t){var e=ce(t).toHsl();return e.h=(e.h+180)%360,ce(e)}function fb(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ce(t).toHsl(),r=[ce(t)],i=360/e,s=1;s<e;s++)r.push(ce({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function SB(t){var e=ce(t).toHsl(),n=e.h;return[ce(t),ce({h:(n+72)%360,s:e.s,l:e.l}),ce({h:(n+216)%360,s:e.s,l:e.l})]}function kB(t,e,n){e=e||6,n=n||30;var r=ce(t).toHsl(),i=360/n,s=[ce(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(ce(r));return s}function CB(t,e){e=e||6;for(var n=ce(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(ce({h:r,s:i,v:s})),s=(s+a)%1;return o}ce.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=cP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=ub(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=ub(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=cb(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=cb(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return db(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(e,n,r,i,s){var o=[Zn(Math.round(e).toString(16)),Zn(Math.round(n).toString(16)),Zn(Math.round(r).toString(16)),Zn(uP(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Ze(this._r,255))+"%",g:Math.round(100*Ze(this._g,255))+"%",b:Math.round(100*Ze(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*Ze(this._r,255))+"%, "+Math.round(100*Ze(this._g,255))+"%, "+Math.round(100*Ze(this._b,255))+"%)":"rgba("+Math.round(100*Ze(this._r,255))+"%, "+Math.round(100*Ze(this._g,255))+"%, "+Math.round(100*Ze(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(PB[db(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+hb(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=ce(t);n="#"+hb(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||t!=="hex"&&t!=="hex6"&&t!=="hex3"&&t!=="hex4"&&t!=="hex8"&&t!=="name"?(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),t!=="hex"&&t!=="hex6"||(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):t==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return ce(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(wB,arguments)},brighten:function(){return this._applyModification(bB,arguments)},darken:function(){return this._applyModification(_B,arguments)},desaturate:function(){return this._applyModification(vB,arguments)},saturate:function(){return this._applyModification(yB,arguments)},greyscale:function(){return this._applyModification(xB,arguments)},spin:function(){return this._applyModification(EB,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(kB,arguments)},complement:function(){return this._applyCombination(TB,arguments)},monochromatic:function(){return this._applyCombination(CB,arguments)},splitcomplement:function(){return this._applyCombination(SB,arguments)},triad:function(){return this._applyCombination(fb,[3])},tetrad:function(){return this._applyCombination(fb,[4])}},ce.fromRatio=function(t,e){if(Bd(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r==="a"?t[r]:za(t[r]));t=n}return ce(t,e)},ce.equals=function(t,e){return!(!t||!e)&&ce(t).toRgbString()==ce(e).toRgbString()},ce.random=function(){return ce.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ce.mix=function(t,e,n){n=n===0?0:n||50;var r=ce(t).toRgb(),i=ce(e).toRgb(),s=n/100;return ce({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},ce.readability=function(t,e){var n=ce(t),r=ce(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},ce.isReadable=function(t,e,n){var r,i,s=ce.readability(t,e);switch(i=!1,(r=function(o){var a,l;return a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(o.size||"small").toLowerCase(),a!=="AA"&&a!=="AAA"&&(a="AA"),l!=="small"&&l!=="large"&&(l="small"),{level:a,size:l}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},ce.mostReadable=function(t,e,n){var r,i,s,o,a=null,l=0;i=(n=n||{}).includeFallbackColors,s=n.level,o=n.size;for(var c=0;c<e.length;c++)(r=ce.readability(t,e[c]))>l&&(l=r,a=ce(e[c]));return ce.isReadable(t,a,{level:s,size:o})||!i?a:(n.includeFallbackColors=!1,ce.mostReadable(t,["#fff","#000"],n))};var Hm=ce.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},PB=ce.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(Hm);function cP(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ze(t,e){(function(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1})(t)&&(t="100%");var n=function(r){return typeof r=="string"&&r.indexOf("%")!=-1}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Lh(t){return Math.min(1,Math.max(0,t))}function Sn(t){return parseInt(t,16)}function Zn(t){return t.length==1?"0"+t:""+t}function za(t){return t<=1&&(t=100*t+"%"),t}function uP(t){return Math.round(255*parseFloat(t)).toString(16)}function pb(t){return Sn(t)/255}var ai,ou,au,Kn=(ou="[\\s|\\(]+("+(ai="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ai+")[,|\\s]+("+ai+")\\s*\\)?",au="[\\s|\\(]+("+ai+")[,|\\s]+("+ai+")[,|\\s]+("+ai+")[,|\\s]+("+ai+")\\s*\\)?",{CSS_UNIT:new RegExp(ai),rgb:new RegExp("rgb"+ou),rgba:new RegExp("rgba"+au),hsl:new RegExp("hsl"+ou),hsla:new RegExp("hsla"+au),hsv:new RegExp("hsv"+ou),hsva:new RegExp("hsva"+au),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Pr(t){return!!Kn.CSS_UNIT.exec(t)}var Vh=function(t,e){var n=(typeof t=="string"?parseInt(t):t)||0;if(n>=-5&&n<=5){var r=n,i=parseFloat(e),s=i+r*(i/5)*-1;return(s==0||s<=Number.EPSILON)&&(s=.1),{animationPeriod:s+"s"}}return{animationPeriod:e}},jh=function(t,e){var n=t||{},r="";switch(e){case"small":r="12px";break;case"medium":r="16px";break;case"large":r="20px";break;default:r=void 0}var i={};if(n.fontSize){var s=n.fontSize;i=function(o,a){var l={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.indexOf(c)<0&&(l[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(c=Object.getOwnPropertySymbols(o);u<c.length;u++)a.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(o,c[u])&&(l[c[u]]=o[c[u]])}return l}(n,["fontSize"]),r=s}return{fontSize:r,styles:i}},IB={color:"currentColor",mixBlendMode:"difference",width:"unset",display:"block",paddingTop:"2px"},Fh=function(t){var e=t.className,n=t.text,r=t.textColor,i=t.staticText,s=t.style;return n?be.createElement("span",{className:"rli-d-i-b rli-text-format ".concat(e||"").trim(),style:Ue(Ue(Ue({},i&&IB),r&&{color:r,mixBlendMode:"unset"}),s&&s)},typeof n=="string"&&n.length?n:"loading"):null},pc="rgb(50, 205, 50)";function Bh(t,e){e===void 0&&(e=0);var n=[];return function r(i,s){return s===void 0&&(s=0),n.push.apply(n,i),n.length<s&&r(n,s),n.slice(0,s)}(t,e)}Tt(`.atom-rli-bounding-box {
  --atom-phase1-rgb: 50, 205, 50;
  color: rgba(var(--atom-phase1-rgb), 1);
  font-size: 16px;
  position: relative;
  text-align: unset;
  isolation: isolate;
}
.atom-rli-bounding-box .atom-indicator {
  width: 6em;
  height: 6em;
  position: relative;
  perspective: 6em;
  overflow: hidden;
  color: rgba(var(--atom-phase1-rgb), 1);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6fj;
}
.atom-rli-bounding-box .atom-indicator::after, .atom-rli-bounding-box .atom-indicator::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 0.48em;
  height: 0.48em;
  margin: auto;
  border-radius: 50%;
  background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6de;
}
.atom-rli-bounding-box .atom-indicator::before {
  filter: drop-shadow(0px 0px 0.0625em currentColor);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit {
  color: rgba(var(--atom-phase1-rgb), 0.85);
  border: 0;
  border-left: 0.4em solid currentColor;
  box-sizing: border-box;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: 4.8em;
  height: 4.8em;
  background-color: transparent;
  border-radius: 50%;
  transform-style: preserve-3d;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6ex, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6g6;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  color: rgba(var(--atom-phase1-rgb), 0.18);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6h4;
  border: 0.125em solid currentColor;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::before {
  content: "";
  width: 0.192em;
  height: 0.192em;
  position: absolute;
  border-radius: 50%;
  top: -0.096em;
  right: 0;
  bottom: 0;
  left: 0;
  margin: 0 auto;
  color: rgba(var(--atom-phase1-rgb), 1);
  box-shadow: 0px 0px 0.0625em 0.0625em currentColor, 0px 0px 0.0625em 0.125em currentColor;
  background-color: currentColor;
  transform: rotateY(-70deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6e7, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6fj;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(1) {
  --orbit-vector-factor: -1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(2) {
  --orbit-vector-factor: 1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3) {
  --orbit-vector-factor: 0;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3)::before {
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --atom-phase1-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase2-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase3-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase4-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6ex {
  from {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(0deg);
  }
  to {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(360deg);
  }
}
@keyframes u1qz6e7 {
  from {
    transform: rotateY(-70deg) rotateX(0deg);
  }
  to {
    transform: rotateY(-70deg) rotateX(-360deg);
  }
}
@keyframes u1qz6de {
  100%, 0% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  20% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  25% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  45% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  50% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  70% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  75% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  95% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
}
@keyframes u1qz6fj {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
}
@keyframes u1qz6g6 {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
}
@keyframes u1qz6h4 {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
}`);ce(pc).toRgb();Array.from({length:4},function(t,e){return"--atom-phase".concat(e+1,"-rgb")});Tt(`.commet-rli-bounding-box {
  --commet-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  width: 6.85em;
  height: 6.85em;
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  position: relative;
  isolation: isolate;
}
.commet-rli-bounding-box .commet-indicator {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  box-sizing: border-box;
  width: 6em;
  height: 6em;
  color: var(--commet-phase1-color);
  display: inline-block;
  isolation: isolate;
  position: absolute;
  z-index: 0;
  animation: calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite u1qz6k3;
}
.commet-rli-bounding-box .commet-indicator .commet-box {
  position: absolute;
  display: inline-block;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  animation: u1qz6j2 var(--rli-animation-duration, 1.2s) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(1) {
  width: 100%;
  height: 100%;
  animation-direction: normal;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(2) {
  width: 70%;
  height: 70%;
  animation-direction: reverse;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  display: inline-block;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box::before {
  content: "";
  width: 0.5em;
  height: 0.5em;
  border-radius: 50%;
  background-color: currentColor;
  position: absolute;
  top: -0.125em;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0 0 0.2em 0em currentColor, 0 0 0.6em 0em currentColor;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  box-sizing: border-box;
  border-style: solid;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail1 {
  border-color: currentColor transparent transparent currentColor;
  border-width: 0.25em 0.25em 0 0;
  transform: rotateZ(-45deg);
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail2 {
  border-color: currentColor currentColor transparent transparent;
  border-width: 0.25em 0 0 0.25em;
  transform: rotateZ(45deg);
}
.commet-rli-bounding-box .commet-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--commet-phase1-color);
}

@property --commet-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6j2 {
  to {
    transform: rotate(1turn);
  }
}
@keyframes u1qz6k3 {
  100%, 0% {
    color: var(--commet-phase1-color);
  }
  20% {
    color: var(--commet-phase1-color);
  }
  25% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  45% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  50% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  70% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  75% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
  95% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--commet-phase".concat(e+1,"-color")});Tt(`.OP-annulus-rli-bounding-box {
  --OP-annulus-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .whirl {
  animation: u1qz6pz calc(var(--rli-animation-duration, 1.5s) * 1.33) linear infinite;
  height: 100%;
  transform-origin: center center;
  width: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .path {
  stroke-dasharray: 1, 125;
  stroke-dashoffset: 0;
  animation: var(--rli-animation-duration, 1.5s) var(--rli-animation-function, ease-in-out) infinite u1qz6r6, calc(var(--rli-animation-duration, 1.5s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6sy;
  stroke-linecap: round;
}
.OP-annulus-rli-bounding-box .OP-annulus-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes u1qz6pz {
  100% {
    transform: rotate(360deg);
  }
}
@keyframes u1qz6r6 {
  0% {
    stroke-dasharray: 1, 125;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -124px;
  }
}
@keyframes u1qz6sy {
  100%, 0% {
    stroke: var(--OP-annulus-phase1-color);
  }
  22% {
    stroke: var(--OP-annulus-phase1-color);
  }
  25% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  42% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  50% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  72% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  75% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
  97% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-phase".concat(e+1,"-color")});function rp(t){return t&&t.Math===Math&&t}Tt(`.OP-dotted-rli-bounding-box {
  --OP-dotted-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-dotted-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .OP-dotted-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder .dot {
  display: block;
  margin: 0 auto;
  width: 15%;
  height: 15%;
  background-color: currentColor;
  border-radius: 50%;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) infinite u1qz6qy, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6s0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) {
  transform: rotate(0deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 12 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) {
  transform: rotate(30deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 11 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) {
  transform: rotate(60deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 10 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) {
  transform: rotate(90deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 9 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) {
  transform: rotate(120deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 8 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) {
  transform: rotate(150deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 7 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) {
  transform: rotate(180deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 6 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) {
  transform: rotate(210deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 5 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) {
  transform: rotate(240deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 4 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) {
  transform: rotate(270deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 3 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) {
  transform: rotate(300deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 2 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) {
  transform: rotate(330deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 1 * -1);
}

@property --OP-dotted-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6qy {
  0%, 39%, 100% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
}
@keyframes u1qz6s0 {
  100%, 0% {
    background-color: var(--OP-dotted-phase1-color);
  }
  22% {
    background-color: var(--OP-dotted-phase1-color);
  }
  25% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  47% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  50% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  72% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  75% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
  97% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
}`);rp(typeof window=="object"&&window)||rp(typeof self=="object"&&self)||rp(typeof global=="object"&&global)||function(){return this}()||Function("return this")();Array.from({length:4},function(t,e){return"--OP-dotted-phase".concat(e+1,"-color")});Tt(`.OP-spokes-rli-bounding-box {
  --OP-spokes-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  position: relative;
  color: var(--OP-spokes-phase1-color);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator {
  width: 4.8em;
  height: 4.8em;
  display: block;
  position: relative;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke {
  position: absolute;
  height: 1.2em;
  width: 0.4em;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto auto auto 50%;
  background-color: var(--OP-spokes-phase1-color);
  border-radius: 0.24em;
  opacity: 0;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) backwards infinite u1qz6sz, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6t3;
  transform-origin: left center;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(1) {
  transform: rotate(calc(0 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(11 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(2) {
  transform: rotate(calc(1 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(10 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(3) {
  transform: rotate(calc(2 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(9 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(4) {
  transform: rotate(calc(3 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(8 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(5) {
  transform: rotate(calc(4 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(7 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(6) {
  transform: rotate(calc(5 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(6 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(7) {
  transform: rotate(calc(6 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(5 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(8) {
  transform: rotate(calc(7 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(4 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(9) {
  transform: rotate(calc(8 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(3 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(10) {
  transform: rotate(calc(9 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(2 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(11) {
  transform: rotate(calc(10 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(1 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(12) {
  transform: rotate(calc(11 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(0 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--OP-spokes-phase1-color);
  z-index: -2;
}

@property --OP-spokes-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6sz {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@keyframes u1qz6t3 {
  100%, 0% {
    background-color: var(--OP-spokes-phase1-color);
  }
  22% {
    background-color: var(--OP-spokes-phase1-color);
  }
  25% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  42% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  50% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  72% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  75% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
  97% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-spokes-phase".concat(e+1,"-color")});Tt(`.OP-annulus-dual-sectors-rli-bounding-box {
  --OP-annulus-dual-sectors-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator {
  width: 5em;
  height: 5em;
  display: inline-block;
  position: relative;
  z-index: 0;
  color: var(--OP-annulus-dual-sectors-phase1-color);
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .annulus-sectors {
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border-width: 0.34em;
  border-style: solid;
  border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent var(--OP-annulus-dual-sectors-phase1-color) transparent;
  background-color: transparent;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) infinite u1qz6t5, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) infinite u1qz6uw;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .OP-annulus-dual-sectors-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-dual-sectors-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6t5 {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@keyframes u1qz6uw {
  100%, 0% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  20% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  25% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  45% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  50% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  70% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  75% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  95% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-dual-sectors-phase".concat(e+1,"-color")});Tt(`.OP-annulus-sector-track-rli-bounding-box {
  --OP-annulus-track-phase1-color: rgba(50, 205, 50, 0.22);
  --OP-annulus-sector-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-sector-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .annulus-track-ring {
  width: 100%;
  height: 100%;
  border-width: 0.34em;
  border-style: solid;
  border-radius: 50%;
  box-sizing: border-box;
  border-color: var(--OP-annulus-track-phase1-color);
  border-top-color: var(--OP-annulus-sector-phase1-color);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6tq, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6v8;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .OP-annulus-sector-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-track-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-sector-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6tq {
  to {
    transform: rotate(1turn);
  }
}
@keyframes u1qz6v8 {
  100%, 0% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  18% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  25% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  43% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  50% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  68% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  75% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
  93% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return["--OP-annulus-track-phase".concat(e+1,"-color"),"--OP-annulus-sector-phase".concat(e+1,"-color")]});Tt(`.foursquare-rli-bounding-box {
  --four-square-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  color: var(--four-square-phase1-color);
  display: inline-block;
  overflow: hidden;
}
.foursquare-rli-bounding-box .foursquare-indicator {
  height: 5.3033008589em;
  width: 5.3033008589em;
  position: relative;
  display: block;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container {
  position: absolute;
  z-index: 0;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  height: 2.5em;
  width: 2.5em;
  color: inherit;
  will-change: color, width, height;
  transform: rotate(45deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite u1qz6cv, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite u1qz6e3;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square {
  position: absolute;
  width: 1.25em;
  height: 1.25em;
  border-radius: 0.1875em;
  background-color: currentColor;
  animation: u1qz6cr var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) both infinite;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square1 {
  top: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square2 {
  top: 0;
  right: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square3 {
  bottom: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square4 {
  bottom: 0;
  right: 0;
}

@property --four-square-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6cv {
  0% {
    width: 2.5em;
    height: 2.5em;
  }
  10% {
    width: 2.5em;
    height: 2.5em;
  }
  50% {
    width: 3.75em;
    height: 3.75em;
  }
  90% {
    width: 2.5em;
    height: 2.5em;
  }
  100% {
    width: 2.5em;
    height: 2.5em;
  }
}
@keyframes u1qz6cr {
  0% {
    transform: rotateZ(0deg);
  }
  10% {
    transform: rotateZ(0deg);
  }
  50% {
    transform: rotateZ(90deg);
  }
  90% {
    transform: rotateZ(90deg);
  }
  100% {
    transform: rotateZ(90deg);
  }
}
@keyframes u1qz6e3 {
  100%, 0% {
    color: var(--four-square-phase1-color);
  }
  20% {
    color: var(--four-square-phase1-color);
  }
  25% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  45% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  50% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  70% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  75% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
  95% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--four-square-phase".concat(e+1,"-color")});Tt(`.mosaic-rli-bounding-box {
  --mosaic-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  color: var(--mosaic-phase1-color);
}
.mosaic-rli-bounding-box .mosaic-indicator {
  width: 5em;
  height: 5em;
  color: currentColor;
  display: grid;
  gap: 0.125em;
  grid-template-columns: repeat(3, 1fr);
  grid-template-areas: "a b c" "d e f" "g h i";
  position: relative;
  z-index: 0;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 105%;
  left: 50%;
  transform: translateX(-50%);
  z-index: -2;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube {
  background-color: var(--mosaic-phase1-color);
  animation-name: u1qz6bl, u1qz6c9;
  animation-duration: var(--rli-animation-duration, 1.5s), calc(var(--rli-animation-duration, 1.5s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in-out);
  animation-iteration-count: infinite;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube1 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
  grid-area: a;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube2 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
  grid-area: b;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube3 {
  grid-area: c;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 4);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube4 {
  grid-area: d;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube5 {
  grid-area: e;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube6 {
  grid-area: f;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube7 {
  grid-area: g;
  animation-delay: 0s;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube8 {
  grid-area: h;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube9 {
  grid-area: i;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}

@property --mosaic-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes u1qz6bl {
  0%, 60%, 100% {
    transform: scale3D(1, 1, 1);
  }
  30% {
    transform: scale3D(0, 0, 1);
  }
}
@keyframes u1qz6c9 {
  100%, 0% {
    background-color: var(--mosaic-phase1-color);
  }
  25% {
    background-color: var(--mosaic-phase2-color, var(--mosaic-phase1-color));
  }
  50% {
    background-color: var(--mosaic-phase3-color, var(--mosaic-phase1-color));
  }
  75% {
    background-color: var(--mosaic-phase4-color, var(--mosaic-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--mosaic-phase".concat(e+1,"-color")});Tt(`.riple-rli-bounding-box {
  --riple-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--riple-phase1-color);
}
.riple-rli-bounding-box .riple-indicator {
  display: inline-block;
  width: 5em;
  height: 5em;
  position: relative;
  z-index: 0;
}
.riple-rli-bounding-box .riple-indicator .riple-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.riple-rli-bounding-box .riple-indicator .riple {
  --border-width: 0.25em;
  position: absolute;
  border: var(--border-width) solid var(--riple-phase1-color);
  opacity: 1;
  border-radius: 50%;
  will-change: top, right, left, bottom, border-color;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite u1qz6mm, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite u1qz6og;
}
.riple-rli-bounding-box .riple-indicator .riple:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 1s) / 2 * -1);
}

@property --riple-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6mm {
  0% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  4.9% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  5% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
  }
}
@keyframes u1qz6og {
  100%, 0% {
    border-color: var(--riple-phase1-color);
  }
  24.9% {
    border-color: var(--riple-phase1-color);
  }
  25% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  49.9% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  50% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  74.9% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  75% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
  99.9% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--riple-phase".concat(e+1,"-color")});Tt(`.pulsate-rli-bounding-box {
  --TD-pulsate-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
  box-sizing: border-box;
  color: var(--TD-pulsate-phase1-color);
}
.pulsate-rli-bounding-box .pulsate-indicator {
  width: 4.4em;
  height: 1.1em;
  text-align: center;
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: space-between;
  flex-wrap: nowrap;
  align-items: center;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot {
  width: 1.1em;
  height: 1.1em;
  border-radius: 50%;
  background-color: var(--TD-pulsate-phase1-color);
  transform: scale(0);
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) var(--delay) infinite u1qz6uj, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) var(--delay) infinite u1qz6vi;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(1) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15 * -1);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(2) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(3) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15);
}
.pulsate-rli-bounding-box .pulsate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 80%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.6em;
  letter-spacing: 0.5px;
  font-family: sans-serif;
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --TD-pulsate-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6uj {
  0%, 90%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}
@keyframes u1qz6vi {
  0%, 100% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  24.9% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  25% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  49.9% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  50% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  74.9% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  75% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
  99.9% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
}`);var Ws=Array.from({length:4},function(t,e){return"--TD-pulsate-phase".concat(e+1,"-color")}),AB=function(t){var e,n=jh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Vh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var c={};if(l instanceof Array){for(var u=Bh(l,Ws.length),f=0;f<u.length&&!(f>=4);f++)c[Ws[f]]=u[f];return c}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Ws.length;p++)c[Ws[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="pulsate" /> indicator cannot be processed. Using default instead!')),p=0;p<Ws.length;p++)c[Ws[p]]=pc}return c}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b pulsate-rli-bounding-box",style:Ue(Ue(Ue(Ue(Ue({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"rli-d-i-b pulsate-indicator"},be.createElement("span",{className:"rli-d-i-b pulsate-dot"}),be.createElement("span",{className:"rli-d-i-b pulsate-dot"}),be.createElement("span",{className:"rli-d-i-b pulsate-dot"})),be.createElement(Fh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};Tt(`.brick-stack-rli-bounding-box {
  --TD-brick-stack-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-brick-stack-phase1-color);
}
.brick-stack-rli-bounding-box .brick-stack-indicator {
  width: 2.8em;
  height: 2.8em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.brick-stack-rli-bounding-box .brick-stack {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 0/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 100%/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 100% 100%/40% 40% no-repeat;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, ease-out) infinite u1qz6w1, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, ease-out) infinite u1qz6x5;
}

@property --TD-brick-stack-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6w1 {
  0% {
    background-position: 0 0, 0 100%, 100% 100%;
  }
  25% {
    background-position: 100% 0, 0 100%, 100% 100%;
  }
  50% {
    background-position: 100% 0, 0 0, 100% 100%;
  }
  75% {
    background-position: 100% 0, 0 0, 0 100%;
  }
  100% {
    background-position: 100% 100%, 0 0, 0 100%;
  }
}
@keyframes u1qz6x5 {
  100%, 0% {
    color: var(--TD-brick-stack-phase1-color);
  }
  20% {
    color: var(--TD-brick-stack-phase1-color);
  }
  25% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  45% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  50% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  70% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  75% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
  95% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
}`);var Hs=Array.from({length:4},function(t,e){return"--TD-brick-stack-phase".concat(e+1,"-color")}),RB=function(t){var e,n=jh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Vh(t==null?void 0:t.speedPlus,"1s").animationPeriod,a=function(l){var c={};if(l instanceof Array){for(var u=Bh(l,Hs.length),f=0;f<u.length&&!(f>=4);f++)c[Hs[f]]=u[f];return c}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Hs.length;p++)c[Hs[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="brick-stack" /> indicator cannot be processed. Using default instead!')),p=0;p<Hs.length;p++)c[Hs[p]]=pc}return c}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b brick-stack-rli-bounding-box",style:Ue(Ue(Ue(Ue(Ue({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"rli-d-i-b brick-stack-indicator"},be.createElement("span",{className:"rli-d-i-b brick-stack"})),be.createElement(Fh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};Tt(`.bob-rli-bounding-box {
  --TD-bob-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-bob-phase1-color);
}
.bob-rli-bounding-box .bob-indicator {
  width: 4.4em;
  height: 2.2em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bob-rli-bounding-box .bob-indicator .bobbing,
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  width: 1.1em;
  height: 100%;
  display: grid;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) var(--delay) infinite u1qz6wd, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) var(--delay) infinite u1qz6xx;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  content: "";
  grid-area: 1/1;
}
.bob-rli-bounding-box .bob-indicator .bobbing {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12 * -1);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
  transform: translateX(150%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12);
  transform: translateX(300%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}

@property --TD-bob-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6wd {
  100%, 0% {
    background-position: 50% 50%;
  }
  15% {
    background-position: 50% 10%;
  }
  30% {
    background-position: 50% 100%;
  }
  40% {
    background-position: 50% 0%;
  }
  50% {
    background-position: 50% 90%;
  }
  70% {
    background-position: 50% 10%;
  }
  98% {
    background-position: 50% 50%;
  }
}
@keyframes u1qz6xx {
  100%, 0% {
    color: var(--TD-bob-phase1-color);
  }
  22% {
    color: var(--TD-bob-phase1-color);
  }
  25% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  47% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  50% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  72% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  75% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
  97% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
}`);var qs=Array.from({length:4},function(t,e){return"--TD-bob-phase".concat(e+1,"-color")}),DB=function(t){var e,n=jh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Vh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var c={};if(l instanceof Array){for(var u=Bh(l,qs.length),f=0;f<u.length&&!(f>=4);f++)c[qs[f]]=u[f];return c}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<qs.length;p++)c[qs[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="bob" /> indicator cannot be processed. Using default instead!')),p=0;p<qs.length;p++)c[qs[p]]=pc}return c}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b bob-rli-bounding-box",style:Ue(Ue(Ue(Ue(Ue({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},be.createElement("span",{className:"bob-indicator"},be.createElement("span",{className:"bobbing"})),be.createElement(Fh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};Tt(`.bounce-rli-bounding-box {
  --TD-bounce-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--TD-bounce-phase1-color);
  display: inline-block;
  padding-bottom: 0.25125em;
}
.bounce-rli-bounding-box .wrapper {
  --dot1-delay: 0s;
  --dot1-x-offset: 0.55em;
  --dot2-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.75) * -1);
  --dot2-x-offset: 2.2em;
  --dot3-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.5) * -1);
  --dot3-x-offset: 3.85em;
  width: 5.5em;
  height: 3.125em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bounce-rli-bounding-box .wrapper .group {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.bounce-rli-bounding-box .wrapper .group .dot {
  width: 1.1em;
  height: 1.1em;
  position: absolute;
  border-radius: 50%;
  background-color: var(--TD-bounce-phase1-color);
  transform-origin: 50%;
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite u1qz6yl, calc(var(--rli-animation-duration, 0.5s) * 4) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) infinite u1qz6zs;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .shadow {
  width: 1.1em;
  height: 0.22em;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  position: absolute;
  top: 101%;
  transform-origin: 50%;
  z-index: -1;
  filter: blur(1px);
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite u1qz6z4;
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay);
}

@property --TD-bounce-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 0.5s;
}
@keyframes u1qz6yl {
  0% {
    top: 0%;
  }
  60% {
    height: 1.25em;
    border-radius: 50%;
    transform: scaleX(1);
  }
  100% {
    top: 100%;
    height: 0.22em;
    transform: scaleX(1.5);
    filter: blur(0.4px);
  }
}
@keyframes u1qz6z4 {
  0% {
    transform: scaleX(0.2);
    opacity: 0.2;
  }
  60% {
    opacity: 0.4;
  }
  100% {
    transform: scaleX(1.5);
    opacity: 0.6;
  }
}
@keyframes u1qz6zs {
  0%, 100% {
    background-color: var(--TD-bounce-phase1-color);
  }
  20% {
    background-color: var(--TD-bounce-phase1-color);
  }
  25% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  45% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  50% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  70% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  75% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
  95% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
}`);var Ks=Array.from({length:4},function(t,e){return"--TD-bounce-phase".concat(e+1,"-color")}),NB=function(t){var e,n=jh(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=Vh(t==null?void 0:t.speedPlus,"0.5s").animationPeriod,a=function(l){var c={};if(l instanceof Array){for(var u=Bh(l,Ks.length),f=0;f<u.length&&!(f>=4);f++)c[Ks[f]]=u[f];return c}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Ks.length;p++)c[Ks[p]]=l}catch{for(p=0;p<Ks.length;p++)c[Ks[p]]=pc}return c}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return be.createElement("span",{className:"rli-d-i-b bounce-rli-bounding-box",style:Ue(Ue(Ue(Ue(Ue({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r)},be.createElement("span",{className:"wrapper"},be.createElement("span",{className:"group"},be.createElement("span",{className:"rli-d-i-b dot"}),be.createElement("span",{className:"rli-d-i-b dot"}),be.createElement("span",{className:"rli-d-i-b dot"})),be.createElement("span",{className:"group"},be.createElement("span",{className:"rli-d-i-b shadow"}),be.createElement("span",{className:"rli-d-i-b shadow"}),be.createElement("span",{className:"rli-d-i-b shadow"}))),be.createElement(Fh,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor,style:{marginTop:"2px"}}))},dP=function(t){var e=Object(t).variant,n=e===void 0?"pulsate":e;return n==="pulsate"?be.createElement(AB,Ue({},t)):n==="brick-stack"?be.createElement(RB,Ue({},t)):n==="bob"?be.createElement(DB,Ue({},t)):n==="bounce"?be.createElement(NB,Ue({},t)):null};Tt(`.blink-blur-rli-bounding-box {
  --shape-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--shape-phase1-color);
}
.blink-blur-rli-bounding-box .blink-blur-indicator {
  isolation: isolate;
  display: flex;
  flex-direction: row;
  -moz-column-gap: 0.4em;
       column-gap: 0.4em;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape {
  --x-deg: -20deg;
  width: 1.8em;
  height: 2.25em;
  border-radius: 0.25em;
  color: inherit;
  transform: skewX(var(--x-deg));
  background-color: var(--shape-phase1-color);
  animation-name: u1qz6i2, u1qz6js;
  animation-duration: var(--rli-animation-duration, 1.2s), calc(var(--rli-animation-duration, 1.2s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in);
  animation-iteration-count: infinite;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape1 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.5 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape2 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.4 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape3 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.3 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape4 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.2 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape5 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.1 * -1);
}

@property --shape-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6i2 {
  100%, 0% {
    opacity: 0.3;
    filter: blur(0.0675em) drop-shadow(0 0 0.0625em);
    transform: skewX(var(--x-deg)) scale(1.2, 1.45);
  }
  39% {
    opacity: 0.8;
  }
  40%, 41%, 42% {
    opacity: 0;
  }
  43% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
    filter: blur(0em) drop-shadow(0 0 0em);
    transform: skewX(var(--x-deg)) scale(1, 1);
  }
}
@keyframes u1qz6js {
  100%, 0% {
    color: var(--shape-phase1-color);
    background-color: var(--shape-phase1-color);
  }
  25% {
    color: var(--shape-phase2-color, var(--shape-phase1-color));
    background-color: var(--shape-phase2-color, var(--shape-phase1-color));
  }
  50% {
    color: var(--shape-phase3-color, var(--shape-phase1-color));
    background-color: var(--shape-phase3-color, var(--shape-phase1-color));
  }
  75% {
    color: var(--shape-phase4-color, var(--shape-phase1-color));
    background-color: var(--shape-phase4-color, var(--shape-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--shape-phase".concat(e+1,"-color")});Tt(`.trophy-spin-rli-bounding-box {
  --trophySpin-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  position: relative;
  isolation: isolate;
  color: var(--trophySpin-phase1-color);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator {
  width: 4em;
  perspective: 1000px;
  transform-style: preserve-3d;
  display: block;
  margin: 0 auto;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade {
  display: block;
  width: 4em;
  height: 0.5em;
  background: var(--trophySpin-phase1-color);
  animation: u1qz6nk var(--rli-animation-duration, 2.5s) var(--rli-animation-function, linear) infinite, u1qz6op calc(var(--rli-animation-duration, 2.5s) * 0.5) var(--rli-animation-function, linear) infinite, u1qz6pg calc(var(--rli-animation-duration, 2.5s) * 4) var(--rli-animation-function, linear) infinite;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(8) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 0 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(7) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 1 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(6) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 2 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(5) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 3 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(4) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 4 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(3) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 5 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 6 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(1) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 7 * -1);
}

@property --trophySpin-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2.5s;
}
@keyframes u1qz6nk {
  to {
    transform: rotateY(1turn) rotateX(-25deg);
  }
}
@keyframes u1qz6op {
  100%, 0% {
    filter: brightness(1);
    opacity: 1;
  }
  15% {
    filter: brightness(1);
  }
  25% {
    opacity: 0.96;
  }
  30% {
    filter: brightness(0.92);
  }
  50% {
    filter: brightness(0.7);
    opacity: 1;
  }
  75% {
    filter: brightness(0.92);
    opacity: 0.96;
  }
  90% {
    filter: brightness(1);
  }
}
@keyframes u1qz6pg {
  100%, 0% {
    background-color: var(--trophySpin-phase1-color);
  }
  18% {
    background-color: var(--trophySpin-phase1-color);
  }
  25% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  43% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  50% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  68% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  75% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
  93% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--trophySpin-phase".concat(e+1,"-color")});Tt(`.slab-rli-bounding-box {
  --slab-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--slab-phase1-color);
  position: relative;
}
.slab-rli-bounding-box .slab-indicator {
  position: relative;
  display: block;
  width: 7em;
  height: 4em;
  margin: 0 auto;
  overflow: hidden;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper {
  width: 4em;
  height: 4em;
  transform: perspective(15em) rotateX(66deg) rotateZ(-25deg);
  transform-style: preserve-3d;
  transform-origin: 50% 100%;
  display: block;
  position: absolute;
  bottom: 0;
  right: 0;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--slab-phase1-color);
  opacity: 0;
  box-shadow: -0.08em 0.15em 0 rgba(0, 0, 0, 0.45);
  transform-origin: 0% 0%;
  animation: calc(var(--rli-animation-duration-unitless, 3) * 1s) var(--rli-animation-function, linear) infinite u1qz6km, calc(var(--rli-animation-duration-unitless, 3) * 4s) var(--rli-animation-function, linear) infinite u1qz6lk;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(1) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 3 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(2) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 2 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(3) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(4) {
  animation-delay: 0s;
}

@property --slab-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration-unitless {
  syntax: "<number>";
  inherits: true;
  initial-value: 3;
}
@keyframes u1qz6km {
  0% {
    transform: translateY(0) rotateX(30deg);
    opacity: 0;
  }
  10% {
    transform: translateY(-40%) rotateX(0deg);
    opacity: 1;
  }
  25% {
    opacity: 1;
  }
  100% {
    transform: translateY(-400%) rotateX(0deg);
    opacity: 0;
  }
}
@keyframes u1qz6lk {
  100%, 0% {
    background-color: var(--slab-phase1-color);
  }
  24.9% {
    background-color: var(--slab-phase1-color);
  }
  25% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  49.9% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  50% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  74.9% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  75% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
  99.9% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--slab-phase".concat(e+1,"-color")});Tt(`.lifeline-rli-bounding-box {
  --life-line-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  isolation: isolate;
  color: var(--life-line-phase1-color);
}
.lifeline-rli-bounding-box .lifeline-indicator {
  position: relative;
  text-align: center;
}
.lifeline-rli-bounding-box .lifeline-indicator path.rli-lifeline {
  stroke-dasharray: 474.7616760254 30.3039367676;
  animation: var(--rli-animation-duration, 2s) var(--rli-animation-function, linear) infinite u1qz6lr, calc(var(--rli-animation-duration, 2s) * 4) var(--rli-animation-function, linear) infinite u1qz6m8;
}
.lifeline-rli-bounding-box .lifeline-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --life-line-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2s;
}
@keyframes u1qz6lr {
  to {
    stroke-dashoffset: -1010.1312255859;
  }
}
@keyframes u1qz6m8 {
  100%, 0% {
    color: var(--life-line-phase1-color);
  }
  20% {
    color: var(--life-line-phase1-color);
  }
  25% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  45% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  50% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  70% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  75% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
  95% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--life-line-phase".concat(e+1,"-color")});var qm=new Map,lu=new WeakMap,mb=0,MB=void 0;function OB(t){return t?(lu.has(t)||(mb+=1,lu.set(t,mb.toString())),lu.get(t)):"0"}function LB(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?OB(t.root):t[e]}`).toString()}function VB(t){const e=LB(t);let n=qm.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&i.some(u=>a.intersectionRatio>=u);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=r.get(a.target))==null||l.forEach(u=>{u(c,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},qm.set(e,n)}return n}function jB(t,e,n={},r=MB){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=VB(n),a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),qm.delete(i))}}function FB({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var u;const[f,p]=M.useState(null),h=M.useRef(),[g,m]=M.useState({inView:!!a,entry:void 0});h.current=c,M.useEffect(()=>{if(o||!f)return;let _;return _=jB(f,(R,E)=>{m({inView:R,entry:E}),h.current&&h.current(R,E),E.isIntersecting&&s&&_&&(_(),_=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,i,r,s,o,n,l,e]);const v=(u=g.entry)==null?void 0:u.target,x=M.useRef();!f&&v&&!s&&!o&&x.current!==v&&(x.current=v,m({inView:!!a,entry:void 0}));const w=[p,g.inView,g.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function BB(){const[t,e]=M.useState(!1),n=M.useRef(null),r=M.useRef(null),[i,s]=M.useState(!1),o=M.useRef(null),[a,l]=M.useState(!1),c=M.useRef([]),[u,f]=M.useState(!1),[p,h]=M.useState(""),[g,m]=M.useState([]),x=Qo().state,[w,_]=M.useState(""),[R,E]=M.useState(!0),[A,T]=M.useState(x),[y,S]=M.useState(x.boardVisibility),[k,I]=M.useState(x.sharedWith),[D,N]=M.useState(""),[F,z]=M.useState(""),Y={hidden:{opacity:0,x:"100%"},visible:{opacity:1,x:"0%"},exit:{opacity:0,x:"100%"}},U=["./BoardBackground/1.jpg","./BoardBackground/2.jpg","./BoardBackground/3.jpg","./BoardBackground/4.jpg","./BoardBackground/5.jpg","./BoardBackground/6.jpg","./BoardBackground/7.jpg","./BoardBackground/8.jpg","./BoardBackground/9.jpg","./BoardBackground/10.jpg","./BoardBackground/11.jpg","./BoardBackground/12.jpg","./BoardBackground/13.jpg","./BoardBackground/14.jpg","./BoardBackground/15.jpg","./BoardBackground/16.jpg","./BoardBackground/17.jpg","./BoardBackground/18.png","./BoardBackground/19.jpg"],V=[{className:"bg-gradient-to-r from-teal-400 to-blue-500"},{className:"bg-gradient-to-r from-blue-800 to-blue-400"},{className:"bg-gradient-to-r from-purple-500 to-pink-500"},{className:"bg-gradient-to-r from-purple-400 to-blue-300"},{className:"bg-gradient-to-r from-orange-400 to-yellow-300"},{className:"bg-gradient-to-r from-pink-400 to-pink-200"},{className:"bg-gradient-to-r from-teal-400 to-green-500"},{className:"bg-gradient-to-r from-blue-800 to-blue-400"},{className:"bg-gradient-to-r from-red-800 to-brown-500"},{className:"bg-blue-500"},{className:"bg-orange-500"},{className:"bg-green-500"},{className:"bg-red-500"},{className:"bg-purple-500"},{className:"bg-pink-500"},{className:"bg-green-300"},{className:"bg-cyan-500"},{className:"bg-gray-500"}],W=B=>{r.current&&!r.current.contains(B.target)&&e(!1)};M.useEffect(()=>(document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}),[]);const Q=async B=>{N(B);const G=Ve.currentUser;if(G)try{await Ke(me(de,`users/${G.uid}/Boards/${x.id}`),{background:B,backgroundImage:""});const Z=k.map(ie=>Ke(me(de,`users/${ie.id}/Boards/${x.id}`),{background:B,backgroundImage:""}));await Promise.all(Z)}catch(Z){console.error("Error updating list title: ",Z)}else console.error("User is not authenticated.")},oe=async B=>{N(""),z(B);const G=Ve.currentUser;if(G)try{await Ke(me(de,`users/${G.uid}/Boards/${x.id}`),{backgroundImage:B,background:""});const Z=k.map(ie=>Ke(me(de,`users/${ie.id}/Boards/${x.id}`),{backgroundImage:B,background:""}));await Promise.all(Z)}catch(Z){console.error("Error updating list title: ",Z)}else console.error("User is not authenticated.")};M.useEffect(()=>{const B=setTimeout(()=>{E(!1)},1240);return()=>{clearTimeout(B)}});const[ee,ae]=M.useState(!1),Re=M.useRef(null),Ae=B=>{Re.current&&!Re.current.contains(B.target)&&ae(!1)};M.useEffect(()=>(document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}),[]),M.useEffect(()=>(document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}),[]);const re=async B=>{const G=Ve.currentUser;if(m(Z=>Z.filter(ie=>ie.id!==B).map((ie,ge)=>({...ie,order:ge}))),G)try{const Z=g.filter(se=>se.id!==B);await _i(me(de,`users/${G.uid}/Boards/${x.id}/Lists`,B));const ie=Z.map((se,we)=>Ke(me(de,`users/${G.uid}/Boards/${x.id}/Lists/`,se.id),{order:we,title:se.title})),ge=k.flatMap(se=>{const we=_i(me(de,`users/${se.id}/Boards/${x.id}/Lists/`,B)),ve=Z.map((Se,Be)=>Ke(me(de,`users/${se.id}/Boards/${x.id}/Lists`,Se.id),{order:Be,title:Se.title}));return[we,...ve]});await Promise.all([...ie,...ge])}catch(Z){console.error("Error deleting list : ",Z)}else console.error("User is not authenticated")};M.useEffect(()=>{const B=Is(Ve,G=>{G?(async()=>{try{const ie=me(de,`users/${G.uid}/Boards/${x.id}`),ge=await rc(ie);if(ge.exists()){const se={id:ge.id,data:ge.data()};T(se),S(se.data.boardVisibility),I(se.data.sharedWith),_(se.data.title),N(se.data.background),z(se.data.backgroundImage)}else console.log("No such board!"),T({})}catch(ie){console.error("Error fetching board:",ie)}})():T({})});return()=>B()},[]);const De=B=>{r.current&&!r.current.contains(B.target)&&l(!1)},Te=async()=>{if(y==="shareable"){const B=Ve.currentUser;if(B){if(k.length>=2){console.error("Cannot change visibility to private: the board is shared with multiple users.");return}try{S("private"),await Ke(me(de,`users/${B.uid}/Boards/${x.id}`),{boardVisibility:"private"})}catch(G){console.error("Error updating document: ",G)}}else console.error("User is not authenticated.")}},nt=async()=>{if(y==="private"){S("shareable");const B=Ve.currentUser;if(B)try{await Ke(me(de,`users/${B.uid}/Boards/${x.id}`),{boardVisibility:"shareable"})}catch(G){console.log("Error updating document: ",G)}}else console.error("User is not authenticated.")},he=D===""?{backgroundImage:`url('${F}')`,backgroundSize:"cover",backgroundPosition:"center",height:"auto",width:"100%",color:"rgba(255,255,255,0)"}:{},He=B=>{f(!1),B.stopPropagation(),s(!0)},Ce=()=>{s(!1)};M.useEffect(()=>{const B=Is(Ve,G=>{G?(async()=>{const ie=ta(de,`users/${G.uid}/Boards/${x.id}/Lists`),se=(await ra(ie)).docs.map(we=>({id:we.id,title:we.data().title,order:we.data().order})).sort((we,ve)=>we.order-ve.order);m(se)})().catch(ie=>console.error("Error fetching lists:",ie)):m([])});return()=>B()},[]),M.useEffect(()=>{if(i)return document.addEventListener("click",Je),()=>{document.removeEventListener("click",Je)}},[i]);const St=async()=>{const B=Ve.currentUser;if(B){Ce();try{const G=new Date().getTime().toString(),Z={id:G,title:p};m(se=>{const we=[...se,Z],ve=me(de,`users/${B.uid}/Boards/${x.id}/Lists`,G);return Jn(ve,{title:p,id:G,order:we.length-1}),we}),console.log(k);const ie=k.map(se=>{const we=me(de,`users/${se.id}/Boards/${x.id}/Lists`,G);return Jn(we,{title:p,id:G,order:g.length})});if(await Promise.all(ie),window.innerWidth<=650&&c.current.length>0){const se=c.current[c.current.length-1];se&&se.scrollIntoView({behavior:"smooth",block:"start"})}}catch(G){console.error("Error adding to Firestore: ",G)}}else console.error("User is not authenticated")},Je=B=>{o.current&&!o.current.contains(B.target)&&(console.log("Click was outside, closing input"),Ce())},kt=()=>{f(!0)},dt=async B=>{const G=B.target.value;_(G);const Z=Ve.currentUser;if(Z)try{await Ke(me(de,`users/${Z.uid}/Boards/${x.id}`),{title:G});const ie=k.map(ge=>Ke(me(de,`users/${ge.id}/Boards/${x.id}`),{title:G}));await Promise.all(ie)}catch(ie){console.error("Error updating list title: ",ie)}else console.error("User is not authenticated.")},_n=async B=>{const{active:G,over:Z}=B;if(f(!1),G.id&&(Z!=null&&Z.id)){const ie=Ve.currentUser;if(ie){const ge=g.findIndex(we=>we.id===G.id),se=g.findIndex(we=>we.id===Z.id);if(ge!==-1&&se!==-1){const we=Ph(g,ge,se);try{m(we);const ve=we.map((Be,H)=>Ke(me(de,`users/${ie.uid}/Boards/${x.id}/Lists`,Be.id),{order:H,title:Be.title})),Se=k.map(Be=>we.map((H,le)=>Ke(me(de,`users/${Be.id}/Boards/${x.id}/Lists`,H.id),{order:le,title:H.title}))).flat();await Promise.all([...ve,...Se])}catch(ve){console.error("Error updating cards:",ve)}}}else console.error("User is not authenticated")}},J=hk(Rd(B0,{activationConstraint:{delay:100,tolerance:5}}),Rd(U0,{activationConstraint:{delay:100,tolerance:5}}));return P.jsxs("div",{children:[R&&P.jsxs("div",{className:"flex h-screen w-screen overflow-hidden flex-col justify-center items-center gap-6 p-4 ",children:[P.jsx(dP,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),P.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!R&&P.jsxs("div",{style:he,className:`h-screen max-h-screen overflow-hidden flex flex-col box-border ${D} `,children:[a&&P.jsx("div",{ref:r,className:" absolute top-[5.3em] left-[2.3%]  mt-1.5 shareMenu z-[1000000] w-72 rounded-2xl  bg-zinc-800   ring-black ring-opacity-5 focus:outline-none",children:P.jsxs("div",{className:"py-1",children:[P.jsxs("button",{onClick:Te,style:{borderColor:y==="private"?"lightblue":""},className:"block  w-full border-2 border-zinc-800 rounded-2xl text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[P.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),P.jsxs("button",{onClick:nt,style:{borderColor:y==="shareable"?"lightblue":""},className:"block border-2 border-zinc-800 w-full text-left px-4 rounded-2xl py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[P.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})}),P.jsx("nav",{className:"bg-gray-400 bg-opacity-55 sm:bg-opacity-50 py-2.5 pl-3.5 pr-2 sm:pr-5 text-md  absolute w-screen items-center top-11",children:P.jsxs("div",{className:"flex justify-between",children:[P.jsxs("div",{className:"flex gap-5",children:[P.jsx("p",{className:"text-white font-bold text-md sm:text-xl cursor-pointer",children:w}),P.jsx("div",{className:"relative inline-block text-left",ref:r,children:P.jsxs("button",{onClick:()=>l(!a),className:"sm:text-lg text-slate-100 text-md px-1.5 flex gap-1 hover:text-gray-900 rounded-md hover:bg-slate-100 items-center",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),P.jsxs("p",{className:"",children:[" ",window.innerWidth>650?"Workspace visible":"Visibility"]})]})})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsxs("div",{onClick:()=>ae(!ee),className:"bg-slate-100 text-zinc-950 flex items-center gap-1 px-1.5 rounded-md hover:bg-slate-200 cursor-pointer",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.4",stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})}),"Share"]}),P.jsx("button",{onClick:()=>{e(!t)},className:" text-zinc-100 flex items-center ml-2  rounded-md hover:text-zinc-300 cursor-pointer",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-7",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})})})]})]})}),P.jsx(lP,{children:t&&P.jsxs(Ou.div,{ref:r,className:"h-full p-4 px-3 top-11 flex flex-col w-60 sm:w-72 fixed z-[10000] right-0 bg-gray-800",initial:"hidden",animate:"visible",exit:"hidden",variants:Y,transition:{duration:.3},children:[P.jsxs("div",{className:"w-full relative flex items-start justify-between ",children:[P.jsx("h1",{className:"text-center text-xl flex-grow text-gray-300 ",children:"Menu"}),P.jsx("button",{onClick:()=>{e(!1)},className:"absolute right-0 top-0 text-slate-300 py-1 px-1 rounded-md text-md hover:bg-gray-800",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("hr",{className:"border-0 border-b bg-gray-300 w-full opacity-35 my-2"}),P.jsx("input",{onChange:dt,value:w,className:"text-xl my-2 p-1.5 px-2 rounded-md text-center w-full border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2 focus:outline-none bg-gray-900 text-slate-300"}),P.jsx("h3",{className:"text-center my-3 text-lg text-gray-300 ",children:"Change Background"}),P.jsx("div",{className:"color max-h-[20vh] sm:max-h-[17vh] mb-4 rounded-md px-3 pt-1 overflow-y-auto bg-gray-900",children:P.jsx("div",{className:"grid grid-cols-2 mt-1 p-1 gap-5",children:V.map((B,G)=>P.jsx("div",{onClick:()=>Q(B.className),className:`py-6 sm:py-7 cursor-pointer rounded-sm ${B.className}`},G))})}),P.jsx("div",{className:"color max-h-[20vh] mt-1 sm:max-h-[17vh] pt-1 rounded-md sm:px-3 px-2 overflow-y-scroll bg-gray-900",children:P.jsx("div",{className:"grid grid-cols-2 mt-1 p-1 gap-5",children:U.map(B=>P.jsx("div",{onClick:()=>{oe(B)},className:"cursor-pointer",children:P.jsx("img",{src:B,loading:"lazy",alt:"Background",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",visibility:"hidden"},onLoad:G=>{const Z=G.target.src.replace("-lowres.jpg",".jpg"),ie=new Image;ie.src=Z,ie.onload=()=>{G.target.src=Z,G.target.style.visibility="visible"}}})},B))})})]})}),ee&&P.jsx("div",{ref:Re,children:P.jsx($4,{visibility:y,id:x.id,Board:A,BoardMember:k})}),P.jsxs("div",{ref:n,className:`ml-6 sm:pl-6 md:ml-0 overflow-x-auto BOARDS  overflow-y-hidden   h-screen max-h-screen over px-3    sm:gap-10  flex gap-12 pt-28  ${u?" ":"BordContainer"}`,children:[P.jsx(Pk,{onDragStart:kt,sensors:J,collisionDetection:fk,onDragEnd:_n,children:P.jsx(Nk,{items:g,strategy:Ak,children:g.map((B,G)=>P.jsx(z4,{BoardId:x.id,item:B,sharedWith:k,lists:g,onDeleteList:re,id:B.id,Dragging:u,ref:Z=>c.current[G]=Z,title:B.title},B.id))})}),!i&&P.jsx("button",{onClick:He,className:"btn p-4 text-md   py-2.5 rounded-lg bg-zinc-800 bg-opacity-50 text-left text-zinc-50 self-start mt-1",children:"+ Add another list"}),i&&P.jsx("div",{className:"bg-black mr-10  btn p-5 px-3 pt-3 rounded-xl h-fit",children:P.jsxs("div",{className:"mt-1",children:[P.jsx("input",{onChange:B=>{h(B.target.value)},type:"text",placeholder:"Enter List name...",className:"text:xl p-1 px-2.5 rounded-md w-full border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-md text-slate-300"}),P.jsxs("div",{className:"mt-3 flex justify-start gap-1.5",children:[P.jsx("button",{onClick:St,className:"bg-blue-600 hover:bg-blue-700 mr-1.5 text-gray-950 py-1 px-2 rounded-md text-m",children:"Add List"}),P.jsx("button",{onClick:Ce,className:" justify-self-end  text-slate-300  py-1 px-1  rounded-md  text-md hover:bg-gray-800",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]})})]})]})]})}var Lu={},hP,fP;Object.defineProperty(Lu,"__esModule",{value:!0});var $a=P,dr=M,Qn=function(){return Qn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qn.apply(this,arguments)};function UB(t,e){var n,r;switch(e.type){case"TYPE":return Qn(Qn({},t),{speed:e.speed,text:(n=e.payload)===null||n===void 0?void 0:n.substring(0,t.text.length+1)});case"DELAY":return Qn(Qn({},t),{speed:e.payload});case"DELETE":return Qn(Qn({},t),{speed:e.speed,text:(r=e.payload)===null||r===void 0?void 0:r.substring(0,t.text.length-1)});case"COUNT":return Qn(Qn({},t),{count:t.count+1});default:return t}}var gb=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,c=t.delaySpeed,u=c===void 0?1500:c,f=t.onLoopDone,p=t.onType,h=t.onDelete,g=t.onDelay,m=dr.useReducer(UB,{speed:o,text:"",count:0}),v=m[0],x=v.speed,w=v.text,_=v.count,R=m[1],E=dr.useRef(0),A=dr.useRef(!1),T=dr.useRef(!1),y=dr.useRef(!1),S=dr.useRef(!1),k=dr.useCallback(function(){var I=_%n.length,D=n[I];T.current?(R({type:"DELETE",payload:D,speed:l}),w===""&&(T.current=!1,R({type:"COUNT"}))):(R({type:"TYPE",payload:D,speed:o}),y.current=!0,w===D&&(R({type:"DELAY",payload:u}),y.current=!1,S.current=!0,setTimeout(function(){S.current=!1,T.current=!0},u),i>0&&(E.current+=1,E.current/n.length===i&&(S.current=!1,A.current=!0)))),y.current&&p&&p(E.current),T.current&&h&&h(),S.current&&g&&g()},[_,u,l,i,o,n,w,p,h,g]);return dr.useEffect(function(){var I=setTimeout(k,x);return A.current&&clearTimeout(I),function(){return clearTimeout(I)}},[k,x]),dr.useEffect(function(){f&&A.current&&f()},[f]),[w,{isType:y.current,isDelay:S.current,isDelete:T.current,isDone:A.current}]},zB="styles-module_blinkingCursor__yugAC",$B="styles-module_blinking__9VXRT";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var vb=dr.memo(function(t){var e=t.cursorBlinking,n=e===void 0||e,r=t.cursorStyle,i=r===void 0?"|":r,s=t.cursorColor,o=s===void 0?"inherit":s;return $a.jsx("span",Qn({style:{color:o},className:"".concat(zB," ").concat(n?$B:"")},{children:i}))});fP=Lu.Cursor=vb,Lu.Typewriter=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,c=t.delaySpeed,u=c===void 0?1500:c,f=t.cursor,p=f!==void 0&&f,h=t.cursorStyle,g=h===void 0?"|":h,m=t.cursorColor,v=m===void 0?"inherit":m,x=t.cursorBlinking,w=x===void 0||x,_=t.onLoopDone,R=t.onType,E=t.onDelay,A=t.onDelete,T=gb({words:n,loop:i,typeSpeed:o,deleteSpeed:l,delaySpeed:u,onLoopDone:_,onType:R,onDelay:E,onDelete:A})[0];return $a.jsxs($a.Fragment,{children:[$a.jsx("span",{children:T}),p&&$a.jsx(vb,{cursorStyle:g,cursorColor:v,cursorBlinking:w})]})},hP=Lu.useTypewriter=gb;function pP(){const t=["./BoardBackground/1.jpg","./BoardBackground/2.jpg","./BoardBackground/3.jpg","./BoardBackground/4.jpg","./BoardBackground/5.jpg","./BoardBackground/6.jpg","./BoardBackground/7.jpg","./BoardBackground/8.jpg","./BoardBackground/9.jpg","./BoardBackground/10.jpg","./BoardBackground/11.jpg","./BoardBackground/12.jpg","./BoardBackground/13.jpg","./BoardBackground/14.jpg","./BoardBackground/15.jpg","./BoardBackground/16.jpg","./BoardBackground/17.jpg","./BoardBackground/18.png","./BoardBackground/19.jpg"],e=Xl(),[n,r]=M.useState(!1),[i,s]=M.useState(""),[o,a]=M.useState(""),[l,c]=M.useState(""),u=M.useRef(null),[f,p]=M.useState("Board Visibility"),h=()=>{r(!n)},g=E=>{u.current&&!u.current.contains(E.target)&&r(!1)};M.useEffect(()=>(document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}),[]);const m=n?{borderColor:"lightblue"}:{},v=E=>{w==="Make sure you fill the board title"&&_(""),c(E.target.value)},x=i===""?{backgroundImage:`url('${o}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},[w,_]=M.useState(""),R=async()=>{if(l==="")_("Make sure you fill the board title");else if(i===""&&o==="")_("Make sure you choose a background or images");else if(f==="Board Visibility")_("Make sure you choose a visibility option");else{const E=Ve.currentUser;if(E)try{const A=me(de,`users/${E.uid}`),T=await rc(A);let y="",S={};if(T.exists()){const F=T.data();y=F.name,S=F.avatar}const k=new Date().getTime().toString(),I=me(de,`users/${E.uid}/Boards`,k),N={id:k,title:l,background:i,backgroundImage:o,boardVisibility:f==="Shareable Board"?"shareable":"private",sharedWith:[{id:E.uid,email:E.email,name:y,avatar:S}]};await Jn(I,N),e(`/Board/${k}`,{state:N})}catch(A){console.log(A)}else alert("Please Sign In First")}};return P.jsxs("div",{className:"flex  items-center z-10 sm:mt-10  w-screen h-screen px-7  flex-col justify-start ",children:[P.jsx("img",{draggable:!1,style:x,src:"https://trello.com/assets/14cda5dc635d1f13bc48.svg",className:`w-[50%] p-1 px-2 max-w-[210px] mb-5 mt-[-27%]  select-none sm:mt-[-50px] ${i}`}),P.jsxs("div",{className:"flex w-[80%] max-w-[470px] justify-center gap-4 md:gap-10 items-center ",children:[P.jsxs("div",{className:"main",children:[P.jsx("input",{onChange:E=>{v(E)},required:!0,type:"text",className:"input"}),P.jsxs("label",{children:[P.jsx("span",{style:{transitionDelay:"0ms",left:"10px"},children:"B"}),P.jsx("span",{style:{transitionDelay:"75ms",left:"27px"},children:"o"}),P.jsx("span",{style:{transitionDelay:"150ms",left:"42px"},children:"a"}),P.jsx("span",{style:{transitionDelay:"225ms",left:"57px"},children:"r"}),P.jsx("span",{style:{transitionDelay:"300ms",left:"66px"},children:"d"}),P.jsx("span",{style:{transitionDelay:"375ms",left:"88px"},children:"T"}),P.jsx("span",{style:{transitionDelay:"450ms",left:"104px"},children:"i"}),P.jsx("span",{style:{transitionDelay:"525ms",left:"111px"},children:"t"}),P.jsx("span",{style:{transitionDelay:"600ms",left:"120px"},children:"l"}),P.jsx("span",{style:{transitionDelay:"675ms",left:"127px"},children:"e"}),P.jsx("p",{className:" absolute left-[18px]  top-[4px] text-2xl m-2 text-gray-300 transition duration-500 cursor-pointer pointer-events-none",children:"Board Title"})]})]}),P.jsx("div",{children:P.jsxs("div",{className:"relative inline-block text-left text-slate-300",ref:u,children:[P.jsx("button",{onClick:h,className:"button2  ${boardVisibility==='Board Visibility",style:m,children:f}),n&&P.jsx("div",{className:"origin-top-right absolute right-[-10%] sm:right-[-15%]  mt-2 z-[1000] w-72 rounded-2xl shadow-lg bg-zinc-800  ring-1 ring-black ring-opacity-5 focus:outline-none",children:P.jsxs("div",{className:"py-1",children:[P.jsxs("button",{style:{borderColor:f==="Private Board"?"lightblue":""},onClick:()=>{p("Private Board")},className:"block w-full border-2 border-zinc-800 text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[P.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),P.jsxs("button",{style:{borderColor:f==="Shareable Board"?"lightblue":""},onClick:()=>{p("Shareable Board")},className:"block border-2 border-zinc-800 w-full text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[P.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})})]})})]}),P.jsxs("div",{className:" self-center ",children:[P.jsx("h1",{className:"text-xl mt-4 mb-1 opacity-90 text-gray-300  text-center",children:"Background"}),P.jsx("div",{className:"color max-h-[20vh] sm:max-h-[17vh] mb-4 rounded-md px-3 overflow-y-auto  bg-neutral-800",children:P.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:[P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-blue-500"),w==="Make sure you choose a background and images"&&_("")},className:"cursor-pointer bg-gradient-to-r from-teal-400 to-blue-500 py-6 sm:py-7  rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r cursor-pointer from-blue-800 to-blue-400 py-6 sm:py-7rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-500 to-pink-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-purple-500 to-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-400 to-blue-300"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-purple-400 to-blue-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-orange-400 to-yellow-300"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-orange-400 to-yellow-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-pink-400 to-pink-200"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-pink-400 to-pink-200 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-green-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-teal-400 to-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-blue-800 to-blue-400 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-red-800 to-brown-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gradient-to-r from-red-800 to-brown-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-blue-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-blue-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-orange-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-orange-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-green-50"),w==="Make sure you choose a background and images"&&_("")},className:"bg-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-red-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-red-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-purple-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-purple-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-pink-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm",children:"   "}),P.jsx("div",{onClick:()=>{s("bg-green-300"),w==="Make sure you choose a background and images"&&_("")},className:"bg-green-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-cyan-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-cyan-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),P.jsx("div",{onClick:()=>{s("bg-gray-500"),w==="Make sure you choose a background and images"&&_("")},className:"bg-gray-500 py-6 sm:py-7 cursor-pointer rounded-sm"})]})}),P.jsx("div",{className:"color max-h-[20vh]  sm:max-h-[17vh]  rounded-md sm:px-3 px-2 overflow-y-scroll  bg-neutral-800",children:P.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:t.map(E=>{const{ref:A,inView:T}=FB({threshold:.1});return P.jsx("div",{ref:A,style:{backgroundImage:T?`url('${E}')`:"none",backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"},onClick:()=>{s(""),a(E),w==="Make sure you choose a background and images"&&_("")},className:"border-gray-100 cursor-pointer text-opacity-0 bg-black p-4 py-3 sm:py-4 px-5 sm:px-6 select-none rounded-sm",children:"Board"},E)})})}),P.jsx("div",{className:"flex items-center   justify-center",children:P.jsx("button",{onClick:R,type:"submit",className:"bg-blue-600 hover:bg-blue-500 text-gray-100  mb-1 py-1.5 px-20 mt-[6%] sm:mt-8 rounded-lg  text-md",children:"Create"})}),P.jsx("div",{className:"text-red-600 text-sm text-center",children:w})]})]})}function mP(t){const e=Xl(),[n,r]=M.useState(!1),i=M.useRef();M.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(r(!0),a.disconnect())},{threshold:.1});return i.current&&a.observe(i.current),()=>{i.current&&a.unobserve(i.current)}},[i]);const s=n&&t.backgroundImage?{backgroundImage:`url('${t.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},o=()=>{e(`/Board/${t.id}`,{state:t})};return P.jsx("div",{ref:i,style:s,onClick:o,className:`p-5 h-[70px]  w-[130px] hover:opacity-85 cursor-pointer rounded-sm ${t.background}`,children:P.jsx("h2",{className:"text-zinc-950 font-bold text-lg truncate whitespace-nowrap overflow-hidden",children:t.title})})}function WB(){const[t,e]=M.useState([]);M.useEffect(()=>{const i=Is(Ve,s=>{s?(async()=>{const a=ta(de,`users/${s.uid}/Boards`),c=(await ra(a)).docs.map(u=>({id:u.id,data:u.data()})).filter(u=>u.data.boardVisibility==="private");e(c)})().catch(a=>console.error("Error fetching lists:",a)):e([])});return()=>i()},[]);const[n,r]=M.useState(!1);return P.jsxs("div",{children:[n&&P.jsx("button",{onClick:()=>{r(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:""}),!n&&P.jsxs("div",{children:[P.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Your Boards"}),P.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 overflow-y-auto max-h-[65vh] shadow-sm",children:[t.map(i=>P.jsx(mP,{id:i.id,title:i.data.title,background:i.data.background,backgroundImage:i.data.backgroundImage,boardVisibility:i.data.boardVisibility},i.id)),P.jsx("div",{onClick:()=>{r(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:P.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),n&&P.jsx(pP,{})]})}function HB(){const[t,e]=M.useState(!1),[n,r]=M.useState([]);M.useEffect(()=>{const o=Is(Ve,a=>{a?(async()=>{e(!0);const c=ta(de,`users/${a.uid}/Boards`),f=(await ra(c)).docs.map(p=>({id:p.id,data:p.data()})).filter(p=>p.data.boardVisibility==="shareable");r(f)})().catch(c=>console.error("Error fetching lists:",c)):r([])});return()=>o()},[]);const[i,s]=M.useState(!1);return P.jsxs("div",{children:[i&&P.jsx("button",{onClick:()=>{s(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:""}),!i&&P.jsxs("div",{children:[P.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Shared Boards"}),P.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 max-h-[62vh] shadow-sm",children:[n.map(o=>P.jsx(mP,{id:o.id,title:o.data.title,background:o.data.background,backgroundImage:o.data.backgroundImage,boardVisibility:o.data.boardVisibility},o.id)),P.jsx("div",{onClick:()=>{s(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:P.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),i&&P.jsx(pP,{})]})}var gP={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(t,e){(function(r,i){t.exports=i()})(Zh,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=20)}([function(n,r){var i={};n.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(o,a){var l,c;typeof a=="boolean"?(l=2,c=a):(l=1,c=!0);for(var u=l;u<arguments.length;u++){var f=arguments[u];if(f)for(var p in f)c&&f[p]&&f[p].constructor===Object&&(!o[p]||o[p].constructor===Object)?(o[p]=o[p]||{},i.extend(o[p],c,f[p])):o[p]=f[p]}return o},i.clone=function(o,a){return i.extend({},a,o)},i.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var l in o)a.push(l);return a},i.values=function(o){var a=[];if(Object.keys){for(var l=Object.keys(o),c=0;c<l.length;c++)a.push(o[l[c]]);return a}for(var u in o)a.push(o[u]);return a},i.get=function(o,a,l,c){a=a.split(".").slice(l,c);for(var u=0;u<a.length;u+=1)o=o[a[u]];return o},i.set=function(o,a,l,c,u){var f=a.split(".").slice(c,u);return i.get(o,a,0,-1)[f[f.length-1]]=l,l},i.shuffle=function(o){for(var a=o.length-1;a>0;a--){var l=Math.floor(i.random()*(a+1)),c=o[a];o[a]=o[l],o[l]=c}return o},i.choose=function(o){return o[Math.floor(i.random()*o.length)]},i.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},i.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},i.isFunction=function(o){return typeof o=="function"},i.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},i.isString=function(o){return toString.call(o)==="[object String]"},i.clamp=function(o,a,l){return o<a?a:o>l?l:o},i.sign=function(o){return o<0?-1:1},i.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+s()*(a-o)};var s=function(){return i._seed=(i._seed*9301+49297)%233280,i._seed/233280};i.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[o]||(i.warn(o),i._warnedOnce[o]=!0)},i.deprecated=function(o,a,l){o[a]=i.chain(function(){i.warnOnce(" deprecated ",l)},o[a])},i.nextId=function(){return i._nextId++},i.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var l=0;l<o.length;l++)if(o[l]===a)return l;return-1},i.map=function(o,a){if(o.map)return o.map(a);for(var l=[],c=0;c<o.length;c+=1)l.push(a(o[c]));return l},i.topologicalSort=function(o){var a=[],l=[],c=[];for(var u in o)!l[u]&&!c[u]&&i._topologicalSort(u,l,c,o,a);return a},i._topologicalSort=function(o,a,l,c,u){var f=c[o]||[];l[o]=!0;for(var p=0;p<f.length;p+=1){var h=f[p];l[h]||a[h]||i._topologicalSort(h,a,l,c,u)}l[o]=!1,a[o]=!0,u.push(o)},i.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var l=arguments[a];l._chained?o.push.apply(o,l._chained):o.push(l)}var c=function(){for(var u,f=new Array(arguments.length),p=0,h=arguments.length;p<h;p++)f[p]=arguments[p];for(p=0;p<o.length;p+=1){var g=o[p].apply(u,f);typeof g<"u"&&(u=g)}return u};return c._chained=o,c},i.chainPathBefore=function(o,a,l){return i.set(o,a,i.chain(l,i.get(o,a)))},i.chainPathAfter=function(o,a,l){return i.set(o,a,i.chain(i.get(o,a),l))},i.setDecomp=function(o){i._decomp=o},i.getDecomp=function(){var o=i._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof Zh<"u"&&(o=Zh.decomp)}catch{o=null}return o}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&i.update(o,s),o},i.update=function(s,o,a){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var l=0;l<o.length;l++){var c=o[l];c.x>s.max.x&&(s.max.x=c.x),c.x<s.min.x&&(s.min.x=c.x),c.y>s.max.y&&(s.max.y=c.y),c.y<s.min.y&&(s.min.y=c.y)}a&&(a.x>0?s.max.x+=a.x:s.min.x+=a.x,a.y>0?s.max.y+=a.y:s.min.y+=a.y)},i.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},i.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},i.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},i.shift=function(s,o){var a=s.max.x-s.min.x,l=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+a,s.min.y=o.y,s.max.y=o.y+l}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s,o){return{x:s||0,y:o||0}},i.clone=function(s){return{x:s.x,y:s.y}},i.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},i.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},i.rotate=function(s,o,a){var l=Math.cos(o),c=Math.sin(o);a||(a={});var u=s.x*l-s.y*c;return a.y=s.x*c+s.y*l,a.x=u,a},i.rotateAbout=function(s,o,a,l){var c=Math.cos(o),u=Math.sin(o);l||(l={});var f=a.x+((s.x-a.x)*c-(s.y-a.y)*u);return l.y=a.y+((s.x-a.x)*u+(s.y-a.y)*c),l.x=f,l},i.normalise=function(s){var o=i.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},i.dot=function(s,o){return s.x*o.x+s.y*o.y},i.cross=function(s,o){return s.x*o.y-s.y*o.x},i.cross3=function(s,o,a){return(o.x-s.x)*(a.y-s.y)-(o.y-s.y)*(a.x-s.x)},i.add=function(s,o,a){return a||(a={}),a.x=s.x+o.x,a.y=s.y+o.y,a},i.sub=function(s,o,a){return a||(a={}),a.x=s.x-o.x,a.y=s.y-o.y,a},i.mult=function(s,o){return{x:s.x*o,y:s.y*o}},i.div=function(s,o){return{x:s.x/o,y:s.y/o}},i.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},i.neg=function(s){return{x:-s.x,y:-s.y}},i.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.create=function(l,c){for(var u=[],f=0;f<l.length;f++){var p=l[f],h={x:p.x,y:p.y,index:f,body:c,isInternal:!1};u.push(h)}return u},s.fromPath=function(l,c){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(u,function(p,h,g){f.push({x:parseFloat(h),y:parseFloat(g)})}),s.create(f,c)},s.centre=function(l){for(var c=s.area(l,!0),u={x:0,y:0},f,p,h,g=0;g<l.length;g++)h=(g+1)%l.length,f=o.cross(l[g],l[h]),p=o.mult(o.add(l[g],l[h]),f),u=o.add(u,p);return o.div(u,6*c)},s.mean=function(l){for(var c={x:0,y:0},u=0;u<l.length;u++)c.x+=l[u].x,c.y+=l[u].y;return o.div(c,l.length)},s.area=function(l,c){for(var u=0,f=l.length-1,p=0;p<l.length;p++)u+=(l[f].x-l[p].x)*(l[f].y+l[p].y),f=p;return c?u/2:Math.abs(u)/2},s.inertia=function(l,c){for(var u=0,f=0,p=l,h,g,m=0;m<p.length;m++)g=(m+1)%p.length,h=Math.abs(o.cross(p[g],p[m])),u+=h*(o.dot(p[g],p[g])+o.dot(p[g],p[m])+o.dot(p[m],p[m])),f+=h;return c/6*(u/f)},s.translate=function(l,c,u){u=typeof u<"u"?u:1;var f=l.length,p=c.x*u,h=c.y*u,g;for(g=0;g<f;g++)l[g].x+=p,l[g].y+=h;return l},s.rotate=function(l,c,u){if(c!==0){var f=Math.cos(c),p=Math.sin(c),h=u.x,g=u.y,m=l.length,v,x,w,_;for(_=0;_<m;_++)v=l[_],x=v.x-h,w=v.y-g,v.x=h+(x*f-w*p),v.y=g+(x*p+w*f);return l}},s.contains=function(l,c){for(var u=c.x,f=c.y,p=l.length,h=l[p-1],g,m=0;m<p;m++){if(g=l[m],(u-h.x)*(g.y-h.y)+(f-h.y)*(h.x-g.x)>0)return!1;h=g}return!0},s.scale=function(l,c,u,f){if(c===1&&u===1)return l;f=f||s.centre(l);for(var p,h,g=0;g<l.length;g++)p=l[g],h=o.sub(p,f),l[g].x=f.x+h.x*c,l[g].y=f.y+h.y*u;return l},s.chamfer=function(l,c,u,f,p){typeof c=="number"?c=[c]:c=c||[8],u=typeof u<"u"?u:-1,f=f||2,p=p||14;for(var h=[],g=0;g<l.length;g++){var m=l[g-1>=0?g-1:l.length-1],v=l[g],x=l[(g+1)%l.length],w=c[g<c.length?g:c.length-1];if(w===0){h.push(v);continue}var _=o.normalise({x:v.y-m.y,y:m.x-v.x}),R=o.normalise({x:x.y-v.y,y:v.x-x.x}),E=Math.sqrt(2*Math.pow(w,2)),A=o.mult(a.clone(_),w),T=o.normalise(o.mult(o.add(_,R),.5)),y=o.sub(v,o.mult(T,E)),S=u;u===-1&&(S=Math.pow(w,.32)*1.75),S=a.clamp(S,f,p),S%2===1&&(S+=1);for(var k=Math.acos(o.dot(_,R)),I=k/S,D=0;D<S;D++)h.push(o.add(o.rotate(A,I*D),y))}return h},s.clockwiseSort=function(l){var c=s.mean(l);return l.sort(function(u,f){return o.angle(c,u)-o.angle(c,f)}),l},s.isConvex=function(l){var c=0,u=l.length,f,p,h,g;if(u<3)return null;for(f=0;f<u;f++)if(p=(f+1)%u,h=(f+2)%u,g=(l[p].x-l[f].x)*(l[h].y-l[p].y),g-=(l[p].y-l[f].y)*(l[h].x-l[p].x),g<0?c|=1:g>0&&(c|=2),c===3)return!1;return c!==0?!0:null},s.hull=function(l){var c=[],u=[],f,p;for(l=l.slice(0),l.sort(function(h,g){var m=h.x-g.x;return m!==0?m:h.y-g.y}),p=0;p<l.length;p+=1){for(f=l[p];u.length>=2&&o.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}for(p=l.length-1;p>=0;p-=1){for(f=l[p];c.length>=2&&o.cross3(c[c.length-2],c[c.length-1],f)<=0;)c.pop();c.push(f)}return c.pop(),u.pop(),c.concat(u)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),c=i(0),u=i(1),f=i(11);(function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(h){var g={id:c.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},m=c.extend(g,h);return p(m,h),m},s.nextGroup=function(h){return h?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var p=function(h,g){g=g||{},s.set(h,{bounds:h.bounds||u.create(h.vertices),positionPrev:h.positionPrev||a.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),o.rotate(h.vertices,h.angle,h.position),f.rotate(h.axes,h.angle),u.update(h.bounds,h.vertices,h.velocity),s.set(h,{axes:g.axes||h.axes,area:g.area||h.area,mass:g.mass||h.mass,inertia:g.inertia||h.inertia});var m=h.isStatic?"#14151f":c.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=h.isStatic?"#555":"#ccc",x=h.isStatic&&h.render.fillStyle===null?1:0;h.render.fillStyle=h.render.fillStyle||m,h.render.strokeStyle=h.render.strokeStyle||v,h.render.lineWidth=h.render.lineWidth||x,h.render.sprite.xOffset+=-(h.bounds.min.x-h.position.x)/(h.bounds.max.x-h.bounds.min.x),h.render.sprite.yOffset+=-(h.bounds.min.y-h.position.y)/(h.bounds.max.y-h.bounds.min.y)};s.set=function(h,g,m){var v;typeof g=="string"&&(v=g,g={},g[v]=m);for(v in g)if(Object.prototype.hasOwnProperty.call(g,v))switch(m=g[v],v){case"isStatic":s.setStatic(h,m);break;case"isSleeping":l.set(h,m);break;case"mass":s.setMass(h,m);break;case"density":s.setDensity(h,m);break;case"inertia":s.setInertia(h,m);break;case"vertices":s.setVertices(h,m);break;case"position":s.setPosition(h,m);break;case"angle":s.setAngle(h,m);break;case"velocity":s.setVelocity(h,m);break;case"angularVelocity":s.setAngularVelocity(h,m);break;case"speed":s.setSpeed(h,m);break;case"angularSpeed":s.setAngularSpeed(h,m);break;case"parts":s.setParts(h,m);break;case"centre":s.setCentre(h,m);break;default:h[v]=m}},s.setStatic=function(h,g){for(var m=0;m<h.parts.length;m++){var v=h.parts[m];g?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=g}},s.setMass=function(h,g){var m=h.inertia/(h.mass/6);h.inertia=m*(g/6),h.inverseInertia=1/h.inertia,h.mass=g,h.inverseMass=1/h.mass,h.density=h.mass/h.area},s.setDensity=function(h,g){s.setMass(h,g*h.area),h.density=g},s.setInertia=function(h,g){h.inertia=g,h.inverseInertia=1/h.inertia},s.setVertices=function(h,g){g[0].body===h?h.vertices=g:h.vertices=o.create(g,h),h.axes=f.fromVertices(h.vertices),h.area=o.area(h.vertices),s.setMass(h,h.density*h.area);var m=o.centre(h.vertices);o.translate(h.vertices,m,-1),s.setInertia(h,s._inertiaScale*o.inertia(h.vertices,h.mass)),o.translate(h.vertices,h.position),u.update(h.bounds,h.vertices,h.velocity)},s.setParts=function(h,g,m){var v;for(g=g.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,v=0;v<g.length;v++){var x=g[v];x!==h&&(x.parent=h,h.parts.push(x))}if(h.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var w=[];for(v=0;v<g.length;v++)w=w.concat(g[v].vertices);o.clockwiseSort(w);var _=o.hull(w),R=o.centre(_);s.setVertices(h,_),o.translate(h.vertices,R)}var E=s._totalProperties(h);h.area=E.area,h.parent=h,h.position.x=E.centre.x,h.position.y=E.centre.y,h.positionPrev.x=E.centre.x,h.positionPrev.y=E.centre.y,s.setMass(h,E.mass),s.setInertia(h,E.inertia),s.setPosition(h,E.centre)}},s.setCentre=function(h,g,m){m?(h.positionPrev.x+=g.x,h.positionPrev.y+=g.y,h.position.x+=g.x,h.position.y+=g.y):(h.positionPrev.x=g.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=g.y-(h.position.y-h.positionPrev.y),h.position.x=g.x,h.position.y=g.y)},s.setPosition=function(h,g,m){var v=a.sub(g,h.position);m?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=v.x,h.velocity.y=v.y,h.speed=a.magnitude(v)):(h.positionPrev.x+=v.x,h.positionPrev.y+=v.y);for(var x=0;x<h.parts.length;x++){var w=h.parts[x];w.position.x+=v.x,w.position.y+=v.y,o.translate(w.vertices,v),u.update(w.bounds,w.vertices,h.velocity)}},s.setAngle=function(h,g,m){var v=g-h.angle;m?(h.anglePrev=h.angle,h.angularVelocity=v,h.angularSpeed=Math.abs(v)):h.anglePrev+=v;for(var x=0;x<h.parts.length;x++){var w=h.parts[x];w.angle+=v,o.rotate(w.vertices,v,h.position),f.rotate(w.axes,v),u.update(w.bounds,w.vertices,h.velocity),x>0&&a.rotateAbout(w.position,v,h.position,w.position)}},s.setVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.positionPrev.x=h.position.x-g.x*m,h.positionPrev.y=h.position.y-g.y*m,h.velocity.x=(h.position.x-h.positionPrev.x)/m,h.velocity.y=(h.position.y-h.positionPrev.y)/m,h.speed=a.magnitude(h.velocity)},s.getVelocity=function(h){var g=s._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*g,y:(h.position.y-h.positionPrev.y)*g}},s.getSpeed=function(h){return a.magnitude(s.getVelocity(h))},s.setSpeed=function(h,g){s.setVelocity(h,a.mult(a.normalise(s.getVelocity(h)),g))},s.setAngularVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.anglePrev=h.angle-g*m,h.angularVelocity=(h.angle-h.anglePrev)/m,h.angularSpeed=Math.abs(h.angularVelocity)},s.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*s._baseDelta/h.deltaTime},s.getAngularSpeed=function(h){return Math.abs(s.getAngularVelocity(h))},s.setAngularSpeed=function(h,g){s.setAngularVelocity(h,c.sign(s.getAngularVelocity(h))*g)},s.translate=function(h,g,m){s.setPosition(h,a.add(h.position,g),m)},s.rotate=function(h,g,m,v){if(!m)s.setAngle(h,h.angle+g,v);else{var x=Math.cos(g),w=Math.sin(g),_=h.position.x-m.x,R=h.position.y-m.y;s.setPosition(h,{x:m.x+(_*x-R*w),y:m.y+(_*w+R*x)},v),s.setAngle(h,h.angle+g,v)}},s.scale=function(h,g,m,v){var x=0,w=0;v=v||h.position;for(var _=0;_<h.parts.length;_++){var R=h.parts[_];o.scale(R.vertices,g,m,v),R.axes=f.fromVertices(R.vertices),R.area=o.area(R.vertices),s.setMass(R,h.density*R.area),o.translate(R.vertices,{x:-R.position.x,y:-R.position.y}),s.setInertia(R,s._inertiaScale*o.inertia(R.vertices,R.mass)),o.translate(R.vertices,{x:R.position.x,y:R.position.y}),_>0&&(x+=R.area,w+=R.inertia),R.position.x=v.x+(R.position.x-v.x)*g,R.position.y=v.y+(R.position.y-v.y)*m,u.update(R.bounds,R.vertices,h.velocity)}h.parts.length>1&&(h.area=x,h.isStatic||(s.setMass(h,h.density*x),s.setInertia(h,w))),h.circleRadius&&(g===m?h.circleRadius*=g:h.circleRadius=null)},s.update=function(h,g){g=(typeof g<"u"?g:1e3/60)*h.timeScale;var m=g*g,v=s._timeCorrection?g/(h.deltaTime||g):1,x=1-h.frictionAir*(g/c._baseDelta),w=(h.position.x-h.positionPrev.x)*v,_=(h.position.y-h.positionPrev.y)*v;h.velocity.x=w*x+h.force.x/h.mass*m,h.velocity.y=_*x+h.force.y/h.mass*m,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=g,h.angularVelocity=(h.angle-h.anglePrev)*x*v+h.torque/h.inertia*m,h.anglePrev=h.angle,h.angle+=h.angularVelocity;for(var R=0;R<h.parts.length;R++){var E=h.parts[R];o.translate(E.vertices,h.velocity),R>0&&(E.position.x+=h.velocity.x,E.position.y+=h.velocity.y),h.angularVelocity!==0&&(o.rotate(E.vertices,h.angularVelocity,h.position),f.rotate(E.axes,h.angularVelocity),R>0&&a.rotateAbout(E.position,h.angularVelocity,h.position,E.position)),u.update(E.bounds,E.vertices,h.velocity)}},s.updateVelocities=function(h){var g=s._baseDelta/h.deltaTime,m=h.velocity;m.x=(h.position.x-h.positionPrev.x)*g,m.y=(h.position.y-h.positionPrev.y)*g,h.speed=Math.sqrt(m.x*m.x+m.y*m.y),h.angularVelocity=(h.angle-h.anglePrev)*g,h.angularSpeed=Math.abs(h.angularVelocity)},s.applyForce=function(h,g,m){var v={x:g.x-h.position.x,y:g.y-h.position.y};h.force.x+=m.x,h.force.y+=m.y,h.torque+=v.x*m.y-v.y*m.x},s._totalProperties=function(h){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=h.parts.length===1?0:1;m<h.parts.length;m++){var v=h.parts[m],x=v.mass!==1/0?v.mass:1;g.mass+=x,g.area+=v.area,g.inertia+=v.inertia,g.centre=a.add(g.centre,a.mult(v.position,x))}return g.centre=a.div(g.centre,g.mass),g}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.on=function(a,l,c){for(var u=l.split(" "),f,p=0;p<u.length;p++)f=u[p],a.events=a.events||{},a.events[f]=a.events[f]||[],a.events[f].push(c);return c},s.off=function(a,l,c){if(!l){a.events={};return}typeof l=="function"&&(c=l,l=o.keys(a.events).join(" "));for(var u=l.split(" "),f=0;f<u.length;f++){var p=a.events[u[f]],h=[];if(c&&p)for(var g=0;g<p.length;g++)p[g]!==c&&h.push(p[g]);a.events[u[f]]=h}},s.trigger=function(a,l,c){var u,f,p,h,g=a.events;if(g&&o.keys(g).length>0){c||(c={}),u=l.split(" ");for(var m=0;m<u.length;m++)if(f=u[m],p=g[f],p){h=o.clone(c,!1),h.name=f,h.source=a;for(var v=0;v<p.length;v++)p[v].apply(a,[h])}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(0),l=i(1),c=i(4);(function(){s.create=function(u){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},s.setModified=function(u,f,p,h){if(u.isModified=f,f&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),p&&u.parent&&s.setModified(u.parent,f,p,h),h)for(var g=0;g<u.composites.length;g++){var m=u.composites[g];s.setModified(m,f,p,h)}},s.add=function(u,f){var p=[].concat(f);o.trigger(u,"beforeAdd",{object:f});for(var h=0;h<p.length;h++){var g=p[h];switch(g.type){case"body":if(g.parent!==g){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(u,g);break;case"constraint":s.addConstraint(u,g);break;case"composite":s.addComposite(u,g);break;case"mouseConstraint":s.addConstraint(u,g.constraint);break}}return o.trigger(u,"afterAdd",{object:f}),u},s.remove=function(u,f,p){var h=[].concat(f);o.trigger(u,"beforeRemove",{object:f});for(var g=0;g<h.length;g++){var m=h[g];switch(m.type){case"body":s.removeBody(u,m,p);break;case"constraint":s.removeConstraint(u,m,p);break;case"composite":s.removeComposite(u,m,p);break;case"mouseConstraint":s.removeConstraint(u,m.constraint);break}}return o.trigger(u,"afterRemove",{object:f}),u},s.addComposite=function(u,f){return u.composites.push(f),f.parent=u,s.setModified(u,!0,!0,!1),u},s.removeComposite=function(u,f,p){var h=a.indexOf(u.composites,f);if(h!==-1){var g=s.allBodies(f);s.removeCompositeAt(u,h);for(var m=0;m<g.length;m++)g[m].sleepCounter=0}if(p)for(var m=0;m<u.composites.length;m++)s.removeComposite(u.composites[m],f,!0);return u},s.removeCompositeAt=function(u,f){return u.composites.splice(f,1),s.setModified(u,!0,!0,!1),u},s.addBody=function(u,f){return u.bodies.push(f),s.setModified(u,!0,!0,!1),u},s.removeBody=function(u,f,p){var h=a.indexOf(u.bodies,f);if(h!==-1&&(s.removeBodyAt(u,h),f.sleepCounter=0),p)for(var g=0;g<u.composites.length;g++)s.removeBody(u.composites[g],f,!0);return u},s.removeBodyAt=function(u,f){return u.bodies.splice(f,1),s.setModified(u,!0,!0,!1),u},s.addConstraint=function(u,f){return u.constraints.push(f),s.setModified(u,!0,!0,!1),u},s.removeConstraint=function(u,f,p){var h=a.indexOf(u.constraints,f);if(h!==-1&&s.removeConstraintAt(u,h),p)for(var g=0;g<u.composites.length;g++)s.removeConstraint(u.composites[g],f,!0);return u},s.removeConstraintAt=function(u,f){return u.constraints.splice(f,1),s.setModified(u,!0,!0,!1),u},s.clear=function(u,f,p){if(p)for(var h=0;h<u.composites.length;h++)s.clear(u.composites[h],f,!0);return f?u.bodies=u.bodies.filter(function(g){return g.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,s.setModified(u,!0,!0,!1),u},s.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var f=[].concat(u.bodies),p=0;p<u.composites.length;p++)f=f.concat(s.allBodies(u.composites[p]));return u.cache&&(u.cache.allBodies=f),f},s.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var f=[].concat(u.constraints),p=0;p<u.composites.length;p++)f=f.concat(s.allConstraints(u.composites[p]));return u.cache&&(u.cache.allConstraints=f),f},s.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var f=[].concat(u.composites),p=0;p<u.composites.length;p++)f=f.concat(s.allComposites(u.composites[p]));return u.cache&&(u.cache.allComposites=f),f},s.get=function(u,f,p){var h,g;switch(p){case"body":h=s.allBodies(u);break;case"constraint":h=s.allConstraints(u);break;case"composite":h=s.allComposites(u).concat(u);break}return h?(g=h.filter(function(m){return m.id.toString()===f.toString()}),g.length===0?null:g[0]):null},s.move=function(u,f,p){return s.remove(u,f),s.add(p,f),u},s.rebase=function(u){for(var f=s.allBodies(u).concat(s.allConstraints(u)).concat(s.allComposites(u)),p=0;p<f.length;p++)f[p].id=a.nextId();return u},s.translate=function(u,f,p){for(var h=p?s.allBodies(u):u.bodies,g=0;g<h.length;g++)c.translate(h[g],f);return u},s.rotate=function(u,f,p,h){for(var g=Math.cos(f),m=Math.sin(f),v=h?s.allBodies(u):u.bodies,x=0;x<v.length;x++){var w=v[x],_=w.position.x-p.x,R=w.position.y-p.y;c.setPosition(w,{x:p.x+(_*g-R*m),y:p.y+(_*m+R*g)}),c.rotate(w,f)}return u},s.scale=function(u,f,p,h,g){for(var m=g?s.allBodies(u):u.bodies,v=0;v<m.length;v++){var x=m[v],w=x.position.x-h.x,_=x.position.y-h.y;c.setPosition(x,{x:h.x+w*f,y:h.y+_*p}),c.scale(x,f,p)}return u},s.bounds=function(u){for(var f=s.allBodies(u),p=[],h=0;h<f.length;h+=1){var g=f[h];p.push(g.bounds.min,g.bounds.max)}return l.create(p)}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(5),l=i(0);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(c,u){for(var f=u/l._baseDelta,p=s._motionSleepThreshold,h=0;h<c.length;h++){var g=c[h],m=o.getSpeed(g),v=o.getAngularSpeed(g),x=m*m+v*v;if(g.force.x!==0||g.force.y!==0){s.set(g,!1);continue}var w=Math.min(g.motion,x),_=Math.max(g.motion,x);g.motion=s._minBias*w+(1-s._minBias)*_,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/f&&s.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},s.afterCollisions=function(c){for(var u=s._motionSleepThreshold,f=0;f<c.length;f++){var p=c[f];if(p.isActive){var h=p.collision,g=h.bodyA.parent,m=h.bodyB.parent;if(!(g.isSleeping&&m.isSleeping||g.isStatic||m.isStatic)&&(g.isSleeping||m.isSleeping)){var v=g.isSleeping&&!g.isStatic?g:m,x=v===g?m:g;!v.isStatic&&x.motion>u&&s.set(v,!1)}}}},s.set=function(c,u){var f=c.isSleeping;u?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,f||a.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,f&&a.trigger(c,"sleepEnd"))}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(9);(function(){var l=[],c={overlap:0,axis:null},u={overlap:0,axis:null};s.create=function(f,p){return{pair:null,collided:!1,bodyA:f,bodyB:p,parentA:f.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(f,p,h){if(s._overlapAxes(c,f.vertices,p.vertices,f.axes),c.overlap<=0||(s._overlapAxes(u,p.vertices,f.vertices,p.axes),u.overlap<=0))return null;var g=h&&h.table[a.id(f,p)],m;g?m=g.collision:(m=s.create(f,p),m.collided=!0,m.bodyA=f.id<p.id?f:p,m.bodyB=f.id<p.id?p:f,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),f=m.bodyA,p=m.bodyB;var v;c.overlap<u.overlap?v=c:v=u;var x=m.normal,w=m.tangent,_=m.penetration,R=m.supports,E=v.overlap,A=v.axis,T=A.x,y=A.y,S=p.position.x-f.position.x,k=p.position.y-f.position.y;T*S+y*k>=0&&(T=-T,y=-y),x.x=T,x.y=y,w.x=-y,w.y=T,_.x=T*E,_.y=y*E,m.depth=E;var I=s._findSupports(f,p,x,1),D=0;if(o.contains(f.vertices,I[0])&&(R[D++]=I[0]),o.contains(f.vertices,I[1])&&(R[D++]=I[1]),D<2){var N=s._findSupports(p,f,x,-1);o.contains(p.vertices,N[0])&&(R[D++]=N[0]),D<2&&o.contains(p.vertices,N[1])&&(R[D++]=N[1])}return D===0&&(R[D++]=I[0]),m.supportCount=D,m},s._overlapAxes=function(f,p,h,g){var m=p.length,v=h.length,x=p[0].x,w=p[0].y,_=h[0].x,R=h[0].y,E=g.length,A=Number.MAX_VALUE,T=0,y,S,k,I,D,N;for(D=0;D<E;D++){var F=g[D],z=F.x,Y=F.y,U=x*z+w*Y,V=_*z+R*Y,W=U,Q=V;for(N=1;N<m;N+=1)I=p[N].x*z+p[N].y*Y,I>W?W=I:I<U&&(U=I);for(N=1;N<v;N+=1)I=h[N].x*z+h[N].y*Y,I>Q?Q=I:I<V&&(V=I);if(S=W-V,k=Q-U,y=S<k?S:k,y<A&&(A=y,T=D,y<=0))break}f.axis=g[T],f.overlap=A},s._findSupports=function(f,p,h,g){var m=p.vertices,v=m.length,x=f.position.x,w=f.position.y,_=h.x*g,R=h.y*g,E=m[0],A=E,T=_*(x-A.x)+R*(w-A.y),y,S,k;for(k=1;k<v;k+=1)A=m[k],S=_*(x-A.x)+R*(w-A.y),S<T&&(T=S,E=A);return y=m[(v+E.index-1)%v],T=_*(x-y.x)+R*(w-y.y),A=m[(E.index+1)%v],_*(x-A.x)+R*(w-A.y)<T?(l[0]=E,l[1]=A,l):(l[0]=E,l[1]=y,l)}})()},function(n,r,i){var s={};n.exports=s;var o=i(16);(function(){s.create=function(a,l){var c=a.bodyA,u=a.bodyB,f={id:s.id(c,u),bodyA:c,bodyB:u,collision:a,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:c.isSensor||u.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(f,a,l),f},s.update=function(a,l,c){var u=l.supports,f=l.supportCount,p=a.contacts,h=l.parentA,g=l.parentB;a.isActive=!0,a.timeUpdated=c,a.collision=l,a.separation=l.depth,a.inverseMass=h.inverseMass+g.inverseMass,a.friction=h.friction<g.friction?h.friction:g.friction,a.frictionStatic=h.frictionStatic>g.frictionStatic?h.frictionStatic:g.frictionStatic,a.restitution=h.restitution>g.restitution?h.restitution:g.restitution,a.slop=h.slop>g.slop?h.slop:g.slop,a.contactCount=f,l.pair=a;var m=u[0],v=p[0],x=u[1],w=p[1];(w.vertex===m||v.vertex===x)&&(p[1]=v,p[0]=v=w,w=p[1]),v.vertex=m,w.vertex=x},s.setActive=function(a,l,c){l?(a.isActive=!0,a.timeUpdated=c):(a.isActive=!1,a.contactCount=0)},s.id=function(a,l){return a.id<l.id?a.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+a.id.toString(36)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),c=i(1),u=i(11),f=i(0);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(p){var h=p;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var g=h.bodyA?a.add(h.bodyA.position,h.pointA):h.pointA,m=h.bodyB?a.add(h.bodyB.position,h.pointB):h.pointB,v=a.magnitude(a.sub(g,m));h.length=typeof h.length<"u"?h.length:v,h.id=h.id||f.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return h.length===0&&h.stiffness>.1?(x.type="pin",x.anchors=!1):h.stiffness<.9&&(x.type="spring"),h.render=f.extend(x,h.render),h},s.preSolveAll=function(p){for(var h=0;h<p.length;h+=1){var g=p[h],m=g.constraintImpulse;g.isStatic||m.x===0&&m.y===0&&m.angle===0||(g.position.x+=m.x,g.position.y+=m.y,g.angle+=m.angle)}},s.solveAll=function(p,h){for(var g=f.clamp(h/f._baseDelta,0,1),m=0;m<p.length;m+=1){var v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,w=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(x||w)&&s.solve(p[m],g)}for(m=0;m<p.length;m+=1)v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,w=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!x&&!w&&s.solve(p[m],g)},s.solve=function(p,h){var g=p.bodyA,m=p.bodyB,v=p.pointA,x=p.pointB;if(!(!g&&!m)){g&&!g.isStatic&&(a.rotate(v,g.angle-p.angleA,v),p.angleA=g.angle),m&&!m.isStatic&&(a.rotate(x,m.angle-p.angleB,x),p.angleB=m.angle);var w=v,_=x;if(g&&(w=a.add(g.position,v)),m&&(_=a.add(m.position,x)),!(!w||!_)){var R=a.sub(w,_),E=a.magnitude(R);E<s._minLength&&(E=s._minLength);var A=(E-p.length)/E,T=p.stiffness>=1||p.length===0,y=T?p.stiffness*h:p.stiffness*h*h,S=p.damping*h,k=a.mult(R,A*y),I=(g?g.inverseMass:0)+(m?m.inverseMass:0),D=(g?g.inverseInertia:0)+(m?m.inverseInertia:0),N=I+D,F,z,Y,U,V;if(S>0){var W=a.create();Y=a.div(R,E),V=a.sub(m&&a.sub(m.position,m.positionPrev)||W,g&&a.sub(g.position,g.positionPrev)||W),U=a.dot(Y,V)}g&&!g.isStatic&&(z=g.inverseMass/I,g.constraintImpulse.x-=k.x*z,g.constraintImpulse.y-=k.y*z,g.position.x-=k.x*z,g.position.y-=k.y*z,S>0&&(g.positionPrev.x-=S*Y.x*U*z,g.positionPrev.y-=S*Y.y*U*z),F=a.cross(v,k)/N*s._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=F,g.angle-=F),m&&!m.isStatic&&(z=m.inverseMass/I,m.constraintImpulse.x+=k.x*z,m.constraintImpulse.y+=k.y*z,m.position.x+=k.x*z,m.position.y+=k.y*z,S>0&&(m.positionPrev.x+=S*Y.x*U*z,m.positionPrev.y+=S*Y.y*U*z),F=a.cross(x,k)/N*s._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle+=F,m.angle+=F)}}},s.postSolveAll=function(p){for(var h=0;h<p.length;h++){var g=p[h],m=g.constraintImpulse;if(!(g.isStatic||m.x===0&&m.y===0&&m.angle===0)){l.set(g,!1);for(var v=0;v<g.parts.length;v++){var x=g.parts[v];o.translate(x.vertices,m),v>0&&(x.position.x+=m.x,x.position.y+=m.y),m.angle!==0&&(o.rotate(x.vertices,m.angle,g.position),u.rotate(x.axes,m.angle),v>0&&a.rotateAbout(x.position,m.angle,g.position,x.position)),c.update(x.bounds,x.vertices,g.velocity)}m.angle*=s._warming,m.x*=s._warming,m.y*=s._warming}}},s.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},s.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},s.currentLength=function(p){var h=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),g=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),m=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),v=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),x=h-m,w=g-v;return Math.sqrt(x*x+w*w)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.fromVertices=function(l){for(var c={},u=0;u<l.length;u++){var f=(u+1)%l.length,p=o.normalise({x:l[f].y-l[u].y,y:l[u].x-l[f].x}),h=p.y===0?1/0:p.x/p.y;h=h.toFixed(3).toString(),c[h]=p}return a.values(c)},s.rotate=function(l,c){if(c!==0)for(var u=Math.cos(c),f=Math.sin(c),p=0;p<l.length;p++){var h=l[p],g;g=h.x*u-h.y*f,h.y=h.x*f+h.y*u,h.x=g}}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(4),c=i(1),u=i(2);(function(){s.rectangle=function(f,p,h,g,m){m=m||{};var v={label:"Rectangle Body",position:{x:f,y:p},vertices:o.fromPath("L 0 0 L "+h+" 0 L "+h+" "+g+" L 0 "+g)};if(m.chamfer){var x=m.chamfer;v.vertices=o.chamfer(v.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return l.create(a.extend({},v,m))},s.trapezoid=function(f,p,h,g,m,v){v=v||{},m>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var x=(1-m*2)*h,w=h*m,_=w+x,R=_+w,E;m<.5?E="L 0 0 L "+w+" "+-g+" L "+_+" "+-g+" L "+R+" 0":E="L 0 0 L "+_+" "+-g+" L "+R+" 0";var A={label:"Trapezoid Body",position:{x:f,y:p},vertices:o.fromPath(E)};if(v.chamfer){var T=v.chamfer;A.vertices=o.chamfer(A.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete v.chamfer}return l.create(a.extend({},A,v))},s.circle=function(f,p,h,g,m){g=g||{};var v={label:"Circle Body",circleRadius:h};m=m||25;var x=Math.ceil(Math.max(10,Math.min(m,h)));return x%2===1&&(x+=1),s.polygon(f,p,x,h,a.extend({},v,g))},s.polygon=function(f,p,h,g,m){if(m=m||{},h<3)return s.circle(f,p,g,m);for(var v=2*Math.PI/h,x="",w=v*.5,_=0;_<h;_+=1){var R=w+_*v,E=Math.cos(R)*g,A=Math.sin(R)*g;x+="L "+E.toFixed(3)+" "+A.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:f,y:p},vertices:o.fromPath(x)};if(m.chamfer){var y=m.chamfer;T.vertices=o.chamfer(T.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete m.chamfer}return l.create(a.extend({},T,m))},s.fromVertices=function(f,p,h,g,m,v,x,w){var _=a.getDecomp(),R,E,A,T,y,S,k,I,D,N,F;for(R=!!(_&&_.quickDecomp),g=g||{},A=[],m=typeof m<"u"?m:!1,v=typeof v<"u"?v:.01,x=typeof x<"u"?x:10,w=typeof w<"u"?w:.01,a.isArray(h[0])||(h=[h]),N=0;N<h.length;N+=1)if(S=h[N],T=o.isConvex(S),y=!T,y&&!R&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!R)T?S=o.clockwiseSort(S):S=o.hull(S),A.push({position:{x:f,y:p},vertices:S});else{var z=S.map(function(re){return[re.x,re.y]});_.makeCCW(z),v!==!1&&_.removeCollinearPoints(z,v),w!==!1&&_.removeDuplicatePoints&&_.removeDuplicatePoints(z,w);var Y=_.quickDecomp(z);for(k=0;k<Y.length;k++){var U=Y[k],V=U.map(function(re){return{x:re[0],y:re[1]}});x>0&&o.area(V)<x||A.push({position:o.centre(V),vertices:V})}}for(k=0;k<A.length;k++)A[k]=l.create(a.extend(A[k],g));if(m){var W=5;for(k=0;k<A.length;k++){var Q=A[k];for(I=k+1;I<A.length;I++){var oe=A[I];if(c.overlaps(Q.bounds,oe.bounds)){var ee=Q.vertices,ae=oe.vertices;for(D=0;D<Q.vertices.length;D++)for(F=0;F<oe.vertices.length;F++){var Re=u.magnitudeSquared(u.sub(ee[(D+1)%ee.length],ae[F])),Ae=u.magnitudeSquared(u.sub(ee[D],ae[(F+1)%ae.length]));Re<W&&Ae<W&&(ee[D].isInternal=!0,ae[F].isInternal=!0)}}}}}return A.length>1?(E=l.create(a.extend({parts:A.slice(0)},g)),l.setPosition(E,{x:f,y:p}),E):A[0]}})()},function(n,r,i){var s={};n.exports=s;var o=i(0),a=i(8);(function(){s.create=function(l){var c={bodies:[],collisions:[],pairs:null};return o.extend(c,l)},s.setBodies=function(l,c){l.bodies=c.slice(0)},s.clear=function(l){l.bodies=[],l.collisions=[]},s.collisions=function(l){var c=l.pairs,u=l.bodies,f=u.length,p=s.canCollide,h=a.collides,g=l.collisions,m=0,v,x;for(u.sort(s._compareBoundsX),v=0;v<f;v++){var w=u[v],_=w.bounds,R=w.bounds.max.x,E=w.bounds.max.y,A=w.bounds.min.y,T=w.isStatic||w.isSleeping,y=w.parts.length,S=y===1;for(x=v+1;x<f;x++){var k=u[x],I=k.bounds;if(I.min.x>R)break;if(!(E<I.min.y||A>I.max.y)&&!(T&&(k.isStatic||k.isSleeping))&&p(w.collisionFilter,k.collisionFilter)){var D=k.parts.length;if(S&&D===1){var N=h(w,k,c);N&&(g[m++]=N)}else for(var F=y>1?1:0,z=D>1?1:0,Y=F;Y<y;Y++)for(var U=w.parts[Y],_=U.bounds,V=z;V<D;V++){var W=k.parts[V],I=W.bounds;if(!(_.min.x>I.max.x||_.max.x<I.min.x||_.max.y<I.min.y||_.min.y>I.max.y)){var N=h(U,W,c);N&&(g[m++]=N)}}}}}return g.length!==m&&(g.length=m),g},s.canCollide=function(l,c){return l.group===c.group&&l.group!==0?l.group>0:(l.mask&c.category)!==0&&(c.mask&l.category)!==0},s._compareBoundsX=function(l,c){return l.bounds.min.x-c.bounds.min.x}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.create=function(a){var l={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=a||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(c){var u=s._getRelativeMousePosition(c,l.element,l.pixelRatio),f=c.changedTouches;f&&(l.button=0,c.preventDefault()),l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=c},l.mousedown=function(c){var u=s._getRelativeMousePosition(c,l.element,l.pixelRatio),f=c.changedTouches;f?(l.button=0,c.preventDefault()):l.button=c.button,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=c},l.mouseup=function(c){var u=s._getRelativeMousePosition(c,l.element,l.pixelRatio),f=c.changedTouches;f&&c.preventDefault(),l.button=-1,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=c},l.mousewheel=function(c){l.wheelDelta=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail)),c.preventDefault(),l.sourceEvents.mousewheel=c},s.setElement(l,l.element),l},s.setElement=function(a,l){a.element=l,l.addEventListener("mousemove",a.mousemove,{passive:!0}),l.addEventListener("mousedown",a.mousedown,{passive:!0}),l.addEventListener("mouseup",a.mouseup,{passive:!0}),l.addEventListener("wheel",a.mousewheel,{passive:!1}),l.addEventListener("touchmove",a.mousemove,{passive:!1}),l.addEventListener("touchstart",a.mousedown,{passive:!1}),l.addEventListener("touchend",a.mouseup,{passive:!1})},s.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},s.setOffset=function(a,l){a.offset.x=l.x,a.offset.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s.setScale=function(a,l){a.scale.x=l.x,a.scale.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s._getRelativeMousePosition=function(a,l,c){var u=l.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,p=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,h=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,g=a.changedTouches,m,v;return g?(m=g[0].pageX-u.left-p,v=g[0].pageY-u.top-h):(m=a.pageX-u.left-p,v=a.pageY-u.top-h),{x:m/(l.clientWidth/(l.width||l.clientWidth)*c),y:v/(l.clientHeight/(l.height||l.clientHeight)*c)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s._registry={},s.register=function(a){if(s.isPlugin(a)||o.warn("Plugin.register:",s.toString(a),"does not implement all required fields."),a.name in s._registry){var l=s._registry[a.name],c=s.versionParse(a.version).number,u=s.versionParse(l.version).number;c>u?(o.warn("Plugin.register:",s.toString(l),"was upgraded to",s.toString(a)),s._registry[a.name]=a):c<u?o.warn("Plugin.register:",s.toString(l),"can not be downgraded to",s.toString(a)):a!==l&&o.warn("Plugin.register:",s.toString(a),"is already registered to different plugin object")}else s._registry[a.name]=a;return a},s.resolve=function(a){return s._registry[s.dependencyParse(a).name]},s.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},s.isPlugin=function(a){return a&&a.name&&a.version&&a.install},s.isUsed=function(a,l){return a.used.indexOf(l)>-1},s.isFor=function(a,l){var c=a.for&&s.dependencyParse(a.for);return!a.for||l.name===c.name&&s.versionSatisfies(l.version,c.range)},s.use=function(a,l){if(a.uses=(a.uses||[]).concat(l||[]),a.uses.length===0){o.warn("Plugin.use:",s.toString(a),"does not specify any dependencies to install.");return}for(var c=s.dependencies(a),u=o.topologicalSort(c),f=[],p=0;p<u.length;p+=1)if(u[p]!==a.name){var h=s.resolve(u[p]);if(!h){f.push(" "+u[p]);continue}s.isUsed(a,h.name)||(s.isFor(h,a)||(o.warn("Plugin.use:",s.toString(h),"is for",h.for,"but installed on",s.toString(a)+"."),h._warned=!0),h.install?h.install(a):(o.warn("Plugin.use:",s.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(f.push(" "+s.toString(h)),delete h._warned):f.push(" "+s.toString(h)),a.used.push(h.name))}f.length>0&&o.info(f.join("  "))},s.dependencies=function(a,l){var c=s.dependencyParse(a),u=c.name;if(l=l||{},!(u in l)){a=s.resolve(a)||a,l[u]=o.map(a.uses||[],function(p){s.isPlugin(p)&&s.register(p);var h=s.dependencyParse(p),g=s.resolve(p);return g&&!s.versionSatisfies(g.version,h.range)?(o.warn("Plugin.dependencies:",s.toString(g),"does not satisfy",s.toString(h),"used by",s.toString(c)+"."),g._warned=!0,a._warned=!0):g||(o.warn("Plugin.dependencies:",s.toString(p),"used by",s.toString(c),"could not be resolved."),a._warned=!0),h.name});for(var f=0;f<l[u].length;f+=1)s.dependencies(l[u][f],l);return l}},s.dependencyParse=function(a){if(o.isString(a)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},s.versionParse=function(a){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var c=l.exec(a),u=Number(c[4]),f=Number(c[5]),p=Number(c[6]);return{isRange:!!(c[1]||c[2]),version:c[3],range:a,operator:c[1]||c[2]||"",major:u,minor:f,patch:p,parts:[u,f,p],prerelease:c[7],number:u*1e8+f*1e4+p}},s.versionSatisfies=function(a,l){l=l||"*";var c=s.versionParse(l),u=s.versionParse(a);if(c.isRange){if(c.operator==="*"||a==="*")return!0;if(c.operator===">")return u.number>c.number;if(c.operator===">=")return u.number>=c.number;if(c.operator==="~")return u.major===c.major&&u.minor===c.minor&&u.patch>=c.patch;if(c.operator==="^")return c.major>0?u.major===c.major&&u.number>=c.number:c.minor>0?u.minor===c.minor&&u.patch>=c.patch:u.patch===c.patch}return a===l||a==="*"}})()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},function(n,r,i){var s={};n.exports=s;var o=i(7),a=i(18),l=i(13),c=i(19),u=i(5),f=i(6),p=i(10),h=i(0),g=i(4);(function(){s._deltaMax=1e3/60,s.create=function(m){m=m||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=h.extend(v,m);return x.world=m.world||f.create({label:"World"}),x.pairs=m.pairs||c.create(),x.detector=m.detector||l.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},s.update=function(m,v){var x=h.now(),w=m.world,_=m.detector,R=m.pairs,E=m.timing,A=E.timestamp,T;v>s._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",s._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:h._baseDelta,v*=E.timeScale,E.timestamp+=v,E.lastDelta=v;var y={timestamp:E.timestamp,delta:v};u.trigger(m,"beforeUpdate",y);var S=f.allBodies(w),k=f.allConstraints(w);for(w.isModified&&(l.setBodies(_,S),f.setModified(w,!1,!1,!0)),m.enableSleeping&&o.update(S,v),s._bodiesApplyGravity(S,m.gravity),v>0&&s._bodiesUpdate(S,v),u.trigger(m,"beforeSolve",y),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);p.postSolveAll(S);var I=l.collisions(_);c.update(R,I,A),m.enableSleeping&&o.afterCollisions(R.list),R.collisionStart.length>0&&u.trigger(m,"collisionStart",{pairs:R.collisionStart,timestamp:E.timestamp,delta:v});var D=h.clamp(20/m.positionIterations,0,1);for(a.preSolvePosition(R.list),T=0;T<m.positionIterations;T++)a.solvePosition(R.list,v,D);for(a.postSolvePosition(S),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);for(p.postSolveAll(S),a.preSolveVelocity(R.list),T=0;T<m.velocityIterations;T++)a.solveVelocity(R.list,v);return s._bodiesUpdateVelocities(S),R.collisionActive.length>0&&u.trigger(m,"collisionActive",{pairs:R.collisionActive,timestamp:E.timestamp,delta:v}),R.collisionEnd.length>0&&u.trigger(m,"collisionEnd",{pairs:R.collisionEnd,timestamp:E.timestamp,delta:v}),s._bodiesClearForces(S),u.trigger(m,"afterUpdate",y),m.timing.lastElapsed=h.now()-x,m},s.merge=function(m,v){if(h.extend(m,v),v.world){m.world=v.world,s.clear(m);for(var x=f.allBodies(m.world),w=0;w<x.length;w++){var _=x[w];o.set(_,!1),_.id=h.nextId()}}},s.clear=function(m){c.clear(m.pairs),l.clear(m.detector)},s._bodiesClearForces=function(m){for(var v=m.length,x=0;x<v;x++){var w=m[x];w.force.x=0,w.force.y=0,w.torque=0}},s._bodiesApplyGravity=function(m,v){var x=typeof v.scale<"u"?v.scale:.001,w=m.length;if(!(v.x===0&&v.y===0||x===0))for(var _=0;_<w;_++){var R=m[_];R.isStatic||R.isSleeping||(R.force.y+=R.mass*v.y*x,R.force.x+=R.mass*v.x*x)}},s._bodiesUpdate=function(m,v){for(var x=m.length,w=0;w<x;w++){var _=m[w];_.isStatic||_.isSleeping||g.update(_,v)}},s._bodiesUpdateVelocities=function(m){for(var v=m.length,x=0;x<v;x++)g.updateVelocities(m[x])}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(1);(function(){s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(c){var u,f,p,h=c.length;for(u=0;u<h;u++)f=c[u],f.isActive&&(p=f.contactCount,f.collision.parentA.totalContacts+=p,f.collision.parentB.totalContacts+=p)},s.solvePosition=function(c,u,f){var p,h,g,m,v,x,w,_,R=s._positionDampen*(f||1),E=a.clamp(u/a._baseDelta,0,1),A=c.length;for(p=0;p<A;p++)h=c[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,h.separation=g.depth+x.x*(v.positionImpulse.x-m.positionImpulse.x)+x.y*(v.positionImpulse.y-m.positionImpulse.y));for(p=0;p<A;p++)h=c[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,_=h.separation-h.slop*E,(m.isStatic||v.isStatic)&&(_*=2),m.isStatic||m.isSleeping||(w=R/m.totalContacts,m.positionImpulse.x+=x.x*_*w,m.positionImpulse.y+=x.y*_*w),v.isStatic||v.isSleeping||(w=R/v.totalContacts,v.positionImpulse.x-=x.x*_*w,v.positionImpulse.y-=x.y*_*w))},s.postSolvePosition=function(c){for(var u=s._positionWarming,f=c.length,p=o.translate,h=l.update,g=0;g<f;g++){var m=c[g],v=m.positionImpulse,x=v.x,w=v.y,_=m.velocity;if(m.totalContacts=0,x!==0||w!==0){for(var R=0;R<m.parts.length;R++){var E=m.parts[R];p(E.vertices,v),h(E.bounds,E.vertices,_),E.position.x+=x,E.position.y+=w}m.positionPrev.x+=x,m.positionPrev.y+=w,x*_.x+w*_.y<0?(v.x=0,v.y=0):(v.x*=u,v.y*=u)}}},s.preSolveVelocity=function(c){var u=c.length,f,p;for(f=0;f<u;f++){var h=c[f];if(!(!h.isActive||h.isSensor)){var g=h.contacts,m=h.contactCount,v=h.collision,x=v.parentA,w=v.parentB,_=v.normal,R=v.tangent;for(p=0;p<m;p++){var E=g[p],A=E.vertex,T=E.normalImpulse,y=E.tangentImpulse;if(T!==0||y!==0){var S=_.x*T+R.x*y,k=_.y*T+R.y*y;x.isStatic||x.isSleeping||(x.positionPrev.x+=S*x.inverseMass,x.positionPrev.y+=k*x.inverseMass,x.anglePrev+=x.inverseInertia*((A.x-x.position.x)*k-(A.y-x.position.y)*S)),w.isStatic||w.isSleeping||(w.positionPrev.x-=S*w.inverseMass,w.positionPrev.y-=k*w.inverseMass,w.anglePrev-=w.inverseInertia*((A.x-w.position.x)*k-(A.y-w.position.y)*S))}}}}},s.solveVelocity=function(c,u){var f=u/a._baseDelta,p=f*f,h=p*f,g=-s._restingThresh*f,m=s._restingThreshTangent,v=s._frictionNormalMultiplier*f,x=s._frictionMaxStatic,w=c.length,_,R,E,A;for(E=0;E<w;E++){var T=c[E];if(!(!T.isActive||T.isSensor)){var y=T.collision,S=y.parentA,k=y.parentB,I=y.normal.x,D=y.normal.y,N=y.tangent.x,F=y.tangent.y,z=T.inverseMass,Y=T.friction*T.frictionStatic*v,U=T.contacts,V=T.contactCount,W=1/V,Q=S.position.x-S.positionPrev.x,oe=S.position.y-S.positionPrev.y,ee=S.angle-S.anglePrev,ae=k.position.x-k.positionPrev.x,Re=k.position.y-k.positionPrev.y,Ae=k.angle-k.anglePrev;for(A=0;A<V;A++){var re=U[A],De=re.vertex,Te=De.x-S.position.x,nt=De.y-S.position.y,he=De.x-k.position.x,He=De.y-k.position.y,Ce=Q-nt*ee,St=oe+Te*ee,Je=ae-He*Ae,kt=Re+he*Ae,dt=Ce-Je,_n=St-kt,J=I*dt+D*_n,B=N*dt+F*_n,G=T.separation+J,Z=Math.min(G,1);Z=G<0?0:Z;var ie=Z*Y;B<-ie||B>ie?(R=B>0?B:-B,_=T.friction*(B>0?1:-1)*h,_<-R?_=-R:_>R&&(_=R)):(_=B,R=x);var ge=Te*D-nt*I,se=he*D-He*I,we=W/(z+S.inverseInertia*ge*ge+k.inverseInertia*se*se),ve=(1+T.restitution)*J*we;if(_*=we,J<g)re.normalImpulse=0;else{var Se=re.normalImpulse;re.normalImpulse+=ve,re.normalImpulse>0&&(re.normalImpulse=0),ve=re.normalImpulse-Se}if(B<-m||B>m)re.tangentImpulse=0;else{var Be=re.tangentImpulse;re.tangentImpulse+=_,re.tangentImpulse<-R&&(re.tangentImpulse=-R),re.tangentImpulse>R&&(re.tangentImpulse=R),_=re.tangentImpulse-Be}var H=I*ve+N*_,le=D*ve+F*_;S.isStatic||S.isSleeping||(S.positionPrev.x+=H*S.inverseMass,S.positionPrev.y+=le*S.inverseMass,S.anglePrev+=(Te*le-nt*H)*S.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=H*k.inverseMass,k.positionPrev.y-=le*k.inverseMass,k.anglePrev-=(he*le-He*H)*k.inverseInertia)}}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0);(function(){s.create=function(l){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},s.update=function(l,c,u){var f=o.update,p=o.create,h=o.setActive,g=l.table,m=l.list,v=m.length,x=v,w=l.collisionStart,_=l.collisionEnd,R=l.collisionActive,E=c.length,A=0,T=0,y=0,S,k,I;for(I=0;I<E;I++)S=c[I],k=S.pair,k?(k.isActive&&(R[y++]=k),f(k,S,u)):(k=p(S,u),g[k.id]=k,w[A++]=k,m[x++]=k);for(x=0,v=m.length,I=0;I<v;I++)k=m[I],k.timeUpdated>=u?m[x++]=k:(h(k,!1,u),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?m[x++]=k:(_[T++]=k,delete g[k.id]));m.length!==x&&(m.length=x),w.length!==A&&(w.length=A),_.length!==T&&(_.length=T),R.length!==y&&(R.length=y)},s.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(n,r,i){var s=n.exports=i(21);s.Axes=i(11),s.Bodies=i(12),s.Body=i(4),s.Bounds=i(1),s.Collision=i(8),s.Common=i(0),s.Composite=i(6),s.Composites=i(22),s.Constraint=i(10),s.Contact=i(16),s.Detector=i(13),s.Engine=i(17),s.Events=i(5),s.Grid=i(23),s.Mouse=i(14),s.MouseConstraint=i(24),s.Pair=i(9),s.Pairs=i(19),s.Plugin=i(15),s.Query=i(25),s.Render=i(26),s.Resolver=i(18),s.Runner=i(27),s.SAT=i(28),s.Sleeping=i(7),s.Svg=i(29),s.Vector=i(2),s.Vertices=i(3),s.World=i(30),s.Engine.run=s.Runner.run,s.Common.deprecated(s.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(n,r,i){var s={};n.exports=s;var o=i(15),a=i(0);(function(){s.name="matter-js",s.version="0.20.0",s.uses=[],s.used=[],s.use=function(){o.use(s,Array.prototype.slice.call(arguments))},s.before=function(l,c){return l=l.replace(/^Matter./,""),a.chainPathBefore(s,l,c)},s.after=function(l,c){return l=l.replace(/^Matter./,""),a.chainPathAfter(s,l,c)}})()},function(n,r,i){var s={};n.exports=s;var o=i(6),a=i(10),l=i(0),c=i(4),u=i(12),f=l.deprecated;(function(){s.stack=function(p,h,g,m,v,x,w){for(var _=o.create({label:"Stack"}),R=p,E=h,A,T=0,y=0;y<m;y++){for(var S=0,k=0;k<g;k++){var I=w(R,E,k,y,A,T);if(I){var D=I.bounds.max.y-I.bounds.min.y,N=I.bounds.max.x-I.bounds.min.x;D>S&&(S=D),c.translate(I,{x:N*.5,y:D*.5}),R=I.bounds.max.x+v,o.addBody(_,I),A=I,T+=1}else R+=v}E+=S+x,R=p}return _},s.chain=function(p,h,g,m,v,x){for(var w=p.bodies,_=1;_<w.length;_++){var R=w[_-1],E=w[_],A=R.bounds.max.y-R.bounds.min.y,T=R.bounds.max.x-R.bounds.min.x,y=E.bounds.max.y-E.bounds.min.y,S=E.bounds.max.x-E.bounds.min.x,k={bodyA:R,pointA:{x:T*h,y:A*g},bodyB:E,pointB:{x:S*m,y:y*v}},I=l.extend(k,x);o.addConstraint(p,a.create(I))}return p.label+=" Chain",p},s.mesh=function(p,h,g,m,v){var x=p.bodies,w,_,R,E,A;for(w=0;w<g;w++){for(_=1;_<h;_++)R=x[_-1+w*h],E=x[_+w*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:E},v)));if(w>0)for(_=0;_<h;_++)R=x[_+(w-1)*h],E=x[_+w*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:E},v))),m&&_>0&&(A=x[_-1+(w-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:A,bodyB:E},v)))),m&&_<h-1&&(A=x[_+1+(w-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:A,bodyB:E},v))))}return p.label+=" Mesh",p},s.pyramid=function(p,h,g,m,v,x,w){return s.stack(p,h,g,m,v,x,function(_,R,E,A,T,y){var S=Math.min(m,Math.ceil(g/2)),k=T?T.bounds.max.x-T.bounds.min.x:0;if(!(A>S)){A=S-A;var I=A,D=g-1-A;if(!(E<I||E>D)){y===1&&c.translate(T,{x:(E+(g%2===1?1:-1))*k,y:0});var N=T?E*k:0;return w(p+N+E*v,R,E,A,T,y)}}})},s.newtonsCradle=function(p,h,g,m,v){for(var x=o.create({label:"Newtons Cradle"}),w=0;w<g;w++){var _=1.9,R=u.circle(p+w*(m*_),h+v,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=a.create({pointA:{x:p+w*(m*_),y:h},bodyB:R});o.addBody(x,R),o.addConstraint(x,E)}return x},f(s,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),s.car=function(p,h,g,m,v){var x=c.nextGroup(!0),w=20,_=-g*.5+w,R=g*.5-w,E=0,A=o.create({label:"Car"}),T=u.rectangle(p,h,g,m,{collisionFilter:{group:x},chamfer:{radius:m*.5},density:2e-4}),y=u.circle(p+_,h+E,v,{collisionFilter:{group:x},friction:.8}),S=u.circle(p+R,h+E,v,{collisionFilter:{group:x},friction:.8}),k=a.create({bodyB:T,pointB:{x:_,y:E},bodyA:y,stiffness:1,length:0}),I=a.create({bodyB:T,pointB:{x:R,y:E},bodyA:S,stiffness:1,length:0});return o.addBody(A,T),o.addBody(A,y),o.addBody(A,S),o.addConstraint(A,k),o.addConstraint(A,I),A},f(s,"car","Composites.car  moved to car example"),s.softBody=function(p,h,g,m,v,x,w,_,R,E){R=l.extend({inertia:1/0},R),E=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var A=s.stack(p,h,g,m,v,x,function(T,y){return u.circle(T,y,_,R)});return s.mesh(A,g,m,w,E),A.label="Soft Body",A},f(s,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0),l=a.deprecated;(function(){s.create=function(c){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(u,c)},s.update=function(c,u,f,p){var h,g,m,v=f.world,x=c.buckets,w,_,R=!1;for(h=0;h<u.length;h++){var E=u[h];if(!(E.isSleeping&&!p)&&!(v.bounds&&(E.bounds.max.x<v.bounds.min.x||E.bounds.min.x>v.bounds.max.x||E.bounds.max.y<v.bounds.min.y||E.bounds.min.y>v.bounds.max.y))){var A=s._getRegion(c,E);if(!E.region||A.id!==E.region.id||p){(!E.region||p)&&(E.region=A);var T=s._regionUnion(A,E.region);for(g=T.startCol;g<=T.endCol;g++)for(m=T.startRow;m<=T.endRow;m++){_=s._getBucketId(g,m),w=x[_];var y=g>=A.startCol&&g<=A.endCol&&m>=A.startRow&&m<=A.endRow,S=g>=E.region.startCol&&g<=E.region.endCol&&m>=E.region.startRow&&m<=E.region.endRow;!y&&S&&S&&w&&s._bucketRemoveBody(c,w,E),(E.region===A||y&&!S||p)&&(w||(w=s._createBucket(x,_)),s._bucketAddBody(c,w,E))}E.region=A,R=!0}}}R&&(c.pairsList=s._createActivePairsList(c))},l(s,"update","Grid.update  replaced by Matter.Detector"),s.clear=function(c){c.buckets={},c.pairs={},c.pairsList=[]},l(s,"clear","Grid.clear  replaced by Matter.Detector"),s._regionUnion=function(c,u){var f=Math.min(c.startCol,u.startCol),p=Math.max(c.endCol,u.endCol),h=Math.min(c.startRow,u.startRow),g=Math.max(c.endRow,u.endRow);return s._createRegion(f,p,h,g)},s._getRegion=function(c,u){var f=u.bounds,p=Math.floor(f.min.x/c.bucketWidth),h=Math.floor(f.max.x/c.bucketWidth),g=Math.floor(f.min.y/c.bucketHeight),m=Math.floor(f.max.y/c.bucketHeight);return s._createRegion(p,h,g,m)},s._createRegion=function(c,u,f,p){return{id:c+","+u+","+f+","+p,startCol:c,endCol:u,startRow:f,endRow:p}},s._getBucketId=function(c,u){return"C"+c+"R"+u},s._createBucket=function(c,u){var f=c[u]=[];return f},s._bucketAddBody=function(c,u,f){var p=c.pairs,h=o.id,g=u.length,m;for(m=0;m<g;m++){var v=u[m];if(!(f.id===v.id||f.isStatic&&v.isStatic)){var x=h(f,v),w=p[x];w?w[2]+=1:p[x]=[f,v,1]}}u.push(f)},s._bucketRemoveBody=function(c,u,f){var p=c.pairs,h=o.id,g;u.splice(a.indexOf(u,f),1);var m=u.length;for(g=0;g<m;g++){var v=p[h(f,u[g])];v&&(v[2]-=1)}},s._createActivePairsList=function(c){var u,f=c.pairs,p=a.keys(f),h=p.length,g=[],m;for(m=0;m<h;m++)u=f[p[m]],u[2]>0?g.push(u):delete f[p[m]];return g}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(7),l=i(14),c=i(5),u=i(13),f=i(10),p=i(6),h=i(0),g=i(1);(function(){s.create=function(m,v){var x=(m?m.mouse:null)||(v?v.mouse:null);x||(m&&m.render&&m.render.canvas?x=l.create(m.render.canvas):v&&v.element?x=l.create(v.element):(x=l.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=f.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),_={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},R=h.extend(_,v);return c.on(m,"beforeUpdate",function(){var E=p.allBodies(m.world);s.update(R,E),s._triggerEvents(R)}),R},s.update=function(m,v){var x=m.mouse,w=m.constraint,_=m.body;if(x.button===0){if(w.bodyB)a.set(w.bodyB,!1),w.pointA=x.position;else for(var R=0;R<v.length;R++)if(_=v[R],g.contains(_.bounds,x.position)&&u.canCollide(_.collisionFilter,m.collisionFilter))for(var E=_.parts.length>1?1:0;E<_.parts.length;E++){var A=_.parts[E];if(o.contains(A.vertices,x.position)){w.pointA=x.position,w.bodyB=m.body=_,w.pointB={x:x.position.x-_.position.x,y:x.position.y-_.position.y},w.angleB=_.angle,a.set(_,!1),c.trigger(m,"startdrag",{mouse:x,body:_});break}}}else w.bodyB=m.body=null,w.pointB=null,_&&c.trigger(m,"enddrag",{mouse:x,body:_})},s._triggerEvents=function(m){var v=m.mouse,x=v.sourceEvents;x.mousemove&&c.trigger(m,"mousemove",{mouse:v}),x.mousedown&&c.trigger(m,"mousedown",{mouse:v}),x.mouseup&&c.trigger(m,"mouseup",{mouse:v}),l.clearSourceEvents(v)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(8),l=i(1),c=i(12),u=i(3);(function(){s.collides=function(f,p){for(var h=[],g=p.length,m=f.bounds,v=a.collides,x=l.overlaps,w=0;w<g;w++){var _=p[w],R=_.parts.length,E=R===1?0:1;if(x(_.bounds,m))for(var A=E;A<R;A++){var T=_.parts[A];if(x(T.bounds,m)){var y=v(T,f);if(y){h.push(y);break}}}}return h},s.ray=function(f,p,h,g){g=g||1e-100;for(var m=o.angle(p,h),v=o.magnitude(o.sub(p,h)),x=(h.x+p.x)*.5,w=(h.y+p.y)*.5,_=c.rectangle(x,w,v,g,{angle:m}),R=s.collides(_,f),E=0;E<R.length;E+=1){var A=R[E];A.body=A.bodyB=A.bodyA}return R},s.region=function(f,p,h){for(var g=[],m=0;m<f.length;m++){var v=f[m],x=l.overlaps(v.bounds,p);(x&&!h||!x&&h)&&g.push(v)}return g},s.point=function(f,p){for(var h=[],g=0;g<f.length;g++){var m=f[g];if(l.contains(m.bounds,p))for(var v=m.parts.length===1?0:1;v<m.parts.length;v++){var x=m.parts[v];if(l.contains(x.bounds,p)&&u.contains(x.vertices,p)){h.push(m);break}}}return h}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(0),l=i(6),c=i(1),u=i(5),f=i(2),p=i(14);(function(){var h,g;typeof window<"u"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(E){window.setTimeout(function(){E(a.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s._goodFps=30,s._goodDelta=1e3/60,s.create=function(E){var A={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!E.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},T=a.extend(A,E);return T.canvas&&(T.canvas.width=T.options.width||T.canvas.width,T.canvas.height=T.options.height||T.canvas.height),T.mouse=E.mouse,T.engine=E.engine,T.canvas=T.canvas||x(T.options.width,T.options.height),T.context=T.canvas.getContext("2d"),T.textures={},T.bounds=T.bounds||{min:{x:0,y:0},max:{x:T.canvas.width,y:T.canvas.height}},T.controller=s,T.options.showBroadphase=!1,T.options.pixelRatio!==1&&s.setPixelRatio(T,T.options.pixelRatio),a.isElement(T.element)&&T.element.appendChild(T.canvas),T},s.run=function(E){(function A(T){E.frameRequestId=h(A),m(E,T),s.world(E,T),E.context.setTransform(E.options.pixelRatio,0,0,E.options.pixelRatio,0,0),(E.options.showStats||E.options.showDebug)&&s.stats(E,E.context,T),(E.options.showPerformance||E.options.showDebug)&&s.performance(E,E.context,T),E.context.setTransform(1,0,0,1,0,0)})()},s.stop=function(E){g(E.frameRequestId)},s.setPixelRatio=function(E,A){var T=E.options,y=E.canvas;A==="auto"&&(A=w(y)),T.pixelRatio=A,y.setAttribute("data-pixel-ratio",A),y.width=T.width*A,y.height=T.height*A,y.style.width=T.width+"px",y.style.height=T.height+"px"},s.setSize=function(E,A,T){E.options.width=A,E.options.height=T,E.bounds.max.x=E.bounds.min.x+A,E.bounds.max.y=E.bounds.min.y+T,E.options.pixelRatio!==1?s.setPixelRatio(E,E.options.pixelRatio):(E.canvas.width=A,E.canvas.height=T)},s.lookAt=function(E,A,T,y){y=typeof y<"u"?y:!0,A=a.isArray(A)?A:[A],T=T||{x:0,y:0};for(var S={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},k=0;k<A.length;k+=1){var I=A[k],D=I.bounds?I.bounds.min:I.min||I.position||I,N=I.bounds?I.bounds.max:I.max||I.position||I;D&&N&&(D.x<S.min.x&&(S.min.x=D.x),N.x>S.max.x&&(S.max.x=N.x),D.y<S.min.y&&(S.min.y=D.y),N.y>S.max.y&&(S.max.y=N.y))}var F=S.max.x-S.min.x+2*T.x,z=S.max.y-S.min.y+2*T.y,Y=E.canvas.height,U=E.canvas.width,V=U/Y,W=F/z,Q=1,oe=1;W>V?oe=W/V:Q=V/W,E.options.hasBounds=!0,E.bounds.min.x=S.min.x,E.bounds.max.x=S.min.x+F*Q,E.bounds.min.y=S.min.y,E.bounds.max.y=S.min.y+z*oe,y&&(E.bounds.min.x+=F*.5-F*Q*.5,E.bounds.max.x+=F*.5-F*Q*.5,E.bounds.min.y+=z*.5-z*oe*.5,E.bounds.max.y+=z*.5-z*oe*.5),E.bounds.min.x-=T.x,E.bounds.max.x-=T.x,E.bounds.min.y-=T.y,E.bounds.max.y-=T.y,E.mouse&&(p.setScale(E.mouse,{x:(E.bounds.max.x-E.bounds.min.x)/E.canvas.width,y:(E.bounds.max.y-E.bounds.min.y)/E.canvas.height}),p.setOffset(E.mouse,E.bounds.min))},s.startViewTransform=function(E){var A=E.bounds.max.x-E.bounds.min.x,T=E.bounds.max.y-E.bounds.min.y,y=A/E.options.width,S=T/E.options.height;E.context.setTransform(E.options.pixelRatio/y,0,0,E.options.pixelRatio/S,0,0),E.context.translate(-E.bounds.min.x,-E.bounds.min.y)},s.endViewTransform=function(E){E.context.setTransform(E.options.pixelRatio,0,0,E.options.pixelRatio,0,0)},s.world=function(E,A){var T=a.now(),y=E.engine,S=y.world,k=E.canvas,I=E.context,D=E.options,N=E.timing,F=l.allBodies(S),z=l.allConstraints(S),Y=D.wireframes?D.wireframeBackground:D.background,U=[],V=[],W,Q={timestamp:y.timing.timestamp};if(u.trigger(E,"beforeRender",Q),E.currentBackground!==Y&&R(E,Y),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,k.width,k.height),I.globalCompositeOperation="source-over",D.hasBounds){for(W=0;W<F.length;W++){var oe=F[W];c.overlaps(oe.bounds,E.bounds)&&U.push(oe)}for(W=0;W<z.length;W++){var ee=z[W],ae=ee.bodyA,Re=ee.bodyB,Ae=ee.pointA,re=ee.pointB;ae&&(Ae=f.add(ae.position,ee.pointA)),Re&&(re=f.add(Re.position,ee.pointB)),!(!Ae||!re)&&(c.contains(E.bounds,Ae)||c.contains(E.bounds,re))&&V.push(ee)}s.startViewTransform(E),E.mouse&&(p.setScale(E.mouse,{x:(E.bounds.max.x-E.bounds.min.x)/E.options.width,y:(E.bounds.max.y-E.bounds.min.y)/E.options.height}),p.setOffset(E.mouse,E.bounds.min))}else V=z,U=F,E.options.pixelRatio!==1&&E.context.setTransform(E.options.pixelRatio,0,0,E.options.pixelRatio,0,0);!D.wireframes||y.enableSleeping&&D.showSleeping?s.bodies(E,U,I):(D.showConvexHulls&&s.bodyConvexHulls(E,U,I),s.bodyWireframes(E,U,I)),D.showBounds&&s.bodyBounds(E,U,I),(D.showAxes||D.showAngleIndicator)&&s.bodyAxes(E,U,I),D.showPositions&&s.bodyPositions(E,U,I),D.showVelocity&&s.bodyVelocity(E,U,I),D.showIds&&s.bodyIds(E,U,I),D.showSeparations&&s.separations(E,y.pairs.list,I),D.showCollisions&&s.collisions(E,y.pairs.list,I),D.showVertexNumbers&&s.vertexNumbers(E,U,I),D.showMousePosition&&s.mousePosition(E,E.mouse,I),s.constraints(V,I),D.hasBounds&&s.endViewTransform(E),u.trigger(E,"afterRender",Q),N.lastElapsed=a.now()-T},s.stats=function(E,A,T){for(var y=E.engine,S=y.world,k=l.allBodies(S),I=0,D=55,N=44,F=0,z=0,Y=0;Y<k.length;Y+=1)I+=k[Y].parts.length;var U={Part:I,Body:k.length,Cons:l.allConstraints(S).length,Comp:l.allComposites(S).length,Pair:y.pairs.list.length};A.fillStyle="#0e0f19",A.fillRect(F,z,D*5.5,N),A.font="12px Arial",A.textBaseline="top",A.textAlign="right";for(var V in U){var W=U[V];A.fillStyle="#aaa",A.fillText(V,F+D,z+8),A.fillStyle="#eee",A.fillText(W,F+D,z+26),F+=D}},s.performance=function(E,A){var T=E.engine,y=E.timing,S=y.deltaHistory,k=y.elapsedHistory,I=y.timestampElapsedHistory,D=y.engineDeltaHistory,N=y.engineUpdatesHistory,F=y.engineElapsedHistory,z=T.timing.lastUpdatesPerFrame,Y=T.timing.lastDelta,U=v(S),V=v(k),W=v(D),Q=v(N),oe=v(F),ee=v(I),ae=ee/U||0,Re=Math.round(U/Y),Ae=1e3/U||0,re=4,De=12,Te=60,nt=34,he=10,He=69;A.fillStyle="#0e0f19",A.fillRect(0,50,De*5+Te*6+22,nt),s.status(A,he,He,Te,re,S.length,Math.round(Ae)+" fps",Ae/s._goodFps,function(Ce){return S[Ce]/U-1}),s.status(A,he+De+Te,He,Te,re,D.length,Y.toFixed(2)+" dt",s._goodDelta/Y,function(Ce){return D[Ce]/W-1}),s.status(A,he+(De+Te)*2,He,Te,re,N.length,z+" upf",Math.pow(a.clamp(Q/Re||1,0,1),4),function(Ce){return N[Ce]/Q-1}),s.status(A,he+(De+Te)*3,He,Te,re,F.length,oe.toFixed(2)+" ut",1-z*oe/s._goodFps,function(Ce){return F[Ce]/oe-1}),s.status(A,he+(De+Te)*4,He,Te,re,k.length,V.toFixed(2)+" rt",1-V/s._goodFps,function(Ce){return k[Ce]/V-1}),s.status(A,he+(De+Te)*5,He,Te,re,I.length,ae.toFixed(2)+" x",ae*ae*ae,function(Ce){return(I[Ce]/S[Ce]/ae||0)-1})},s.status=function(E,A,T,y,S,k,I,D,N){E.strokeStyle="#888",E.fillStyle="#444",E.lineWidth=1,E.fillRect(A,T+7,y,1),E.beginPath(),E.moveTo(A,T+7-S*a.clamp(.4*N(0),-2,2));for(var F=0;F<y;F+=1)E.lineTo(A+F,T+7-(F<k?S*a.clamp(.4*N(F),-2,2):0));E.stroke(),E.fillStyle="hsl("+a.clamp(25+95*D,0,120)+",100%,60%)",E.fillRect(A,T-7,4,4),E.font="12px Arial",E.textBaseline="middle",E.textAlign="right",E.fillStyle="#eee",E.fillText(I,A+y,T-5)},s.constraints=function(E,A){for(var T=A,y=0;y<E.length;y++){var S=E[y];if(!(!S.render.visible||!S.pointA||!S.pointB)){var k=S.bodyA,I=S.bodyB,D,N;if(k?D=f.add(k.position,S.pointA):D=S.pointA,S.render.type==="pin")T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.closePath();else{if(I?N=f.add(I.position,S.pointB):N=S.pointB,T.beginPath(),T.moveTo(D.x,D.y),S.render.type==="spring")for(var F=f.sub(N,D),z=f.perp(f.normalise(F)),Y=Math.ceil(a.clamp(S.length/5,12,20)),U,V=1;V<Y;V+=1)U=V%2===0?1:-1,T.lineTo(D.x+F.x*(V/Y)+z.x*U*4,D.y+F.y*(V/Y)+z.y*U*4);T.lineTo(N.x,N.y)}S.render.lineWidth&&(T.lineWidth=S.render.lineWidth,T.strokeStyle=S.render.strokeStyle,T.stroke()),S.render.anchors&&(T.fillStyle=S.render.strokeStyle,T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.arc(N.x,N.y,3,0,2*Math.PI),T.closePath(),T.fill())}}},s.bodies=function(E,A,T){var y=T;E.engine;var S=E.options,k=S.showInternalEdges||!S.wireframes,I,D,N,F;for(N=0;N<A.length;N++)if(I=A[N],!!I.render.visible){for(F=I.parts.length>1?1:0;F<I.parts.length;F++)if(D=I.parts[F],!!D.render.visible){if(S.showSleeping&&I.isSleeping?y.globalAlpha=.5*D.render.opacity:D.render.opacity!==1&&(y.globalAlpha=D.render.opacity),D.render.sprite&&D.render.sprite.texture&&!S.wireframes){var z=D.render.sprite,Y=_(E,z.texture);y.translate(D.position.x,D.position.y),y.rotate(D.angle),y.drawImage(Y,Y.width*-z.xOffset*z.xScale,Y.height*-z.yOffset*z.yScale,Y.width*z.xScale,Y.height*z.yScale),y.rotate(-D.angle),y.translate(-D.position.x,-D.position.y)}else{if(D.circleRadius)y.beginPath(),y.arc(D.position.x,D.position.y,D.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(D.vertices[0].x,D.vertices[0].y);for(var U=1;U<D.vertices.length;U++)!D.vertices[U-1].isInternal||k?y.lineTo(D.vertices[U].x,D.vertices[U].y):y.moveTo(D.vertices[U].x,D.vertices[U].y),D.vertices[U].isInternal&&!k&&y.moveTo(D.vertices[(U+1)%D.vertices.length].x,D.vertices[(U+1)%D.vertices.length].y);y.lineTo(D.vertices[0].x,D.vertices[0].y),y.closePath()}S.wireframes?(y.lineWidth=1,y.strokeStyle=E.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=D.render.fillStyle,D.render.lineWidth&&(y.lineWidth=D.render.lineWidth,y.strokeStyle=D.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},s.bodyWireframes=function(E,A,T){var y=T,S=E.options.showInternalEdges,k,I,D,N,F;for(y.beginPath(),D=0;D<A.length;D++)if(k=A[D],!!k.render.visible)for(F=k.parts.length>1?1:0;F<k.parts.length;F++){for(I=k.parts[F],y.moveTo(I.vertices[0].x,I.vertices[0].y),N=1;N<I.vertices.length;N++)!I.vertices[N-1].isInternal||S?y.lineTo(I.vertices[N].x,I.vertices[N].y):y.moveTo(I.vertices[N].x,I.vertices[N].y),I.vertices[N].isInternal&&!S&&y.moveTo(I.vertices[(N+1)%I.vertices.length].x,I.vertices[(N+1)%I.vertices.length].y);y.lineTo(I.vertices[0].x,I.vertices[0].y)}y.lineWidth=1,y.strokeStyle=E.options.wireframeStrokeStyle,y.stroke()},s.bodyConvexHulls=function(E,A,T){var y=T,S,k,I;for(y.beginPath(),k=0;k<A.length;k++)if(S=A[k],!(!S.render.visible||S.parts.length===1)){for(y.moveTo(S.vertices[0].x,S.vertices[0].y),I=1;I<S.vertices.length;I++)y.lineTo(S.vertices[I].x,S.vertices[I].y);y.lineTo(S.vertices[0].x,S.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},s.vertexNumbers=function(E,A,T){var y=T,S,k,I;for(S=0;S<A.length;S++){var D=A[S].parts;for(I=D.length>1?1:0;I<D.length;I++){var N=D[I];for(k=0;k<N.vertices.length;k++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(S+"_"+k,N.position.x+(N.vertices[k].x-N.position.x)*.8,N.position.y+(N.vertices[k].y-N.position.y)*.8)}}},s.mousePosition=function(E,A,T){var y=T;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(A.position.x+"  "+A.position.y,A.position.x+5,A.position.y-5)},s.bodyBounds=function(E,A,T){var y=T;E.engine;var S=E.options;y.beginPath();for(var k=0;k<A.length;k++){var I=A[k];if(I.render.visible)for(var D=A[k].parts,N=D.length>1?1:0;N<D.length;N++){var F=D[N];y.rect(F.bounds.min.x,F.bounds.min.y,F.bounds.max.x-F.bounds.min.x,F.bounds.max.y-F.bounds.min.y)}}S.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},s.bodyAxes=function(E,A,T){var y=T;E.engine;var S=E.options,k,I,D,N;for(y.beginPath(),I=0;I<A.length;I++){var F=A[I],z=F.parts;if(F.render.visible)if(S.showAxes)for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++){var Y=k.axes[N];y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+Y.x*20,k.position.y+Y.y*20)}else for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++)y.moveTo(k.position.x,k.position.y),y.lineTo((k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}S.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},s.bodyPositions=function(E,A,T){var y=T;E.engine;var S=E.options,k,I,D,N;for(y.beginPath(),D=0;D<A.length;D++)if(k=A[D],!!k.render.visible)for(N=0;N<k.parts.length;N++)I=k.parts[N],y.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),y.closePath();for(S.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),D=0;D<A.length;D++)k=A[D],k.render.visible&&(y.arc(k.positionPrev.x,k.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},s.bodyVelocity=function(E,A,T){var y=T;y.beginPath();for(var S=0;S<A.length;S++){var k=A[S];if(k.render.visible){var I=o.getVelocity(k);y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+I.x,k.position.y+I.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},s.bodyIds=function(E,A,T){var y=T,S,k;for(S=0;S<A.length;S++)if(A[S].render.visible){var I=A[S].parts;for(k=I.length>1?1:0;k<I.length;k++){var D=I[k];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(D.id,D.position.x+10,D.position.y-10)}}},s.collisions=function(E,A,T){var y=T,S=E.options,k,I,D,N;for(y.beginPath(),D=0;D<A.length;D++)if(k=A[D],!!k.isActive)for(I=k.collision,N=0;N<k.contactCount;N++){var F=k.contacts[N],z=F.vertex;y.rect(z.x-1.5,z.y-1.5,3.5,3.5)}for(S.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),D=0;D<A.length;D++)if(k=A[D],!!k.isActive&&(I=k.collision,k.contactCount>0)){var Y=k.contacts[0].vertex.x,U=k.contacts[0].vertex.y;k.contactCount===2&&(Y=(k.contacts[0].vertex.x+k.contacts[1].vertex.x)/2,U=(k.contacts[0].vertex.y+k.contacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?y.moveTo(Y-I.normal.x*8,U-I.normal.y*8):y.moveTo(Y+I.normal.x*8,U+I.normal.y*8),y.lineTo(Y,U)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},s.separations=function(E,A,T){var y=T,S=E.options,k,I,D,N,F;for(y.beginPath(),F=0;F<A.length;F++)if(k=A[F],!!k.isActive){I=k.collision,D=I.bodyA,N=I.bodyB;var z=1;!N.isStatic&&!D.isStatic&&(z=.5),N.isStatic&&(z=0),y.moveTo(N.position.x,N.position.y),y.lineTo(N.position.x-I.penetration.x*z,N.position.y-I.penetration.y*z),z=1,!N.isStatic&&!D.isStatic&&(z=.5),D.isStatic&&(z=0),y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+I.penetration.x*z,D.position.y+I.penetration.y*z)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},s.inspector=function(E,A){E.engine;var T=E.selected,y=E.render,S=y.options,k;if(S.hasBounds){var I=y.bounds.max.x-y.bounds.min.x,D=y.bounds.max.y-y.bounds.min.y,N=I/y.options.width,F=D/y.options.height;A.scale(1/N,1/F),A.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var z=0;z<T.length;z++){var Y=T[z].data;switch(A.translate(.5,.5),A.lineWidth=1,A.strokeStyle="rgba(255,165,0,0.9)",A.setLineDash([1,2]),Y.type){case"body":k=Y.bounds,A.beginPath(),A.rect(Math.floor(k.min.x-3),Math.floor(k.min.y-3),Math.floor(k.max.x-k.min.x+6),Math.floor(k.max.y-k.min.y+6)),A.closePath(),A.stroke();break;case"constraint":var U=Y.pointA;Y.bodyA&&(U=Y.pointB),A.beginPath(),A.arc(U.x,U.y,10,0,2*Math.PI),A.closePath(),A.stroke();break}A.setLineDash([]),A.translate(-.5,-.5)}E.selectStart!==null&&(A.translate(.5,.5),A.lineWidth=1,A.strokeStyle="rgba(255,165,0,0.6)",A.fillStyle="rgba(255,165,0,0.1)",k=E.selectBounds,A.beginPath(),A.rect(Math.floor(k.min.x),Math.floor(k.min.y),Math.floor(k.max.x-k.min.x),Math.floor(k.max.y-k.min.y)),A.closePath(),A.stroke(),A.fill(),A.translate(-.5,-.5)),S.hasBounds&&A.setTransform(1,0,0,1,0,0)};var m=function(E,A){var T=E.engine,y=E.timing,S=y.historySize,k=T.timing.timestamp;y.delta=A-y.lastTime||s._goodDelta,y.lastTime=A,y.timestampElapsed=k-y.lastTimestamp||0,y.lastTimestamp=k,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,S),y.engineDeltaHistory.unshift(T.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,S),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,S),y.engineUpdatesHistory.unshift(T.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,S),y.engineElapsedHistory.unshift(T.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,S),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,S)},v=function(E){for(var A=0,T=0;T<E.length;T+=1)A+=E[T];return A/E.length||0},x=function(E,A){var T=document.createElement("canvas");return T.width=E,T.height=A,T.oncontextmenu=function(){return!1},T.onselectstart=function(){return!1},T},w=function(E){var A=E.getContext("2d"),T=window.devicePixelRatio||1,y=A.webkitBackingStorePixelRatio||A.mozBackingStorePixelRatio||A.msBackingStorePixelRatio||A.oBackingStorePixelRatio||A.backingStorePixelRatio||1;return T/y},_=function(E,A){var T=E.textures[A];return T||(T=E.textures[A]=new Image,T.src=A,T)},R=function(E,A){var T=A;/(jpg|gif|png)$/.test(A)&&(T="url("+A+")"),E.canvas.style.background=T,E.canvas.style.backgroundSize="contain",E.currentBackground=A}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(17),l=i(0);(function(){s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(u){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},p=l.extend(f,u);return p.fps=0,p},s.run=function(u,f){return u.timeBuffer=s._frameDeltaFallback,function p(h){u.frameRequestId=s._onNextFrame(u,p),h&&u.enabled&&s.tick(u,f,h)}(),u},s.tick=function(u,f,p){var h=l.now(),g=u.delta,m=0,v=p-u.timeLastTick;if((!v||!u.timeLastTick||v>Math.max(s._maxFrameDelta,u.maxFrameTime))&&(v=u.frameDelta||s._frameDeltaFallback),u.frameDeltaSmoothing){u.frameDeltaHistory.push(v),u.frameDeltaHistory=u.frameDeltaHistory.slice(-u.frameDeltaHistorySize);var x=u.frameDeltaHistory.slice(0).sort(),w=u.frameDeltaHistory.slice(x.length*s._smoothingLowerBound,x.length*s._smoothingUpperBound),_=c(w);v=_||v}u.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),u.frameDelta=v,u.timeLastTick=p,u.timeBuffer+=u.frameDelta,u.timeBuffer=l.clamp(u.timeBuffer,0,u.frameDelta+g*s._timeBufferMargin),u.lastUpdatesDeferred=0;var R=u.maxUpdates||Math.ceil(u.maxFrameTime/g),E={timestamp:f.timing.timestamp};o.trigger(u,"beforeTick",E),o.trigger(u,"tick",E);for(var A=l.now();g>0&&u.timeBuffer>=g*s._timeBufferMargin;){o.trigger(u,"beforeUpdate",E),a.update(f,g),o.trigger(u,"afterUpdate",E),u.timeBuffer-=g,m+=1;var T=l.now()-h,y=l.now()-A,S=T+s._elapsedNextEstimate*y/m;if(m>=R||S>u.maxFrameTime){u.lastUpdatesDeferred=Math.round(Math.max(0,u.timeBuffer/g-s._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=m,o.trigger(u,"afterTick",E),u.frameDeltaHistory.length>=100&&(u.lastUpdatesDeferred&&Math.round(u.frameDelta/g)>R?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):u.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof u.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(u.deltaMin||u.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),u.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(u){s._cancelNextFrame(u)},s._onNextFrame=function(u,f){if(typeof window<"u"&&window.requestAnimationFrame)u.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return u.frameRequestId},s._cancelNextFrame=function(u){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(u.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var c=function(u){for(var f=0,p=u.length,h=0;h<p;h+=1)f+=u[h];return f/p||0}})()},function(n,r,i){var s={};n.exports=s;var o=i(8),a=i(0),l=a.deprecated;(function(){s.collides=function(c,u){return o.collides(c,u)},l(s,"collides","SAT.collides  replaced by Collision.collides")})()},function(n,r,i){var s={};n.exports=s,i(1);var o=i(0);(function(){s.pathToVertices=function(a,l){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,u,f,p,h,g,m,v,x,w,_=[],R,E,A=0,T=0,y=0;l=l||15;var S=function(I,D,N){var F=N%2===1&&N>1;if(!x||I!=x.x||D!=x.y){x&&F?(R=x.x,E=x.y):(R=0,E=0);var z={x:R+I,y:E+D};(F||!x)&&(x=z),_.push(z),T=R+I,y=E+D}},k=function(I){var D=I.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":T=I.x,y=I.y;break;case"H":T=I.x;break;case"V":y=I.y;break}S(T,y,I.pathSegType)}};for(s._svgPathToAbsolute(a),f=a.getTotalLength(),g=[],c=0;c<a.pathSegList.numberOfItems;c+=1)g.push(a.pathSegList.getItem(c));for(m=g.concat();A<f;){if(w=a.getPathSegAtLength(A),h=g[w],h!=v){for(;m.length&&m[0]!=h;)k(m.shift());v=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=a.getPointAtLength(A),S(p.x,p.y,0);break}A+=l}for(c=0,u=m.length;c<u;++c)k(m[c]);return _},s._svgPathToAbsolute=function(a){for(var l,c,u,f,p,h,g=a.pathSegList,m=0,v=0,x=g.numberOfItems,w=0;w<x;++w){var _=g.getItem(w),R=_.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(R))"x"in _&&(m=_.x),"y"in _&&(v=_.y);else switch("x1"in _&&(u=m+_.x1),"x2"in _&&(p=m+_.x2),"y1"in _&&(f=v+_.y1),"y2"in _&&(h=v+_.y2),"x"in _&&(m+=_.x),"y"in _&&(v+=_.y),R){case"m":g.replaceItem(a.createSVGPathSegMovetoAbs(m,v),w);break;case"l":g.replaceItem(a.createSVGPathSegLinetoAbs(m,v),w);break;case"h":g.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(m),w);break;case"v":g.replaceItem(a.createSVGPathSegLinetoVerticalAbs(v),w);break;case"c":g.replaceItem(a.createSVGPathSegCurvetoCubicAbs(m,v,u,f,p,h),w);break;case"s":g.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(m,v,p,h),w);break;case"q":g.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(m,v,u,f),w);break;case"t":g.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(m,v),w);break;case"a":g.replaceItem(a.createSVGPathSegArcAbs(m,v,_.r1,_.r2,_.angle,_.largeArcFlag,_.sweepFlag),w);break;case"z":case"Z":m=l,v=c;break}(R=="M"||R=="m")&&(l=m,c=v)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(6);i(0),function(){s.create=o.create,s.add=o.add,s.remove=o.remove,s.clear=o.clear,s.addComposite=o.addComposite,s.addBody=o.addBody,s.addConstraint=o.addConstraint}()}])})})(gP);var qB=gP.exports;const yb=xb(qB),KB=()=>{const t=M.useRef(null);return M.useEffect(()=>{const{Engine:e,Render:n,Runner:r,Body:i,Composite:s,Mouse:o,MouseConstraint:a,World:l,Bodies:c,Constraint:u}=yb,f=e.create(),p=f.world,h=window.innerWidth<700?window.innerWidth:600,g=yb.Render.create({element:t.current,engine:f,options:{width:h+150,height:900,wireframes:!1,background:"transparent"}});n.run(g);const m=r.create();r.run(m,f);const v=[];let x=0;const w=(D,N,F)=>c.circle(D,N,F,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,render:{fillStyle:"hsl(340, 100%, 70%)",strokeStyle:"rgb(220, 220, 220)",lineWidth:2}}),_=(D,N,F,z,Y)=>{const U=s.create({label:"NewtonsCradle"}),V=z*2;for(let W=0;W<F;W++){const Q=w(D+W*V,N+Y,z),oe=u.create({pointA:{x:D+W*V,y:N},bodyB:Q,pointB:{x:0,y:0},length:Y,stiffness:.9,render:{strokeStyle:"rgb(220, 220, 220,1)",lineWidth:1.5}});s.addBody(U,Q),s.addConstraint(U,oe),v.push(Q)}return U},R=5,E=21,A=E*2*R,T=h/2-A/2,y=_(T,135,R,E,175);l.add(p,y),i.translate(y.bodies[0],{x:-140,y:-60});const S=o.create(g.canvas),k=a.create(f,{mouse:S,constraint:{stiffness:.2,render:{visible:!1}}});l.add(p,k),g.mouse=S,n.lookAt(g,{min:{x:0,y:0},max:{x:h-50,y:700}});const I=()=>{x=(x+1)%360;const D=`hsl(340, 100%, ${70+Math.sin(x*.1)*7}%)`,N=`hsl(320, 100%, ${40+Math.sin(x*.1)*7}%)`;v.forEach(F=>{F.render.fillStyle=D,F.render.strokeStyle=N}),setTimeout(()=>{requestAnimationFrame(I)},200)};return I(),()=>{n.stop(g),r.stop(m),e.clear(f),g.canvas.remove(),g.canvas=null,g.context=null,g.textures={}}},[]),P.jsx("div",{ref:t,style:{backgroundColor:"rgba(0, 0, 0, 0)"}})},GB=()=>P.jsx("div",{className:"graph__wrapper",children:P.jsxs("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:[P.jsx("defs",{children:P.jsx("path",{id:"textPath",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81",fill:"none"})}),P.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[P.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),P.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),P.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:P.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:P.jsx("mpath",{href:"#Path-1"})})}),P.jsxs("text",{className:"pointer-events-none arrowText",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"translate(0,-10)",children:[P.jsx("textPath",{href:"#textPath",startOffset:"24%",textAnchor:"middle",children:"My Board"}),P.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})]})]})}),QB=()=>P.jsx("div",{className:"graph__wrapper2",children:P.jsx("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:P.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[P.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),P.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),P.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:P.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:P.jsx("mpath",{href:"#Path-1"})})}),P.jsx("text",{className:"pointer-events-none",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"rotate(180, 227.5, 43.5) translate(0,-7)",children:P.jsxs("textPath",{href:"#Path-1",startOffset:"64%",textAnchor:"middle",children:["Shared Boards",P.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})})]})})});function XB(){const[t]=hP({words:["Manage Your Tasks","Organize Your Projects","Boost Your Productivity","Plan,Execute,Succeed","Track Your Progress","Collaborate Effortlessly","Get Things Done","Your Work Simplified"],loop:!0,typeSpeed:120,deleteSpeed:90,delaySpeed:3e3}),[e,n]=M.useState(!1),[r,i]=M.useState(1),s=()=>{n(!0),i(a=>(a+1)%3)},o=()=>{n(!1),i(a=>(a-1+3)%3)};return P.jsx("div",{className:"bg-zinc-800 overflow-x-hidden box-border   h-screen flex  overflow-y-hidden p-5 justify-center homecontiner",children:P.jsxs("div",{className:"flex sm:w-[100%] mb-2  items-center  mt-[40%] sm:shadow-xl  max-w-[900px] flex-col sm:mt-[10%]",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:o,className:"size-9 fixed top-[55%] leftarrow  flex self-start ml-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:s,className:"size-9 fixed top-[55%] rightarrow  flex self-end mr-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),P.jsx("div",{className:"workSpaceContainer ",children:P.jsxs(lP,{mode:"wait",children:[r===0&&P.jsx(Ou.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:P.jsx(HB,{})},"workSpace0"),r===1&&P.jsx(Ou.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:"0",opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:P.jsxs("div",{className:"flex justify-center relative",children:[P.jsxs("h1",{className:" absolute ml-1.5 text-center text-gray-300 top-[13.8%] sm:top-[13.1%] pointer-events-none  text-2xl sm:text-3xl  ",children:[t,P.jsx(fP,{})]}),P.jsx("hr",{className:"NewtonsCradleHr "}),P.jsx(GB,{className:!0}),P.jsx(QB,{}),P.jsx(KB,{className:" absolute"})]})},"yourBoards"),r===2&&P.jsx(Ou.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:P.jsx(WB,{})},"workSpace2")]})})]})})}const YB=()=>P.jsx("div",{id:"box",children:P.jsxs("div",{className:"cat",children:[P.jsxs("div",{className:"head",children:[P.jsxs("div",{className:"ears",children:[P.jsx("div",{className:"ear left"}),P.jsx("div",{className:"ear right"})]}),P.jsxs("div",{className:"eyes",children:[P.jsx("div",{className:"eye left"}),P.jsx("div",{className:"eye right"})]}),P.jsx("div",{className:"muzzle",children:P.jsx("div",{className:"nose"})})]}),P.jsx("div",{className:"body",children:P.jsx("div",{className:"paw"})}),P.jsx("div",{className:"tail absolute",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment",children:P.jsx("div",{className:"tail-segment"})})})})})})})})})})})})})})})})})})})})]})});function JB({avatarColor:t,avatarIn:e,userEmail:n,userName:r}){const i=Xl(),s=async()=>{try{await XO(Ve),i("/")}catch(a){console.error("Error logging out:",a)}},o=()=>{i("/")};return P.jsxs("div",{style:{backgroundColor:"#37393C"},className:"h-fit  gap-2 flex flex-col w-64 text-gray-300   py-4  shadow-xl  fixed z-[10000] rounded-md top-12 right-1",children:[P.jsx("p",{className:"text-sm mb-2 px-5",children:"ACCOUNT"}),P.jsxs("div",{className:"flex px-4",children:[P.jsx("div",{className:"flex   justify-center items-center  hover:opacity-85 cursor-pointer ",children:P.jsx("div",{className:" pointer-events-none mr-2 select-none  mb-1 ",style:{backgroundColor:`${t}`,color:"rgb(39, 39, 42)",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"1px solid #555"},children:e.toUpperCase()})}),P.jsxs("div",{children:[P.jsx("p",{className:"text-md mb-[-4px]",children:r}),P.jsx("p",{className:"text-sm opacity-90",children:n})]})]}),P.jsx("div",{className:"flex justify-center",children:P.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),P.jsx(WE,{to:"CardsArchive",children:P.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:P.jsx("p",{className:"text-[.9rem]",children:"Cards Archive"})})}),P.jsx("div",{className:"flex justify-center",children:P.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),r!=="Guest"&&P.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:P.jsx("p",{onClick:s,className:"text-[.9rem]",children:"Log out"})}),r==="Guest"&&P.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:P.jsx("p",{onClick:o,className:"text-[.9rem]",children:"Sign in"})})]})}function ZB(){const t=M.useRef(null),[e,n]=M.useState({}),[r,i]=M.useState(!1),s=u=>{t.current&&!t.current.contains(u.target)&&i(!1)};M.useEffect(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}),[]),M.useEffect(()=>{const u=Is(Ve,f=>{f&&(async()=>{try{const h=me(de,"users",f.uid),g=await rc(h);if(g.exists()){const m={id:g.id,data:g.data()};n(m.data)}else console.log("No such board!")}catch(h){console.error("Error fetching board:",h)}})()});return()=>u()},[]);const o=e.avatar?e.avatar.color:"#111827",a=e.avatar?e.avatar.initials:"A",l=e.name||"Guest",c=e.email||"example@example.com";return P.jsxs("div",{children:[r&&P.jsxs("div",{ref:t,children:[" ",P.jsx(JB,{avatarColor:o,avatarIn:a,userName:l,userEmail:c})]}),P.jsx("nav",{className:"border-b-2 border-gray-500 h-[46px] sm:h-[47.5px] bg-zinc-800 text-lg absolute w-screen z-10",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("div",{className:"flex items-center gap-5",children:P.jsx(WE,{to:"/Home",children:P.jsxs("div",{className:"text-zinc-50 cursor-pointer flex gap-5 cat catlogo items-center font-bold",children:[P.jsx(YB,{}),"KittyTask"]})})}),P.jsx("div",{onClick:()=>{i(!r)},className:"flex mr-2 justify-center items-center hover:opacity-85 cursor-pointer",children:P.jsx("div",{className:"select-none mb-1 border-2",style:{backgroundColor:o,color:"rgb(39, 39, 42)",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"0 solid #555"},children:a.toUpperCase()})})]})})]})}function e9(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState(""),l=Xl(),[c,u]=M.useState(""),[f,p]=M.useState(""),[h,g]=M.useState(""),[m,v]=M.useState(""),[x,w]=M.useState(!1),_=mS(),R=async S=>{if(S.preventDefault(),a(""),w(!0),!n||!i){a("Please fill in both email and password."),w(!1);return}try{const k=await KO(Ve,n,i);l("/Home")}catch(k){console.error("Login error:",k),a("Error logging in: "+k.message)}finally{w(!1)}},E=S=>{let k=0;for(let D=0;D<S.length;D++)k=S.charCodeAt(D)+((k<<5)-k);return`hsl(${k%360}, 70%, 80%)`},A=S=>S.split(" ").map(k=>k[0]).join(""),T=async S=>{if(S.preventDefault(),v(""),!c||!f||!h){v("Please fill in all fields (name, email, and password).");return}w(!0);const k=ak();try{const D=(await qO(k,f,h)).user,N=E(c),F=A(c);await Jn(me(_,"users",D.uid),{name:c,email:f,createdAt:new Date,avatar:{color:N,initials:F}}),l("/Home")}catch(I){console.error("Error creating account:",I),v("Error creating account: "+I.message)}finally{w(!1)}},y=()=>{e(!t)};return P.jsxs("div",{className:"h-screen w-screen  flex justify-center items-center overflow-y-hidden  ",children:[x&&P.jsxs("div",{className:"flex flex-col justify-center items-center gap-6 p-4 ",children:[P.jsx(dP,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),P.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!x&&P.jsxs("div",{className:`flex mx-52 my-auto  p-20 py-52 shadow-2xl justify-center rounded-xl  items-center gap-[17%] sm:gap-40 logincontainer ${t?"animate-right":""}`,children:[P.jsxs("div",{className:" flex flex-col justify-center items-center  ",children:[P.jsxs("div",{className:"signinmode flex flex-col justify-start items-center",children:[P.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"Already have an account?"}),P.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Welcome back! Sign in to continue organizing and making progress."}),P.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign in"}),P.jsx("img",{src:"./cat.svg",className:" hover:scale-110 w-[80%] max-w-[440px] hover:transform-cpu",alt:"cat"})]}),P.jsxs("form",{className:"singinfrom flex flex-col justify-center items-center",onSubmit:R,children:[P.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign in"}),P.jsxs("div",{className:"flex relative",children:[P.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),P.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>r(S.target.value)})]}),P.jsxs("div",{className:"flex relative",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),P.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>s(S.target.value)})]}),P.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4 sm:mt-5   py-1.5 px-9 rounded-2xl  text-m",children:"Sign in"}),o&&P.jsx("p",{className:"text-center text-xs  text-red-600",children:"Oops! It looks like your email or password is incorrect. Please try again."})]})]}),P.jsxs("div",{className:"flex flex-col justify-center items-center  justify-self-end",children:[P.jsxs("div",{className:"signupmode flex flex-col justify-center items-center",children:[P.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"New to KittyTask??"}),P.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Start organizing your life today! Sign up to manage your tasks, projects, and ideas all in one place."}),P.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign up"}),P.jsx("img",{src:"./cat2.svg",className:" hover:scale-110 hover:transform-cpu w-[80%] max-w-[440px]",alt:"cat"})]}),P.jsxs("form",{className:"signupfrom flex flex-col  items-center",onSubmit:T,children:[P.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign up"}),P.jsxs("div",{className:"flex relative",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),P.jsx("input",{type:"text",placeholder:"Username",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>u(S.target.value)})]}),P.jsxs("div",{className:"flex relative",children:[P.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),P.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>p(S.target.value)})]}),P.jsxs("div",{className:"flex relative",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),P.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 mb-2 text-black  rounded-2xl w-72",onChange:S=>g(S.target.value)})]}),P.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 fm-4  sm:mt-5  py-1.5 px-9 rounded-2xl  text-m",children:"Sign up"}),m&&P.jsx("p",{className:"text-center text-xs  text-red-600",children:m})]})]})]})]})}function t9(){const[t,e]=M.useState({});M.useEffect(()=>{const o=Is(Ve,a=>{a&&(async()=>{try{const c=me(de,"users",a.uid),u=await rc(c);if(u.exists()){const f={id:u.id,data:u.data()};e(f.data)}else console.log("No such board!")}catch(c){console.error("Error fetching board:",c)}})()});return()=>o()},[]);const n=t.avatar?t.avatar.color:"#111827",r=t.avatar?t.avatar.initials:"A",i=t.name||"Guest",s=t.email||"example@example.com";return P.jsx("div",{className:"flex bg-zinc-800 w-screen h-screen pt-20 pb-10 justify-center text-gray-300 ",children:P.jsxs("div",{className:"w-screen relative max-w-[1000px] rounded-lg pt-2 px-2 sm:p-7  bg-zinc-800 shadow-xl  ",children:[P.jsx("span",{className:"CardsArchive",children:"Cards Archive"}),P.jsxs("div",{className:"flex mr-2 mt-[7em]  hover:opacity-85 cursor-pointer w-fit",children:[P.jsx("div",{className:"flex hover:opacity-85 cursor-pointer justify-center items-center ",children:P.jsx("div",{className:" pointer-events-none mr-2 select-none  mb-1 ",style:{backgroundColor:`${n}`,color:"rgb(39, 39, 42)",width:"43px",height:"43px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"1px solid #555"},children:r.toUpperCase()})}),P.jsxs("div",{children:[P.jsx("p",{className:"text-xl mb-[-4px]",children:i}),P.jsx("p",{className:"text-md opacity-90",children:s})]})]}),P.jsx("hr",{className:" w-full mt-2 border-0 border-b border-gray-400 border-opacity-75"}),P.jsx("div",{className:"flex w-full h-[30vh] text-3xl justify-center items-center",children:"Come in the future! :)"})]})})}function n9(){return P.jsx(sA,{children:P.jsx(r9,{})})}function r9(){const t=Qo();return P.jsxs("div",{className:"app",children:[t.pathname!=="/"&&P.jsx(ZB,{}),P.jsxs(J5,{children:[P.jsx(Na,{path:"/CardsArchive",element:P.jsx(t9,{})}),P.jsx(Na,{path:"/Home",element:P.jsx(XB,{})}),P.jsx(Na,{path:"/",element:P.jsx(e9,{})}),P.jsx(Na,{path:"/Board/:id",element:P.jsx(BB,{})})]})]})}DE(document.getElementById("root")).render(P.jsx(M.StrictMode,{children:P.jsx(u5,{children:P.jsx(n9,{})})}));
