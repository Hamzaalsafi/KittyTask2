function DC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gb={exports:{}},Vd={},vb={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),NC=Symbol.for("react.portal"),MC=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),LC=Symbol.for("react.profiler"),VC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),FC=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),UC=Symbol.for("react.memo"),zC=Symbol.for("react.lazy"),ry=Symbol.iterator;function $C(t){return t===null||typeof t!="object"?null:(t=ry&&t[ry]||t["@@iterator"],typeof t=="function"?t:null)}var yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,wb={};function zo(t,e,n){this.props=t,this.context=e,this.refs=wb,this.updater=n||yb}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bb(){}bb.prototype=zo.prototype;function $m(t,e,n){this.props=t,this.context=e,this.refs=wb,this.updater=n||yb}var Wm=$m.prototype=new bb;Wm.constructor=$m;xb(Wm,zo.prototype);Wm.isPureReactComponent=!0;var iy=Array.isArray,_b=Object.prototype.hasOwnProperty,Hm={current:null},Eb={key:!0,ref:!0,__self:!0,__source:!0};function Tb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_b.call(e,r)&&!Eb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jl,type:t,key:s,ref:o,props:i,_owner:Hm.current}}function WC(t,e){return{$$typeof:jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===jl}function HC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sy=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HC(""+t.key):e.toString(36)}function ic(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jl:case NC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yh(o,0):r,iy(i)?(n="",t!=null&&(n=t.replace(sy,"$&/")+"/"),ic(i,e,n,"",function(u){return u})):i!=null&&(qm(i)&&(i=WC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yh(s,a);o+=ic(s,e,n,l,i)}else if(l=$C(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yh(s,a++),o+=ic(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cu(t,e,n){if(t==null)return t;var r=[],i=0;return ic(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},sc={transition:null},KC={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:sc,ReactCurrentOwner:Hm};function Sb(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=zo;xe.Fragment=MC;xe.Profiler=LC;xe.PureComponent=$m;xe.StrictMode=OC;xe.Suspense=BC;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;xe.act=Sb;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_b.call(e,l)&&!Eb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:jl,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:jC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VC,_context:t},t.Consumer=t};xe.createElement=Tb;xe.createFactory=function(t){var e=Tb.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:FC,render:t}};xe.isValidElement=qm;xe.lazy=function(t){return{$$typeof:zC,_payload:{_status:-1,_result:t},_init:qC}};xe.memo=function(t,e){return{$$typeof:UC,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};xe.unstable_act=Sb;xe.useCallback=function(t,e){return Jt.current.useCallback(t,e)};xe.useContext=function(t){return Jt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Jt.current.useEffect(t,e)};xe.useId=function(){return Jt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Jt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};xe.useRef=function(t){return Jt.current.useRef(t)};xe.useState=function(t){return Jt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Jt.current.useTransition()};xe.version="18.3.1";vb.exports=xe;var M=vb.exports;const pe=mb(M),GC=DC({__proto__:null,default:pe},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC=M,XC=Symbol.for("react.element"),YC=Symbol.for("react.fragment"),JC=Object.prototype.hasOwnProperty,ZC=QC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eI={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JC.call(e,r)&&!eI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XC,type:t,key:s,ref:o,props:i,_owner:ZC.current}}Vd.Fragment=YC;Vd.jsx=kb;Vd.jsxs=kb;gb.exports=Vd;var A=gb.exports,Pb={exports:{}},Tn={},Cb={exports:{}},Ib={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var H=L.length;L.push(B);e:for(;0<H;){var Z=H-1>>>1,J=L[Z];if(0<i(J,B))L[Z]=B,L[H]=J,H=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],H=L.pop();if(H!==B){L[0]=H;e:for(var Z=0,J=L.length,W=J>>>1;Z<W;){var ee=2*(Z+1)-1,le=L[ee],Q=ee+1,fe=L[Q];if(0>i(le,H))Q<J&&0>i(fe,le)?(L[Z]=fe,L[Q]=H,Z=Q):(L[Z]=le,L[ee]=H,Z=ee);else if(Q<J&&0>i(fe,H))L[Z]=fe,L[Q]=H,Z=Q;else break e}}return B}function i(L,B){var H=L.sortIndex-B.sortIndex;return H!==0?H:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,h=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function R(L){if(m=!1,E(L),!g)if(n(l)!==null)g=!0,Y(_);else{var B=n(u);B!==null&&U(R,B.startTime-L)}}function _(L,B){g=!1,m&&(m=!1,x(y),y=-1),h=!0;var H=p;try{for(E(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!C());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var J=Z(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),E(B)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var ee=n(u);ee!==null&&U(R,ee.startTime-B),W=!1}return W}finally{f=null,p=H,h=!1}}var I=!1,T=null,y=-1,S=5,k=-1;function C(){return!(t.unstable_now()-k<S)}function D(){if(T!==null){var L=t.unstable_now();k=L;var B=!0;try{B=T(!0,L)}finally{B?N():(I=!1,T=null)}}else I=!1}var N;if(typeof w=="function")N=function(){w(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,N=function(){z.postMessage(null)}}else N=function(){v(D,0)};function Y(L){T=L,I||(I=!0,N())}function U(L,B){y=v(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,Y(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var H=p;p=B;try{return L()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return B()}finally{p=H}},t.unstable_scheduleCallback=function(L,B,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,L={id:c++,callback:B,priorityLevel:L,startTime:H,expirationTime:J,sortIndex:-1},H>Z?(L.sortIndex=H,e(u,L),n(l)===null&&L===n(u)&&(m?(x(y),y=-1):m=!0,U(R,H-Z))):(L.sortIndex=J,e(l,L),g||h||(g=!0,Y(_))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var B=p;return function(){var H=p;p=B;try{return L.apply(this,arguments)}finally{p=H}}}})(Ib);Cb.exports=Ib;var tI=Cb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI=M,_n=tI;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,il={};function Ss(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(il[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,rI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},ay={};function iI(t){return np.call(ay,t)?!0:np.call(oy,t)?!1:rI.test(t)?ay[t]=!0:(oy[t]=!0,!1)}function sI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oI(t,e,n,r){if(e===null||typeof e>"u"||sI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Km=/[\-:]([a-z])/g;function Gm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Km,Gm);At[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Km,Gm);At[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Km,Gm);At[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qm(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oI(e,n,i,r)&&(n=null),r||i===null?iI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=nI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Db=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),Nb=Symbol.for("react.offscreen"),ly=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Jh;function Ta(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||""}return`
`+Jh+t}var Zh=!1;function ef(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function aI(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case Ks:return"Portal";case rp:return"Profiler";case Xm:return"StrictMode";case ip:return"Suspense";case sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Db:return(t.displayName||"Context")+".Consumer";case Rb:return(t._context.displayName||"Context")+".Provider";case Ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jm:return e=t.displayName||null,e!==null?e:op(t.type)||"Memo";case si:e=t._payload,t=t._init;try{return op(t(e))}catch{}}return null}function lI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uI(t){var e=Mb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=uI(t))}function Ob(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ap(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lb(t,e){e=e.checked,e!=null&&Qm(t,"checked",e,!1)}function lp(t,e){Lb(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?up(t,e.type,n):e.hasOwnProperty("defaultValue")&&up(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function up(t,e,n){(e!=="number"||Dc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Sa(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function Vb(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,Fb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cI=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){cI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function Bb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function Ub(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dI=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hp(t,e){if(e){if(dI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function fp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function Zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mp=null,fo=null,po=null;function fy(t){if(t=Ul(t)){if(typeof mp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=zd(e),mp(t.stateNode,t.type,e))}}function zb(t){fo?po?po.push(t):po=[t]:fo=t}function $b(){if(fo){var t=fo,e=po;if(po=fo=null,fy(t),e)for(t=0;t<e.length;t++)fy(e[t])}}function Wb(t,e){return t(e)}function Hb(){}var tf=!1;function qb(t,e,n){if(tf)return t(e,n);tf=!0;try{return Wb(t,e,n)}finally{tf=!1,(fo!==null||po!==null)&&(Hb(),$b())}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var gp=!1;if(Ur)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){gp=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{gp=!1}function hI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fa=!1,Nc=null,Mc=!1,vp=null,fI={onError:function(t){Fa=!0,Nc=t}};function pI(t,e,n,r,i,s,o,a,l){Fa=!1,Nc=null,hI.apply(fI,arguments)}function mI(t,e,n,r,i,s,o,a,l){if(pI.apply(this,arguments),Fa){if(Fa){var u=Nc;Fa=!1,Nc=null}else throw Error(G(198));Mc||(Mc=!0,vp=u)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if(ks(t)!==t)throw Error(G(188))}function gI(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return py(i),t;if(s===r)return py(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Gb(t){return t=gI(t),t!==null?Qb(t):null}function Qb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qb(t);if(e!==null)return e;t=t.sibling}return null}var Xb=_n.unstable_scheduleCallback,my=_n.unstable_cancelCallback,vI=_n.unstable_shouldYield,yI=_n.unstable_requestPaint,nt=_n.unstable_now,xI=_n.unstable_getCurrentPriorityLevel,eg=_n.unstable_ImmediatePriority,Yb=_n.unstable_UserBlockingPriority,Oc=_n.unstable_NormalPriority,wI=_n.unstable_LowPriority,Jb=_n.unstable_IdlePriority,jd=null,dr=null;function bI(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(jd,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:TI,_I=Math.log,EI=Math.LN2;function TI(t){return t>>>=0,t===0?32:31-(_I(t)/EI|0)|0}var Du=64,Nu=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ka(a):(s&=o,s!==0&&(r=ka(s)))}else o=n&~i,o!==0?r=ka(o):s!==0&&(r=ka(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function SI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=SI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zb(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function PI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function e_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var t_,ng,n_,r_,i_,xp=!1,Mu=[],yi=null,xi=null,wi=null,al=new Map,ll=new Map,li=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function va(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ul(e),e!==null&&ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function II(t,e,n,r,i){switch(e){case"focusin":return yi=va(yi,t,e,n,r,i),!0;case"dragenter":return xi=va(xi,t,e,n,r,i),!0;case"mouseover":return wi=va(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return al.set(s,va(al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ll.set(s,va(ll.get(s)||null,t,e,n,r,i)),!0}return!1}function s_(t){var e=as(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=Kb(n),e!==null){t.blockedOn=e,i_(t.priority,function(){n_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return e=Ul(n),e!==null&&ng(e),t.blockedOn=n,!1;e.shift()}return!0}function vy(t,e,n){oc(t)&&n.delete(e)}function AI(){xp=!1,yi!==null&&oc(yi)&&(yi=null),xi!==null&&oc(xi)&&(xi=null),wi!==null&&oc(wi)&&(wi=null),al.forEach(vy),ll.forEach(vy)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,AI)))}function ul(t){function e(i){return ya(i,t)}if(0<Mu.length){ya(Mu[0],t);for(var n=1;n<Mu.length;n++){var r=Mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&ya(yi,t),xi!==null&&ya(xi,t),wi!==null&&ya(wi,t),al.forEach(e),ll.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)s_(n),n.blockedOn===null&&li.shift()}var mo=Qr.ReactCurrentBatchConfig,Vc=!0;function RI(t,e,n,r){var i=De,s=mo.transition;mo.transition=null;try{De=1,rg(t,e,n,r)}finally{De=i,mo.transition=s}}function DI(t,e,n,r){var i=De,s=mo.transition;mo.transition=null;try{De=4,rg(t,e,n,r)}finally{De=i,mo.transition=s}}function rg(t,e,n,r){if(Vc){var i=wp(t,e,n,r);if(i===null)ff(t,e,r,jc,n),gy(t,r);else if(II(i,t,e,n,r))r.stopPropagation();else if(gy(t,r),e&4&&-1<CI.indexOf(t)){for(;i!==null;){var s=Ul(i);if(s!==null&&t_(s),s=wp(t,e,n,r),s===null&&ff(t,e,r,jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var jc=null;function wp(t,e,n,r){if(jc=null,t=Zm(r),t=as(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function o_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xI()){case eg:return 1;case Yb:return 4;case Oc:case wI:return 16;case Jb:return 536870912;default:return 16}default:return 16}}var pi=null,ig=null,ac=null;function a_(){if(ac)return ac;var t,e=ig,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ac=i.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ou(){return!0}function yy(){return!1}function Sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ou:yy,this.isPropagationStopped=yy,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=Sn($o),Bl=Ge({},$o,{view:0,detail:0}),NI=Sn(Bl),rf,sf,xa,Fd=Ge({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(rf=t.screenX-xa.screenX,sf=t.screenY-xa.screenY):sf=rf=0,xa=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),xy=Sn(Fd),MI=Ge({},Fd,{dataTransfer:0}),OI=Sn(MI),LI=Ge({},Bl,{relatedTarget:0}),of=Sn(LI),VI=Ge({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),jI=Sn(VI),FI=Ge({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BI=Sn(FI),UI=Ge({},$o,{data:0}),wy=Sn(UI),zI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WI[t])?!!e[t]:!1}function og(){return HI}var qI=Ge({},Bl,{key:function(t){if(t.key){var e=zI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KI=Sn(qI),GI=Ge({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=Sn(GI),QI=Ge({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),XI=Sn(QI),YI=Ge({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),JI=Sn(YI),ZI=Ge({},Fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=Sn(ZI),t2=[9,13,27,32],ag=Ur&&"CompositionEvent"in window,Ba=null;Ur&&"documentMode"in document&&(Ba=document.documentMode);var n2=Ur&&"TextEvent"in window&&!Ba,l_=Ur&&(!ag||Ba&&8<Ba&&11>=Ba),_y=" ",Ey=!1;function u_(t,e){switch(t){case"keyup":return t2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function r2(t,e){switch(t){case"compositionend":return c_(e);case"keypress":return e.which!==32?null:(Ey=!0,_y);case"textInput":return t=e.data,t===_y&&Ey?null:t;default:return null}}function i2(t,e){if(Qs)return t==="compositionend"||!ag&&u_(t,e)?(t=a_(),ac=ig=pi=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l_&&e.locale!=="ko"?null:e.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s2[t.type]:e==="textarea"}function d_(t,e,n,r){zb(r),e=Fc(e,"onChange"),0<e.length&&(n=new sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,cl=null;function o2(t){__(t,0)}function Bd(t){var e=Js(t);if(Ob(e))return t}function a2(t,e){if(t==="change")return e}var h_=!1;if(Ur){var af;if(Ur){var lf="oninput"in document;if(!lf){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),lf=typeof Sy.oninput=="function"}af=lf}else af=!1;h_=af&&(!document.documentMode||9<document.documentMode)}function ky(){Ua&&(Ua.detachEvent("onpropertychange",f_),cl=Ua=null)}function f_(t){if(t.propertyName==="value"&&Bd(cl)){var e=[];d_(e,cl,t,Zm(t)),qb(o2,e)}}function l2(t,e,n){t==="focusin"?(ky(),Ua=e,cl=n,Ua.attachEvent("onpropertychange",f_)):t==="focusout"&&ky()}function u2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bd(cl)}function c2(t,e){if(t==="click")return Bd(e)}function d2(t,e){if(t==="input"||t==="change")return Bd(e)}function h2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:h2;function dl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!np.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function Py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cy(t,e){var n=Py(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function p_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m_(){for(var t=window,e=Dc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dc(t.document)}return e}function lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f2(t){var e=m_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&p_(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cy(n,s);var o=Cy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p2=Ur&&"documentMode"in document&&11>=document.documentMode,Xs=null,bp=null,za=null,_p=!1;function Iy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||Xs==null||Xs!==Dc(r)||(r=Xs,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&dl(za,r)||(za=r,r=Fc(bp,"onSelect"),0<r.length&&(e=new sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xs)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},uf={},g_={};Ur&&(g_=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ud(t){if(uf[t])return uf[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g_)return uf[t]=e[n];return t}var v_=Ud("animationend"),y_=Ud("animationiteration"),x_=Ud("animationstart"),w_=Ud("transitionend"),b_=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){b_.set(t,e),Ss(e,[t])}for(var cf=0;cf<Ay.length;cf++){var df=Ay[cf],m2=df.toLowerCase(),g2=df[0].toUpperCase()+df.slice(1);zi(m2,"on"+g2)}zi(v_,"onAnimationEnd");zi(y_,"onAnimationIteration");zi(x_,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(w_,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Ry(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mI(r,e,void 0,t),t.currentTarget=null}function __(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ry(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ry(i,a,u),s=l}}}if(Mc)throw t=vp,Mc=!1,vp=null,t}function je(t,e){var n=e[Pp];n===void 0&&(n=e[Pp]=new Set);var r=t+"__bubble";n.has(r)||(E_(e,t,2,!1),n.add(r))}function hf(t,e,n){var r=0;e&&(r|=4),E_(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[Vu]){t[Vu]=!0,Ab.forEach(function(n){n!=="selectionchange"&&(v2.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,hf("selectionchange",!1,e))}}function E_(t,e,n,r){switch(o_(e)){case 1:var i=RI;break;case 4:i=DI;break;default:i=rg}n=i.bind(null,e,n,t),i=void 0,!gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=as(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qb(function(){var u=s,c=Zm(n),f=[];e:{var p=b_.get(t);if(p!==void 0){var h=sg,g=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":h=KI;break;case"focusin":g="focus",h=of;break;case"focusout":g="blur",h=of;break;case"beforeblur":case"afterblur":h=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=OI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=XI;break;case v_:case y_:case x_:h=jI;break;case w_:h=JI;break;case"scroll":h=NI;break;case"wheel":h=e2;break;case"copy":case"cut":case"paste":h=BI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=by}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?p!==null?p+"Capture":null:p;m=[];for(var w=u,E;w!==null;){E=w;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,x!==null&&(R=ol(w,x),R!=null&&m.push(fl(w,R,E)))),v)break;w=w.return}0<m.length&&(p=new h(p,g,null,n,c),f.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==pp&&(g=n.relatedTarget||n.fromElement)&&(as(g)||g[zr]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?as(g):null,g!==null&&(v=ks(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(m=xy,R="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=by,R="onPointerLeave",x="onPointerEnter",w="pointer"),v=h==null?p:Js(h),E=g==null?p:Js(g),p=new m(R,w+"leave",h,n,c),p.target=v,p.relatedTarget=E,R=null,as(c)===u&&(m=new m(x,w+"enter",g,n,c),m.target=E,m.relatedTarget=v,R=m),v=R,h&&g)t:{for(m=h,x=g,w=0,E=m;E;E=js(E))w++;for(E=0,R=x;R;R=js(R))E++;for(;0<w-E;)m=js(m),w--;for(;0<E-w;)x=js(x),E--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=js(m),x=js(x)}m=null}else m=null;h!==null&&Dy(f,p,h,m,!1),g!==null&&v!==null&&Dy(f,v,g,m,!0)}}e:{if(p=u?Js(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var _=a2;else if(Ty(p))if(h_)_=d2;else{_=u2;var I=l2}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=c2);if(_&&(_=_(t,u))){d_(f,_,n,c);break e}I&&I(t,p,u),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&up(p,"number",p.value)}switch(I=u?Js(u):window,t){case"focusin":(Ty(I)||I.contentEditable==="true")&&(Xs=I,bp=u,za=null);break;case"focusout":za=bp=Xs=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,Iy(f,n,c);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":Iy(f,n,c)}var T;if(ag)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Qs?u_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(l_&&n.locale!=="ko"&&(Qs||y!=="onCompositionStart"?y==="onCompositionEnd"&&Qs&&(T=a_()):(pi=c,ig="value"in pi?pi.value:pi.textContent,Qs=!0)),I=Fc(u,y),0<I.length&&(y=new wy(y,t,null,n,c),f.push({event:y,listeners:I}),T?y.data=T:(T=c_(n),T!==null&&(y.data=T)))),(T=n2?r2(t,n):i2(t,n))&&(u=Fc(u,"onBeforeInput"),0<u.length&&(c=new wy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}__(f,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ol(t,n),s!=null&&r.unshift(fl(t,s,i)),s=ol(t,e),s!=null&&r.push(fl(t,s,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ol(n,s),l!=null&&o.unshift(fl(n,l,a))):i||(l=ol(n,s),l!=null&&o.push(fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(y2,`
`).replace(x2,"")}function ju(t,e,n){if(e=Ny(e),Ny(t)!==e&&n)throw Error(G(425))}function Bc(){}var Ep=null,Tp=null;function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(_2)}:kp;function _2(t){setTimeout(function(){throw t})}function pf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ul(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Wo,pl="__reactProps$"+Wo,zr="__reactContainer$"+Wo,Pp="__reactEvents$"+Wo,E2="__reactListeners$"+Wo,T2="__reactHandles$"+Wo;function as(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oy(t);t!==null;){if(n=t[ur])return n;t=Oy(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[ur]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function zd(t){return t[pl]||null}var Cp=[],Zs=-1;function $i(t){return{current:t}}function Fe(t){0>Zs||(t.current=Cp[Zs],Cp[Zs]=null,Zs--)}function Oe(t,e){Zs++,Cp[Zs]=t.current,t.current=e}var Di={},Kt=$i(Di),un=$i(!1),gs=Di;function To(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function Uc(){Fe(un),Fe(Kt)}function Ly(t,e,n){if(Kt.current!==Di)throw Error(G(168));Oe(Kt,e),Oe(un,n)}function T_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,lI(t)||"Unknown",i));return Ge({},n,r)}function zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,gs=Kt.current,Oe(Kt,t),Oe(un,un.current),!0}function Vy(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=T_(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Fe(un),Fe(Kt),Oe(Kt,t)):Fe(un),Oe(un,n)}var Pr=null,$d=!1,mf=!1;function S_(t){Pr===null?Pr=[t]:Pr.push(t)}function S2(t){$d=!0,S_(t)}function Wi(){if(!mf&&Pr!==null){mf=!0;var t=0,e=De;try{var n=Pr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,$d=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),Xb(eg,Wi),i}finally{De=e,mf=!1}}return null}var eo=[],to=0,$c=null,Wc=0,Rn=[],Dn=0,vs=null,Cr=1,Ir="";function ts(t,e){eo[to++]=Wc,eo[to++]=$c,$c=t,Wc=e}function k_(t,e,n){Rn[Dn++]=Cr,Rn[Dn++]=Ir,Rn[Dn++]=vs,vs=t;var r=Cr;t=Ir;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Gn(e)+i|n<<i|r,Ir=s+t}else Cr=1<<s|n<<i|r,Ir=t}function ug(t){t.return!==null&&(ts(t,1),k_(t,1,0))}function cg(t){for(;t===$c;)$c=eo[--to],eo[to]=null,Wc=eo[--to],eo[to]=null;for(;t===vs;)vs=Rn[--Dn],Rn[Dn]=null,Ir=Rn[--Dn],Rn[Dn]=null,Cr=Rn[--Dn],Rn[Dn]=null}var bn=null,xn=null,Ue=!1,qn=null;function P_(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,xn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vs!==null?{id:Cr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,xn=null,!0):!1;default:return!1}}function Ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(Ue){var e=xn;if(e){var n=e;if(!jy(t,e)){if(Ip(t))throw Error(G(418));e=bi(n.nextSibling);var r=bn;e&&jy(t,e)?P_(r,n):(t.flags=t.flags&-4097|2,Ue=!1,bn=t)}}else{if(Ip(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ue=!1,bn=t}}}function Fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Fu(t){if(t!==bn)return!1;if(!Ue)return Fy(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sp(t.type,t.memoizedProps)),e&&(e=xn)){if(Ip(t))throw C_(),Error(G(418));for(;e;)P_(t,e),e=bi(e.nextSibling)}if(Fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=bn?bi(t.stateNode.nextSibling):null;return!0}function C_(){for(var t=xn;t;)t=bi(t.nextSibling)}function So(){xn=bn=null,Ue=!1}function dg(t){qn===null?qn=[t]:qn.push(t)}var k2=Qr.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Bu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function By(t){var e=t._init;return e(t._payload)}function I_(t){function e(x,w){if(t){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Si(x,w),x.index=0,x.sibling=null,x}function s(x,w,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=2,w):E):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,E,R){return w===null||w.tag!==6?(w=_f(E,x.mode,R),w.return=x,w):(w=i(w,E),w.return=x,w)}function l(x,w,E,R){var _=E.type;return _===Gs?c(x,w,E.props.children,R,E.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===si&&By(_)===w.type)?(R=i(w,E.props),R.ref=wa(x,w,E),R.return=x,R):(R=mc(E.type,E.key,E.props,null,x.mode,R),R.ref=wa(x,w,E),R.return=x,R)}function u(x,w,E,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Ef(E,x.mode,R),w.return=x,w):(w=i(w,E.children||[]),w.return=x,w)}function c(x,w,E,R,_){return w===null||w.tag!==7?(w=fs(E,x.mode,R,_),w.return=x,w):(w=i(w,E),w.return=x,w)}function f(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_f(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Iu:return E=mc(w.type,w.key,w.props,null,x.mode,E),E.ref=wa(x,null,w),E.return=x,E;case Ks:return w=Ef(w,x.mode,E),w.return=x,w;case si:var R=w._init;return f(x,R(w._payload),E)}if(Sa(w)||ma(w))return w=fs(w,x.mode,E,null),w.return=x,w;Bu(x,w)}return null}function p(x,w,E,R){var _=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:a(x,w,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Iu:return E.key===_?l(x,w,E,R):null;case Ks:return E.key===_?u(x,w,E,R):null;case si:return _=E._init,p(x,w,_(E._payload),R)}if(Sa(E)||ma(E))return _!==null?null:c(x,w,E,R,null);Bu(x,E)}return null}function h(x,w,E,R,_){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(E)||null,a(w,x,""+R,_);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Iu:return x=x.get(R.key===null?E:R.key)||null,l(w,x,R,_);case Ks:return x=x.get(R.key===null?E:R.key)||null,u(w,x,R,_);case si:var I=R._init;return h(x,w,E,I(R._payload),_)}if(Sa(R)||ma(R))return x=x.get(E)||null,c(w,x,R,_,null);Bu(w,R)}return null}function g(x,w,E,R){for(var _=null,I=null,T=w,y=w=0,S=null;T!==null&&y<E.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var k=p(x,T,E[y],R);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(x,T),w=s(k,w,y),I===null?_=k:I.sibling=k,I=k,T=S}if(y===E.length)return n(x,T),Ue&&ts(x,y),_;if(T===null){for(;y<E.length;y++)T=f(x,E[y],R),T!==null&&(w=s(T,w,y),I===null?_=T:I.sibling=T,I=T);return Ue&&ts(x,y),_}for(T=r(x,T);y<E.length;y++)S=h(T,x,y,E[y],R),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?y:S.key),w=s(S,w,y),I===null?_=S:I.sibling=S,I=S);return t&&T.forEach(function(C){return e(x,C)}),Ue&&ts(x,y),_}function m(x,w,E,R){var _=ma(E);if(typeof _!="function")throw Error(G(150));if(E=_.call(E),E==null)throw Error(G(151));for(var I=_=null,T=w,y=w=0,S=null,k=E.next();T!==null&&!k.done;y++,k=E.next()){T.index>y?(S=T,T=null):S=T.sibling;var C=p(x,T,k.value,R);if(C===null){T===null&&(T=S);break}t&&T&&C.alternate===null&&e(x,T),w=s(C,w,y),I===null?_=C:I.sibling=C,I=C,T=S}if(k.done)return n(x,T),Ue&&ts(x,y),_;if(T===null){for(;!k.done;y++,k=E.next())k=f(x,k.value,R),k!==null&&(w=s(k,w,y),I===null?_=k:I.sibling=k,I=k);return Ue&&ts(x,y),_}for(T=r(x,T);!k.done;y++,k=E.next())k=h(T,x,y,k.value,R),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?y:k.key),w=s(k,w,y),I===null?_=k:I.sibling=k,I=k);return t&&T.forEach(function(D){return e(x,D)}),Ue&&ts(x,y),_}function v(x,w,E,R){if(typeof E=="object"&&E!==null&&E.type===Gs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Iu:e:{for(var _=E.key,I=w;I!==null;){if(I.key===_){if(_=E.type,_===Gs){if(I.tag===7){n(x,I.sibling),w=i(I,E.props.children),w.return=x,x=w;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===si&&By(_)===I.type){n(x,I.sibling),w=i(I,E.props),w.ref=wa(x,I,E),w.return=x,x=w;break e}n(x,I);break}else e(x,I);I=I.sibling}E.type===Gs?(w=fs(E.props.children,x.mode,R,E.key),w.return=x,x=w):(R=mc(E.type,E.key,E.props,null,x.mode,R),R.ref=wa(x,w,E),R.return=x,x=R)}return o(x);case Ks:e:{for(I=E.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(x,w.sibling),w=i(w,E.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Ef(E,x.mode,R),w.return=x,x=w}return o(x);case si:return I=E._init,v(x,w,I(E._payload),R)}if(Sa(E))return g(x,w,E,R);if(ma(E))return m(x,w,E,R);Bu(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,E),w.return=x,x=w):(n(x,w),w=_f(E,x.mode,R),w.return=x,x=w),o(x)):n(x,w)}return v}var ko=I_(!0),A_=I_(!1),Hc=$i(null),qc=null,no=null,hg=null;function fg(){hg=no=qc=null}function pg(t){var e=Hc.current;Fe(Hc),t._currentValue=e}function Rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){qc=t,hg=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(hg!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(qc===null)throw Error(G(308));no=t,qc.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var ls=null;function mg(t){ls===null?ls=[t]:ls.push(t)}function R_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mg(e)):(n.next=i.next,i.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$r(t,n)}return i=r.interleaved,i===null?(e.next=e,mg(r)):(e.next=i.next,i.next=e),r.interleaved=e,$r(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}function Uy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kc(t,e,n,r){var i=t.updateQueue;oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(p=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=Ge({},f,p);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=f}}function zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var zl={},hr=$i(zl),ml=$i(zl),gl=$i(zl);function us(t){if(t===zl)throw Error(G(174));return t}function vg(t,e){switch(Oe(gl,e),Oe(ml,t),Oe(hr,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dp(e,t)}Fe(hr),Oe(hr,e)}function Po(){Fe(hr),Fe(ml),Fe(gl)}function N_(t){us(gl.current);var e=us(hr.current),n=dp(e,t.type);e!==n&&(Oe(ml,t),Oe(hr,n))}function yg(t){ml.current===t&&(Fe(hr),Fe(ml))}var He=$i(0);function Gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function xg(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var cc=Qr.ReactCurrentDispatcher,vf=Qr.ReactCurrentBatchConfig,ys=0,Ke=null,ut=null,yt=null,Qc=!1,$a=!1,vl=0,P2=0;function Vt(){throw Error(G(321))}function wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function bg(t,e,n,r,i,s){if(ys=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?R2:D2,t=n(r,i),$a){s=0;do{if($a=!1,vl=0,25<=s)throw Error(G(301));s+=1,yt=ut=null,e.updateQueue=null,cc.current=N2,t=n(r,i)}while($a)}if(cc.current=Xc,e=ut!==null&&ut.next!==null,ys=0,yt=ut=Ke=null,Qc=!1,e)throw Error(G(300));return t}function _g(){var t=vl!==0;return vl=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=t:yt=yt.next=t,yt}function Ln(){if(ut===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=yt===null?Ke.memoizedState:yt.next;if(e!==null)yt=e,ut=t;else{if(t===null)throw Error(G(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},yt===null?Ke.memoizedState=yt=t:yt=yt.next=t}return yt}function yl(t,e){return typeof e=="function"?e(t):e}function yf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ys&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ke.lanes|=c,xs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function M_(){}function O_(t,e){var n=Ke,r=Ln(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,Eg(j_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,xl(9,V_.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(G(349));ys&30||L_(n,e,i)}return i}function L_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V_(t,e,n,r){e.value=n,e.getSnapshot=r,F_(e)&&B_(t)}function j_(t,e,n){return n(function(){F_(e)&&B_(t)})}function F_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function B_(t){var e=$r(t,1);e!==null&&Qn(e,t,1,-1)}function $y(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=A2.bind(null,Ke,t),[e.memoizedState,t]}function xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U_(){return Ln().memoizedState}function dc(t,e,n,r){var i=lr();Ke.flags|=t,i.memoizedState=xl(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&wg(r,o.deps)){i.memoizedState=xl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=xl(1|e,n,s,r)}function Wy(t,e){return dc(8390656,8,t,e)}function Eg(t,e){return Wd(2048,8,t,e)}function z_(t,e){return Wd(4,2,t,e)}function $_(t,e){return Wd(4,4,t,e)}function W_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H_(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,W_.bind(null,e,t),n)}function Tg(){}function q_(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K_(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G_(t,e,n){return ys&21?(Yn(n,e)||(n=Zb(),Ke.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function C2(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{De=n,vf.transition=r}}function Q_(){return Ln().memoizedState}function I2(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X_(t))Y_(e,n);else if(n=R_(t,e,n,r),n!==null){var i=Yt();Qn(n,t,r,i),J_(n,e,r)}}function A2(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X_(t))Y_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,mg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=R_(t,e,i,r),n!==null&&(i=Yt(),Qn(n,t,r,i),J_(n,e,r))}}function X_(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function Y_(t,e){$a=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}var Xc={readContext:On,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},R2={readContext:On,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,W_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I2.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:$y,useDebugValue:Tg,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=$y(!1),e=t[0];return t=C2.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=lr();if(Ue){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),wt===null)throw Error(G(349));ys&30||L_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Wy(j_.bind(null,r,s,t),[t]),r.flags|=2048,xl(9,V_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=lr(),e=wt.identifierPrefix;if(Ue){var n=Ir,r=Cr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D2={readContext:On,useCallback:q_,useContext:On,useEffect:Eg,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:$_,useMemo:K_,useReducer:yf,useRef:U_,useState:function(){return yf(yl)},useDebugValue:Tg,useDeferredValue:function(t){var e=Ln();return G_(e,ut.memoizedState,t)},useTransition:function(){var t=yf(yl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:M_,useSyncExternalStore:O_,useId:Q_,unstable_isNewReconciler:!1},N2={readContext:On,useCallback:q_,useContext:On,useEffect:Eg,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:$_,useMemo:K_,useReducer:xf,useRef:U_,useState:function(){return xf(yl)},useDebugValue:Tg,useDeferredValue:function(t){var e=Ln();return ut===null?e.memoizedState=t:G_(e,ut.memoizedState,t)},useTransition:function(){var t=xf(yl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:M_,useSyncExternalStore:O_,useId:Q_,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hd={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Ti(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Qn(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Ti(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(Qn(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=Ti(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(Qn(e,t,r,n),uc(e,t,r))}};function Hy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dl(n,r)||!dl(i,s):!0}function Z_(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=cn(e)?gs:Kt.current,r=e.contextTypes,s=(r=r!=null)?To(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hd.enqueueReplaceState(e,e.state,null)}function Np(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=cn(e)?gs:Kt.current,i.context=To(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hd.enqueueReplaceState(i,i.state,null),Kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var n="",r=e;do n+=aI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function eE(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jc||(Jc=!0,Wp=r),Mp(t,e)},n}function tE(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mp(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ky(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=G2.bind(null,t,e,n),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var O2=Qr.ReactCurrentOwner,ln=!1;function Xt(t,e,n,r){e.child=t===null?A_(e,null,n,r):ko(e,t.child,n,r)}function Xy(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=bg(t,e,n,r,s,i),n=_g(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Ue&&n&&ug(e),e.flags|=1,Xt(t,e,r,i),e.child)}function Yy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nE(t,e,s,r,i)):(t=mc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(o,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function nE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dl(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return Op(t,e,n,r,i)}function rE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(io,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(io,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(io,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(io,yn),yn|=r;return Xt(t,e,i,n),e.child}function iE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Op(t,e,n,r,i){var s=cn(n)?gs:Kt.current;return s=To(e,s),go(e,i),n=bg(t,e,n,r,s,i),r=_g(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Ue&&r&&ug(e),e.flags|=1,Xt(t,e,n,i),e.child)}function Jy(t,e,n,r,i){if(cn(n)){var s=!0;zc(e)}else s=!1;if(go(e,i),e.stateNode===null)hc(t,e),Z_(e,n,r),Np(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=cn(n)?gs:Kt.current,u=To(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qy(e,o,r,u),oi=!1;var p=e.memoizedState;o.state=p,Kc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||un.current||oi?(typeof c=="function"&&(Dp(e,n,c,r),l=e.memoizedState),(a=oi||Hy(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,D_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$n(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=cn(n)?gs:Kt.current,l=To(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&qy(e,o,r,l),oi=!1,p=e.memoizedState,o.state=p,Kc(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||un.current||oi?(typeof h=="function"&&(Dp(e,n,h,r),g=e.memoizedState),(u=oi||Hy(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Lp(t,e,n,r,s,i)}function Lp(t,e,n,r,i,s){iE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vy(e,n,!1),Wr(t,e,s);r=e.stateNode,O2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ko(e,t.child,null,s),e.child=ko(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&Vy(e,n,!0),e.child}function sE(t){var e=t.stateNode;e.pendingContext?Ly(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ly(t,e.context,!1),vg(t,e.containerInfo)}function Zy(t,e,n,r,i){return So(),dg(i),e.flags|=256,Xt(t,e,n,r),e.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function oE(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(He,i&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gd(o,r,0,null),t=fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jp(n),e.memoizedState=Vp,t):Sg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vp,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sg(t,e){return e=Gd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&dg(r),ko(e,t.child,null,n),t=Sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wf(Error(G(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gd({mode:"visible",children:r.children},i,0,null),s=fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ko(e,t.child,null,o),e.child.memoizedState=jp(o),e.memoizedState=Vp,s);if(!(e.mode&1))return Uu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=wf(s,r,void 0),Uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$r(t,i),Qn(r,t,i,-1))}return Rg(),r=wf(Error(G(421))),Uu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Q2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=bi(i.nextSibling),bn=e,Ue=!0,qn=null,t!==null&&(Rn[Dn++]=Cr,Rn[Dn++]=Ir,Rn[Dn++]=vs,Cr=t.id,Ir=t.overflow,vs=e),e=Sg(e,r.children),e.flags|=4096,e)}function e1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rp(t.return,e,n)}function bf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,n,e);else if(t.tag===19)e1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bf(e,!0,n,null,s);break;case"together":bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V2(t,e,n){switch(e.tag){case 3:sE(e),So();break;case 5:N_(e);break;case 1:cn(e.type)&&zc(e);break;case 4:vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(Hc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?oE(t,e,n):(Oe(He,He.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,rE(t,e,n)}return Wr(t,e,n)}var lE,Fp,uE,cE;lE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};uE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(hr.current);var s=null;switch(n){case"input":i=ap(t,i),r=ap(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=cp(t,i),r=cp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}hp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ba(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j2(t,e,n){var r=e.pendingProps;switch(cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return cn(e.type)&&Uc(),jt(e),null;case 3:return r=e.stateNode,Po(),Fe(un),Fe(Kt),xg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Kp(qn),qn=null))),Fp(t,e),jt(e),null;case 5:yg(e);var i=us(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)uE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return jt(e),null}if(t=us(hr.current),Fu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[pl]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Pa.length;i++)je(Pa[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":uy(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":dy(r,s),je("invalid",r)}hp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),i=["children",""+a]):il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Au(r),cy(r,s,!0);break;case"textarea":Au(r),hy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[pl]=r,lE(t,e,!1,!1),e.stateNode=t;e:{switch(o=fp(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pa.length;i++)je(Pa[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":uy(t,r),i=ap(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),je("invalid",t);break;case"textarea":dy(t,r),i=cp(t,r),je("invalid",t);break;default:i=r}hp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ub(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sl(t,l):typeof l=="number"&&sl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?l!=null&&s==="onScroll"&&je("scroll",t):l!=null&&Qm(t,s,l,o))}switch(n){case"input":Au(t),cy(t,r,!1);break;case"textarea":Au(t),hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)cE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=us(gl.current),us(hr.current),Fu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ju(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return jt(e),null;case 13:if(Fe(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&xn!==null&&e.mode&1&&!(e.flags&128))C_(),So(),e.flags|=98560,s=!1;else if(s=Fu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[ur]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else qn!==null&&(Kp(qn),qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ht===0&&(ht=3):Rg())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Po(),Fp(t,e),t===null&&hl(e.stateNode.containerInfo),jt(e),null;case 10:return pg(e.type._context),jt(e),null;case 17:return cn(e.type)&&Uc(),jt(e),null;case 19:if(Fe(He),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ba(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gc(t),o!==null){for(e.flags|=128,ba(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>Io&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return jt(e),null}else 2*nt()-s.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function F2(t,e){switch(cg(e),e.tag){case 1:return cn(e.type)&&Uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),Fe(un),Fe(Kt),xg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yg(e),null;case 13:if(Fe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(He),null;case 4:return Po(),null;case 10:return pg(e.type._context),null;case 22:case 23:return Ag(),null;case 24:return null;default:return null}}var zu=!1,zt=!1,B2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Bp(t,e,n){try{n()}catch(r){Je(t,e,r)}}var t1=!1;function U2(t,e){if(Ep=Vc,t=m_(),lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},Vc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:$n(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(R){Je(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=t1,t1=!1,g}function Wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bp(e,n,s)}i=i.next}while(i!==r)}}function qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dE(t){var e=t.alternate;e!==null&&(t.alternate=null,dE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[pl],delete e[Pp],delete e[E2],delete e[T2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hE(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}var St=null,Hn=!1;function ti(t,e,n){for(n=n.child;n!==null;)fE(t,e,n),n=n.sibling}function fE(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(jd,n)}catch{}switch(n.tag){case 5:zt||ro(n,e);case 6:var r=St,i=Hn;St=null,ti(t,e,n),St=r,Hn=i,St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?pf(t.parentNode,n):t.nodeType===1&&pf(t,n),ul(t)):pf(St,n.stateNode));break;case 4:r=St,i=Hn,St=n.stateNode.containerInfo,Hn=!0,ti(t,e,n),St=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bp(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!zt&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,ti(t,e,n),zt=r):ti(t,e,n);break;default:ti(t,e,n)}}function r1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B2),e.forEach(function(r){var i=X2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Hn=!1;break e;case 3:St=a.stateNode.containerInfo,Hn=!0;break e;case 4:St=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(St===null)throw Error(G(160));fE(s,o,i),St=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pE(e,t),e=e.sibling}function pE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),or(t),r&4){try{Wa(3,t,t.return),qd(3,t)}catch(m){Je(t,t.return,m)}try{Wa(5,t,t.return)}catch(m){Je(t,t.return,m)}}break;case 1:Un(e,t),or(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(Un(e,t),or(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{sl(i,"")}catch(m){Je(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Lb(i,s),fp(a,o);var u=fp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Ub(i,f):c==="dangerouslySetInnerHTML"?Fb(i,f):c==="children"?sl(i,f):Qm(i,c,f,u)}switch(a){case"input":lp(i,s);break;case"textarea":Vb(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ho(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[pl]=s}catch(m){Je(t,t.return,m)}}break;case 6:if(Un(e,t),or(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Je(t,t.return,m)}}break;case 3:if(Un(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(m){Je(t,t.return,m)}break;case 4:Un(e,t),or(t);break;case 13:Un(e,t),or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cg=nt())),r&4&&r1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||c,Un(e,t),zt=u):Un(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(f=ne=c;ne!==null;){switch(p=ne,h=p.child,p.tag){case 0:case 11:case 14:case 15:Wa(4,p,p.return);break;case 1:ro(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Je(r,n,m)}}break;case 5:ro(p,p.return);break;case 22:if(p.memoizedState!==null){s1(f);continue}}h!==null?(h.return=p,ne=h):s1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bb("display",o))}catch(m){Je(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Je(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Un(e,t),or(t),r&4&&r1(t);break;case 21:break;default:Un(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hE(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sl(i,""),r.flags&=-33);var s=n1(t);$p(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n1(t);zp(t,a,o);break;default:throw Error(G(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z2(t,e,n){ne=t,mE(t)}function mE(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=zu;var u=zt;if(zu=o,(zt=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?o1(i):l!==null?(l.return=o,ne=l):o1(i);for(;s!==null;)ne=s,mE(s),s=s.sibling;ne=i,zu=a,zt=u}i1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):i1(t)}}function i1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||qd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}zt||e.flags&512&&Up(e)}catch(p){Je(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function s1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function o1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qd(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var s=e.return;try{Up(e)}catch(l){Je(e,s,l)}break;case 5:var o=e.return;try{Up(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var $2=Math.ceil,Yc=Qr.ReactCurrentDispatcher,kg=Qr.ReactCurrentOwner,Mn=Qr.ReactCurrentBatchConfig,Se=0,wt=null,ot=null,It=0,yn=0,io=$i(0),ht=0,wl=null,xs=0,Kd=0,Pg=0,Ha=null,on=null,Cg=0,Io=1/0,kr=null,Jc=!1,Wp=null,Ei=null,$u=!1,mi=null,Zc=0,qa=0,Hp=null,fc=-1,pc=0;function Yt(){return Se&6?nt():fc!==-1?fc:fc=nt()}function Ti(t){return t.mode&1?Se&2&&It!==0?It&-It:k2.transition!==null?(pc===0&&(pc=Zb()),pc):(t=De,t!==0||(t=window.event,t=t===void 0?16:o_(t.type)),t):1}function Qn(t,e,n,r){if(50<qa)throw qa=0,Hp=null,Error(G(185));Fl(t,n,r),(!(Se&2)||t!==wt)&&(t===wt&&(!(Se&2)&&(Kd|=n),ht===4&&ui(t,It)),dn(t,r),n===1&&Se===0&&!(e.mode&1)&&(Io=nt()+500,$d&&Wi()))}function dn(t,e){var n=t.callbackNode;kI(t,e);var r=Lc(t,t===wt?It:0);if(r===0)n!==null&&my(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&my(n),e===1)t.tag===0?S2(a1.bind(null,t)):S_(a1.bind(null,t)),b2(function(){!(Se&6)&&Wi()}),n=null;else{switch(e_(r)){case 1:n=eg;break;case 4:n=Yb;break;case 16:n=Oc;break;case 536870912:n=Jb;break;default:n=Oc}n=EE(n,gE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gE(t,e){if(fc=-1,pc=0,Se&6)throw Error(G(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=Lc(t,t===wt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var i=Se;Se|=2;var s=yE();(wt!==t||It!==e)&&(kr=null,Io=nt()+500,hs(t,e));do try{q2();break}catch(a){vE(t,a)}while(!0);fg(),Yc.current=s,Se=i,ot!==null?e=0:(wt=null,It=0,e=ht)}if(e!==0){if(e===2&&(i=yp(t),i!==0&&(r=i,e=qp(t,i))),e===1)throw n=wl,hs(t,0),ui(t,r),dn(t,nt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!W2(i)&&(e=ed(t,r),e===2&&(s=yp(t),s!==0&&(r=s,e=qp(t,s))),e===1))throw n=wl,hs(t,0),ui(t,r),dn(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ns(t,on,kr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=Cg+500-nt(),10<e)){if(Lc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kp(ns.bind(null,t,on,kr),e);break}ns(t,on,kr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$2(r/1960))-r,10<r){t.timeoutHandle=kp(ns.bind(null,t,on,kr),r);break}ns(t,on,kr);break;case 5:ns(t,on,kr);break;default:throw Error(G(329))}}}return dn(t,nt()),t.callbackNode===n?gE.bind(null,t):null}function qp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=ed(t,e),t!==2&&(e=on,on=n,e!==null&&Kp(e)),t}function Kp(t){on===null?on=t:on.push.apply(on,t)}function W2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Pg,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function a1(t){if(Se&6)throw Error(G(327));vo();var e=Lc(t,0);if(!(e&1))return dn(t,nt()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=yp(t);r!==0&&(e=r,n=qp(t,r))}if(n===1)throw n=wl,hs(t,0),ui(t,e),dn(t,nt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,on,kr),dn(t,nt()),null}function Ig(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Io=nt()+500,$d&&Wi())}}function ws(t){mi!==null&&mi.tag===0&&!(Se&6)&&vo();var e=Se;Se|=1;var n=Mn.transition,r=De;try{if(Mn.transition=null,De=1,t)return t()}finally{De=r,Mn.transition=n,Se=e,!(Se&6)&&Wi()}}function Ag(){yn=io.current,Fe(io)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w2(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uc();break;case 3:Po(),Fe(un),Fe(Kt),xg();break;case 5:yg(r);break;case 4:Po();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:pg(r.type._context);break;case 22:case 23:Ag()}n=n.return}if(wt=t,ot=t=Si(t.current,null),It=yn=e,ht=0,wl=null,Pg=Kd=xs=0,on=Ha=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ls=null}return t}function vE(t,e){do{var n=ot;try{if(fg(),cc.current=Xc,Qc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qc=!1}if(ys=0,yt=ut=Ke=null,$a=!1,vl=0,kg.current=null,n===null||n.return===null){ht=1,wl=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Gy(o);if(h!==null){h.flags&=-257,Qy(h,o,a,s,e),h.mode&1&&Ky(s,u,e),e=h,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Ky(s,u,e),Rg();break e}l=Error(G(426))}}else if(Ue&&a.mode&1){var v=Gy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Qy(v,o,a,s,e),dg(Co(l,a));break e}}s=l=Co(l,a),ht!==4&&(ht=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=eE(s,l,e);Uy(s,x);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ei===null||!Ei.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=tE(s,a,e);Uy(s,R);break e}}s=s.return}while(s!==null)}wE(n)}catch(_){e=_,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function yE(){var t=Yc.current;return Yc.current=Xc,t===null?Xc:t}function Rg(){(ht===0||ht===3||ht===2)&&(ht=4),wt===null||!(xs&268435455)&&!(Kd&268435455)||ui(wt,It)}function ed(t,e){var n=Se;Se|=2;var r=yE();(wt!==t||It!==e)&&(kr=null,hs(t,e));do try{H2();break}catch(i){vE(t,i)}while(!0);if(fg(),Se=n,Yc.current=r,ot!==null)throw Error(G(261));return wt=null,It=0,ht}function H2(){for(;ot!==null;)xE(ot)}function q2(){for(;ot!==null&&!vI();)xE(ot)}function xE(t){var e=_E(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?wE(t):ot=e,kg.current=null}function wE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F2(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ot=null;return}}else if(n=j2(n,e,yn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ht===0&&(ht=5)}function ns(t,e,n){var r=De,i=Mn.transition;try{Mn.transition=null,De=1,K2(t,e,n,r)}finally{Mn.transition=i,De=r}return null}function K2(t,e,n,r){do vo();while(mi!==null);if(Se&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PI(t,s),t===wt&&(ot=wt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,EE(Oc,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var o=De;De=1;var a=Se;Se|=4,kg.current=null,U2(t,n),pE(n,t),f2(Tp),Vc=!!Ep,Tp=Ep=null,t.current=n,z2(n),yI(),Se=a,De=o,Mn.transition=s}else t.current=n;if($u&&($u=!1,mi=t,Zc=i),s=t.pendingLanes,s===0&&(Ei=null),bI(n.stateNode),dn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,t=Wp,Wp=null,t;return Zc&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===Hp?qa++:(qa=0,Hp=t):qa=0,Wi(),null}function vo(){if(mi!==null){var t=e_(Zc),e=Mn.transition,n=De;try{if(Mn.transition=null,De=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Zc=0,Se&6)throw Error(G(331));var i=Se;for(Se|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Wa(8,c,s)}var f=c.child;if(f!==null)f.return=c,ne=f;else for(;ne!==null;){c=ne;var p=c.sibling,h=c.return;if(dE(c),c===u){ne=null;break}if(p!==null){p.return=h,ne=p;break}ne=h}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wa(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ne=x;break e}ne=s.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ne=E;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qd(9,a)}}catch(_){Je(a,a.return,_)}if(a===o){ne=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break e}ne=a.return}}if(Se=i,Wi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(jd,t)}catch{}r=!0}return r}finally{De=n,Mn.transition=e}}return!1}function l1(t,e,n){e=Co(n,e),e=eE(t,e,1),t=_i(t,e,1),e=Yt(),t!==null&&(Fl(t,1,e),dn(t,e))}function Je(t,e,n){if(t.tag===3)l1(t,t,n);else for(;e!==null;){if(e.tag===3){l1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=Co(n,t),t=tE(e,t,1),e=_i(e,t,1),t=Yt(),e!==null&&(Fl(e,1,t),dn(e,t));break}}e=e.return}}function G2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(It&n)===n&&(ht===4||ht===3&&(It&130023424)===It&&500>nt()-Cg?hs(t,0):Pg|=n),dn(t,e)}function bE(t,e){e===0&&(t.mode&1?(e=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):e=1);var n=Yt();t=$r(t,e),t!==null&&(Fl(t,e,n),dn(t,n))}function Q2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bE(t,n)}function X2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),bE(t,n)}var _E;_E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,V2(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ue&&e.flags&1048576&&k_(e,Wc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hc(t,e),t=e.pendingProps;var i=To(e,Kt.current);go(e,n),i=bg(null,e,r,t,i,n);var s=_g();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,zc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gg(e),i.updater=Hd,e.stateNode=i,i._reactInternals=e,Np(e,r,t,n),e=Lp(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&ug(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J2(r),t=$n(r,t),i){case 0:e=Op(null,e,r,t,n);break e;case 1:e=Jy(null,e,r,t,n);break e;case 11:e=Xy(null,e,r,t,n);break e;case 14:e=Yy(null,e,r,$n(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Jy(t,e,r,i,n);case 3:e:{if(sE(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,D_(t,e),Kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Co(Error(G(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=Co(Error(G(424)),e),e=Zy(t,e,r,n,i);break e}else for(xn=bi(e.stateNode.containerInfo.firstChild),bn=e,Ue=!0,qn=null,n=A_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=Wr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return N_(e),t===null&&Ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sp(r,i)?o=null:s!==null&&Sp(r,s)&&(e.flags|=32),iE(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return oE(t,e,n);case 4:return vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Xy(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(Hc,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!un.current){e=Wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=On(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),Yy(t,e,r,i,n);case 15:return nE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),hc(t,e),e.tag=1,cn(r)?(t=!0,zc(e)):t=!1,go(e,n),Z_(e,r,i),Np(e,r,i,n),Lp(null,e,r,!0,t,n);case 19:return aE(t,e,n);case 22:return rE(t,e,n)}throw Error(G(156,e.tag))};function EE(t,e){return Xb(t,e)}function Y2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,r){return new Y2(t,e,n,r)}function Dg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J2(t){if(typeof t=="function")return Dg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ym)return 11;if(t===Jm)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gs:return fs(n.children,i,s,e);case Xm:o=8,i|=8;break;case rp:return t=Nn(12,n,e,i|2),t.elementType=rp,t.lanes=s,t;case ip:return t=Nn(13,n,e,i),t.elementType=ip,t.lanes=s,t;case sp:return t=Nn(19,n,e,i),t.elementType=sp,t.lanes=s,t;case Nb:return Gd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rb:o=10;break e;case Db:o=9;break e;case Ym:o=11;break e;case Jm:o=14;break e;case si:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fs(t,e,n,r){return t=Nn(7,t,r,e),t.lanes=n,t}function Gd(t,e,n,r){return t=Nn(22,t,r,e),t.elementType=Nb,t.lanes=n,t.stateNode={isHidden:!1},t}function _f(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ng(t,e,n,r,i,s,o,a,l){return t=new Z2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(s),t}function eA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TE(t){if(!t)return Di;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(cn(n))return T_(t,n,e)}return e}function SE(t,e,n,r,i,s,o,a,l){return t=Ng(n,r,!0,t,i,s,o,a,l),t.context=TE(null),n=t.current,r=Yt(),i=Ti(n),s=Mr(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,Fl(t,i,r),dn(t,r),t}function Qd(t,e,n,r){var i=e.current,s=Yt(),o=Ti(i);return n=TE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,o),t!==null&&(Qn(t,i,o,s),uc(t,i,o)),o}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mg(t,e){u1(t,e),(t=t.alternate)&&u1(t,e)}function tA(){return null}var kE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Og(t){this._internalRoot=t}Xd.prototype.render=Og.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Qd(t,e,null,null)};Xd.prototype.unmount=Og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){Qd(null,t,null,null)}),e[zr]=null}};function Xd(t){this._internalRoot=t}Xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=r_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&s_(t)}};function Lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c1(){}function nA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=td(o);s.call(u)}}var o=SE(e,r,t,0,null,!1,!1,"",c1);return t._reactRootContainer=o,t[zr]=o.current,hl(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=td(l);a.call(u)}}var l=Ng(t,0,!1,null,null,!1,!1,"",c1);return t._reactRootContainer=l,t[zr]=l.current,hl(t.nodeType===8?t.parentNode:t),ws(function(){Qd(e,l,n,r)}),l}function Jd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=td(o);a.call(l)}}Qd(e,o,t,i)}else o=nA(n,e,t,i,r);return td(o)}t_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(tg(e,n|1),dn(e,nt()),!(Se&6)&&(Io=nt()+500,Wi()))}break;case 13:ws(function(){var r=$r(t,1);if(r!==null){var i=Yt();Qn(r,t,1,i)}}),Mg(t,1)}};ng=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=Yt();Qn(e,t,134217728,n)}Mg(t,134217728)}};n_=function(t){if(t.tag===13){var e=Ti(t),n=$r(t,e);if(n!==null){var r=Yt();Qn(n,t,e,r)}Mg(t,e)}};r_=function(){return De};i_=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};mp=function(t,e,n){switch(e){case"input":if(lp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zd(r);if(!i)throw Error(G(90));Ob(r),lp(r,i)}}}break;case"textarea":Vb(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};Wb=Ig;Hb=ws;var rA={usingClientEntryPoint:!1,Events:[Ul,Js,zd,zb,$b,Ig]},_a={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gb(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||tA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{jd=Wu.inject(iA),dr=Wu}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(e))throw Error(G(200));return eA(t,e,null,n)};Tn.createRoot=function(t,e){if(!Lg(t))throw Error(G(299));var n=!1,r="",i=kE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ng(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,hl(t.nodeType===8?t.parentNode:t),new Og(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Gb(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return ws(t)};Tn.hydrate=function(t,e,n){if(!Yd(e))throw Error(G(200));return Jd(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!Lg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SE(e,null,t,1,n??null,i,!1,s,o),t[zr]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xd(e)};Tn.render=function(t,e,n){if(!Yd(e))throw Error(G(200));return Jd(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!Yd(t))throw Error(G(40));return t._reactRootContainer?(ws(function(){Jd(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Ig;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yd(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Jd(t,e,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function PE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PE)}catch(t){console.error(t)}}PE(),Pb.exports=Tn;var os=Pb.exports,CE,d1=os;CE=d1.createRoot,d1.hydrateRoot;const IE=M.createContext(),sA=({children:t})=>{const[e,n]=M.useState(!1),r=()=>n(i=>!i);return A.jsx(IE.Provider,{value:{menuOpen:e,setMenuOpen:n,toggleMenu:r},children:t})},AE=()=>M.useContext(IE);/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}var gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gi||(gi={}));const h1="popstate";function oA(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ps(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Gp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:nd(s))}function r(i,s){Vg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return lA(e,n,r,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substr(2,8)}function f1(t,e){return{usr:t.state,key:t.key,idx:e}}function Gp(t,e,n,r){return n===void 0&&(n=null),bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ps(e):e,{state:n,key:e&&e.key||r||aA()})}function nd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(bl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=gi.Pop;let v=c(),x=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:x})}function p(v,x){a=gi.Push;let w=Gp(m.location,v,x);n&&n(w,v),u=c()+1;let E=f1(w,u),R=m.createHref(w);try{o.pushState(E,"",R)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(R)}s&&l&&l({action:a,location:m.location,delta:1})}function h(v,x){a=gi.Replace;let w=Gp(m.location,v,x);n&&n(w,v),u=c();let E=f1(w,u),R=m.createHref(w);o.replaceState(E,"",R),s&&l&&l({action:a,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:nd(v);return w=w.replace(/ $/,"%20"),at(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(h1,f),l=v,()=>{i.removeEventListener(h1,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:h,go(v){return o.go(v)}};return m}var p1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p1||(p1={}));function uA(t,e,n){return n===void 0&&(n="/"),cA(t,e,n,!1)}function cA(t,e,n,r){let i=typeof e=="string"?Ps(e):e,s=jg(i.pathname||"/",n);if(s==null)return null;let o=RE(t);dA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_A(s);a=wA(o[l],u,r)}return a}function RE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ki([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RE(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:yA(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DE(s.path))i(s,o,l)}),e}function DE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hA=/^:[\w-]+$/,fA=3,pA=2,mA=1,gA=10,vA=-2,m1=t=>t==="*";function yA(t,e){let n=t.split("/"),r=n.length;return n.some(m1)&&(r+=vA),e&&(r+=pA),n.filter(i=>!m1(i)).reduce((i,s)=>i+(hA.test(s)?fA:s===""?mA:gA),r)}function xA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=g1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=g1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ki([s,f.pathname]),pathnameBase:kA(ki([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ki([s,f.pathnameBase]))}return o}function g1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _A(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ps(t):t;return{pathname:n?n.startsWith("/")?n:TA(n,e):e,search:PA(r),hash:CA(i)}}function TA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NE(t,e){let n=SA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ME(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ps(t):(i=bl({},t),at(!i.pathname||!i.pathname.includes("?"),Tf("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),Tf("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),Tf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=EA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ki=t=>t.join("/").replace(/\/\/+/g,"/"),kA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OE=["post","put","patch","delete"];new Set(OE);const AA=["get",...OE];new Set(AA);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}const Fg=M.createContext(null),RA=M.createContext(null),Cs=M.createContext(null),Zd=M.createContext(null),Is=M.createContext({outlet:null,matches:[],isDataRoute:!1}),LE=M.createContext(null);function DA(t,e){let{relative:n}=e===void 0?{}:e;$l()||at(!1);let{basename:r,navigator:i}=M.useContext(Cs),{hash:s,pathname:o,search:a}=jE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $l(){return M.useContext(Zd)!=null}function Ho(){return $l()||at(!1),M.useContext(Zd).location}function VE(t){M.useContext(Cs).static||M.useLayoutEffect(t)}function Wl(){let{isDataRoute:t}=M.useContext(Is);return t?HA():NA()}function NA(){$l()||at(!1);let t=M.useContext(Fg),{basename:e,future:n,navigator:r}=M.useContext(Cs),{matches:i}=M.useContext(Is),{pathname:s}=Ho(),o=JSON.stringify(NE(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return VE(()=>{a.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=ME(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ki([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}function jE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Cs),{matches:i}=M.useContext(Is),{pathname:s}=Ho(),o=JSON.stringify(NE(i,r.v7_relativeSplatPath));return M.useMemo(()=>ME(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function MA(t,e){return OA(t,e)}function OA(t,e,n,r){$l()||at(!1);let{navigator:i}=M.useContext(Cs),{matches:s}=M.useContext(Is),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ho(),c;if(e){var f;let v=typeof e=="string"?Ps(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||at(!1),c=v}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=uA(t,{pathname:h}),m=BA(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?M.createElement(Zd.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:gi.Pop}},m):m}function LA(){let t=WA(),e=IA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const VA=M.createElement(LA,null);class jA extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Is.Provider,{value:this.props.routeContext},M.createElement(LE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FA(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Fg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Is.Provider,{value:e},r)}function BA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||at(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:h}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let h,g=!1,m=null,v=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||VA,l&&(u<0&&p===0?(g=!0,v=null):u===p&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),w=()=>{let E;return h?E=m:g?E=v:f.route.Component?E=M.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,M.createElement(FA,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(jA,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var FE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FE||{}),rd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rd||{});function UA(t){let e=M.useContext(Fg);return e||at(!1),e}function zA(t){let e=M.useContext(RA);return e||at(!1),e}function $A(t){let e=M.useContext(Is);return e||at(!1),e}function BE(t){let e=$A(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function WA(){var t;let e=M.useContext(LE),n=zA(rd.UseRouteError),r=BE(rd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HA(){let{router:t}=UA(FE.UseNavigateStable),e=BE(rd.UseNavigateStable),n=M.useRef(!1);return VE(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_l({fromRouteId:e},s)))},[t,e])}function gc(t){at(!1)}function qA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gi.Pop,navigator:s,static:o=!1,future:a}=t;$l()&&at(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:s,static:o,future:_l({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ps(r));let{pathname:c="/",search:f="",hash:p="",state:h=null,key:g="default"}=r,m=M.useMemo(()=>{let v=jg(c,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:h,key:g},navigationType:i}},[l,c,f,p,h,g,i]);return m==null?null:M.createElement(Cs.Provider,{value:u},M.createElement(Zd.Provider,{children:n,value:m}))}function KA(t){let{children:e,location:n}=t;return MA(Qp(e),n)}new Promise(()=>{});function Qp(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Qp(r.props.children,s));return}r.type!==gc&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function GA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XA(t,e){return t.button===0&&(!e||e==="_self")&&!QA(t)}const YA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JA="6";try{window.__reactRouterVersion=JA}catch{}const ZA="startTransition",v1=GC[ZA];function eR(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=oA({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=M.useCallback(f=>{u&&v1?v1(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>o.listen(c),[o,c]),M.createElement(qA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,p=GA(e,YA),{basename:h}=M.useContext(Cs),g,m=!1;if(typeof u=="string"&&nR.test(u)&&(g=u,tR))try{let E=new URL(window.location.href),R=u.startsWith("//")?new URL(E.protocol+u):new URL(u),_=jg(R.pathname,h);R.origin===E.origin&&_!=null?u=_+R.search+R.hash:m=!0}catch{}let v=DA(u,{relative:i}),x=iR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||x(E)}return M.createElement("a",Xp({},p,{href:g||v,onClick:m||s?r:w,ref:n,target:l}))});var y1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y1||(y1={}));var x1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x1||(x1={}));function iR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wl(),u=Ho(),c=jE(t,{relative:o});return M.useCallback(f=>{if(XA(f,n)){f.preventDefault();let p=r!==void 0?r:nd(u)===nd(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var w1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(p=64)),r.push(n[c],n[f],n[p],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new oR;const p=s<<2|a>>4;if(r.push(p),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=UE(t);return zE.encodeByteArray(e,!0)},id=function(t){return aR(t).replace(/\./g,"")},$E=function(t){try{return zE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof w1>"u")return;const t=w1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$E(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return uR()||cR()||dR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hR=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HE=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[id(JSON.stringify(n)),id(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function gR(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bR(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _R(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TR,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,r)}}function SR(t,e){return t.replace(kR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kR=/\{\$([^}]+)}/g;function PR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(b1(s)&&b1(o)){if(!sd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ia(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CR(t,e){const n=new IR(t,e);return n.subscribe.bind(n)}class IR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sf),i.error===void 0&&(i.error=Sf),i.complete===void 0&&(i.complete=Sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(t){return t===rs?void 0:t}function NR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const OR={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},LR=we.INFO,VR={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},jR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=LR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const FR=(t,e)=>e.some(n=>t instanceof n);let _1,E1;function BR(){return _1||(_1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return E1||(E1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Yp=new WeakMap,GE=new WeakMap,kf=new WeakMap,Ug=new WeakMap;function zR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function $R(t){if(Yp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yp.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){Jp=t(Jp)}function HR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pf(this),e,...n);return GE.set(r,e.sort?e.sort():[e]),Pi(r)}:UR().includes(t)?function(...e){return t.apply(Pf(this),e),Pi(KE.get(this))}:function(...e){return Pi(t.apply(Pf(this),e))}}function qR(t){return typeof t=="function"?HR(t):(t instanceof IDBTransaction&&$R(t),FR(t,BR())?new Proxy(t,Jp):t)}function Pi(t){if(t instanceof IDBRequest)return zR(t);if(kf.has(t))return kf.get(t);const e=qR(t);return e!==t&&(kf.set(t,e),Ug.set(e,t)),e}const Pf=t=>Ug.get(t);function KR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GR=["get","getKey","getAll","getAllKeys","count"],QR=["put","add","delete","clear"],Cf=new Map;function T1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cf.set(e,s),s}WR(t=>({...t,get:(e,n,r)=>T1(e,n)||t.get(e,n,r),has:(e,n)=>!!T1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",S1="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Bg("@firebase/app"),JR="@firebase/app-compat",ZR="@firebase/analytics-compat",e5="@firebase/analytics",t5="@firebase/app-check-compat",n5="@firebase/app-check",r5="@firebase/auth",i5="@firebase/auth-compat",s5="@firebase/database",o5="@firebase/data-connect",a5="@firebase/database-compat",l5="@firebase/functions",u5="@firebase/functions-compat",c5="@firebase/installations",d5="@firebase/installations-compat",h5="@firebase/messaging",f5="@firebase/messaging-compat",p5="@firebase/performance",m5="@firebase/performance-compat",g5="@firebase/remote-config",v5="@firebase/remote-config-compat",y5="@firebase/storage",x5="@firebase/storage-compat",w5="@firebase/firestore",b5="@firebase/vertexai",_5="@firebase/firestore-compat",E5="firebase",T5="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",S5={[Zp]:"fire-core",[JR]:"fire-core-compat",[e5]:"fire-analytics",[ZR]:"fire-analytics-compat",[n5]:"fire-app-check",[t5]:"fire-app-check-compat",[r5]:"fire-auth",[i5]:"fire-auth-compat",[s5]:"fire-rtdb",[o5]:"fire-data-connect",[a5]:"fire-rtdb-compat",[l5]:"fire-fn",[u5]:"fire-fn-compat",[c5]:"fire-iid",[d5]:"fire-iid-compat",[h5]:"fire-fcm",[f5]:"fire-fcm-compat",[p5]:"fire-perf",[m5]:"fire-perf-compat",[g5]:"fire-rc",[v5]:"fire-rc-compat",[y5]:"fire-gcs",[x5]:"fire-gcs-compat",[w5]:"fire-fst",[_5]:"fire-fst-compat",[b5]:"fire-vertex","fire-js":"fire-js",[E5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map,k5=new Map,tm=new Map;function k1(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ao(t){const e=t.name;if(tm.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of od.values())k1(n,t);for(const n of k5.values())k1(n,t);return!0}function zg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new Hl("app","Firebase",P5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=T5;function QE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ci.create("bad-app-name",{appName:String(i)});if(n||(n=HE()),!n)throw Ci.create("no-options");const s=od.get(i);if(s){if(sd(n,s.options)&&sd(r,s.config))return s;throw Ci.create("duplicate-app",{appName:i})}const o=new MR(i);for(const l of tm.values())o.addComponent(l);const a=new C5(n,r,o);return od.set(i,a),a}function XE(t=em){const e=od.get(t);if(!e&&t===em&&HE())return QE();if(!e)throw Ci.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=S5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}Ao(new bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="firebase-heartbeat-database",A5=1,El="firebase-heartbeat-store";let If=null;function YE(){return If||(If=KR(I5,A5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),If}async function R5(t){try{const n=(await YE()).transaction(El),r=await n.objectStore(El).get(JE(t));return await n.done,r}catch(e){if(e instanceof Xr)Hr.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function P1(t,e){try{const r=(await YE()).transaction(El,"readwrite");await r.objectStore(El).put(e,JE(t)),await r.done}catch(n){if(n instanceof Xr)Hr.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=1024,N5=30*24*60*60*1e3;class M5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=N5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C1(),{heartbeatsToSend:r,unsentEntries:i}=O5(this._heartbeatsCache.heartbeats),s=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hr.warn(n),""}}}function C1(){return new Date().toISOString().substring(0,10)}function O5(t,e=D5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),I1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _R()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I1(t){return id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){Ao(new bs("platform-logger",e=>new XR(e),"PRIVATE")),Ao(new bs("heartbeat",e=>new M5(e),"PRIVATE")),Ii(Zp,S1,t),Ii(Zp,S1,"esm2017"),Ii("fire-js","")}V5("");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,ZE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function S(){}S.prototype=y.prototype,T.D=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(k,C,D){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return y.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,S){S||(S=0);var k=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)k[C]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(C=0;16>C;++C)k[C]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],C=T.g[2];var D=T.g[3],N=y+(D^S&(C^D))+k[0]+3614090360&4294967295;y=S+(N<<7&4294967295|N>>>25),N=D+(C^y&(S^C))+k[1]+3905402710&4294967295,D=y+(N<<12&4294967295|N>>>20),N=C+(S^D&(y^S))+k[2]+606105819&4294967295,C=D+(N<<17&4294967295|N>>>15),N=S+(y^C&(D^y))+k[3]+3250441966&4294967295,S=C+(N<<22&4294967295|N>>>10),N=y+(D^S&(C^D))+k[4]+4118548399&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(C^y&(S^C))+k[5]+1200080426&4294967295,D=y+(N<<12&4294967295|N>>>20),N=C+(S^D&(y^S))+k[6]+2821735955&4294967295,C=D+(N<<17&4294967295|N>>>15),N=S+(y^C&(D^y))+k[7]+4249261313&4294967295,S=C+(N<<22&4294967295|N>>>10),N=y+(D^S&(C^D))+k[8]+1770035416&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(C^y&(S^C))+k[9]+2336552879&4294967295,D=y+(N<<12&4294967295|N>>>20),N=C+(S^D&(y^S))+k[10]+4294925233&4294967295,C=D+(N<<17&4294967295|N>>>15),N=S+(y^C&(D^y))+k[11]+2304563134&4294967295,S=C+(N<<22&4294967295|N>>>10),N=y+(D^S&(C^D))+k[12]+1804603682&4294967295,y=S+(N<<7&4294967295|N>>>25),N=D+(C^y&(S^C))+k[13]+4254626195&4294967295,D=y+(N<<12&4294967295|N>>>20),N=C+(S^D&(y^S))+k[14]+2792965006&4294967295,C=D+(N<<17&4294967295|N>>>15),N=S+(y^C&(D^y))+k[15]+1236535329&4294967295,S=C+(N<<22&4294967295|N>>>10),N=y+(C^D&(S^C))+k[1]+4129170786&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^C&(y^S))+k[6]+3225465664&4294967295,D=y+(N<<9&4294967295|N>>>23),N=C+(y^S&(D^y))+k[11]+643717713&4294967295,C=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(C^D))+k[0]+3921069994&4294967295,S=C+(N<<20&4294967295|N>>>12),N=y+(C^D&(S^C))+k[5]+3593408605&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^C&(y^S))+k[10]+38016083&4294967295,D=y+(N<<9&4294967295|N>>>23),N=C+(y^S&(D^y))+k[15]+3634488961&4294967295,C=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(C^D))+k[4]+3889429448&4294967295,S=C+(N<<20&4294967295|N>>>12),N=y+(C^D&(S^C))+k[9]+568446438&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^C&(y^S))+k[14]+3275163606&4294967295,D=y+(N<<9&4294967295|N>>>23),N=C+(y^S&(D^y))+k[3]+4107603335&4294967295,C=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(C^D))+k[8]+1163531501&4294967295,S=C+(N<<20&4294967295|N>>>12),N=y+(C^D&(S^C))+k[13]+2850285829&4294967295,y=S+(N<<5&4294967295|N>>>27),N=D+(S^C&(y^S))+k[2]+4243563512&4294967295,D=y+(N<<9&4294967295|N>>>23),N=C+(y^S&(D^y))+k[7]+1735328473&4294967295,C=D+(N<<14&4294967295|N>>>18),N=S+(D^y&(C^D))+k[12]+2368359562&4294967295,S=C+(N<<20&4294967295|N>>>12),N=y+(S^C^D)+k[5]+4294588738&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^C)+k[8]+2272392833&4294967295,D=y+(N<<11&4294967295|N>>>21),N=C+(D^y^S)+k[11]+1839030562&4294967295,C=D+(N<<16&4294967295|N>>>16),N=S+(C^D^y)+k[14]+4259657740&4294967295,S=C+(N<<23&4294967295|N>>>9),N=y+(S^C^D)+k[1]+2763975236&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^C)+k[4]+1272893353&4294967295,D=y+(N<<11&4294967295|N>>>21),N=C+(D^y^S)+k[7]+4139469664&4294967295,C=D+(N<<16&4294967295|N>>>16),N=S+(C^D^y)+k[10]+3200236656&4294967295,S=C+(N<<23&4294967295|N>>>9),N=y+(S^C^D)+k[13]+681279174&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^C)+k[0]+3936430074&4294967295,D=y+(N<<11&4294967295|N>>>21),N=C+(D^y^S)+k[3]+3572445317&4294967295,C=D+(N<<16&4294967295|N>>>16),N=S+(C^D^y)+k[6]+76029189&4294967295,S=C+(N<<23&4294967295|N>>>9),N=y+(S^C^D)+k[9]+3654602809&4294967295,y=S+(N<<4&4294967295|N>>>28),N=D+(y^S^C)+k[12]+3873151461&4294967295,D=y+(N<<11&4294967295|N>>>21),N=C+(D^y^S)+k[15]+530742520&4294967295,C=D+(N<<16&4294967295|N>>>16),N=S+(C^D^y)+k[2]+3299628645&4294967295,S=C+(N<<23&4294967295|N>>>9),N=y+(C^(S|~D))+k[0]+4096336452&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~C))+k[7]+1126891415&4294967295,D=y+(N<<10&4294967295|N>>>22),N=C+(y^(D|~S))+k[14]+2878612391&4294967295,C=D+(N<<15&4294967295|N>>>17),N=S+(D^(C|~y))+k[5]+4237533241&4294967295,S=C+(N<<21&4294967295|N>>>11),N=y+(C^(S|~D))+k[12]+1700485571&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~C))+k[3]+2399980690&4294967295,D=y+(N<<10&4294967295|N>>>22),N=C+(y^(D|~S))+k[10]+4293915773&4294967295,C=D+(N<<15&4294967295|N>>>17),N=S+(D^(C|~y))+k[1]+2240044497&4294967295,S=C+(N<<21&4294967295|N>>>11),N=y+(C^(S|~D))+k[8]+1873313359&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~C))+k[15]+4264355552&4294967295,D=y+(N<<10&4294967295|N>>>22),N=C+(y^(D|~S))+k[6]+2734768916&4294967295,C=D+(N<<15&4294967295|N>>>17),N=S+(D^(C|~y))+k[13]+1309151649&4294967295,S=C+(N<<21&4294967295|N>>>11),N=y+(C^(S|~D))+k[4]+4149444226&4294967295,y=S+(N<<6&4294967295|N>>>26),N=D+(S^(y|~C))+k[11]+3174756917&4294967295,D=y+(N<<10&4294967295|N>>>22),N=C+(y^(D|~S))+k[2]+718787259&4294967295,C=D+(N<<15&4294967295|N>>>17),N=S+(D^(C|~y))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var S=y-this.blockSize,k=this.B,C=this.h,D=0;D<y;){if(C==0)for(;D<=S;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<y;)if(k[C++]=T.charCodeAt(D++),C==this.blockSize){i(this,k),C=0;break}}else for(;D<y;)if(k[C++]=T[D++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var S=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=S&255,S/=256;for(this.u(T),T=Array(16),y=S=0;4>y;++y)for(var k=0;32>k;k+=8)T[S++]=this.g[y]>>>k&255;return T};function s(T,y){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function o(T,y){this.h=y;for(var S=[],k=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;k&&D==y||(S[C]=D,k=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(u(-T));for(var y=[],S=1,k=0;T>=S;k++)y[k]=T/S|0,S*=4294967296;return new o(y,0)}function c(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return v(c(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(y,8)),k=f,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),N=parseInt(T.substring(C,C+D),y);8>D?(D=u(Math.pow(y,D)),k=k.j(D).add(u(N))):(k=k.j(S),k=k.add(u(N)))}return k}var f=l(0),p=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,y=1,S=0;S<this.g.length;S++){var k=this.i(S);T+=(0<=k?k:4294967296+k)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var y=u(Math.pow(T,6)),S=this,k="";;){var C=R(S,y).g;S=x(S,C.j(y));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=C,g(S))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=x(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var y=T.g.length,S=[],k=0;k<y;k++)S[k]=~T.g[k];return new o(S,~T.h).add(p)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0,C=0;C<=y;C++){var D=k+(this.i(C)&65535)+(T.i(C)&65535),N=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);k=N>>>16,D&=65535,N&=65535,S[C]=N<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(T,y){return T.add(v(y))}t.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,S=[],k=0;k<2*y;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<T.g.length;C++){var D=this.i(k)>>>16,N=this.i(k)&65535,F=T.i(C)>>>16,z=T.i(C)&65535;S[2*k+2*C]+=N*z,w(S,2*k+2*C),S[2*k+2*C+1]+=D*z,w(S,2*k+2*C+1),S[2*k+2*C+1]+=N*F,w(S,2*k+2*C+1),S[2*k+2*C+2]+=D*F,w(S,2*k+2*C+2)}for(k=0;k<y;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=y;k<2*y;k++)S[k]=0;return new o(S,0)};function w(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function E(T,y){this.g=T,this.h=y}function R(T,y){if(g(y))throw Error("division by zero");if(g(T))return new E(f,f);if(m(T))return y=R(v(T),y),new E(v(y.g),v(y.h));if(m(y))return y=R(T,v(y)),new E(v(y.g),y.h);if(30<T.g.length){if(m(T)||m(y))throw Error("slowDivide_ only works with positive integers.");for(var S=p,k=y;0>=k.l(T);)S=_(S),k=_(k);var C=I(S,1),D=I(k,1);for(k=I(k,2),S=I(S,2);!g(k);){var N=D.add(k);0>=N.l(T)&&(C=C.add(S),D=N),k=I(k,1),S=I(S,1)}return y=x(T,C.j(y)),new E(C,y)}for(C=f;0<=T.l(y);){for(S=Math.max(1,Math.floor(T.m()/y.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(S),N=D.j(y);m(N)||0<N.l(T);)S-=k,D=u(S),N=D.j(y);g(D)&&(D=p),C=C.add(D),T=x(T,N)}return new E(C,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)&T.i(k);return new o(S,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)|T.i(k);return new o(S,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],k=0;k<y;k++)S[k]=this.i(k)^T.i(k);return new o(S,this.h^T.h)};function _(T){for(var y=T.g.length+1,S=[],k=0;k<y;k++)S[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(S,T.h)}function I(T,y){var S=y>>5;y%=32;for(var k=T.g.length-S,C=[],D=0;D<k;D++)C[D]=0<y?T.i(D+S)>>>y|T.i(D+S+1)<<32-y:T.i(D+S);return new o(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ps=o}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eT,Aa,tT,vc,nm,nT,rT,iT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,P){return d==Array.prototype||d==Object.prototype||(d[b]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var b=0;b<d.length;++b){var P=d[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var P=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var V=d[O];if(!(V in P))break e;P=P[V]}d=d[d.length-1],O=P[d],b=b(O),b!=O&&b!=null&&e(P,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var P=0,O=!1,V={next:function(){if(!O&&P<d.length){var j=P++;return{value:b(j,d[j]),done:!1}}return O=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function c(d,b,P){return d.call.apply(d.bind,arguments)}function f(d,b,P){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,O),d.apply(b,V)}}return function(){return d.apply(b,arguments)}}function p(d,b,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,p.apply(null,arguments)}function h(d,b){var P=Array.prototype.slice.call(arguments,1);return function(){var O=P.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function g(d,b){function P(){}P.prototype=b.prototype,d.aa=b.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(O,V,j){for(var X=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)X[Me-2]=arguments[Me];return b.prototype[V].apply(O,X)}}function m(d){const b=d.length;if(0<b){const P=Array(b);for(let O=0;O<b;O++)P[O]=d[O];return P}return[]}function v(d,b){for(let P=1;P<arguments.length;P++){const O=arguments[P];if(l(O)){const V=d.length||0,j=O.length||0;d.length=V+j;for(let X=0;X<j;X++)d[V+X]=O[X]}else d.push(O)}}class x{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var _=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(d,b,P){for(const O in d)b.call(P,d[O],O,d)}function T(d,b){for(const P in d)b.call(void 0,d[P],P,d)}function y(d){const b={};for(const P in d)b[P]=d[P];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,b){let P,O;for(let V=1;V<arguments.length;V++){O=arguments[V];for(P in O)d[P]=O[P];for(let j=0;j<S.length;j++)P=S[j],Object.prototype.hasOwnProperty.call(O,P)&&(d[P]=O[P])}}function C(d){var b=1;d=d.split(":");const P=[];for(;0<b&&d.length;)P.push(d.shift()),b--;return d.length&&P.push(d.join(":")),P}function D(d){a.setTimeout(()=>{throw d},0)}function N(){var d=B;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,P){const O=z.get();O.set(b,P),this.h?this.h.next=O:this.g=O,this.h=O}}var z=new x(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,B=new F,H=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(Z)}};var Z=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(P){D(P)}var b=z;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,b),a.removeEventListener("test",P,b)}catch{}return d}();function le(d,b){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(_){e:{try{R(b.nodeName);var V=!0;break e}catch{}V=!1}V||(b=null)}}else P=="mouseover"?b=d.fromElement:P=="mouseout"&&(b=d.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Q[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}g(le,W);var Q={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ve(d,b,P,O,V){this.listener=d,this.proxy=null,this.src=b,this.type=P,this.capture=!!O,this.ha=V,this.key=++oe,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Le(d){this.src=d,this.g={},this.h=0}Le.prototype.add=function(d,b,P,O,V){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var X=lt(d,b,O,V);return-1<X?(b=d[X],P||(b.fa=!1)):(b=new ve(b,this.src,j,!!O,V),b.fa=P,d.push(b)),b};function ye(d,b){var P=b.type;if(P in d.g){var O=d.g[P],V=Array.prototype.indexOf.call(O,b,void 0),j;(j=0<=V)&&Array.prototype.splice.call(O,V,1),j&&(ae(b),d.g[P].length==0&&(delete d.g[P],d.h--))}}function lt(d,b,P,O){for(var V=0;V<d.length;++V){var j=d[V];if(!j.da&&j.listener==b&&j.capture==!!P&&j.ha==O)return V}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),en={};function tn(d,b,P,O,V){if(Array.isArray(b)){for(var j=0;j<b.length;j++)tn(d,b[j],P,O,V);return null}return P=_r(P),d&&d[fe]?d.K(b,P,u(O)?!!O.capture:!!O,V):tr(d,b,P,!1,O,V)}function tr(d,b,P,O,V,j){if(!b)throw Error("Invalid event type");var X=u(V)?!!V.capture:!!V,Me=jn(d);if(Me||(d[Xe]=Me=new Le(d)),P=Me.add(b,P,O,X,j),P.proxy)return P;if(O=nr(),P.proxy=O,O.src=d,O.listener=P,d.addEventListener)ee||(V=X),V===void 0&&(V=!1),d.addEventListener(b.toString(),O,V);else if(d.attachEvent)d.attachEvent(pn(b.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return P}function nr(){function d(P){return b.call(d.src,d.listener,P)}const b=Vn;return d}function mt(d,b,P,O,V){if(Array.isArray(b))for(var j=0;j<b.length;j++)mt(d,b[j],P,O,V);else O=u(O)?!!O.capture:!!O,P=_r(P),d&&d[fe]?(d=d.i,b=String(b).toString(),b in d.g&&(j=d.g[b],P=lt(j,P,O,V),-1<P&&(ae(j[P]),Array.prototype.splice.call(j,P,1),j.length==0&&(delete d.g[b],d.h--)))):d&&(d=jn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=lt(b,P,O,V)),(P=-1<d?b[d]:null)&&gt(P))}function gt(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[fe])ye(b.i,d);else{var P=d.type,O=d.proxy;b.removeEventListener?b.removeEventListener(P,O,d.capture):b.detachEvent?b.detachEvent(pn(P),O):b.addListener&&b.removeListener&&b.removeListener(O),(P=jn(b))?(ye(P,d),P.h==0&&(P.src=null,b[Xe]=null)):ae(d)}}}function pn(d){return d in en?en[d]:en[d]="on"+d}function Vn(d,b){if(d.da)d=!0;else{b=new le(b,this);var P=d.listener,O=d.ha||d.src;d.fa&&gt(d),d=P.call(O,b)}return d}function jn(d){return d=d[Xe],d instanceof Le?d:null}var Fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _r(d){return typeof d=="function"?d:(d[Fn]||(d[Fn]=function(b){return d.handleEvent(b)}),d[Fn])}function q(){J.call(this),this.i=new Le(this),this.M=this,this.F=null}g(q,J),q.prototype[fe]=!0,q.prototype.removeEventListener=function(d,b,P,O){mt(this,d,b,P,O)};function re(d,b){var P,O=d.F;if(O)for(P=[];O;O=O.F)P.push(O);if(d=d.M,O=b.type||b,typeof b=="string")b=new W(b,d);else if(b instanceof W)b.target=b.target||d;else{var V=b;b=new W(O,d),k(b,V)}if(V=!0,P)for(var j=P.length-1;0<=j;j--){var X=b.g=P[j];V=Pe(X,O,!0,b)&&V}if(X=b.g=d,V=Pe(X,O,!0,b)&&V,V=Pe(X,O,!1,b)&&V,P)for(j=0;j<P.length;j++)X=b.g=P[j],V=Pe(X,O,!1,b)&&V}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var P=d.g[b],O=0;O<P.length;O++)ae(P[O]);delete d.g[b],d.h--}}this.F=null},q.prototype.K=function(d,b,P,O){return this.i.add(String(d),b,!1,P,O)},q.prototype.L=function(d,b,P,O){return this.i.add(String(d),b,!0,P,O)};function Pe(d,b,P,O){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var V=!0,j=0;j<b.length;++j){var X=b[j];if(X&&!X.da&&X.capture==P){var Me=X.listener,Tt=X.ha||X.src;X.fa&&ye(d.i,X),V=Me.call(Tt,O)!==!1&&V}}return V&&!O.defaultPrevented}function $e(d,b,P){if(typeof d=="function")P&&(d=p(d,P));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function it(d){d.g=$e(()=>{d.g=null,d.i&&(d.i=!1,it(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class nn extends J{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(d){J.call(this),this.h=d,this.g={}}g(rr,J);var lu=[];function uu(d){I(d.g,function(b,P){this.g.hasOwnProperty(P)&&gt(b)},d),d.g={}}rr.prototype.N=function(){rr.aa.N.call(this),uu(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ms=a.JSON.stringify,Vh=a.JSON.parse,cu=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function sa(){}sa.prototype.h=null;function du(d){return d.h||(d.h=d.i())}function hu(){}var We={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _t(){W.call(this,"d")}g(_t,W);function Et(){W.call(this,"c")}g(Et,W);var Nt={},Qt=null;function Mt(){return Qt=Qt||new q}Nt.La="serverreachability";function mn(d){W.call(this,Nt.La,d)}g(mn,W);function kn(d){const b=Mt();re(b,new mn(b))}Nt.STAT_EVENT="statevent";function rn(d,b){W.call(this,Nt.STAT_EVENT,d),this.stat=b}g(rn,W);function Ze(d){const b=Mt();re(b,new rn(b,d))}Nt.Ma="timingevent";function Yr(d,b){W.call(this,Nt.Ma,d),this.size=b}g(Yr,W);function ir(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function fu(d,b,P,O,V,j){d.info(function(){if(d.g)if(j)for(var X="",Me=j.split("&"),Tt=0;Tt<Me.length;Tt++){var ke=Me[Tt].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var Lt=Ot.split("_");X=2<=Lt.length&&Lt[1]=="type"?X+(Ot+"="+ke+"&"):X+(Ot+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+O+") [attempt "+V+"]: "+b+`
`+P+`
`+X})}function Xi(d,b,P,O,V,j,X){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+V+"]: "+b+`
`+P+`
`+j+" "+X})}function Pn(d,b,P,O){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+hC(d,P)+(O?" "+O:"")})}function oa(d,b){d.info(function(){return"TIMEOUT: "+b})}sr.prototype.info=function(){};function hC(d,b){if(!d.g)return b;if(!b)return null;try{var P=JSON.parse(b);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var O=P[d];if(!(2>O.length)){var V=O[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return Ms(P)}catch{return b}}var pu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function mu(){}g(mu,sa),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},jh=new mu;function Jr(d,b,P,O){this.j=d,this.i=b,this.l=P,this.R=O||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}var wv={},Fh={};function Bh(d,b,P){d.L=1,d.v=xu(Er(b)),d.m=P,d.P=!0,bv(d,null)}function bv(d,b){d.F=Date.now(),gu(d),d.A=Er(d.v);var P=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Ov(P.i,"t",O),d.C=0,P=d.j.J,d.h=new xv,d.g=Zv(d.j,P?b:null,!d.m),0<d.O&&(d.M=new nn(p(d.Y,d,d.g),d.O)),b=d.U,P=d.g,O=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(lu[0]=V.toString()),V=lu);for(var j=0;j<V.length;j++){var X=tn(P,V[j],O||b.handleEvent,!1,b.h||b);if(!X)break;b.g[X.key]=X}b=d.H?y(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),kn(),fu(d.i,d.u,d.A,d.l,d.R,d.m)}Jr.prototype.ca=function(d){d=d.target;const b=this.M;b&&Tr(d)==3?b.j():this.Y(d)},Jr.prototype.Y=function(d){try{if(d==this.g)e:{const Lt=Tr(this.g);var b=this.g.Ba();const Vs=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||zv(this.g)))){this.J||Lt!=4||b==7||(b==8||0>=Vs?kn(3):kn(2)),Uh(this);var P=this.g.Z();this.X=P;t:if(_v(this)){var O=zv(this.g);d="";var V=O.length,j=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),aa(this);var X="";break t}this.h.i=new a.TextDecoder}for(b=0;b<V;b++)this.h.h=!0,d+=this.h.i.decode(O[b],{stream:!(j&&b==V-1)});O.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=P==200,Xi(this.i,this.u,this.A,this.l,this.R,Lt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Tt=this.g;if((Me=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Me)){var ke=Me;break t}}ke=null}if(P=ke)Pn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zh(this,P);else{this.o=!1,this.s=3,Ze(12),Yi(this),aa(this);break e}}if(this.P){P=!0;let Bn;for(;!this.J&&this.C<X.length;)if(Bn=fC(this,X),Bn==Fh){Lt==4&&(this.s=4,Ze(14),P=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==wv){this.s=4,Ze(15),Pn(this.i,this.l,X,"[Invalid Chunk]"),P=!1;break}else Pn(this.i,this.l,Bn,null),zh(this,Bn);if(_v(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||X.length!=0||this.h.h||(this.s=1,Ze(16),P=!1),this.o=this.o&&P,!P)Pn(this.i,this.l,X,"[Invalid Chunked Response]"),Yi(this),aa(this);else if(0<X.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Gh(Ot),Ot.M=!0,Ze(11))}}else Pn(this.i,this.l,X,null),zh(this,X);Lt==4&&Yi(this),this.o&&!this.J&&(Lt==4?Qv(this.j,this):(this.o=!1,gu(this)))}else AC(this.g),P==400&&0<X.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Yi(this),aa(this)}}}catch{}finally{}};function _v(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function fC(d,b){var P=d.C,O=b.indexOf(`
`,P);return O==-1?Fh:(P=Number(b.substring(P,O)),isNaN(P)?wv:(O+=1,O+P>b.length?Fh:(b=b.slice(O,O+P),d.C=O+P,b)))}Jr.prototype.cancel=function(){this.J=!0,Yi(this)};function gu(d){d.S=Date.now()+d.I,Ev(d,d.I)}function Ev(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ir(p(d.ba,d),b)}function Uh(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Jr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(oa(this.i,this.A),this.L!=2&&(kn(),Ze(17)),Yi(this),this.s=2,aa(this)):Ev(this,this.S-d)};function aa(d){d.j.G==0||d.J||Qv(d.j,d)}function Yi(d){Uh(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,uu(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function zh(d,b){try{var P=d.j;if(P.G!=0&&(P.g==d||$h(P.h,d))){if(!d.K&&$h(P.h,d)&&P.G==3){try{var O=P.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var V=O;if(V[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)Su(P),Eu(P);else break e;Kh(P),Ze(18)}}else P.za=V[1],0<P.za-P.T&&37500>V[2]&&P.F&&P.v==0&&!P.C&&(P.C=ir(p(P.Za,P),6e3));if(1>=kv(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Zi(P,11)}else if((d.K||P.g==d)&&Su(P),!w(b))for(V=P.Da.g.parse(b),b=0;b<V.length;b++){let ke=V[b];if(P.T=ke[0],ke=ke[1],P.G==2)if(ke[0]=="c"){P.K=ke[1],P.ia=ke[2];const Ot=ke[3];Ot!=null&&(P.la=Ot,P.j.info("VER="+P.la));const Lt=ke[4];Lt!=null&&(P.Aa=Lt,P.j.info("SVER="+P.Aa));const Vs=ke[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(O=1.5*Vs,P.L=O,P.j.info("backChannelRequestTimeoutMs_="+O)),O=P;const Bn=d.g;if(Bn){const Pu=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var j=O.h;j.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Wh(j,j.h),j.h=null))}if(O.D){const Qh=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(O.ya=Qh,Ve(O.I,O.D,Qh))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),O=P;var X=d;if(O.qa=Jv(O,O.J?O.ia:null,O.W),X.K){Pv(O.h,X);var Me=X,Tt=O.L;Tt&&(Me.I=Tt),Me.B&&(Uh(Me),gu(Me)),O.g=X}else Kv(O);0<P.i.length&&Tu(P)}else ke[0]!="stop"&&ke[0]!="close"||Zi(P,7);else P.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Zi(P,7):qh(P):ke[0]!="noop"&&P.l&&P.l.ta(ke),P.v=0)}}kn(4)}catch{}}var pC=class{constructor(d,b){this.g=d,this.map=b}};function Tv(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sv(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function kv(d){return d.h?1:d.g?d.g.size:0}function $h(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Wh(d,b){d.g?d.g.add(b):d.h=b}function Pv(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Tv.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cv(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const P of d.g.values())b=b.concat(P.D);return b}return m(d.i)}function mC(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],P=d.length,O=0;O<P;O++)b.push(d[O]);return b}b=[],P=0;for(O in d)b[P++]=d[O];return b}function gC(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var P=0;P<d;P++)b.push(P);return b}b=[],P=0;for(const O in d)b[P++]=O;return b}}}function Iv(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var P=gC(d),O=mC(d),V=O.length,j=0;j<V;j++)b.call(void 0,O[j],P&&P[j],d)}var Av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vC(d,b){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var O=d[P].indexOf("="),V=null;if(0<=O){var j=d[P].substring(0,O);V=d[P].substring(O+1)}else j=d[P];b(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ji(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ji){this.h=d.h,vu(this,d.j),this.o=d.o,this.g=d.g,yu(this,d.s),this.l=d.l;var b=d.i,P=new ca;P.i=b.i,b.g&&(P.g=new Map(b.g),P.h=b.h),Rv(this,P),this.m=d.m}else d&&(b=String(d).match(Av))?(this.h=!1,vu(this,b[1]||"",!0),this.o=la(b[2]||""),this.g=la(b[3]||"",!0),yu(this,b[4]),this.l=la(b[5]||"",!0),Rv(this,b[6]||"",!0),this.m=la(b[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Ji.prototype.toString=function(){var d=[],b=this.j;b&&d.push(ua(b,Dv,!0),":");var P=this.g;return(P||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ua(b,Dv,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(ua(P,P.charAt(0)=="/"?wC:xC,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",ua(P,_C)),d.join("")};function Er(d){return new Ji(d)}function vu(d,b,P){d.j=P?la(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function yu(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function Rv(d,b,P){b instanceof ca?(d.i=b,EC(d.i,d.h)):(P||(b=ua(b,bC)),d.i=new ca(b,d.h))}function Ve(d,b,P){d.i.set(b,P)}function xu(d){return Ve(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function la(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ua(d,b,P){return typeof d=="string"?(d=encodeURI(d).replace(b,yC),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yC(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dv=/[#\/\?@]/g,xC=/[#\?:]/g,wC=/[#\?]/g,bC=/[#\?@]/g,_C=/#/g;function ca(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Zr(d){d.g||(d.g=new Map,d.h=0,d.i&&vC(d.i,function(b,P){d.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=ca.prototype,t.add=function(d,b){Zr(this),this.i=null,d=Os(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(b),this.h+=1,this};function Nv(d,b){Zr(d),b=Os(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Mv(d,b){return Zr(d),b=Os(d,b),d.g.has(b)}t.forEach=function(d,b){Zr(this),this.g.forEach(function(P,O){P.forEach(function(V){d.call(b,V,O,this)},this)},this)},t.na=function(){Zr(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),P=[];for(let O=0;O<b.length;O++){const V=d[O];for(let j=0;j<V.length;j++)P.push(b[O])}return P},t.V=function(d){Zr(this);let b=[];if(typeof d=="string")Mv(this,d)&&(b=b.concat(this.g.get(Os(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)b=b.concat(d[P])}return b},t.set=function(d,b){return Zr(this),this.i=null,d=Os(this,d),Mv(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Ov(d,b,P){Nv(d,b),0<P.length&&(d.i=null,d.g.set(Os(d,b),m(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var P=0;P<b.length;P++){var O=b[P];const j=encodeURIComponent(String(O)),X=this.V(O);for(O=0;O<X.length;O++){var V=j;X[O]!==""&&(V+="="+encodeURIComponent(String(X[O]))),d.push(V)}}return this.i=d.join("&")};function Os(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function EC(d,b){b&&!d.j&&(Zr(d),d.i=null,d.g.forEach(function(P,O){var V=O.toLowerCase();O!=V&&(Nv(this,O),Ov(this,V,P))},d)),d.j=b}function TC(d,b){const P=new sr;if(a.Image){const O=new Image;O.onload=h(ei,P,"TestLoadImage: loaded",!0,b,O),O.onerror=h(ei,P,"TestLoadImage: error",!1,b,O),O.onabort=h(ei,P,"TestLoadImage: abort",!1,b,O),O.ontimeout=h(ei,P,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else b(!1)}function SC(d,b){const P=new sr,O=new AbortController,V=setTimeout(()=>{O.abort(),ei(P,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:O.signal}).then(j=>{clearTimeout(V),j.ok?ei(P,"TestPingServer: ok",!0,b):ei(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(V),ei(P,"TestPingServer: error",!1,b)})}function ei(d,b,P,O,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),O(P)}catch{}}function kC(){this.g=new cu}function PC(d,b,P){const O=P||"";try{Iv(d,function(V,j){let X=V;u(V)&&(X=Ms(V)),b.push(O+j+"="+encodeURIComponent(X))})}catch(V){throw b.push(O+"type="+encodeURIComponent("_badmap")),V}}function wu(d){this.l=d.Ub||null,this.j=d.eb||!1}g(wu,sa),wu.prototype.g=function(){return new bu(this.l,this.j)},wu.prototype.i=function(d){return function(){return d}}({});function bu(d,b){q.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(bu,q),t=bu.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,ha(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lv(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lv(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?da(this):ha(this),this.readyState==3&&Lv(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,da(this))},t.Qa=function(d){this.g&&(this.response=d,da(this))},t.ga=function(){this.g&&da(this)};function da(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ha(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=b.next();return d.join(`\r
`)};function ha(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vv(d){let b="";return I(d,function(P,O){b+=O,b+=":",b+=P,b+=`\r
`}),b}function Hh(d,b,P){e:{for(O in P){var O=!1;break e}O=!0}O||(P=Vv(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Ve(d,b,P))}function Ye(d){q.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ye,q);var CC=/^https?$/i,IC=["POST","PUT"];t=Ye.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,P,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?du(this.o):du(jh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(j){jv(this,j);return}if(d=P||"",P=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var V in O)P.set(V,O[V]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const j of O.keys())P.set(j,O.get(j));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(P.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IC,b,void 0))||O||V||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of P)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uv(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){jv(this,j)}};function jv(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,Fv(d),_u(d)}function Fv(d){d.A||(d.A=!0,re(d,"complete"),re(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,re(this,"complete"),re(this,"abort"),_u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_u(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bv(this):this.bb())},t.bb=function(){Bv(this)};function Bv(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Tr(d)!=4||d.Z()!=2)){if(d.u&&Tr(d)==4)$e(d.Ea,0,d);else if(re(d,"readystatechange"),Tr(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var O;if(O=X===0){var V=String(d.D).match(Av)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),O=!CC.test(V?V.toLowerCase():"")}P=O}if(P)re(d,"complete"),re(d,"success");else{d.m=6;try{var j=2<Tr(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",Fv(d)}}finally{_u(d)}}}}function _u(d,b){if(d.g){Uv(d);const P=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||re(d,"ready");try{P.onreadystatechange=O}catch{}}}function Uv(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Tr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Vh(b)}};function zv(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function AC(d){const b={};d=(d.g&&2<=Tr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(w(d[O]))continue;var P=C(d[O]);const V=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const j=b[V]||[];b[V]=j,j.push(P)}T(b,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(d,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||b}function $v(d){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,d),this.cb=fa("retryDelaySeedMs",1e4,d),this.Wa=fa("forwardChannelMaxRetries",2,d),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Tv(d&&d.concurrentRequestLimit),this.Da=new kC,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$v.prototype,t.la=8,t.G=1,t.connect=function(d,b,P,O){Ze(0),this.W=d,this.H=b||{},P&&O!==void 0&&(this.H.OSID=P,this.H.OAID=O),this.F=this.X,this.I=Jv(this,null,this.W),Tu(this)};function qh(d){if(Wv(d),d.G==3){var b=d.U++,P=Er(d.I);if(Ve(P,"SID",d.K),Ve(P,"RID",b),Ve(P,"TYPE","terminate"),pa(d,P),b=new Jr(d,d.j,b),b.L=2,b.v=xu(Er(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=b.v,P=!0),P||(b.g=Zv(b.j,null),b.g.ea(b.v)),b.F=Date.now(),gu(b)}Yv(d)}function Eu(d){d.g&&(Gh(d),d.g.cancel(),d.g=null)}function Wv(d){Eu(d),d.u&&(a.clearTimeout(d.u),d.u=null),Su(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Tu(d){if(!Sv(d.h)&&!d.s){d.s=!0;var b=d.Ga;U||H(),L||(U(),L=!0),B.add(b,d),d.B=0}}function RC(d,b){return kv(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ir(p(d.Ga,d,b),Xv(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Jr(this,this.j,d);let j=this.o;if(this.S&&(j?(j=y(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var O=this.i[P];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=qv(this,V,b),P=Er(this.I),Ve(P,"RID",d),Ve(P,"CVER",22),this.D&&Ve(P,"X-HTTP-Session-Id",this.D),pa(this,P),j&&(this.O?b="headers="+encodeURIComponent(String(Vv(j)))+"&"+b:this.m&&Hh(P,this.m,j)),Wh(this.h,V),this.Ua&&Ve(P,"TYPE","init"),this.P?(Ve(P,"$req",b),Ve(P,"SID","null"),V.T=!0,Bh(V,P,null)):Bh(V,P,b),this.G=2}}else this.G==3&&(d?Hv(this,d):this.i.length==0||Sv(this.h)||Hv(this))};function Hv(d,b){var P;b?P=b.l:P=d.U++;const O=Er(d.I);Ve(O,"SID",d.K),Ve(O,"RID",P),Ve(O,"AID",d.T),pa(d,O),d.m&&d.o&&Hh(O,d.m,d.o),P=new Jr(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),b&&(d.i=b.D.concat(d.i)),b=qv(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Wh(d.h,P),Bh(P,O,b)}function pa(d,b){d.H&&I(d.H,function(P,O){Ve(b,O,P)}),d.l&&Iv({},function(P,O){Ve(b,O,P)})}function qv(d,b,P){P=Math.min(d.i.length,P);var O=d.l?p(d.l.Na,d.l,d):null;e:{var V=d.i;let j=-1;for(;;){const X=["count="+P];j==-1?0<P?(j=V[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let Me=!0;for(let Tt=0;Tt<P;Tt++){let ke=V[Tt].g;const Ot=V[Tt].map;if(ke-=j,0>ke)j=Math.max(0,V[Tt].g-100),Me=!1;else try{PC(Ot,X,"req"+ke+"_")}catch{O&&O(Ot)}}if(Me){O=X.join("&");break e}}}return d=d.i.splice(0,P),b.D=d,O}function Kv(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;U||H(),L||(U(),L=!0),B.add(b,d),d.v=0}}function Kh(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ir(p(d.Fa,d),Xv(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Gv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ir(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Eu(this),Gv(this))};function Gh(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Gv(d){d.g=new Jr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Er(d.qa);Ve(b,"RID","rpc"),Ve(b,"SID",d.K),Ve(b,"AID",d.T),Ve(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ve(b,"TO",d.ja),Ve(b,"TYPE","xmlhttp"),pa(d,b),d.m&&d.o&&Hh(b,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=xu(Er(b)),P.m=null,P.P=!0,bv(P,d)}t.Za=function(){this.C!=null&&(this.C=null,Eu(this),Kh(this),Ze(19))};function Su(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Qv(d,b){var P=null;if(d.g==b){Su(d),Gh(d),d.g=null;var O=2}else if($h(d.h,b))P=b.D,Pv(d.h,b),O=1;else return;if(d.G!=0){if(b.o)if(O==1){P=b.m?b.m.length:0,b=Date.now()-b.F;var V=d.B;O=Mt(),re(O,new Yr(O,P)),Tu(d)}else Kv(d);else if(V=b.s,V==3||V==0&&0<b.X||!(O==1&&RC(d,b)||O==2&&Kh(d)))switch(P&&0<P.length&&(b=d.h,b.i=b.i.concat(P)),V){case 1:Zi(d,5);break;case 4:Zi(d,10);break;case 3:Zi(d,6);break;default:Zi(d,2)}}}function Xv(d,b){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*b}function Zi(d,b){if(d.j.info("Error code "+b),b==2){var P=p(d.fb,d),O=d.Xa;const V=!O;O=new Ji(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vu(O,"https"),xu(O),V?TC(O.toString(),P):SC(O.toString(),P)}else Ze(2);d.G=0,d.l&&d.l.sa(b),Yv(d),Wv(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Yv(d){if(d.G=0,d.ka=[],d.l){const b=Cv(d.h);(b.length!=0||d.i.length!=0)&&(v(d.ka,b),v(d.ka,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.ra()}}function Jv(d,b,P){var O=P instanceof Ji?Er(P):new Ji(P);if(O.g!="")b&&(O.g=b+"."+O.g),yu(O,O.s);else{var V=a.location;O=V.protocol,b=b?b+"."+V.hostname:V.hostname,V=+V.port;var j=new Ji(null);O&&vu(j,O),b&&(j.g=b),V&&yu(j,V),P&&(j.l=P),O=j}return P=d.D,b=d.ya,P&&b&&Ve(O,P,b),Ve(O,"VER",d.la),pa(d,O),O}function Zv(d,b,P){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Ye(new wu({eb:P})):new Ye(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ey(){}t=ey.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ku(){}ku.prototype.g=function(d,b){return new gn(d,b)};function gn(d,b){q.call(this),this.g=new $v(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!w(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ls(this)}g(gn,q),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){qh(this.g)},gn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Ms(d),d=P);b.i.push(new pC(b.Ya++,d)),b.G==3&&Tu(b)},gn.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,gn.aa.N.call(this)};function ty(d){_t.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const P in b){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}g(ty,_t);function ny(){Et.call(this),this.status=1}g(ny,Et);function Ls(d){this.g=d}g(Ls,ey),Ls.prototype.ua=function(){re(this.g,"a")},Ls.prototype.ta=function(d){re(this.g,new ty(d))},Ls.prototype.sa=function(d){re(this.g,new ny)},Ls.prototype.ra=function(){re(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,iT=function(){return new ku},rT=function(){return Mt()},nT=Nt,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,vc=pu,yv.COMPLETE="complete",tT=yv,hu.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",q.prototype.listen=q.prototype.K,Aa=hu,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,eT=Ye}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Bg("@firebase/firestore");function $s(){return _s.logLevel}function te(t,...e){if(_s.logLevel<=we.DEBUG){const n=e.map($g);_s.debug(`Firestore (${Ko}): ${t}`,...n)}}function qr(t,...e){if(_s.logLevel<=we.ERROR){const n=e.map($g);_s.error(`Firestore (${Ko}): ${t}`,...n)}}function Ro(t,...e){if(_s.logLevel<=we.WARN){const n=e.map($g);_s.warn(`Firestore (${Ko}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Ae(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class F5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B5{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new sT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Ut(e)}}class U5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new U5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new $5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=H5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Tl{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const q5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Tl{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return q5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ze.fromString(e))}static fromName(e){return new ue(ze.fromString(e).popFirst(5))}static empty(){return new ue(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ze(e.slice()))}}function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Ni(i,ue.empty(),e)}function G5(t){return new Ni(t.readTime,t.key,-1)}class Ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ni(me.min(),ue.empty(),-1)}static max(){return new Ni(me.max(),ue.empty(),-1)}}function Q5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==X5)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function J5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}th.oe=-1;function nh(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function Z5(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D1(e)),e=tD(t.get(n),e);return D1(e)}function tD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function D1(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M1(this.data.getIterator())}getIteratorFrom(e){return new M1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class M1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new wn([])}unionWith(e){let n=new bt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lT("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=nD.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rh(t){const e=t.mapValue.fields.__previous_value__;return Wg(e)?rh(e):e}function Sl(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:sD(t)?9007199254740991:iD(t)?10:11:he()}function xr(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mi(i.timestampValue),a=Mi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Oi(i.bytesValue).isEqual(Oi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return tt(i.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tt(i.integerValue)===tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tt(i.doubleValue),a=tt(s.doubleValue);return o===a?ad(o)===ad(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(N1(o)!==N1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!xr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Pl(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=Li(t),r=Li(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tt(s.integerValue||s.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return O1(t.timestampValue,e.timestampValue);case 4:return O1(Sl(t),Sl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Oi(s),l=Oi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Te(a[u],l[u]);if(c!==0)return c}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(tt(s.latitude),tt(o.latitude));return a!==0?a:Te(tt(s.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const f=s.fields||{},p=o.fields||{},h=(a=f.value)===null||a===void 0?void 0:a.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,m=Te(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:L1(h,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ku.mapValue&&o===Ku.mapValue)return 0;if(s===Ku.mapValue)return 1;if(o===Ku.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=Te(l[f],c[f]);if(p!==0)return p;const h=No(a[l[f]],u[c[f]]);if(h!==0)return h}return Te(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function O1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Mi(t),r=Mi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function L1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=No(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function Mo(t){return rm(t)}function rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rm(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function yc(t){switch(Li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(t);return e?16+yc(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+yc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hi(r.fields,(s,o)=>{i+=s.length+yc(o)}),i}(t.mapValue);default:throw he()}}function im(t){return!!t&&"integerValue"in t}function Hg(t){return!!t&&"arrayValue"in t}function V1(t){return!!t&&"nullValue"in t}function j1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xc(t){return!!t&&"mapValue"in t}function iD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ka(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(Ka(this.value))}}function uT(t){const e=[];return Hi(t.fields,(n,r)=>{const i=new Ct([n]);if(xc(r)){const s=uT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,me.min(),me.min(),me.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,me.min(),me.min(),an.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,me.min(),me.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function F1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=No(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function B1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function oD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class dt extends cT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lD(e,n,r):n==="array-contains"?new dD(e,r):n==="in"?new hD(e,r):n==="not-in"?new fD(e,r):n==="array-contains-any"?new pD(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uD(e,r):new cD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return dT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dT(t){return t.op==="and"}function hT(t){return aD(t)&&dT(t)}function aD(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function sm(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(hT(t))return t.filters.map(e=>sm(e)).join(",");{const e=t.filters.map(n=>sm(n)).join(",");return`${t.op}(${e})`}}function fT(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&xr(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fT(o,i.filters[a]),!0):!1}(t,e):void he()}function pT(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(pT).join(" ,")+"}"}(t):"Filter"}class lD extends dt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class uD extends dt{constructor(e,n){super(e,"in",n),this.keys=mT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cD extends dt{constructor(e,n){super(e,"not-in",n),this.keys=mT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class dD extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hg(n)&&Pl(n.arrayValue,this.value)}}class hD extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class fD extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pl(this.value.arrayValue,n)}}class pD extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function U1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mD(t,e,n,r,i,s,o)}function qg(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ue=n}return e.ue}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B1(t.startAt,e.startAt)&&B1(t.endAt,e.endAt)}function om(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gD(t,e,n,r,i,s,o,a){return new ih(t,e,n,r,i,s,o,a)}function Gg(t){return new ih(t)}function z1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vD(t){return t.collectionGroup!==null}function Ga(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ud(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new ud(Ct.keyField(),r))}return e.ce}function fr(t){const e=ge(t);return e.le||(e.le=yD(e,Ga(t))),e.le}function yD(t,e){if(t.limitType==="F")return U1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ud(i.field,s)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return U1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function am(t,e,n){return new ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Kg(fr(t),fr(e))&&t.limitType===e.limitType}function gT(t){return`${qg(fr(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pT(i)).join(", ")}]`),nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ga(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=F1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ga(r),i)||r.endAt&&!function(o,a,l){const u=F1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ga(r),i))}(t,e)}function xD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vT(t){return(e,n)=>{let r=!1;for(const i of Ga(t)){const s=wD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wD(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?No(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Qe(ue.comparator);function Kr(){return bD}const yT=new Qe(ue.comparator);function Ra(...t){let e=yT;for(const n of t)e=e.insert(n.key,n);return e}function xT(t){let e=yT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return Qa()}function wT(){return Qa()}function Qa(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const _D=new Qe(ue.comparator),ED=new bt(ue.comparator);function _e(...t){let e=ED;for(const n of t)e=e.add(n);return e}const TD=new bt(Te);function SD(){return TD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function bT(t){return{integerValue:""+t}}function kD(t,e){return Z5(e)?bT(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function PD(t,e,n){return t instanceof cd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wg(s)&&(s=rh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Cl?ET(t,e):t instanceof Il?TT(t,e):function(i,s){const o=_T(i,s),a=$1(o)+$1(i.Pe);return im(o)&&im(i.Pe)?bT(a):Qg(i.serializer,a)}(t,e)}function CD(t,e,n){return t instanceof Cl?ET(t,e):t instanceof Il?TT(t,e):n}function _T(t,e){return t instanceof dd?function(r){return im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cd extends ah{}class Cl extends ah{constructor(e){super(),this.elements=e}}function ET(t,e){const n=ST(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends ah{constructor(e){super(),this.elements=e}}function TT(t,e){let n=ST(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class dd extends ah{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $1(t){return tt(t.integerValue||t.doubleValue)}function ST(t){return Hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ID(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cl&&i instanceof Cl||r instanceof Il&&i instanceof Il?Do(r.elements,i.elements,xr):r instanceof dd&&i instanceof dd?xr(r.Pe,i.Pe):r instanceof cd&&i instanceof cd}(t.transform,e.transform)}class AD{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lh{}function kT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xg(t.key,Xn.none()):new Kl(t.key,t.data,Xn.none());{const n=t.data,r=an.empty();let i=new bt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(t.key,r,new wn(i.toArray()),Xn.none())}}function RD(t,e,n){t instanceof Kl?function(i,s,o){const a=i.value.clone(),l=H1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,s,o){if(!wc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=H1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Kl?function(s,o,a,l){if(!wc(s.precondition,o))return a;const u=s.value.clone(),c=q1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(s,o,a,l){if(!wc(s.precondition,o))return a;const u=q1(s.fieldTransforms,l,o),c=o.data;return c.setAll(PT(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return wc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_T(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function W1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(s,o)=>ID(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kl extends lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends lh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function H1(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,CD(o,a,n[i]))}return r}function q1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,PD(s,o,e))}return r}class Xg extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=kT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>W1(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>W1(n,r))}}class Yg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return _D}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Yg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ee;function VD(t){switch(t){default:return he();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function CT(t){if(t===void 0)return qr("GRPC error has no .code"),K.UNKNOWN;switch(t){case st.OK:return K.OK;case st.CANCELLED:return K.CANCELLED;case st.UNKNOWN:return K.UNKNOWN;case st.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case st.INTERNAL:return K.INTERNAL;case st.UNAVAILABLE:return K.UNAVAILABLE;case st.UNAUTHENTICATED:return K.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case st.NOT_FOUND:return K.NOT_FOUND;case st.ALREADY_EXISTS:return K.ALREADY_EXISTS;case st.PERMISSION_DENIED:return K.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case st.ABORTED:return K.ABORTED;case st.OUT_OF_RANGE:return K.OUT_OF_RANGE;case st.UNIMPLEMENTED:return K.UNIMPLEMENTED;case st.DATA_LOSS:return K.DATA_LOSS;default:return he()}}(Ee=st||(st={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new ps([4294967295,4294967295],0);function K1(t){const e=jD().encode(t),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function G1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class Jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Da(`Invalid padding: ${n}`);if(r<0)throw new Da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Da(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(FD)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K1(e),[r,i]=G1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Jg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=K1(e),[r,i]=G1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uh(me.min(),i,new Qe(Te),Kr(),_e())}}class Gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class IT{constructor(e,n){this.targetId=e,this.me=n}}class AT{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q1{constructor(){this.fe=0,this.ge=Y1(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Gl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Y1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kr(),this.qe=X1(),this.Qe=new Qe(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(om(s))if(r===0){const o=new ue(s.path);this.Ue(n,o,$t.newNoDocument(o,me.min()))}else Ae(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Oi(r).toUint8Array()}catch(l){if(l instanceof lT)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jg(o,i,s)}catch(l){return Ro(l instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&om(a.target)){const l=new ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,$t.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new uh(e,n,this.Qe,this.ke,r);return this.ke=Kr(),this.qe=X1(),this.Qe=new Qe(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Q1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X1(){return new Qe(ue.comparator)}function Y1(){return new Qe(ue.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class WD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||nh(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HD(t,e){return hd(t,e.toTimestamp())}function pr(t){return Ae(!!t),me.fromTimestamp(function(n){const r=Mi(n);return new ft(r.seconds,r.nanos)}(t))}function Zg(t,e){return um(t,e).canonicalString()}function um(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DT(t){const e=ze.fromString(t);return Ae(VT(e)),e}function cm(t,e){return Zg(t.databaseId,e.path)}function Af(t,e){const n=DT(e);if(n.get(1)!==t.databaseId.projectId)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(MT(n))}function NT(t,e){return Zg(t.databaseId,e)}function qD(t){const e=DT(t);return e.length===4?ze.emptyPath():MT(e)}function dm(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MT(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function J1(t,e,n){return{name:cm(t,e),fields:n.value.mapValue.fields}}function KD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ae(c===void 0||typeof c=="string"),Dt.fromBase64String(c||"")):(Ae(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?K.UNKNOWN:CT(u.code);return new se(c,u.message||"")}(o);n=new AT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Af(t,r.document.name),s=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):me.min(),a=new an({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Af(t,r.document),s=r.readTime?pr(r.readTime):me.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Af(t,r.document),s=r.removedTargetIds||[];n=new bc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new LD(i,s),a=r.targetId;n=new IT(a,o)}}return n}function GD(t,e){let n;if(e instanceof Kl)n={update:J1(t,e.key,e.value)};else if(e instanceof Xg)n={delete:cm(t,e.key)};else if(e instanceof qi)n={update:J1(t,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof ND))return he();n={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function QD(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pr(i.updateTime):pr(s);return o.isEqual(me.min())&&(o=pr(s)),new AD(o,i.transformResults||[])}(n,e))):[]}function XD(t,e){return{documents:[NT(t,e.path)]}}function YD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NT(t,i);const s=function(u){if(u.length!==0)return LT(wr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Hs(p.field),direction:eN(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function JD(t){let e=qD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const p=OT(f);return p instanceof wr&&hT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(g){return new ud(qs(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,nh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new ld(h,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,h=f.values||[];return new ld(h,p)}(n.endAt)),gD(e,i,o,s,a,"F",l,u)}function ZD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qs(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qs(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qs(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qs(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>OT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function eN(t){return UD[t]}function tN(t){return zD[t]}function nN(t){return $D[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function qs(t){return Ct.fromServerFormat(t.fieldPath)}function LT(t){return t instanceof dt?function(n){if(n.op==="=="){if(j1(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(V1(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j1(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(V1(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:tN(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>LT(i));return r.length===1?r[0]:{compositeFilter:{op:nN(n.op),filters:r}}}(t):he()}function rN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.ct=e}}function sN(t){const e=JD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.un=new aN}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ni.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class aN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oo(0)}static kn(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class lN{constructor(e){this.Un=e,this.buffer=new bt(ex),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ex(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Hn(3e5)})}}class cN{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(th.oe);const r=new lN(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Z1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),$s()<=we.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function dN(t,e){return new cN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,wn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Kr();const o=Qa(),a=function(){return Qa()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof qi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Xa(c.mutation,u,c.mutation.getFieldMask(),ft.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new fN(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qa();let i=new Qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=wT();c.forEach(p=>{if(!s.has(p)){const h=kT(n.get(p),r.get(p));h!==null&&f.set(p,h),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(cs());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(c=>({batchId:a,changes:xT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(f,p){return new ih(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$t.newInvalidDocument(c)))});let a=Ra();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Xa(c.mutation,u,wn.empty(),ft.now()),oh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sN(i.bundledQuery),readTime:pr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.overlays=new Qe(ue.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=cs(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=cs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OD(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.Tr=new bt(vt.Er),this.dr=new bt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ue(new ze([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new ze([])),r=new vt(n,e),i=new vt(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bt(vt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Te);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new vt(new ue(s),0);let a=new bt(Te);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.Mr=e,this.docs=function(){return new Qe(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Q5(G5(c),r)<=0||(i.has(c.key)||oh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wN(this)}getSize(e){return $.resolve(this.size)}}class wN extends hN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.persistence=e,this.Nr=new As(n=>qg(n),Kg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new e0,this.targetCount=0,this.kr=Oo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.qr={},this.overlays={},this.Qr=new th(0),this.Kr=!1,this.Kr=!0,this.$r=new vN,this.referenceDelegate=e(this),this.Ur=new bN(this),this.indexManager=new oN,this.remoteDocumentCache=function(i){return new xN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iN(n),this.Gr=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new _N(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class _N extends Y5{constructor(e){super(),this.currentSequenceNumber=e}}class t0{constructor(e){this.persistence=e,this.Jr=new e0,this.Yr=null}static Zr(e){return new t0(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=ue.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.ti=new As(r=>eD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dN(this,n)}static Zr(e,n){return new fd(e,n)}zr(){}jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return $.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yc(e.data.value)),n}nr(e,n,r){return $.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bR()?8:J5(Gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EN;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($s()<=we.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):($s()<=we.DEBUG&&te("QueryEngine","Query:",Ws(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($s()<=we.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):$.resolve())}Yi(e,n){if(z1(n))return $.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=am(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,am(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return z1(n)||i.isEqual(me.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):($s()<=we.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(n)),this.rs(e,o,n,K5(i,-1)).next(a=>a))})}ts(e,n){let r=new bt(vT(e));return n.forEach((i,s)=>{oh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return $s()<=we.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qe(Te),this._s=new As(s=>qg(s),Kg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function kN(t,e,n,r){return new SN(t,e,n,r)}async function FT(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function PN(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,p=f.keys();let h=$.resolve();return p.forEach(g=>{h=h.next(()=>c.getEntry(l,g)).next(m=>{const v=u.docVersions.get(g);Ae(v!==null),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BT(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function CN(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,f)));let h=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Dt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,h,c)&&a.push(n.Ur.updateTargetData(s,h))});let l=Kr(),u=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(IN(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(me.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function IN(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function AN(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RN(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function hm(t,e,n){const r=ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qo(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tx(t,e,n){const r=ge(t);let i=me.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ge(l),p=f._s.get(c);return p!==void 0?$.resolve(f.os.get(p)):f.Ur.getTargetData(u,c)}(r,o,fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:_e())).next(a=>(DN(r,xD(e),a),{documents:a,Ts:s})))}function DN(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nx{constructor(){this.activeTargetIds=SD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NN{constructor(){this.so=new nx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Rf(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class VN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Rf(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(te("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=ON[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Rf();return new Promise((o,a)=>{const l=new eT;l.setWithCredentials(!0),l.listenOnce(tT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vc.NO_ERROR:const c=l.getResponseJson();te(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case vc.TIMEOUT:te(Ft,`RPC '${e}' ${s} timed out`),a(new se(K.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const f=l.getStatus();if(te(Ft,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const h=p==null?void 0:p.error;if(h&&h.status&&h.message){const g=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(h.status);a(new se(g,h.message))}else a(new se(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(K.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Rf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iT(),a=rT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");te(Ft,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,h=!1;const g=new LN({Io:v=>{h?te(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(te(Ft,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),te(Ft,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),m=(v,x,w)=>{v.listen(x,E=>{try{w(E)}catch(R){setTimeout(()=>{throw R},0)}})};return m(f,Aa.EventType.OPEN,()=>{h||(te(Ft,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(f,Aa.EventType.CLOSE,()=>{h||(h=!0,te(Ft,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(f,Aa.EventType.ERROR,v=>{h||(h=!0,Ro(Ft,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new se(K.UNAVAILABLE,"The operation could not be completed")))}),m(f,Aa.EventType.MESSAGE,v=>{var x;if(!h){const w=v.data[0];Ae(!!w);const E=w,R=E.error||((x=E[0])===null||x===void 0?void 0:x.error);if(R){te(Ft,`RPC '${e}' stream ${i} received error:`,R);const _=R.status;let I=function(S){const k=st[S];if(k!==void 0)return CT(k)}(_),T=R.message;I===void 0&&(I=K.INTERNAL,T="Unknown error status: "+_+" with message "+R.message),h=!0,g.So(new se(I,T)),f.close()}else te(Ft,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),m(a,nT.STAT_EVENT,v=>{v.stat===nm.PROXY?te(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===nm.NOPROXY&&te(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return new WD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new UT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jN extends zT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=KD(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?pr(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=dm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=om(l)?{documents:XD(s,l)}:{query:YD(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RT(s,o.resumeToken);const u=lm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=hd(s,o.snapshotVersion.toTimestamp());const u=lm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ZD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.a_(n)}}class FN extends zT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=QD(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=dm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,um(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,um(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Rs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await Ql(u),u.q_.set("Unknown"),u.L_.delete(4),await dh(u)}(this))})}),this.q_=new UN(r,i)}}async function dh(t){if(Rs(t))for(const e of t.B_)await e(!0)}async function Ql(t){for(const e of t.B_)await e(!1)}function $T(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),o0(n)?s0(n):Xo(n).r_()&&i0(n,e))}function r0(t,e){const n=ge(t),r=Xo(n);n.N_.delete(e),r.r_()&&WT(n,e),n.N_.size===0&&(r.r_()?r.o_():Rs(n)&&n.q_.set("Unknown"))}function i0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).A_(e)}function WT(t,e){t.Q_.xe(e),Xo(t).R_(e)}function s0(t){t.Q_=new BD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.q_.v_()}function o0(t){return Rs(t)&&!Xo(t).n_()&&t.N_.size>0}function Rs(t){return ge(t).L_.size===0}function HT(t){t.Q_=void 0}async function $N(t){t.q_.set("Online")}async function WN(t){t.N_.forEach((e,n)=>{i0(t,e)})}async function HN(t,e){HT(t),o0(t)?(t.q_.M_(e),s0(t)):t.q_.set("Unknown")}async function qN(t,e,n){if(t.q_.set("Online"),e instanceof AT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pd(t,r)}else if(e instanceof bc?t.Q_.Ke(e):e instanceof IT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await BT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),WT(s,l);const f=new vi(c.target,l,u,c.sequenceNumber);i0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await pd(t,r)}}async function pd(t,e,n){if(!Qo(e))throw e;t.L_.add(1),await Ql(t),t.q_.set("Offline"),n||(n=()=>BT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dh(t)})}function qT(t,e){return e().catch(n=>pd(t,n,e))}async function hh(t){const e=ge(t),n=Vi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KN(e);)try{const i=await AN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,GN(e,i)}catch(i){await pd(e,i)}KT(e)&&GT(e)}function KN(t){return Rs(t)&&t.O_.length<10}function GN(t,e){t.O_.push(e);const n=Vi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KT(t){return Rs(t)&&!Vi(t).n_()&&t.O_.length>0}function GT(t){Vi(t).start()}async function QN(t){Vi(t).p_()}async function XN(t){const e=Vi(t);for(const n of t.O_)e.m_(n.mutations)}async function YN(t,e,n){const r=t.O_.shift(),i=Yg.from(r,e,n);await qT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hh(t)}async function JN(t,e){e&&Vi(t).V_&&await async function(r,i){if(function(o){return VD(o)&&o!==K.ABORTED}(i.code)){const s=r.O_.shift();Vi(r).s_(),await qT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hh(r)}}(t,e),KT(t)&&GT(t)}async function ix(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.L_.add(3),await Ql(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dh(n)}async function ZN(t,e){const n=ge(t);e?(n.L_.delete(2),await dh(n)):e||(n.L_.add(2),await Ql(n),n.q_.set("Unknown"))}function Xo(t){return t.K_||(t.K_=function(n,r,i){const s=ge(n);return s.w_(),new jN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$N.bind(null,t),Ro:WN.bind(null,t),mo:HN.bind(null,t),d_:qN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),o0(t)?s0(t):t.q_.set("Unknown")):(await t.K_.stop(),HT(t))})),t.K_}function Vi(t){return t.U_||(t.U_=function(n,r,i){const s=ge(n);return s.w_(),new FN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QN.bind(null,t),mo:JN.bind(null,t),f_:XN.bind(null,t),g_:YN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hh(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new a0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(qr("AsyncQueue",`${e}: ${t}`),Qo(t))return new se(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.W_=new Qe(ue.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,yo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tM{constructor(){this.queries=ox(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),s=i.queries;i.queries=ox(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(K.ABORTED,"Firestore shutting down"))}}function ox(){return new As(t=>gT(t),sh)}async function QT(t,e){const n=ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new eM,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=l0(o,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&u0(n)}async function XT(t,e){const n=ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nM(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&u0(n)}function rM(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function u0(t){t.Y_.forEach(e=>{e.next()})}var fm,ax;(ax=fm||(fm={})).ea="default",ax.Cache="cache";class YT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class iM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=vT(e),this.Ra=new yo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),h=oh(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;p&&h?p.data.isEqual(h.data)?g!==m&&(r.track({type:3,doc:h}),v=!0):this.ga(p,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(a=!0)):!p&&h?(r.track({type:0,doc:h}),v=!0):p&&!h&&(r.track({type:1,doc:p}),v=!0,(l||u)&&(a=!0)),v&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(h,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return m(h)-m(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Lo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ZT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new JT(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oM{constructor(e){this.key=e,this.va=!1}}class aM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new As(a=>gT(a),sh),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(ue.comparator),this.Na=new Map,this.La=new e0,this.Ba={},this.ka=new Map,this.qa=Oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lM(t,e,n=!0){const r=sS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await eS(r,e,n,!0),i}async function uM(t,e){const n=sS(t);await eS(n,e,!0,!1)}async function eS(t,e,n,r){const i=await RN(t.localStore,fr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await cM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$T(t.remoteStore,i),a}async function cM(t,e,n,r,i){t.Ka=(f,p,h)=>async function(m,v,x,w){let E=v.view.ma(x);E.ns&&(E=await tx(m.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,E)));const R=w&&w.targetChanges.get(v.targetId),_=w&&w.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(E,m.isPrimaryClient,R,_);return ux(m,v.targetId,I.wa),I.snapshot}(t,f,p,h);const s=await tx(t.localStore,e,!0),o=new iM(e,s.Ts),a=o.ma(s.documents),l=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);ux(t,n,u.wa);const c=new sM(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function dM(t,e,n){const r=ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!sh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&r0(r.remoteStore,i.targetId),pm(r,i.targetId)}).catch(Go)):(pm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function hM(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r0(n.remoteStore,r.targetId))}async function fM(t,e,n){const r=wM(t);try{const i=await function(o,a){const l=ge(o),u=ft.now(),c=a.reduce((h,g)=>h.add(g.key),_e());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Kr(),m=_e();return l.cs.getEntries(h,c).next(v=>{g=v,g.forEach((x,w)=>{w.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(v=>{f=v;const x=[];for(const w of a){const E=DD(w,f.get(w.key).overlayedDocument);E!=null&&x.push(new qi(w.key,E,uT(E.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,x,a)}).next(v=>{p=v;const x=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,x)})}).then(()=>({batchId:p.batchId,changes:xT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Qe(Te)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Xl(r,i.changes),await hh(r.remoteStore)}catch(i){const s=l0(i,"Failed to persist write");n.reject(s)}}async function tS(t,e){const n=ge(t);try{const r=await CN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),await Xl(n,r,e)}catch(r){await Go(r)}}function lx(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&u0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pM(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Qe(ue.comparator);o=o.insert(s,$t.newNoDocument(s,me.min()));const a=_e().add(s),l=new uh(me.min(),new Map,new Qe(Te),o,a);await tS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),c0(r)}else await hm(r.localStore,e,!1).then(()=>pm(r,e,n)).catch(Go)}async function mM(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await PN(n.localStore,e);rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(n,i)}catch(i){await Go(i)}}async function gM(t,e,n){const r=ge(t);try{const i=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ae(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);rS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xl(r,i)}catch(i){await Go(i)}}function nS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rS(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iS(t,r)})}function iS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(r0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),c0(t))}function ux(t,e,n){for(const r of n)r instanceof JT?(t.La.addReference(r.key,e),vM(t,r)):r instanceof ZT?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iS(t,r.key)):he()}function vM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),c0(t))}function c0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new oM(n)),t.Oa=t.Oa.insert(n,r),$T(t.remoteStore,new vi(fr(Gg(n.path)),r,"TargetPurposeLimboResolution",th.oe))}}async function Xl(t,e,n){const r=ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=n0.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.$i,h=>c.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>$.forEach(p.Ui,h=>c.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!Qo(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const h=c.os.get(p),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(p,m)}}}(r.localStore,s))}async function yM(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await FT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xl(n,r.hs)}}function xM(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function sS(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.Ca.d_=nM.bind(null,e.eventManager),e.Ca.$a=rM.bind(null,e.eventManager),e}function wM(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gM.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return kN(this.persistence,new TN,e.initialUser,this.serializer)}Ga(e){return new jT(t0.Zr,this.serializer)}Wa(e){return new NN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class bM extends md{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ae(this.persistence.referenceDelegate instanceof fd);const r=this.persistence.referenceDelegate.garbageCollector;return new uN(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new jT(r=>fd.Zr(r,n),this.serializer)}}class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yM.bind(null,this.syncEngine),await ZN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tM}()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),r=function(s){return new VN(s)}(e.databaseInfo);return function(s,o,a,l){return new BN(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new zN(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lx(this.syncEngine,n,0),function(){return rx.D()?new rx:new MN}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new aM(i,s,o,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ge(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ql(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=oT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EM(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ix(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ix(e.remoteStore,i)),t._onlineComponents=e}async function EM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Nf(t,new md)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Nf(t,new bM(void 0));return t._offlineComponents}async function aS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await cx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await cx(t,new mm))),t._onlineComponents}function TM(t){return aS(t).then(e=>e.syncEngine)}async function lS(t){const e=await aS(t),n=e.eventManager;return n.onListen=lM.bind(null,e.syncEngine),n.onUnlisten=dM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hM.bind(null,e.syncEngine),n}function SM(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new oS({next:p=>{c.Za(),o.enqueueAndForget(()=>XT(s,f));const h=p.docs.has(a);!h&&p.fromCache?u.reject(new se(K.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&l&&l.source==="server"?u.reject(new se(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new YT(Gg(a.path),c,{includeMetadataChanges:!0,_a:!0});return QT(s,f)}(await lS(t),t.asyncQueue,e,n,r)),r.promise}function kM(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new oS({next:p=>{c.Za(),o.enqueueAndForget(()=>XT(s,f)),p.fromCache&&l.source==="server"?u.reject(new se(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new YT(a,c,{includeMetadataChanges:!0,_a:!0});return QT(s,f)}(await lS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){if(!n)throw new se(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PM(t,e,n,r){if(e===!0&&r===!0)throw new se(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hx(t){if(!ue.isDocumentKey(t))throw new se(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fx(t){if(ue.isDocumentKey(t))throw new se(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function d0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=d0(t);throw new se(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new px({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new px(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j5;switch(r.type){case"firstParty":return new z5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dx.get(n);r&&(te("ComponentProvider","Removing Datastore"),dx.delete(n),r.terminate())}(this),Promise.resolve()}}function CM(t,e,n,r={}){var i;const s=(t=br(t,fh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=pR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(u)}t._authCredentials=new F5(new sT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ai extends ph{constructor(e,n,r){super(e,n,Gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ue(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Yo(t,e,...n){if(t=Rt(t),cS("collection","path",e),t instanceof fh){const r=ze.fromString(e,...n);return fx(r),new Ai(t,null,r)}{if(!(t instanceof hn||t instanceof Ai))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return fx(r),new Ai(t.firestore,null,r)}}function Ce(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=oT.newId()),cS("doc","path",e),t instanceof fh){const r=ze.fromString(e,...n);return hx(r),new hn(t,null,new ue(r))}{if(!(t instanceof hn||t instanceof Ai))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return hx(r),new hn(t.firestore,t instanceof Ai?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new UT(this,"async_queue_retry"),this.Vu=()=>{const r=Df();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Or;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=a0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Jo extends fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mx(e),this._firestoreClient=void 0,await e}}}function dS(t,e){const n=typeof t=="object"?t:XE(),r=typeof t=="string"?t:"(default)",i=zg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hR("firestore");s&&CM(i,...s)}return i}function h0(t){if(t._terminated)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IM(t),t._firestoreClient}function IM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new rD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _M(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Dt.fromBase64String(e))}catch(n){throw new se(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^__.*__$/;class RM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(e,this.data,n,this.fieldTransforms)}}class hS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class g0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new g0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fS(this.Cu)&&AM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}Qu(e,n,r,i=!1){return new g0({Cu:e,methodName:n,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pS(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new DM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NM(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);v0("Data must be an object, but it was:",o,r);const a=mS(r,o);let l,u;if(s.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=gm(e,f,n);if(!o.contains(p))throw new se(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);vS(c,p)||c.push(p)}l=new wn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new RM(new an(a),l,u)}class gh extends f0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function MM(t,e,n,r){const i=t.Qu(1,e,n);v0("Data must be an object, but it was:",i,r);const s=[],o=an.empty();Hi(r,(l,u)=>{const c=y0(e,l,n);u=Rt(u);const f=i.Nu(c);if(u instanceof gh)s.push(c);else{const p=vh(u,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new wn(s);return new hS(o,a,i.fieldTransforms)}function OM(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[gm(e,r,n)],l=[i];if(s.length%2!=0)throw new se(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(gm(e,s[p])),l.push(s[p+1]);const u=[],c=an.empty();for(let p=a.length-1;p>=0;--p)if(!vS(u,a[p])){const h=a[p];let g=l[p];g=Rt(g);const m=o.Nu(h);if(g instanceof gh)u.push(h);else{const v=vh(g,m);v!=null&&(u.push(h),c.set(h,v))}}const f=new wn(u);return new hS(c,f,o.fieldTransforms)}function vh(t,e){if(gS(t=Rt(t)))return v0("Unsupported field value:",e,t),mS(t,e);if(t instanceof f0)return function(r,i){if(!fS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=vh(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:hd(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,s)}}if(r instanceof p0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:RT(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof m0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Qg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${d0(r)}`)}(t,e)}function mS(t,e){const n={};return aT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{const s=vh(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof p0||t instanceof Vo||t instanceof hn||t instanceof f0||t instanceof m0)}function v0(t,e,n){if(!gS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=d0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function gm(t,e,n){if((e=Rt(e))instanceof mh)return e._internalPath;if(typeof e=="string")return y0(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const LM=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(LM)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mh(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(K.INVALID_ARGUMENT,a+t+l)}function vS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VM extends yS{data(){return super.data()}}function xS(t,e){return typeof e=="string"?y0(t,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FM{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>tt(o.doubleValue));return new m0(s)}convertGeoPoint(e){return new p0(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Ae(VT(r));const i=new kl(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wS extends yS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _c extends wS{data(e={}){return super.data(e)}}class UM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _c(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:zM(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){t=br(t,hn);const e=br(t.firestore,Jo);return SM(h0(e),t._key).then(n=>$M(e,t,n))}class bS extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Zo(t){t=br(t,ph);const e=br(t.firestore,Jo),n=h0(e),r=new bS(e);return jM(t._query),kM(n,t._query).then(i=>new UM(e,r,t,i))}function ji(t,e,n){t=br(t,hn);const r=br(t.firestore,Jo),i=BM(t.converter,e,n);return w0(r,[NM(pS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Wt(t,e,n,...r){t=br(t,hn);const i=br(t.firestore,Jo),s=pS(i);let o;return o=typeof(e=Rt(e))=="string"||e instanceof mh?OM(s,"updateDoc",t._key,e,n,r):MM(s,"updateDoc",t._key,e),w0(i,[o.toMutation(t._key,Xn.exists(!0))])}function vd(t){return w0(br(t.firestore,Jo),[new Xg(t._key,Xn.none())])}function w0(t,e){return function(r,i){const s=new Or;return r.asyncQueue.enqueueAndForget(async()=>fM(await TM(r),i,s)),s.promise}(h0(t),e)}function $M(t,e,n){const r=n.docs.get(e._key),i=new bS(t);return new wS(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ko=i})(qo),Ao(new bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Jo(new B5(r.getProvider("auth-internal")),new W5(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(R1,"4.7.4",e),Ii(R1,"4.7.4","esm2017")})();var WM="firebase",HM="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(WM,HM,"app");function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qM=_S,ES=new Hl("auth","Firebase",_S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Bg("@firebase/auth");function KM(t,...e){yd.logLevel<=we.WARN&&yd.warn(`Auth (${qo}): ${t}`,...e)}function Ec(t,...e){yd.logLevel<=we.ERROR&&yd.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw _0(t,...e)}function mr(t,...e){return _0(t,...e)}function TS(t,e,n){const r=Object.assign(Object.assign({},qM()),{[e]:n});return new Hl("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return TS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ES.create(t,...e)}function de(t,e,...n){if(!t)throw _0(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ec(e),new Error(e)}function Gr(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GM(){return gx()==="http:"||gx()==="https:"}function gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GM()||yR()||"connection"in navigator)?navigator.onLine:!0}function XM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=mR()||xR()}get(){return QM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Yl(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gi(t,e,n,r,i={}){return kS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ql(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return vR()||(u.referrerPolicy="no-referrer"),SS.fetch()(PS(t,t.config.apiHost,n,a),u)})}async function kS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YM),e);try{const i=new eO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw TS(t,c,u);Jn(t,c)}}catch(i){if(i instanceof Xr)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function Jl(t,e,n,r,i={}){const s=await Gi(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E0(t.config,i):`${t.config.apiScheme}://${i}`}function ZM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),JM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}function vx(t){return t!==void 0&&t.enterprise!==void 0}class tO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nO(t,e){return Gi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function CS(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iO(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=T0(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ya(Mf(i.auth_time)),issuedAtTime:Ya(Mf(i.iat)),expirationTime:Ya(Mf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mf(t){return Number(t)*1e3}function T0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=$E(n);return i?JSON.parse(i):(Ec("Failed to decode base64 JWT payload"),null)}catch(i){return Ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yx(t){const e=T0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&sO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Al(t,CS(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IS(s.providerUserInfo):[],a=lO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ym(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function aO(t){const e=Rt(t);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IS(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){const n=await kS(t,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cO(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=yx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xo;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ym(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iO(this,e)}reload(){return aO(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Al(this,rO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:R,isAnonymous:_,providerData:I,stsTokenManager:T}=n;de(E&&T,e,"internal-error");const y=xo.fromJSON(this.name,T);de(typeof E=="string",e,"internal-error"),ni(f,e.name),ni(p,e.name),de(typeof R=="boolean",e,"internal-error"),de(typeof _=="boolean",e,"internal-error"),ni(h,e.name),ni(g,e.name),ni(m,e.name),ni(v,e.name),ni(x,e.name),ni(w,e.name);const S=new Rr({uid:E,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:_,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:y,createdAt:x,lastLoginAt:w});return I&&Array.isArray(I)&&(S.providerData=I.map(k=>Object.assign({},k))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new xo;i.updateFromServerResponse(n);const s=new Rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?IS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new xo;a.updateFromIdToken(r);const l=new Rr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ym(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Map;function Dr(t){Gr(t instanceof Function,"Expected a class definition");let e=xx.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AS.type="NONE";const wx=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(Dr(wx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Dr(wx);const o=Tc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Rr._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(VS(e))return"Webos";if(DS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(OS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RS(t=Gt()){return/firefox\//i.test(t)}function DS(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(t=Gt()){return/crios\//i.test(t)}function MS(t=Gt()){return/iemobile/i.test(t)}function OS(t=Gt()){return/android/i.test(t)}function LS(t=Gt()){return/blackberry/i.test(t)}function VS(t=Gt()){return/webos/i.test(t)}function S0(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dO(t=Gt()){var e;return S0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hO(){return wR()&&document.documentMode===10}function jS(t=Gt()){return S0(t)||OS(t)||VS(t)||LS(t)||/windows phone/i.test(t)||MS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e=[]){let n;switch(t){case"Browser":n=bx(Gt());break;case"Worker":n=`${bx(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=6;class gO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _x(this),this.idTokenSubscription=new _x(this),this.beforeStateQueue=new fO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CS(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Lr(this));const n=e?Rt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pO(this),n=new gO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return Rt(t)}class _x{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yO(t){yh=t}function BS(t){return yh.loadJS(t)}function xO(){return yh.recaptchaEnterpriseScript}function wO(){return yh.gapiScript}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _O{constructor(){this.enterprise=new EO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TO="recaptcha-enterprise",US="NO_RECAPTCHA";class SO{constructor(e){this.type=TO,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{nO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new tO(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(US)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _O().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xO();l.length!==0&&(l+=a),BS(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ex(t,e,n,r=!1,i=!1){const s=new SO(t);let o;if(i)o=US;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ex(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ex(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){const n=zg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sd(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function PO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CO(t,e,n){const r=Ds(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=zS(e),{host:o,port:a}=IO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),AO()}function zS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IO(t){const e=zS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Tx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Tx(o)}}}function Tx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function RO(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return Jl(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return Jl(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function MO(t,e){return Jl(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends k0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,n,"signInWithPassword",DO);case"emailLink":return NO(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,r,"signUpPassword",RO);case"emailLink":return MO(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return Jl(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="http://localhost";class Es extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:OO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VO(t){const e=Ca(Ia(t)).link,n=e?Ca(Ia(e)).deep_link_id:null,r=Ca(Ia(t)).deep_link_id;return(r?Ca(Ia(r)).link:null)||r||n||e||t}class P0{constructor(e){var n,r,i,s,o,a;const l=Ca(Ia(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=LO((i=l.mode)!==null&&i!==void 0?i:null);de(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=VO(e);try{return new P0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=P0.parseLink(n);return de(r,"argument-error"),Rl._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends $S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Zl{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Zl{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Zl{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Jl(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rr._fromIdTokenResponse(e,r,i),o=Sx(r);return new Ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sx(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wd(e,n,r,i)}}function WS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,s,e,r):s})}async function FO(t,e,n=!1){const r=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await Al(t,WS(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=T0(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e,n=!1){if(cr(t.app))return Promise.reject(Lr(t));const r="signIn",i=await WS(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function UO(t,e){return HS(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zO(t,e,n){if(cr(t.app))return Promise.reject(Lr(t));const r=Ds(t),o=await xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qS(t),l}),a=await Ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $O(t,e,n){return cr(t.app)?Promise.reject(Lr(t)):UO(Rt(t),ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qS(t),r})}function WO(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function HO(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function jo(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function qO(t){return Rt(t).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1e3,GO=10;class GS extends KS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GS.type="LOCAL";const QO=GS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends KS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QS.type="SESSION";const XS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await XO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=C0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function JO(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function ZO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tL(){return YS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",nL=1,_d="firebaseLocalStorage",ZS="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function rL(){const t=indexedDB.deleteDatabase(JS);return new eu(t).toPromise()}function wm(){const t=indexedDB.open(JS,nL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:ZS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await rL(),e(await wm()))})})}async function kx(t,e,n){const r=wh(t,!0).put({[ZS]:e,value:n});return new eu(r).toPromise()}async function iL(t,e){const n=wh(t,!1).get(e),r=await new eu(n).toPromise();return r===void 0?null:r.value}function Px(t,e){const n=wh(t,!0).delete(e);return new eu(n).toPromise()}const sL=800,oL=3;class ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(tL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZO(),!this.activeServiceWorker)return;this.sender=new YO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await kx(e,bd,"1"),await Px(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Px(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wh(i,!1).getAll();return new eu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ek.type="LOCAL";const aL=ek;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){return e?Dr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uL(t){return HS(t.auth,new I0(t),t.bypassAuthState)}function cL(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),BO(n,new I0(t),t.bypassAuthState)}async function dL(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),FO(n,new I0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uL;case"linkViaPopup":case"linkViaRedirect":return dL;case"reauthViaPopup":case"reauthViaRedirect":return cL;default:Jn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Yl(2e3,1e4);class so extends tk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=C0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hL.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",Sc=new Map;class pL extends tk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sc.get(this.auth._key());if(!e){try{const r=await mL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sc.set(this.auth._key(),e)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mL(t,e){const n=yL(e),r=vL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gL(t,e){Sc.set(t._key(),e)}function vL(t){return Dr(t._redirectPersistence)}function yL(t){return Tc(fL,t.config.apiKey,t.name)}async function xL(t,e,n=!1){if(cr(t.app))return Promise.reject(Lr(t));const r=Ds(t),i=lL(r,e),o=await new pL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=10*60*1e3;class bL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_L(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(e))}saveEventToCache(e){this.cachedEventUids.add(Cx(e)),this.lastProcessedEventTime=Date.now()}}function Cx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _L(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e={}){return Gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SL=/^https?/;async function kL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EL(t);for(const n of e)try{if(PL(n))return}catch{}Jn(t,"unauthorized-domain")}function PL(t){const e=vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SL.test(n))return!1;if(TL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new Yl(3e4,6e4);function Ix(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IL(t){return new Promise((e,n)=>{var r,i,s;function o(){Ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ix(),n(mr(t,"network-request-failed"))},timeout:CL.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{const a=bO("iframefcb");return gr()[a]=()=>{gapi.load?o():n(mr(t,"network-request-failed"))},BS(`${wO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function AL(t){return kc=kc||IL(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Yl(5e3,15e3),DL="__/auth/iframe",NL="emulator/auth/iframe",ML={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LL(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E0(e,NL):`https://${t.config.authDomain}/${DL}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=OL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ql(r).slice(1)}`}async function VL(t){const e=await AL(t),n=gr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:LL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ML,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},RL.get());function l(){gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FL=500,BL=600,UL="_blank",zL="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $L(t,e,n,r=FL,i=BL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=NS(u)?UL:n),RS(u)&&(e=e||zL,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[h,g])=>`${p}${h}=${g},`,"");if(dO(u)&&a!=="_self")return WL(e||"",a),new Ax(null);const f=window.open(e||"",a,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new Ax(f)}function WL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="__/auth/handler",qL="emulator/auth/handler",KL=encodeURIComponent("fac");async function Rx(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof $S){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Zl){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${KL}=${encodeURIComponent(l)}`:"";return`${GL(t)}?${ql(a).slice(1)}${u}`}function GL({config:t}){return t.emulator?E0(t,qL):`https://${t.authDomain}/${HL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class QL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=xL,this._overrideRedirectResult=gL}async _openPopup(e,n,r,i){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Rx(e,n,r,vm(),i);return $L(e,o,C0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Rx(e,n,r,vm(),i);return JO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VL(e),r=new bL(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Of,{type:Of},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Of];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||DS()||S0()}}const XL=QL;var Dx="@firebase/auth",Nx="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZL(t){Ao(new bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FS(t)},u=new vO(r,i,s,l);return PO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new bs("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new YL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Dx,Nx,JL(t)),Ii(Dx,Nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=5*60,tV=qE("authIdTokenMaxAge")||eV;let Mx=null;const nV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tV)return;const i=n==null?void 0:n.token;Mx!==i&&(Mx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rk(t=XE()){const e=zg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kO(t,{popupRedirectResolver:XL,persistence:[aL,QO,XS]}),r=qE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nV(s.toString());HO(n,o,()=>o(n.currentUser)),WO(n,a=>o(a))}}const i=WE("auth");return i&&CO(n,`http://${i}`),n}function rV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZL("Browser");const iV={apiKey:"AIzaSyDxs66bVRGCZ-ziNfAKPIxeV6Vrm52A1FI",authDomain:"trello-e1641.firebaseapp.com",projectId:"trello-e1641",storageBucket:"trello-e1641.appspot.com",messagingSenderId:"474941774655",appId:"1:474941774655:web:085e770c981660a52b118a",measurementId:"G-R6S5WHW0KC"},ik=QE(iV),rt=rk(ik),be=dS(ik);function sV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ta(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function A0(t){return"nodeType"in t}function fn(t){var e,n;return t?ta(t)?t:A0(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function R0(t){const{Document:e}=fn(t);return t instanceof e}function tu(t){return ta(t)?!1:t instanceof fn(t).HTMLElement}function sk(t){return t instanceof fn(t).SVGElement}function na(t){return t?ta(t)?t.document:A0(t)?R0(t)?t:tu(t)||sk(t)?t.ownerDocument:document:document:document}const Zn=bh?M.useLayoutEffect:M.useEffect;function D0(t){const e=M.useRef(t);return Zn(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function oV(){const t=M.useRef(null),e=M.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=M.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Dl(t,e){e===void 0&&(e=[t]);const n=M.useRef(t);return Zn(()=>{n.current!==t&&(n.current=t)},e),n}function nu(t,e){const n=M.useRef();return M.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Ed(t){const e=D0(t),n=M.useRef(null),r=M.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function bm(t){const e=M.useRef();return M.useEffect(()=>{e.current=t},[t]),e.current}let Lf={};function ru(t,e){return M.useMemo(()=>{if(e)return e;const n=Lf[t]==null?0:Lf[t]+1;return Lf[t]=n,t+"-"+n},[t,e])}function ok(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,u]of a){const c=s[l];c!=null&&(s[l]=c+t*u)}return s},{...e})}}const _o=ok(1),Td=ok(-1);function aV(t){return"clientX"in t&&"clientY"in t}function N0(t){if(!t)return!1;const{KeyboardEvent:e}=fn(t.target);return e&&t instanceof e}function lV(t){if(!t)return!1;const{TouchEvent:e}=fn(t.target);return e&&t instanceof e}function _m(t){if(lV(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return aV(t)?{x:t.clientX,y:t.clientY}:null}const Sd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Sd.Translate.toString(t),Sd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Ox="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function uV(t){return t.matches(Ox)?t:t.querySelector(Ox)}const cV={display:"none"};function dV(t){let{id:e,value:n}=t;return pe.createElement("div",{id:e,style:cV},n)}function hV(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pe.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function fV(){const[t,e]=M.useState("");return{announce:M.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const ak=M.createContext(null);function pV(t){const e=M.useContext(ak);M.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function mV(){const[t]=M.useState(()=>new Set),e=M.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[M.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const gV={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vV={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function yV(t){let{announcements:e=vV,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=gV}=t;const{announce:s,announcement:o}=fV(),a=ru("DndLiveRegion"),[l,u]=M.useState(!1);if(M.useEffect(()=>{u(!0)},[]),pV(M.useMemo(()=>({onDragStart(f){let{active:p}=f;s(e.onDragStart({active:p}))},onDragMove(f){let{active:p,over:h}=f;e.onDragMove&&s(e.onDragMove({active:p,over:h}))},onDragOver(f){let{active:p,over:h}=f;s(e.onDragOver({active:p,over:h}))},onDragEnd(f){let{active:p,over:h}=f;s(e.onDragEnd({active:p,over:h}))},onDragCancel(f){let{active:p,over:h}=f;s(e.onDragCancel({active:p,over:h}))}}),[s,e])),!l)return null;const c=pe.createElement(pe.Fragment,null,pe.createElement(dV,{id:r,value:i.draggable}),pe.createElement(hV,{id:a,announcement:o}));return n?os.createPortal(c,n):c}var ct;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function kd(){}function Pd(t,e){return M.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function lk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return M.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const er=Object.freeze({x:0,y:0});function xV(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wV(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function bV(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function _V(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Lx(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const uk=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Lx(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=xV(Lx(l),i);s.push({id:a,data:{droppableContainer:o,value:u}})}}return s.sort(wV)};function EV(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,u=t.width*t.height,c=o*a,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const TV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=EV(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(bV)};function SV(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function ck(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:er}function kV(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const PV=kV(1);function CV(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function IV(t,e,n){const r=CV(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),u=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const AV={ignoreTransform:!1};function ra(t,e){e===void 0&&(e=AV);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=fn(t).getComputedStyle(t);u&&(n=IV(n,u,c))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function Vx(t){return ra(t,{ignoreTransform:!0})}function RV(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function DV(t,e){return e===void 0&&(e=fn(t).getComputedStyle(t)),e.position==="fixed"}function NV(t,e){e===void 0&&(e=fn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function M0(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(R0(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!tu(i)||sk(i)||n.includes(i))return n;const s=fn(t).getComputedStyle(i);return i!==t&&NV(i,s)&&n.push(i),DV(i,s)?n:r(i.parentNode)}return t?r(t):n}function dk(t){const[e]=M0(t,1);return e??null}function Vf(t){return!bh||!t?null:ta(t)?t:A0(t)?R0(t)||t===na(t).scrollingElement?window:tu(t)?t:null:null}function hk(t){return ta(t)?t.scrollX:t.scrollLeft}function fk(t){return ta(t)?t.scrollY:t.scrollTop}function Em(t){return{x:hk(t),y:fk(t)}}var xt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(xt||(xt={}));function pk(t){return!bh||!t?!1:t===document.scrollingElement}function mk(t){const e={x:0,y:0},n=pk(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const MV={x:.2,y:.2};function OV(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=MV);const{isTop:u,isBottom:c,isLeft:f,isRight:p}=mk(t),h={x:0,y:0},g={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+m.height?(h.y=xt.Backward,g.y=r*Math.abs((e.top+m.height-s)/m.height)):!c&&l>=e.bottom-m.height&&(h.y=xt.Forward,g.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!p&&a>=e.right-m.width?(h.x=xt.Forward,g.x=r*Math.abs((e.right-m.width-a)/m.width)):!f&&o<=e.left+m.width&&(h.x=xt.Backward,g.x=r*Math.abs((e.left+m.width-o)/m.width)),{direction:h,speed:g}}function LV(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function gk(t){return t.reduce((e,n)=>_o(e,Em(n)),er)}function VV(t){return t.reduce((e,n)=>e+hk(n),0)}function jV(t){return t.reduce((e,n)=>e+fk(n),0)}function FV(t,e){if(e===void 0&&(e=ra),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);dk(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const BV=[["x",["left","right"],VV],["y",["top","bottom"],jV]];class O0{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=M0(n),i=gk(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of BV)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ja{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function UV(t){const{EventTarget:e}=fn(t);return t instanceof e?t:na(t)}function jf(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var An;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(An||(An={}));function jx(t){t.preventDefault()}function zV(t){t.stopPropagation()}var Ie;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(Ie||(Ie={}));const vk={start:[Ie.Space,Ie.Enter],cancel:[Ie.Esc],end:[Ie.Space,Ie.Enter]},$V=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ie.Right:return{...n,x:n.x+25};case Ie.Left:return{...n,x:n.x-25};case Ie.Down:return{...n,y:n.y+25};case Ie.Up:return{...n,y:n.y-25}}};class yk{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ja(na(n)),this.windowListeners=new Ja(fn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(An.Resize,this.handleCancel),this.windowListeners.add(An.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(An.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&FV(r),n(er)}handleKeyDown(e){if(N0(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=vk,coordinateGetter:o=$V,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:er;this.referenceCoordinates||(this.referenceCoordinates=c);const f=o(e,{active:n,context:r.current,currentCoordinates:c});if(f){const p=Td(f,c),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const m of g){const v=e.code,{isTop:x,isRight:w,isLeft:E,isBottom:R,maxScroll:_,minScroll:I}=mk(m),T=LV(m),y={x:Math.min(v===Ie.Right?T.right-T.width/2:T.right,Math.max(v===Ie.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(v===Ie.Down?T.bottom-T.height/2:T.bottom,Math.max(v===Ie.Down?T.top:T.top+T.height/2,f.y))},S=v===Ie.Right&&!w||v===Ie.Left&&!E,k=v===Ie.Down&&!R||v===Ie.Up&&!x;if(S&&y.x!==f.x){const C=m.scrollLeft+p.x,D=v===Ie.Right&&C<=_.x||v===Ie.Left&&C>=I.x;if(D&&!p.y){m.scrollTo({left:C,behavior:a});return}D?h.x=m.scrollLeft-C:h.x=v===Ie.Right?m.scrollLeft-_.x:m.scrollLeft-I.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(k&&y.y!==f.y){const C=m.scrollTop+p.y,D=v===Ie.Down&&C<=_.y||v===Ie.Up&&C>=I.y;if(D&&!p.x){m.scrollTo({top:C,behavior:a});return}D?h.y=m.scrollTop-C:h.y=v===Ie.Down?m.scrollTop-_.y:m.scrollTop-I.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(e,_o(Td(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yk.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=vk,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Fx(t){return!!(t&&"distance"in t)}function Bx(t){return!!(t&&"delay"in t)}class L0{constructor(e,n,r){var i;r===void 0&&(r=UV(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=na(o),this.documentListeners=new Ja(this.document),this.listeners=new Ja(r),this.windowListeners=new Ja(fn(o)),this.initialCoordinates=(i=_m(s))!=null?i:er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(An.Resize,this.handleCancel),this.windowListeners.add(An.DragStart,jx),this.windowListeners.add(An.VisibilityChange,this.handleCancel),this.windowListeners.add(An.ContextMenu,jx),this.documentListeners.add(An.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Bx(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Fx(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(An.Click,zV,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(An.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=_m(e))!=null?n:er,u=Td(i,l);if(!r&&a){if(Fx(a)){if(a.tolerance!=null&&jf(u,a.tolerance))return this.handleCancel();if(jf(u,a.distance))return this.handleStart()}return Bx(a)&&jf(u,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Ie.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const WV={move:{name:"pointermove"},end:{name:"pointerup"}};class xk extends L0{constructor(e){const{event:n}=e,r=na(n.target);super(e,WV,r)}}xk.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const HV={move:{name:"mousemove"},end:{name:"mouseup"}};var Tm;(function(t){t[t.RightClick=2]="RightClick"})(Tm||(Tm={}));class V0 extends L0{constructor(e){super(e,HV,na(e.event.target))}}V0.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Tm.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ff={move:{name:"touchmove"},end:{name:"touchend"}};class j0 extends L0{constructor(e){super(e,Ff)}static setup(){return window.addEventListener(Ff.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ff.move.name,e)};function e(){}}}j0.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Za;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Za||(Za={}));var Cd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Cd||(Cd={}));function qV(t){let{acceleration:e,activator:n=Za.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Cd.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:p}=t;const h=GV({delta:f,disabled:!s}),[g,m]=oV(),v=M.useRef({x:0,y:0}),x=M.useRef({x:0,y:0}),w=M.useMemo(()=>{switch(n){case Za.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Za.DraggableRect:return i}},[n,i,l]),E=M.useRef(null),R=M.useCallback(()=>{const I=E.current;if(!I)return;const T=v.current.x*x.current.x,y=v.current.y*x.current.y;I.scrollBy(T,y)},[]),_=M.useMemo(()=>a===Cd.TreeOrder?[...u].reverse():u,[a,u]);M.useEffect(()=>{if(!s||!u.length||!w){m();return}for(const I of _){if((r==null?void 0:r(I))===!1)continue;const T=u.indexOf(I),y=c[T];if(!y)continue;const{direction:S,speed:k}=OV(I,y,w,e,p);for(const C of["x","y"])h[C][S[C]]||(k[C]=0,S[C]=0);if(k.x>0||k.y>0){m(),E.current=I,g(R,o),v.current=k,x.current=S;return}}v.current={x:0,y:0},x.current={x:0,y:0},m()},[e,R,r,m,s,o,JSON.stringify(w),JSON.stringify(h),g,u,_,c,JSON.stringify(p)])}const KV={x:{[xt.Backward]:!1,[xt.Forward]:!1},y:{[xt.Backward]:!1,[xt.Forward]:!1}};function GV(t){let{delta:e,disabled:n}=t;const r=bm(e);return nu(i=>{if(n||!r||!i)return KV;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[xt.Backward]:i.x[xt.Backward]||s.x===-1,[xt.Forward]:i.x[xt.Forward]||s.x===1},y:{[xt.Backward]:i.y[xt.Backward]||s.y===-1,[xt.Forward]:i.y[xt.Forward]||s.y===1}}},[n,e,r])}function QV(t,e){const n=e!==null?t.get(e):void 0,r=n?n.node.current:null;return nu(i=>{var s;return e===null?null:(s=r??i)!=null?s:null},[r,e])}function XV(t,e){return M.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var Nl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Nl||(Nl={}));var Sm;(function(t){t.Optimized="optimized"})(Sm||(Sm={}));const Ux=new Map;function YV(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=M.useState(null),{frequency:a,measure:l,strategy:u}=i,c=M.useRef(t),f=v(),p=Dl(f),h=M.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(w=>w===null?x:w.concat(x.filter(E=>!w.includes(E))))},[p]),g=M.useRef(null),m=nu(x=>{if(f&&!n)return Ux;if(!x||x===Ux||c.current!==t||s!=null){const w=new Map;for(let E of t){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){w.set(E.id,E.rect.current);continue}const R=E.node.current,_=R?new O0(l(R),R):null;E.rect.current=_,_&&w.set(E.id,_)}return w}return x},[t,s,n,f,l]);return M.useEffect(()=>{c.current=t},[t]),M.useEffect(()=>{f||h()},[n,f]),M.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),M.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},a))},[a,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:s!=null};function v(){switch(u){case Nl.Always:return!1;case Nl.BeforeDragging:return n;default:return!n}}}function wk(t,e){return nu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function JV(t,e){return wk(t,e)}function ZV(t){let{callback:e,disabled:n}=t;const r=D0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function _h(t){let{callback:e,disabled:n}=t;const r=D0(e),i=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return M.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function e4(t){return new O0(ra(t),t)}function zx(t,e,n){e===void 0&&(e=e4);const[r,i]=M.useReducer(a,null),s=ZV({callback(l){if(t)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),o=_h({callback:i});return Zn(()=>{i(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),r;function a(l){if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=e(t);return JSON.stringify(l)===JSON.stringify(c)?l:c}}function t4(t){const e=wk(t);return ck(t,e)}const $x=[];function n4(t){const e=M.useRef(t),n=nu(r=>t?r&&r!==$x&&t&&e.current&&t.parentNode===e.current.parentNode?r:M0(t):$x,[t]);return M.useEffect(()=>{e.current=t},[t]),n}function r4(t){const[e,n]=M.useState(null),r=M.useRef(t),i=M.useCallback(s=>{const o=Vf(s.target);o&&n(a=>a?(a.set(o,Em(o)),new Map(a)):null)},[]);return M.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const u=Vf(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Em(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const u=Vf(l);u==null||u.removeEventListener("scroll",i)})}},[i,t]),M.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>_o(s,o),er):gk(t):er,[t,e])}function Wx(t,e){e===void 0&&(e=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},e),M.useEffect(()=>{const r=t!==er;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Td(t,n.current):er}function i4(t){M.useEffect(()=>{if(!bh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function s4(t,e){return M.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function bk(t){return M.useMemo(()=>t?RV(t):null,[t])}const Bf=[];function o4(t,e){e===void 0&&(e=ra);const[n]=t,r=bk(n?fn(n):null),[i,s]=M.useReducer(a,Bf),o=_h({callback:s});return t.length>0&&i===Bf&&s(),Zn(()=>{t.length?t.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),s())},[t]),i;function a(){return t.length?t.map(l=>pk(l)?r:new O0(e(l),l)):Bf}}function a4(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return tu(e)?e:t}function l4(t){let{measure:e}=t;const[n,r]=M.useState(null),i=M.useCallback(u=>{for(const{target:c}of u)if(tu(c)){r(f=>{const p=e(c);return f?{...f,width:p.width,height:p.height}:p});break}},[e]),s=_h({callback:i}),o=M.useCallback(u=>{const c=a4(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),r(c?e(c):null)},[e,s]),[a,l]=Ed(o);return M.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const u4=[{sensor:xk,options:{}},{sensor:yk,options:{}}],c4={current:{}},Pc={draggable:{measure:Vx},droppable:{measure:Vx,strategy:Nl.WhileDragging,frequency:Sm.Optimized},dragOverlay:{measure:ra}};class el extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const d4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new el,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pc,measureDroppableContainers:kd,windowRect:null,measuringScheduled:!1},h4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kd,draggableNodes:new Map,over:null,measureDroppableContainers:kd},Eh=M.createContext(h4),_k=M.createContext(d4);function f4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new el}}}function p4(t,e){switch(e.type){case ct.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ct.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case ct.DragEnd:case ct.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new el(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case ct.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new el(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case ct.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new el(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function m4(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=M.useContext(Eh),s=bm(r),o=bm(n==null?void 0:n.id);return M.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!N0(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=uV(c);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function g4(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function v4(t){return M.useMemo(()=>({draggable:{...Pc.draggable,...t==null?void 0:t.draggable},droppable:{...Pc.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Pc.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function y4(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=M.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Zn(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=n(u),f=ck(c,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=dk(u);p&&p.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const Ek=M.createContext({...er,scaleX:1,scaleY:1});var ai;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ai||(ai={}));const Tk=M.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:c=u4,collisionDetection:f=TV,measuring:p,modifiers:h,...g}=e;const m=M.useReducer(p4,void 0,f4),[v,x]=m,[w,E]=mV(),[R,_]=M.useState(ai.Uninitialized),I=R===ai.Initialized,{draggable:{active:T,nodes:y,translate:S},droppable:{containers:k}}=v,C=T?y.get(T):null,D=M.useRef({initial:null,translated:null}),N=M.useMemo(()=>{var We;return T!=null?{id:T,data:(We=C==null?void 0:C.data)!=null?We:c4,rect:D}:null},[T,C]),F=M.useRef(null),[z,Y]=M.useState(null),[U,L]=M.useState(null),B=Dl(g,Object.values(g)),H=ru("DndDescribedBy",o),Z=M.useMemo(()=>k.getEnabled(),[k]),J=v4(p),{droppableRects:W,measureDroppableContainers:ee,measuringScheduled:le}=YV(Z,{dragging:I,dependencies:[S.x,S.y],config:J.droppable}),Q=QV(y,T),fe=M.useMemo(()=>U?_m(U):null,[U]),oe=hu(),ve=JV(Q,J.draggable.measure);y4({activeNode:T?y.get(T):null,config:oe.layoutShiftCompensation,initialRect:ve,measure:J.draggable.measure});const ae=zx(Q,J.draggable.measure,ve),Le=zx(Q?Q.parentElement:null),ye=M.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),lt=k.getNodeFor((n=ye.current.over)==null?void 0:n.id),Xe=l4({measure:J.dragOverlay.measure}),en=(r=Xe.nodeRef.current)!=null?r:Q,tn=I?(i=Xe.rect)!=null?i:ae:null,tr=!!(Xe.nodeRef.current&&Xe.rect),nr=t4(tr?null:ae),mt=bk(en?fn(en):null),gt=n4(I?lt??Q:null),pn=o4(gt),Vn=g4(h,{transform:{x:S.x-nr.x,y:S.y-nr.y,scaleX:1,scaleY:1},activatorEvent:U,active:N,activeNodeRect:ae,containerNodeRect:Le,draggingNodeRect:tn,over:ye.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:gt,scrollableAncestorRects:pn,windowRect:mt}),jn=fe?_o(fe,S):null,Fn=r4(gt),_r=Wx(Fn),q=Wx(Fn,[ae]),re=_o(Vn,_r),Pe=tn?PV(tn,Vn):null,$e=N&&Pe?f({active:N,collisionRect:Pe,droppableRects:W,droppableContainers:Z,pointerCoordinates:jn}):null,it=_V($e,"id"),[nn,rr]=M.useState(null),lu=tr?Vn:_o(Vn,q),uu=SV(lu,(s=nn==null?void 0:nn.rect)!=null?s:null,ae),Ms=M.useCallback((We,_t)=>{let{sensor:Et,options:Nt}=_t;if(F.current==null)return;const Qt=y.get(F.current);if(!Qt)return;const Mt=We.nativeEvent,mn=new Et({active:F.current,activeNode:Qt,event:Mt,options:Nt,context:ye,onStart(rn){const Ze=F.current;if(Ze==null)return;const Yr=y.get(Ze);if(!Yr)return;const{onDragStart:ir}=B.current,sr={active:{id:Ze,data:Yr.data,rect:D}};os.unstable_batchedUpdates(()=>{ir==null||ir(sr),_(ai.Initializing),x({type:ct.DragStart,initialCoordinates:rn,active:Ze}),w({type:"onDragStart",event:sr})})},onMove(rn){x({type:ct.DragMove,coordinates:rn})},onEnd:kn(ct.DragEnd),onCancel:kn(ct.DragCancel)});os.unstable_batchedUpdates(()=>{Y(mn),L(We.nativeEvent)});function kn(rn){return async function(){const{active:Yr,collisions:ir,over:sr,scrollAdjustedTranslate:fu}=ye.current;let Xi=null;if(Yr&&fu){const{cancelDrop:Pn}=B.current;Xi={activatorEvent:Mt,active:Yr,collisions:ir,delta:fu,over:sr},rn===ct.DragEnd&&typeof Pn=="function"&&await Promise.resolve(Pn(Xi))&&(rn=ct.DragCancel)}F.current=null,os.unstable_batchedUpdates(()=>{x({type:rn}),_(ai.Uninitialized),rr(null),Y(null),L(null);const Pn=rn===ct.DragEnd?"onDragEnd":"onDragCancel";if(Xi){const oa=B.current[Pn];oa==null||oa(Xi),w({type:Pn,event:Xi})}})}}},[y]),Vh=M.useCallback((We,_t)=>(Et,Nt)=>{const Qt=Et.nativeEvent,Mt=y.get(Nt);if(F.current!==null||!Mt||Qt.dndKit||Qt.defaultPrevented)return;const mn={active:Mt};We(Et,_t.options,mn)===!0&&(Qt.dndKit={capturedBy:_t.sensor},F.current=Nt,Ms(Et,_t))},[y,Ms]),cu=XV(c,Vh);i4(c),Zn(()=>{ae&&R===ai.Initializing&&_(ai.Initialized)},[ae,R]),M.useEffect(()=>{const{onDragMove:We}=B.current,{active:_t,activatorEvent:Et,collisions:Nt,over:Qt}=ye.current;if(!_t||!Et)return;const Mt={active:_t,activatorEvent:Et,collisions:Nt,delta:{x:re.x,y:re.y},over:Qt};os.unstable_batchedUpdates(()=>{We==null||We(Mt),w({type:"onDragMove",event:Mt})})},[re.x,re.y]),M.useEffect(()=>{const{active:We,activatorEvent:_t,collisions:Et,droppableContainers:Nt,scrollAdjustedTranslate:Qt}=ye.current;if(!We||F.current==null||!_t||!Qt)return;const{onDragOver:Mt}=B.current,mn=Nt.get(it),kn=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,rn={active:We,activatorEvent:_t,collisions:Et,delta:{x:Qt.x,y:Qt.y},over:kn};os.unstable_batchedUpdates(()=>{rr(kn),Mt==null||Mt(rn),w({type:"onDragOver",event:rn})})},[it]),Zn(()=>{ye.current={activatorEvent:U,active:N,activeNode:Q,collisionRect:Pe,collisions:$e,droppableRects:W,draggableNodes:y,draggingNode:en,draggingNodeRect:tn,droppableContainers:k,over:nn,scrollableAncestors:gt,scrollAdjustedTranslate:re},D.current={initial:tn,translated:Pe}},[N,Q,$e,Pe,y,en,tn,W,k,nn,gt,re]),qV({...oe,delta:S,draggingRect:Pe,pointerCoordinates:jn,scrollableAncestors:gt,scrollableAncestorRects:pn});const sa=M.useMemo(()=>({active:N,activeNode:Q,activeNodeRect:ae,activatorEvent:U,collisions:$e,containerNodeRect:Le,dragOverlay:Xe,draggableNodes:y,droppableContainers:k,droppableRects:W,over:nn,measureDroppableContainers:ee,scrollableAncestors:gt,scrollableAncestorRects:pn,measuringConfiguration:J,measuringScheduled:le,windowRect:mt}),[N,Q,ae,U,$e,Le,Xe,y,k,W,nn,ee,gt,pn,J,le,mt]),du=M.useMemo(()=>({activatorEvent:U,activators:cu,active:N,activeNodeRect:ae,ariaDescribedById:{draggable:H},dispatch:x,draggableNodes:y,over:nn,measureDroppableContainers:ee}),[U,cu,N,ae,x,H,y,nn,ee]);return pe.createElement(ak.Provider,{value:E},pe.createElement(Eh.Provider,{value:du},pe.createElement(_k.Provider,{value:sa},pe.createElement(Ek.Provider,{value:uu},u)),pe.createElement(m4,{disabled:(a==null?void 0:a.restoreFocus)===!1})),pe.createElement(yV,{...a,hiddenTextDescribedById:H}));function hu(){const We=(z==null?void 0:z.autoScrollEnabled)===!1,_t=typeof l=="object"?l.enabled===!1:l===!1,Et=I&&!We&&!_t;return typeof l=="object"?{...l,enabled:Et}:{enabled:Et}}}),x4=M.createContext(null),Hx="button",w4="Droppable";function b4(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=ru(w4),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:p}=M.useContext(Eh),{role:h=Hx,roleDescription:g="draggable",tabIndex:m=0}=i??{},v=(l==null?void 0:l.id)===e,x=M.useContext(v?Ek:x4),[w,E]=Ed(),[R,_]=Ed(),I=s4(o,e),T=Dl(n);Zn(()=>(f.set(e,{id:e,key:s,node:w,activatorNode:R,data:T}),()=>{const S=f.get(e);S&&S.key===s&&f.delete(e)}),[f,e]);const y=M.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&h===Hx?!0:void 0,"aria-roledescription":g,"aria-describedby":c.draggable}),[r,h,m,v,g,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:y,isDragging:v,listeners:r?void 0:I,node:w,over:p,setNodeRef:E,setActivatorNodeRef:_,transform:x}}function _4(){return M.useContext(_k)}const E4="Droppable",T4={timeout:25};function S4(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=ru(E4),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=M.useContext(Eh),c=M.useRef({disabled:n}),f=M.useRef(!1),p=M.useRef(null),h=M.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...T4,...i},x=Dl(m??r),w=M.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),E=_h({callback:w,disabled:g||!o}),R=M.useCallback((y,S)=>{E&&(S&&(E.unobserve(S),f.current=!1),y&&E.observe(y))},[E]),[_,I]=Ed(R),T=Dl(e);return M.useEffect(()=>{!E||!_.current||(E.disconnect(),f.current=!1,E.observe(_.current))},[_,E]),Zn(()=>(a({type:ct.RegisterDroppable,element:{id:r,key:s,disabled:n,node:_,rect:p,data:T}}),()=>a({type:ct.UnregisterDroppable,key:s,id:r})),[r]),M.useEffect(()=>{n!==c.current.disabled&&(a({type:ct.SetDroppableDisabled,id:r,key:s,disabled:n}),c.current.disabled=n)},[r,s,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:_,over:l,setNodeRef:I}}function Th(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function k4(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Xu(t){return t!==null&&t>=0}function P4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function C4(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Sk=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Th(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Yu={scaleX:1,scaleY:1},kk=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,...Yu}:null}const l=I4(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Yu}:i<n&&i>=o?{x:0,y:a.height+l,...Yu}:{x:0,y:0,...Yu}};function I4(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Pk="Sortable",Ck=pe.createContext({activeIndex:-1,containerId:Pk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sk,disabled:{draggable:!1,droppable:!1}});function Ik(t){let{children:e,id:n,items:r,strategy:i=Sk,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=_4(),f=ru(Pk,n),p=a.rect!==null,h=M.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),g=o!=null,m=o?h.indexOf(o.id):-1,v=u?h.indexOf(u.id):-1,x=M.useRef(h),w=!P4(h,x.current),E=v!==-1&&m===-1||w,R=C4(s);Zn(()=>{w&&g&&c(h)},[w,h,g,c]),M.useEffect(()=>{x.current=h},[h]);const _=M.useMemo(()=>({activeIndex:m,containerId:f,disabled:R,disableTransforms:E,items:h,overIndex:v,useDragOverlay:p,sortedRects:k4(h,l),strategy:i}),[m,f,R.draggable,R.droppable,E,h,v,l,p,i]);return pe.createElement(Ck.Provider,{value:_},e)}const A4=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Th(n,r,i).indexOf(e)},R4=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},D4={duration:200,easing:"ease"},Ak="transform",N4=Sd.Transition.toString({property:Ak,duration:0,easing:"linear"}),M4={roleDescription:"sortable"};function O4(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=M.useState(null),a=M.useRef(n);return Zn(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const u=ra(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&o(c)}}n!==a.current&&(a.current=n)},[e,n,r,i]),M.useEffect(()=>{s&&o(null)},[s]),s}function Rk(t){let{animateLayoutChanges:e=R4,attributes:n,disabled:r,data:i,getNewIndex:s=A4,id:o,strategy:a,resizeObserverConfig:l,transition:u=D4}=t;const{items:c,containerId:f,activeIndex:p,disabled:h,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:x,strategy:w}=M.useContext(Ck),E=L4(r,h),R=c.indexOf(o),_=M.useMemo(()=>({sortable:{containerId:f,index:R,items:c},...i}),[f,i,R,c]),I=M.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:T,node:y,isOver:S,setNodeRef:k}=S4({id:o,data:_,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...l}}),{active:C,activatorEvent:D,activeNodeRect:N,attributes:F,setNodeRef:z,listeners:Y,isDragging:U,over:L,setActivatorNodeRef:B,transform:H}=b4({id:o,data:_,attributes:{...M4,...n},disabled:E.draggable}),Z=sV(k,z),J=!!C,W=J&&!g&&Xu(p)&&Xu(v),ee=!x&&U,le=ee&&W?H:null,fe=W?le??(a??w)({rects:m,activeNodeRect:N,activeIndex:p,overIndex:v,index:R}):null,oe=Xu(p)&&Xu(v)?s({id:o,items:c,activeIndex:p,overIndex:v}):R,ve=C==null?void 0:C.id,ae=M.useRef({activeId:ve,items:c,newIndex:oe,containerId:f}),Le=c!==ae.current.items,ye=e({active:C,containerId:f,isDragging:U,isSorting:J,id:o,index:R,items:c,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:u,wasDragging:ae.current.activeId!=null}),lt=O4({disabled:!ye,index:R,node:y,rect:T});return M.useEffect(()=>{J&&ae.current.newIndex!==oe&&(ae.current.newIndex=oe),f!==ae.current.containerId&&(ae.current.containerId=f),c!==ae.current.items&&(ae.current.items=c)},[J,oe,f,c]),M.useEffect(()=>{if(ve===ae.current.activeId)return;if(ve&&!ae.current.activeId){ae.current.activeId=ve;return}const en=setTimeout(()=>{ae.current.activeId=ve},50);return()=>clearTimeout(en)},[ve]),{active:C,activeIndex:p,attributes:F,data:_,rect:T,index:R,newIndex:oe,items:c,isOver:S,isSorting:J,isDragging:U,listeners:Y,node:y,overIndex:v,over:L,setNodeRef:Z,setActivatorNodeRef:B,setDroppableNodeRef:k,setDraggableNodeRef:z,transform:lt??fe,transition:Xe()};function Xe(){if(lt||Le&&ae.current.newIndex===R)return N4;if(!(ee&&!N0(D)||!u)&&(J||ye))return Sd.Transition.toString({...u,property:Ak})}}function L4(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Ie.Down,Ie.Right,Ie.Up,Ie.Left;function V4({title:t,id:e,listid:n,labels:r,item:i,BoardId:s,onDeleteCard:o,BG:a,sharedWith:l,lists:u}){const[c,f]=M.useState({x:0,y:0}),{menuOpen:p,setMenuOpen:h,toggleMenu:g}=AE(),[m,v]=M.useState({x:0,y:0}),[x,w]=M.useState(!1),[E,R]=M.useState(!1),[_,I]=M.useState(r),T=M.useRef(null),y=M.useRef(null),S=M.useRef(null),k=M.useRef(null),C=M.useRef(null),D=M.useRef(null),N=M.useRef(null),[F,z]=M.useState(!1),[Y,U]=M.useState(!1),L=M.useRef(null),[B,H]=M.useState(!1),[Z,J]=M.useState(!1),[W,ee]=M.useState(t),le=M.useRef(null),[Q,fe]=M.useState(a),oe=q=>{switch(q){case"background1":return"bg-green-700";case"background2":return"bg-yellow-800";case"background3":return"bg-amber-700";case"background4":return"bg-red-800";case"background5":return"bg-indigo-800";case"background6":return"bg-blue-800";case"background7":return"bg-pink-900";case"background8":return"bg-gray-800"}},{attributes:ve,listeners:ae,setNodeRef:Le,transform:ye,transition:lt,isDragging:Xe}=Rk({id:i.id}),en={transform:ye?`translate3d(${ye.x}px, ${ye.y}px,0) rotate(${Xe?-2:0}deg)`:void 0,transition:lt,opacity:Xe?.8:1,cursor:Xe?"grabbing":"pointer",zIndex:Xe?10:"auto"},tn=q=>{Le(q),k.current=q},tr=q=>{q.preventDefault(),h(!0);const re=k.current.getBoundingClientRect(),Pe=re.left+window.scrollX+270,$e=re.top+window.scrollY-6,it=window.innerWidth;Pe+200>it?H(!0):H(!1),it<650?J(!0):J(!1);const nn=Pe+200>it?Pe-535:Pe,rr=$e<0?0:$e;f({x:nn,y:rr}),document.body.classList.add("MenuisOpen"),w(!0)};M.useEffect(()=>{mt()},[_]),M.useEffect(()=>{nr()},[Q]);const nr=async()=>{const q=rt.currentUser;if(q)try{await Wt(Ce(be,`users/${q.uid}/Boards/${s}/Lists/${n}/cards`,e),{background:Q});const re=l.map(Pe=>Wt(Ce(be,`users/${Pe.id}/Boards/${s}/Lists/${n}/cards`,e),{background:Q}));await Promise.all(re)}catch(re){console.error("Error updating background: ",re)}else console.error("User is not authenticated.")},mt=async()=>{const q=rt.currentUser;if(q)try{await Wt(Ce(be,`users/${q.uid}/Boards/${s}/Lists/${n}/cards`,e),{labels:_});const re=l.map(Pe=>Wt(Ce(be,`users/${Pe.id}/Boards/${s}/Lists/${n}/cards`,e),{labels:_}));await Promise.all(re)}catch(re){console.error("Error updating labels: ",re)}else console.error("User is not authenticated.")},gt=async()=>{const q=rt.currentUser;if(q)try{o(e);const re=Ce(be,`users/${q.uid}/Boards/${s}/Lists/${n}/cards`,e);await vd(re);const Pe=l.map($e=>{const it=Ce(be,`users/${$e.id}/Boards/${s}/Lists/${n}/cards`,e);return vd(it)});await Promise.all(Pe)}catch(re){console.error("Error deleting card: ",re)}else console.error("User is not authenticated")},pn=async q=>{const re=rt.currentUser;if(re)try{const Pe=Yo(be,`users/${re.uid}/Boards/${s}/Lists/${q.id}/cards`),it=(await Zo(Pe)).size,nn=Ce(be,`users/${re.uid}/Boards/${s}/Lists/${q.id}/cards`,e);await ji(nn,{id:e,title:W,labels:_,background:Q,order:it}),gt(),window.location.reload()}catch(Pe){console.error("Error moving card to list: ",Pe)}else console.error("User is not authenticated")},Vn=async q=>{const re=q.target.value;ee(re),console.log(l);const Pe=rt.currentUser;if(Pe)try{await Wt(Ce(be,`users/${Pe.uid}/Boards/${s}/Lists/${n}/cards`,e),{title:re});const $e=l.map(it=>Wt(Ce(be,`users/${it.id}/Boards/${s}/Lists/${n}/cards`,e),{title:re}));await Promise.all($e)}catch($e){console.error("Error updating card title: ",$e)}else console.error("User is not authenticated.")},jn=()=>{R(!0);const q=N.current.getBoundingClientRect();v({x:q.left,y:q.top})},Fn=()=>{z(!0);const q=S.current.getBoundingClientRect();v({x:q.left,y:q.top})},_r=()=>{U(!0);const q=D.current.getBoundingClientRect();v({x:q.left,y:q.top})};return M.useEffect(()=>{const q=re=>{y.current&&!y.current.contains(re.target)&&!le.current.contains(re.target)&&(!T.current||!T.current.contains(re.target))&&(!L.current||!L.current.contains(re.target))&&(!C.current||!C.current.contains(re.target))&&(w(!1),h(!1),document.body.classList.remove("MenuisOpen")),T.current&&!T.current.contains(re.target)&&!N.current.contains(re.target)&&R(!1),L.current&&!L.current.contains(re.target)&&!S.current.contains(re.target)&&z(!1),C.current&&!C.current.contains(re.target)&&!D.current.contains(re.target)&&U(!1)};return document.addEventListener("click",q),()=>{document.removeEventListener("click",q)}},[x,E,h]),A.jsxs("div",{className:"w-full",children:[F&&A.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:Z?"52%":`${m.x-70}px`,maxWidth:Z?"170px":" "},ref:L,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[A.jsx("div",{className:"flex justify-end align-top",children:A.jsx("button",{onClick:q=>{q.stopPropagation(),z(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:"✕"})}),A.jsx("div",{className:"flex justify-center gap-6",children:A.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Background Cover"})}),A.jsx("div",{className:"flex flex-col gap-1.5",children:["background1","background2","background3","background4","background5","background6","background7","background8"].map((q,re)=>A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:Q===oe(q),onChange:()=>{fe(oe(q))},id:`radio-group-${re+1}`,type:"radio",className:"w-5 h-4 cursor-pointer border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:`radio-group-${re+1}`,className:`w-44 rounded-sm mr-4 cursor-pointer border-2 border-opacity-40 border-gray-500 hover:bg-opacity-80 ${oe(q)}`})]},q))})]}),Y&&A.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:Z?"52%":`${m.x-70}px`,maxWidth:Z?"170px":" "},ref:C,className:"flex absolute flex-col z-[10001] w-[200px]  rounded-md text-gray-300 pt-2 bg-gray-800 gap-1.5",children:[A.jsx("div",{className:"flex justify-end align-top",children:A.jsx("button",{onClick:q=>{q.stopPropagation(),U(!1)},className:"m-1 text-slate-300 px-1 rounded-md text-sm hover:bg-gray-600",children:"✕"})}),A.jsx("div",{className:"flex justify-center gap-6",children:A.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"To List"})}),A.jsx("div",{className:"flex flex-col gap-1",children:u.map((q,re)=>A.jsxs("div",{onClick:()=>pn(q),className:"flex py-1 justify-start ga-1 text-gray-300 hover:bg-gray-700  px-4",children:[A.jsx("p",{className:"text-lg",children:re+1}),A.jsxs("p",{className:"text-lg",children:[". ",q.title]})]},re))})]}),E&&A.jsxs("div",{style:{top:window.innerHeight>m.y+350?`${m.y}px`:`${m.y-170}px`,left:Z?"52%":`${m.x-70}px`,maxWidth:Z?"170px":" "},ref:T,className:"flex absolute flex-col z-[10001] p-1.5 rounded-md text-gray-300 pt-2 bg-gray-800  gap-1.5",children:[A.jsx("div",{className:"flex justify-end align-top",children:A.jsx("button",{onClick:q=>{q.stopPropagation(),R(!1)},className:" m-1 text-slate-300  px-1  rounded-md  text-sm hover:bg-gray-600",children:"✕"})}),A.jsx("div",{className:"flex justify-center gap-6",children:A.jsx("h3",{className:"mb-3 -mt-[1.9rem] text-center",children:"Labels"})}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label1,onChange:()=>{I(q=>({...q,label1:!q.label1}))},id:"checkbox-group-1",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-1",className:"w-44 bg-green-600 rounded-sm mr-4 cursor-pointer hover:bg-green-500"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label2,onChange:()=>{I(q=>({...q,label2:!q.label2}))},id:"checkbox-group-2",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-2",className:"w-44 bg-yellow-800 rounded-sm mr-4 cursor-pointer hover:bg-yellow-700"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label3,onChange:()=>{I(q=>({...q,label3:!q.label3}))},id:"checkbox-group-3",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-3",className:"w-44 bg-amber-600  rounded-sm mr-4 cursor-pointer hover:bg-amber-500"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label4,onChange:()=>{I(q=>({...q,label4:!q.label4}))},id:"checkbox-group-4",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-4",className:"w-44 bg-red-700 rounded-sm mr-4 cursor-pointer hover:bg-red-600"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label5,onChange:()=>{I(q=>({...q,label5:!q.label5}))},id:"checkbox-group-5",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-5",className:"w-44 bg-indigo-800 rounded-sm mr-4 cursor-pointer hover:bg-indigo-800"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label6,onChange:()=>{I(q=>({...q,label6:!q.label6}))},id:"checkbox-group-6",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-6",className:"w-44 bg-blue-700 rounded-sm mr-4 cursor-pointer hover:bg-blue-600"})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{checked:_.label7,onChange:()=>{I(q=>({...q,label7:!q.label7}))},id:"checkbox-group-7",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-7",className:"w-44 bg-pink-800 rounded-sm mr-4 cursor-pointer hover:bg-pink-700"})]}),A.jsxs("div",{className:"flex gap-1.5 mb-6",children:[A.jsx("input",{checked:_.label8,onChange:()=>{I(q=>({...q,label8:!q.label8}))},id:"checkbox-group-8",type:"checkbox",className:"w-5 h-4 cursor-pointer  border border-gray-300 rounded-md m-2  checked:bg-no-repeat checked:bg-center checked:border-indigo-500 checked:bg-indigo-100"}),A.jsx("label",{htmlFor:"checkbox-group-8",className:"w-44 bg-neutral-400 rounded-sm mr-4 cursor-pointer hover:bg-neutral-300"})]})]}),A.jsx("div",{className:`overlay ${x?"visible":""}`}),x&&A.jsxs("div",{ref:y,className:"card flex item  z-[1001]  absolute  flex-col gap-1 ",style:{top:window.innerHeight>c.y+350?`${c.y}px`:`${c.y-180}px`,left:Z?"52.5%":`${c.x}px`,alignItems:`${B?"end":"start"}`},children:[A.jsxs("button",{className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700 rounded-sm font-bold   p-3 pr-3.5 py-2 w-fit  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),"Open card"]}),A.jsxs("button",{ref:N,onClick:jn,className:"flex text-gray-300 shadow-xl bg-gray-800 hover:bg-gray-700 rounded-sm font-bold p-3 pr-3.5 py-2.5 w-fit  text-sm",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),"Edit labels "]}),A.jsxs("button",{className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700 rounded-sm font-bold p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),"Change members"]}),A.jsxs("button",{ref:S,onClick:Fn,className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25 1.5 1.5.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75 1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97-.75-.75.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25 12.75 9"})}),"Change cover"]}),A.jsxs("button",{className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),"Change dates"]}),A.jsxs("button",{ref:D,onClick:_r,className:"flex text-gray-300 shadow-xl  bg-gray-800  hover:bg-gray-700  font-bold rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})}),"Move"]}),A.jsxs("button",{className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700 font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),"Copy"]}),A.jsxs("button",{className:"flex text-gray-300 shadow-xl bg-gray-800  hover:bg-gray-700 font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),"Archive"]}),A.jsxs("button",{onClick:gt,className:"flex text-gray-300  bg-gray-800  hover:bg-gray-700 font-bold  rounded-sm p-3 pr-3.5  w-fit py-2.5  text-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 mr-2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),"Delete"]})]}),A.jsxs("div",{ref:tn,style:en,...ve,...ae,onContextMenu:tr,className:`CARD relative justify-center flex flex-col cursor-pointer focus:border-solid focus:border-blue-500 select-none focus:outline-none  text-gray-300 text-md p-1 px-2.5 rounded-md w-full mx-0 my-1.5 ${Q||"bg-gray-800"}`,children:[x&&A.jsx("div",{children:A.jsx("textarea",{ref:le,className:`z-[99]  absolute sm:w-full w-[70%] left-0  sm:right-0 top-0 pb-2 pt-3 ri text-start px-2.5 rounded-md  border-solid border-slate-400 border-0 focus:outline-none  text-slate-300 resize-none overflow-hidden ${Q||"bg-gray-800"}`,onChange:Vn,rows:"1",value:W,onInput:q=>{q.target.style.height="auto",q.target.style.height=`${q.target.scrollHeight+15}px`}})}),A.jsxs("div",{className:" absolute right-0 pointer-events-auto text-md p-2 pt-1.5 text-[1.2rem] text-gray-300 hover:opacity-65",onClick:q=>{q.stopPropagation(),tr(q)},children:["   ",A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.3",stroke:"currentColor",className:"size-6",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"})})]}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.label1&&A.jsx("span",{className:"z-[100]  bg-green-600 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label2&&A.jsx("span",{className:"z-[100] bg-yellow-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label3&&A.jsx("span",{className:"z-[100] bg-amber-600  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label4&&A.jsx("span",{className:"z-[100] bg-red-700  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label5&&A.jsx("span",{className:"z-[100]  bg-indigo-700 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label6&&A.jsx("span",{className:"z-[100]  bg-blue-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label7&&A.jsx("span",{className:"z-[100]  bg-pink-800 w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"}),_.label8&&A.jsx("span",{className:"z-[100]  bg-neutral-400  w-11 rounded-2xl h-[.45rem] -ml-0.5 mb-0.5 -mt-1.5"})]}),W||"Empty Card"]})]})}const j4=M.forwardRef(({item:t,Dragging:e,title:n,lists:r,id:i,BoardId:s,sharedWith:o},a)=>{const[l,u]=M.useState(!1),c=M.useRef(null),[f,p]=M.useState(""),[h,g]=M.useState([]),{menuOpen:m}=AE(),{attributes:v,listeners:x,setNodeRef:w,transform:E,transition:R,isDragging:_}=Rk({id:t.id,disabled:m}),I=L=>{const B=L.touches[0],H=L.target;H.offsetWidth>0&&B.clientX>=H.clientWidth&&L.stopPropagation()},T=L=>{const B=L.target;B.offsetWidth>0&&L.clientX>=B.clientWidth&&L.stopPropagation()},y=L=>{L.preventDefault()},S=async()=>{const L=rt.currentUser;if(L)try{p("");const B=new Date().getTime().toString(),H={label1:!1,label2:!1,label3:!1,label4:!1,label5:!1,label6:!1,label7:!1,label8:!1},Z="bg-gray-800",J={id:B,title:f,labels:H,background:Z};g(le=>[...le,J]);const W=Ce(be,`users/${L.uid}/Boards/${s}/Lists/${i}/cards`,B);await ji(W,{id:B,title:f,labels:H,order:h.length,background:Z}),console.log("Card added successfully for current user");const ee=o.map(le=>{const Q=Ce(be,`users/${le.id}/Boards/${s}/Lists/${i}/cards`,B);return ji(Q,{id:B,title:f,labels:H,order:h.length,background:Z})});await Promise.all(ee),console.log("Card added successfully for all shared users")}catch(B){console.error("Error adding card to Firestore: ",B)}else console.error("User is not authenticated")};M.useEffect(()=>{const L=jo(rt,B=>{B?(async()=>{const Z=Yo(be,`users/${B.uid}/Boards/${s}/Lists/${i}/cards`),W=(await Zo(Z)).docs.map(ee=>({id:ee.id,title:ee.data().title,labels:ee.data().labels,order:ee.data().order,background:ee.data().background})).sort((ee,le)=>ee.order-le.order);g(W)})().catch(Z=>console.error("Error fetching cards:",Z)):g([])});return()=>L()},[i]),M.useEffect(()=>{if(!l)return;const L=B=>{c.current&&!c.current.contains(B.target)&&C()};return document.addEventListener("click",L),()=>{document.removeEventListener("click",L)}},[l]);const k=L=>{L.stopPropagation(),u(!0)},C=()=>{u(!1)},D=async L=>{const{active:B,over:H}=L;if(B.id&&(H!=null&&H.id)){const Z=rt.currentUser;if(Z){const J=h.findIndex(ee=>ee.id===B.id),W=h.findIndex(ee=>ee.id===H.id);if(J!==-1&&W!==-1){const ee=Th(h,J,W);try{g(ee);const le=ee.map((fe,oe)=>Wt(Ce(be,`users/${Z.uid}/Boards/${s}/Lists/${i}/cards`,fe.id),{order:oe,title:fe.title,labels:fe.labels,background:fe.background})),Q=o.map(fe=>ee.map((oe,ve)=>Wt(Ce(be,`users/${fe.id}/Boards/${s}/Lists/${i}/cards`,oe.id),{order:ve,title:oe.title,labels:oe.labels,background:oe.background})));await Promise.all([...le,...Q.flat()])}catch(le){console.error("Error updating cards:",le)}}}else console.error("User is not authenticated")}},[N,F]=M.useState(window.innerWidth<=650);M.useEffect(()=>{const L=()=>{F(window.innerWidth<=650)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)}},[]);const z={transform:E?`translate3d(${E.x}px, 0, 20px) rotate(${_?-2:0}deg)`:void 0,transition:R,backgroundColor:_?"rgba(0, 0, 0, 0.8)":"",cursor:_?"grabbing":"pointer",zIndex:_?10:"auto"},Y=lk(Pd(V0,{activationConstraint:{delay:100,tolerance:5}}),Pd(j0,{activationConstraint:{delay:100,tolerance:5}})),U=async L=>{const B=rt.currentUser;if(g(H=>H.filter(J=>J.id!==L).map((J,W)=>({...J,order:W}))),B)try{const H=h.filter(W=>W.id!==L);await vd(Ce(be,`users/${B.uid}/Boards/${s}/Lists/${i}/cards`,L));const Z=H.map((W,ee)=>Wt(Ce(be,`users/${B.uid}/Boards/${s}/Lists/${i}/cards`,W.id),{order:ee,title:W.title,labels:W.labels,background:W.background})),J=o.map(W=>{const ee=vd(Ce(be,`users/${W.id}/Boards/${s}/Lists/${i}/cards`,L)),le=H.map((Q,fe)=>Wt(Ce(be,`users/${W.id}/Boards/${s}/Lists/${i}/cards`,Q.id),{order:fe,title:Q.title,labels:Q.labels,background:Q.background}));return[ee,...le]}).flat();await Promise.all([...Z,...J]),console.log("Card deleted and orders updated for all shared users")}catch(H){console.error("Error updating card title: ",H)}else console.error("User is not authenticated")};return A.jsxs("div",{style:z,className:`bg-black ListCssCustom p-4 px-3 pt-2.5 shadow-xl  rounded-xl h-fit ${e&&!_?"swing":""} ${!e||!_?"snap-start":""}  ${_?"dragList":""}`,children:[A.jsxs("div",{ref:w,...v,...x,onContextMenu:y,children:[A.jsxs("div",{className:"flex overflow-x-hidden justify-between items-start",children:[A.jsx("h3",{className:"focus:border-solid select-none focus:border-blue-500 focus:box-shadow focus:outline-none text-slate-300 px-1 text-lg mt-1.5 w-full mr-2",children:n}),A.jsx("button",{onClick:()=>console.log("worked"),className:"text-slate-300 select-none text-xl",children:"..."})]}),A.jsx("div",{onTouchStart:I,onMouseDown:T,className:" flex  pr-1.5 flex-col justify-start kkkk my-3 items-center",children:A.jsx(Tk,{sensors:Y,collisionDetection:uk,onDragEnd:D,children:A.jsx(Ik,{items:h,strategy:kk,children:h.map(L=>A.jsx(V4,{BoardId:s,listid:i,title:L.title,BG:L.background,id:L.id,labels:L.labels,item:L,onDeleteCard:U,sharedWith:o,lists:r},L.id))})})})]}),A.jsxs("div",{children:[!l&&A.jsx("button",{onClick:k,className:"text-slate-300 select-none text-opacity-95 hover:opacity-100 hover:bg-zinc-800 hover:bg-opacity-90 hover:shadow-xl w-full text-start px-1.5 py-1  rounded-md",children:"+ Add a card"}),l&&A.jsxs("div",{className:"mt-1",ref:c,children:[A.jsx("textarea",{placeholder:"Enter card title...",className:"pb-5 pt-1 h-16 text-start px-2.5 rounded-md w-full border-solid border-slate-400 border-0 focus:outline-none bg-gray-800 text-slate-300 resize-none overflow-hidden",onChange:L=>p(L.target.value),value:f,rows:"1",onInput:L=>{L.target.style.height="auto",L.target.style.height=`${L.target.scrollHeight+15}px`},onClick:L=>L.stopPropagation()}),A.jsxs("div",{className:"mt-3 flex justify-start gap-1.5",children:[A.jsx("button",{onClick:S,className:"bg-blue-500 hover:bg-blue-600 text-gray-900 py-1 px-2 rounded-md text-m",children:"Add Card"}),A.jsx("button",{onClick:()=>u(!1),className:"text-slate-300 py-1 px-2  rounded-md text-md hover:bg-gray-800",children:"✕"})]})]})]})]})});function F4({BoardMember:t,visibility:e,id:n,Board:r}){const[i,s]=M.useState(t),[o,a]=M.useState(""),l=async()=>{try{if(!o){console.error("Email is required.");return}const u=Yo(be,"users"),c=await Zo(u);let f=null;if(c.forEach(p=>{const h=p.data();h.email===o&&(f={id:p.id,...h},console.log("User found: ",f))}),f){s(h=>[...h,f]);const p=[...i,f];try{const h=Ce(be,`users/${i[0].id}/Boards/${n}`);await Wt(h,{sharedWith:p});const g=Ce(be,`users/${f.id}/Boards/${n}`);await ji(g,{...r.data,sharedWith:p},{merge:!0});const m=p.map(v=>{const x=Ce(be,`users/${v.id}/Boards/${n}`);return Wt(x,{sharedWith:p})});await Promise.all(m),console.log("Member added successfully and sharedWith updated for all members.")}catch(h){console.error("Error updating sharedWith: ",h)}}else{console.log("No user found with that email.");return}}catch(u){console.error("Error fetching users: ",u)}};return A.jsxs("div",{className:"bg-zinc-800 flex flex-col absolute  sm:top-24 top-[5.55em] z-[10000]   right-3  h-fit w-fit py-3 rounded-lg px-3.5 justify-start",children:[e==="private"&&A.jsx("div",{className:"w-[100%]  top-[-.2%]  p-1 right-[.1px]  h-[100%] absolute rounded-lg bg-zinc-950 bg-opacity-85 flex justify-center items-center",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsx("h1",{className:"text-gray-300 text-center text-lg",children:"This Board is private."}),A.jsx("p",{className:"text-gray-300 text-center text-sm",children:"To share it with others,switch it to shareable mode."})]})}),A.jsx("h1",{className:"text-gray-300 text-lg",children:"Share Board"}),A.jsx("div",{children:A.jsxs("div",{className:"flex gap-2.5 mt-4",children:[A.jsx("input",{onChange:u=>{a(u.target.value)},value:o,type:"email",required:!0,placeholder:"Enter Email address",className:"text:xl p-1.5 px-2.5 pr-12 h-fit rounded-md  border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-sm text-slate-300"}),A.jsx("button",{onClick:l,type:"submit",className:" text-zinc-800 bg-blue-500 hover:bg-blue-600 h-fit p-1.5 px-2 rounded-md",children:"Share"})]})}),A.jsxs("div",{className:"mt-7",children:[A.jsxs("h3",{className:"text-gray-300 text-[.9rem]",children:["Board members ",A.jsx("span",{className:" rounded-[50%] w-fit h-fit  p-.5 px-1 bg-slate-600 text-gray-300",children:i.length})]}),A.jsx("hr",{className:"w-full h-px mt-1  bg-gray-200 border-0 dark:bg-gray-500 opacity-90"})]}),A.jsx("div",{children:i.map((u,c)=>A.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[A.jsx("div",{children:A.jsx("div",{className:" pointer-events-none select-none",style:{backgroundColor:u.avatar.color,color:"#fff",width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"18px",border:"1.5px solid #555"},children:u.avatar.initials.toUpperCase()})}),A.jsxs("div",{children:[A.jsxs("h1",{className:"text-gray-300 text-opacity-95",children:[u.name," ",c===0?"(you)":""," "]}),A.jsxs("p",{className:"text-gray-300 text-sm -mt-1 text-opacity-85",children:["@",u.email," "]})]})]},u.id))})]})}function pt(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}pt(`.react-loading-indicator-normalize,
[class$=rli-bounding-box] {
  font-size: 1rem;
  display: inline-block;
  box-sizing: border-box;
  text-align: unset;
  isolation: isolate;
}

.rli-d-i-b {
  display: inline-block;
}

.rli-text-format {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 600;
  width: 90%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.7em;
  letter-spacing: 0.5px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Avenir Next", "Avenir", "Segoe UI", "Lucida Grande", "Helvetica Neue", "Helvetica", "Fira Sans", "Roboto", "Noto", "Droid Sans", "Cantarell", "Oxygen", "Ubuntu", "Franklin Gothic Medium", "Century Gothic", "Liberation Sans", sans-serif;
}`);var Re=function(){return Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Re.apply(this,arguments)};function Id(t){return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var B4=/^\s+/,U4=/\s+$/;function ie(t,e){if(e=e||{},(t=t||"")instanceof ie)return t;if(!(this instanceof ie))return new ie(t,e);var n=function(r){var i={r:0,g:0,b:0},s=1,o=null,a=null,l=null,u=!1,c=!1;typeof r=="string"&&(r=function(g){g=g.replace(B4,"").replace(U4,"").toLowerCase();var m,v=!1;if(km[g])g=km[g],v=!0;else if(g=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=zn.rgb.exec(g))?{r:m[1],g:m[2],b:m[3]}:(m=zn.rgba.exec(g))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=zn.hsl.exec(g))?{h:m[1],s:m[2],l:m[3]}:(m=zn.hsla.exec(g))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=zn.hsv.exec(g))?{h:m[1],s:m[2],v:m[3]}:(m=zn.hsva.exec(g))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=zn.hex8.exec(g))?{r:vn(m[1]),g:vn(m[2]),b:vn(m[3]),a:Yx(m[4]),format:v?"name":"hex8"}:(m=zn.hex6.exec(g))?{r:vn(m[1]),g:vn(m[2]),b:vn(m[3]),format:v?"name":"hex"}:(m=zn.hex4.exec(g))?{r:vn(m[1]+""+m[1]),g:vn(m[2]+""+m[2]),b:vn(m[3]+""+m[3]),a:Yx(m[4]+""+m[4]),format:v?"name":"hex8"}:(m=zn.hex3.exec(g))?{r:vn(m[1]+""+m[1]),g:vn(m[2]+""+m[2]),b:vn(m[3]+""+m[3]),format:v?"name":"hex"}:!1}(r)),Id(r)=="object"&&(Sr(r.r)&&Sr(r.g)&&Sr(r.b)?(f=r.r,p=r.g,h=r.b,i={r:255*Be(f,255),g:255*Be(p,255),b:255*Be(h,255)},u=!0,c=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Sr(r.h)&&Sr(r.s)&&Sr(r.v)?(o=Ma(r.s),a=Ma(r.v),i=function(g,m,v){g=6*Be(g,360),m=Be(m,100),v=Be(v,100);var x=Math.floor(g),w=g-x,E=v*(1-m),R=v*(1-w*m),_=v*(1-(1-w)*m),I=x%6,T=[v,R,E,E,_,v][I],y=[_,v,v,R,E,E][I],S=[E,E,_,v,v,R][I];return{r:255*T,g:255*y,b:255*S}}(r.h,o,a),u=!0,c="hsv"):Sr(r.h)&&Sr(r.s)&&Sr(r.l)&&(o=Ma(r.s),l=Ma(r.l),i=function(g,m,v){var x,w,E;function R(T,y,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?T+6*(y-T)*S:S<.5?y:S<2/3?T+(y-T)*(2/3-S)*6:T}if(g=Be(g,360),m=Be(m,100),v=Be(v,100),m===0)x=w=E=v;else{var _=v<.5?v*(1+m):v+m-v*m,I=2*v-_;x=R(I,_,g+1/3),w=R(I,_,g),E=R(I,_,g-1/3)}return{r:255*x,g:255*w,b:255*E}}(r.h,o,l),u=!0,c="hsl"),r.hasOwnProperty("a")&&(s=r.a));var f,p,h;return s=Dk(s),{ok:u,format:r.format||c,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:s}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function qx(t,e,n){t=Be(t,255),e=Be(e,255),n=Be(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=(s+o)/2;if(s==o)r=i=0;else{var l=s-o;switch(i=a>.5?l/(2-s-o):l/(s+o),s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function Kx(t,e,n){t=Be(t,255),e=Be(e,255),n=Be(n,255);var r,i,s=Math.max(t,e,n),o=Math.min(t,e,n),a=s,l=s-o;if(i=s===0?0:l/s,s==o)r=0;else{switch(s){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function Gx(t,e,n,r){var i=[Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Qx(t,e,n,r){return[Kn(Nk(r)),Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))].join("")}function z4(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s-=e/100,n.s=Sh(n.s),ie(n)}function $4(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s+=e/100,n.s=Sh(n.s),ie(n)}function W4(t){return ie(t).desaturate(100)}function H4(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l+=e/100,n.l=Sh(n.l),ie(n)}function q4(t,e){e=e===0?0:e||10;var n=ie(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),ie(n)}function K4(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l-=e/100,n.l=Sh(n.l),ie(n)}function G4(t,e){var n=ie(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ie(n)}function Q4(t){var e=ie(t).toHsl();return e.h=(e.h+180)%360,ie(e)}function Xx(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ie(t).toHsl(),r=[ie(t)],i=360/e,s=1;s<e;s++)r.push(ie({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function X4(t){var e=ie(t).toHsl(),n=e.h;return[ie(t),ie({h:(n+72)%360,s:e.s,l:e.l}),ie({h:(n+216)%360,s:e.s,l:e.l})]}function Y4(t,e,n){e=e||6,n=n||30;var r=ie(t).toHsl(),i=360/n,s=[ie(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(ie(r));return s}function J4(t,e){e=e||6;for(var n=ie(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(ie({h:r,s:i,v:s})),s=(s+a)%1;return o}ie.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=Dk(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Kx(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Kx(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=qx(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=qx(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return Gx(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(e,n,r,i,s){var o=[Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16)),Kn(Math.round(r).toString(16)),Kn(Nk(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Be(this._r,255))+"%",g:Math.round(100*Be(this._g,255))+"%",b:Math.round(100*Be(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*Be(this._r,255))+"%, "+Math.round(100*Be(this._g,255))+"%, "+Math.round(100*Be(this._b,255))+"%)":"rgba("+Math.round(100*Be(this._r,255))+"%, "+Math.round(100*Be(this._g,255))+"%, "+Math.round(100*Be(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Z4[Gx(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+Qx(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=ie(t);n="#"+Qx(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||t!=="hex"&&t!=="hex6"&&t!=="hex3"&&t!=="hex4"&&t!=="hex8"&&t!=="name"?(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),t!=="hex"&&t!=="hex6"||(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):t==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return ie(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(H4,arguments)},brighten:function(){return this._applyModification(q4,arguments)},darken:function(){return this._applyModification(K4,arguments)},desaturate:function(){return this._applyModification(z4,arguments)},saturate:function(){return this._applyModification($4,arguments)},greyscale:function(){return this._applyModification(W4,arguments)},spin:function(){return this._applyModification(G4,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Y4,arguments)},complement:function(){return this._applyCombination(Q4,arguments)},monochromatic:function(){return this._applyCombination(J4,arguments)},splitcomplement:function(){return this._applyCombination(X4,arguments)},triad:function(){return this._applyCombination(Xx,[3])},tetrad:function(){return this._applyCombination(Xx,[4])}},ie.fromRatio=function(t,e){if(Id(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r==="a"?t[r]:Ma(t[r]));t=n}return ie(t,e)},ie.equals=function(t,e){return!(!t||!e)&&ie(t).toRgbString()==ie(e).toRgbString()},ie.random=function(){return ie.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ie.mix=function(t,e,n){n=n===0?0:n||50;var r=ie(t).toRgb(),i=ie(e).toRgb(),s=n/100;return ie({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},ie.readability=function(t,e){var n=ie(t),r=ie(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},ie.isReadable=function(t,e,n){var r,i,s=ie.readability(t,e);switch(i=!1,(r=function(o){var a,l;return a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(o.size||"small").toLowerCase(),a!=="AA"&&a!=="AAA"&&(a="AA"),l!=="small"&&l!=="large"&&(l="small"),{level:a,size:l}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},ie.mostReadable=function(t,e,n){var r,i,s,o,a=null,l=0;i=(n=n||{}).includeFallbackColors,s=n.level,o=n.size;for(var u=0;u<e.length;u++)(r=ie.readability(t,e[u]))>l&&(l=r,a=ie(e[u]));return ie.isReadable(t,a,{level:s,size:o})||!i?a:(n.includeFallbackColors=!1,ie.mostReadable(t,["#fff","#000"],n))};var km=ie.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z4=ie.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(km);function Dk(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Be(t,e){(function(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1})(t)&&(t="100%");var n=function(r){return typeof r=="string"&&r.indexOf("%")!=-1}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Sh(t){return Math.min(1,Math.max(0,t))}function vn(t){return parseInt(t,16)}function Kn(t){return t.length==1?"0"+t:""+t}function Ma(t){return t<=1&&(t=100*t+"%"),t}function Nk(t){return Math.round(255*parseFloat(t)).toString(16)}function Yx(t){return vn(t)/255}var ri,Ju,Zu,zn=(Ju="[\\s|\\(]+("+(ri="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ri+")[,|\\s]+("+ri+")\\s*\\)?",Zu="[\\s|\\(]+("+ri+")[,|\\s]+("+ri+")[,|\\s]+("+ri+")[,|\\s]+("+ri+")\\s*\\)?",{CSS_UNIT:new RegExp(ri),rgb:new RegExp("rgb"+Ju),rgba:new RegExp("rgba"+Zu),hsl:new RegExp("hsl"+Ju),hsla:new RegExp("hsla"+Zu),hsv:new RegExp("hsv"+Ju),hsva:new RegExp("hsva"+Zu),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Sr(t){return!!zn.CSS_UNIT.exec(t)}var kh=function(t,e){var n=(typeof t=="string"?parseInt(t):t)||0;if(n>=-5&&n<=5){var r=n,i=parseFloat(e),s=i+r*(i/5)*-1;return(s==0||s<=Number.EPSILON)&&(s=.1),{animationPeriod:s+"s"}}return{animationPeriod:e}},Ph=function(t,e){var n=t||{},r="";switch(e){case"small":r="12px";break;case"medium":r="16px";break;case"large":r="20px";break;default:r=void 0}var i={};if(n.fontSize){var s=n.fontSize;i=function(o,a){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(u=Object.getOwnPropertySymbols(o);c<u.length;c++)a.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(o,u[c])&&(l[u[c]]=o[u[c]])}return l}(n,["fontSize"]),r=s}return{fontSize:r,styles:i}},e3={color:"currentColor",mixBlendMode:"difference",width:"unset",display:"block",paddingTop:"2px"},Ch=function(t){var e=t.className,n=t.text,r=t.textColor,i=t.staticText,s=t.style;return n?pe.createElement("span",{className:"rli-d-i-b rli-text-format ".concat(e||"").trim(),style:Re(Re(Re({},i&&e3),r&&{color:r,mixBlendMode:"unset"}),s&&s)},typeof n=="string"&&n.length?n:"loading"):null},iu="rgb(50, 205, 50)";function Ih(t,e){e===void 0&&(e=0);var n=[];return function r(i,s){return s===void 0&&(s=0),n.push.apply(n,i),n.length<s&&r(n,s),n.slice(0,s)}(t,e)}pt(`.atom-rli-bounding-box {
  --atom-phase1-rgb: 50, 205, 50;
  color: rgba(var(--atom-phase1-rgb), 1);
  font-size: 16px;
  position: relative;
  text-align: unset;
  isolation: isolate;
}
.atom-rli-bounding-box .atom-indicator {
  width: 6em;
  height: 6em;
  position: relative;
  perspective: 6em;
  overflow: hidden;
  color: rgba(var(--atom-phase1-rgb), 1);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6fj;
}
.atom-rli-bounding-box .atom-indicator::after, .atom-rli-bounding-box .atom-indicator::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 0.48em;
  height: 0.48em;
  margin: auto;
  border-radius: 50%;
  background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6de;
}
.atom-rli-bounding-box .atom-indicator::before {
  filter: drop-shadow(0px 0px 0.0625em currentColor);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit {
  color: rgba(var(--atom-phase1-rgb), 0.85);
  border: 0;
  border-left: 0.4em solid currentColor;
  box-sizing: border-box;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  width: 4.8em;
  height: 4.8em;
  background-color: transparent;
  border-radius: 50%;
  transform-style: preserve-3d;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6ex, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6g6;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  color: rgba(var(--atom-phase1-rgb), 0.18);
  animation: calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6h4;
  border: 0.125em solid currentColor;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit::before {
  content: "";
  width: 0.192em;
  height: 0.192em;
  position: absolute;
  border-radius: 50%;
  top: -0.096em;
  right: 0;
  bottom: 0;
  left: 0;
  margin: 0 auto;
  color: rgba(var(--atom-phase1-rgb), 1);
  box-shadow: 0px 0px 0.0625em 0.0625em currentColor, 0px 0px 0.0625em 0.125em currentColor;
  background-color: currentColor;
  transform: rotateY(-70deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6e7, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6fj;
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(1) {
  --orbit-vector-factor: -1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(2) {
  --orbit-vector-factor: 1;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3) {
  --orbit-vector-factor: 0;
  transform: rotateY(65deg) rotateX(calc(54deg * var(--orbit-vector-factor)));
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-indicator .electron-orbit:nth-of-type(3)::before {
  animation-delay: calc(var(--rli-animation-duration, 1s) * 0.5 * -1), calc(var(--rli-animation-duration, 1s) * 4 * -1);
}
.atom-rli-bounding-box .atom-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --atom-phase1-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase2-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase3-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --atom-phase4-rgb {
  syntax: "<number>#";
  inherits: true;
  initial-value: 50, 205, 50;
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6ex {
  from {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(0deg);
  }
  to {
    transform: rotateY(70deg) rotateX(calc(54deg * var(--orbit-vector-factor))) rotateZ(360deg);
  }
}
@keyframes u1qz6e7 {
  from {
    transform: rotateY(-70deg) rotateX(0deg);
  }
  to {
    transform: rotateY(-70deg) rotateX(-360deg);
  }
}
@keyframes u1qz6de {
  100%, 0% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  20% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase1-rgb), 0.1), rgba(var(--atom-phase1-rgb), 0.3) 37%, rgba(var(--atom-phase1-rgb), 1) 100%);
  }
  25% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  45% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  50% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  70% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  75% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
  95% {
    background-image: radial-gradient(circle at 35% 15%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.1), rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.3) 37%, rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1) 100%);
  }
}
@keyframes u1qz6fj {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 1);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 1);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 1);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 1);
  }
}
@keyframes u1qz6g6 {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.85);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.85);
  }
}
@keyframes u1qz6h4 {
  100%, 0% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  20% {
    color: rgba(var(--atom-phase1-rgb), 0.18);
  }
  25% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  45% {
    color: rgba(var(--atom-phase2-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  50% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  70% {
    color: rgba(var(--atom-phase3-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  75% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
  95% {
    color: rgba(var(--atom-phase4-rgb, var(--atom-phase1-rgb)), 0.18);
  }
}`);ie(iu).toRgb();Array.from({length:4},function(t,e){return"--atom-phase".concat(e+1,"-rgb")});pt(`.commet-rli-bounding-box {
  --commet-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  width: 6.85em;
  height: 6.85em;
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  position: relative;
  isolation: isolate;
}
.commet-rli-bounding-box .commet-indicator {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  box-sizing: border-box;
  width: 6em;
  height: 6em;
  color: var(--commet-phase1-color);
  display: inline-block;
  isolation: isolate;
  position: absolute;
  z-index: 0;
  animation: calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite u1qz6k3;
}
.commet-rli-bounding-box .commet-indicator .commet-box {
  position: absolute;
  display: inline-block;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  animation: u1qz6j2 var(--rli-animation-duration, 1.2s) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(1) {
  width: 100%;
  height: 100%;
  animation-direction: normal;
}
.commet-rli-bounding-box .commet-indicator .commet-box:nth-of-type(2) {
  width: 70%;
  height: 70%;
  animation-direction: reverse;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  display: inline-block;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commetball-box::before {
  content: "";
  width: 0.5em;
  height: 0.5em;
  border-radius: 50%;
  background-color: currentColor;
  position: absolute;
  top: -0.125em;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0 0 0.2em 0em currentColor, 0 0 0.6em 0em currentColor;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  box-sizing: border-box;
  border-style: solid;
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail1 {
  border-color: currentColor transparent transparent currentColor;
  border-width: 0.25em 0.25em 0 0;
  transform: rotateZ(-45deg);
}
.commet-rli-bounding-box .commet-indicator .commet-box .commet-trail.trail2 {
  border-color: currentColor currentColor transparent transparent;
  border-width: 0.25em 0 0 0.25em;
  transform: rotateZ(45deg);
}
.commet-rli-bounding-box .commet-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--commet-phase1-color);
}

@property --commet-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --commet-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6j2 {
  to {
    transform: rotate(1turn);
  }
}
@keyframes u1qz6k3 {
  100%, 0% {
    color: var(--commet-phase1-color);
  }
  20% {
    color: var(--commet-phase1-color);
  }
  25% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  45% {
    color: var(--commet-phase2-color, var(--commet-phase1-color));
  }
  50% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  70% {
    color: var(--commet-phase3-color, var(--commet-phase1-color));
  }
  75% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
  95% {
    color: var(--commet-phase4-color, var(--commet-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--commet-phase".concat(e+1,"-color")});pt(`.OP-annulus-rli-bounding-box {
  --OP-annulus-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .whirl {
  animation: u1qz6pz calc(var(--rli-animation-duration, 1.5s) * 1.33) linear infinite;
  height: 100%;
  transform-origin: center center;
  width: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}
.OP-annulus-rli-bounding-box .OP-annulus-indicator .path {
  stroke-dasharray: 1, 125;
  stroke-dashoffset: 0;
  animation: var(--rli-animation-duration, 1.5s) var(--rli-animation-function, ease-in-out) infinite u1qz6r6, calc(var(--rli-animation-duration, 1.5s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6sy;
  stroke-linecap: round;
}
.OP-annulus-rli-bounding-box .OP-annulus-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes u1qz6pz {
  100% {
    transform: rotate(360deg);
  }
}
@keyframes u1qz6r6 {
  0% {
    stroke-dasharray: 1, 125;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 98, 125;
    stroke-dashoffset: -124px;
  }
}
@keyframes u1qz6sy {
  100%, 0% {
    stroke: var(--OP-annulus-phase1-color);
  }
  22% {
    stroke: var(--OP-annulus-phase1-color);
  }
  25% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  42% {
    stroke: var(--OP-annulus-phase2-color, var(--OP-annulus-phase1-color));
  }
  50% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  72% {
    stroke: var(--OP-annulus-phase3-color, var(--OP-annulus-phase1-color));
  }
  75% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
  97% {
    stroke: var(--OP-annulus-phase4-color, var(--OP-annulus-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-phase".concat(e+1,"-color")});function Uf(t){return t&&t.Math===Math&&t}pt(`.OP-dotted-rli-bounding-box {
  --OP-dotted-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-dotted-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .OP-dotted-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder .dot {
  display: block;
  margin: 0 auto;
  width: 15%;
  height: 15%;
  background-color: currentColor;
  border-radius: 50%;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) infinite u1qz6qy, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6s0;
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) {
  transform: rotate(0deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(1) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 12 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) {
  transform: rotate(30deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(2) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 11 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) {
  transform: rotate(60deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(3) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 10 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) {
  transform: rotate(90deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(4) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 9 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) {
  transform: rotate(120deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(5) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 8 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) {
  transform: rotate(150deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(6) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 7 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) {
  transform: rotate(180deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(7) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 6 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) {
  transform: rotate(210deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(8) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 5 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) {
  transform: rotate(240deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(9) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 4 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) {
  transform: rotate(270deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(10) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 3 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) {
  transform: rotate(300deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(11) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 2 * -1);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) {
  transform: rotate(330deg);
}
.OP-dotted-rli-bounding-box .OP-dotted-indicator .dot-shape-holder:nth-of-type(12) .dot {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * 1 * -1);
}

@property --OP-dotted-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-dotted-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6qy {
  0%, 39%, 100% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
}
@keyframes u1qz6s0 {
  100%, 0% {
    background-color: var(--OP-dotted-phase1-color);
  }
  22% {
    background-color: var(--OP-dotted-phase1-color);
  }
  25% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  47% {
    background-color: var(--OP-dotted-phase2-color, var(--OP-dotted-phase1-color));
  }
  50% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  72% {
    background-color: var(--OP-dotted-phase3-color, var(--OP-dotted-phase1-color));
  }
  75% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
  97% {
    background-color: var(--OP-dotted-phase4-color, var(--OP-dotted-phase1-color));
  }
}`);Uf(typeof window=="object"&&window)||Uf(typeof self=="object"&&self)||Uf(typeof global=="object"&&global)||function(){return this}()||Function("return this")();Array.from({length:4},function(t,e){return"--OP-dotted-phase".concat(e+1,"-color")});pt(`.OP-spokes-rli-bounding-box {
  --OP-spokes-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  position: relative;
  color: var(--OP-spokes-phase1-color);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator {
  width: 4.8em;
  height: 4.8em;
  display: block;
  position: relative;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke {
  position: absolute;
  height: 1.2em;
  width: 0.4em;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto auto auto 50%;
  background-color: var(--OP-spokes-phase1-color);
  border-radius: 0.24em;
  opacity: 0;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) backwards infinite u1qz6sz, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) infinite u1qz6t3;
  transform-origin: left center;
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(1) {
  transform: rotate(calc(0 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(11 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(2) {
  transform: rotate(calc(1 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(10 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(3) {
  transform: rotate(calc(2 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(9 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(4) {
  transform: rotate(calc(3 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(8 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(5) {
  transform: rotate(calc(4 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(7 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(6) {
  transform: rotate(calc(5 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(6 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(7) {
  transform: rotate(calc(6 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(5 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(8) {
  transform: rotate(calc(7 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(4 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(9) {
  transform: rotate(calc(8 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(3 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(10) {
  transform: rotate(calc(9 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(2 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(11) {
  transform: rotate(calc(10 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(1 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator .spoke:nth-of-type(12) {
  transform: rotate(calc(11 * 360deg / 12)) translate(-50%, -1.56em);
  animation-delay: calc(0 * var(--rli-animation-duration, 1.2s) / 12 * -1);
}
.OP-spokes-rli-bounding-box .OP-spokes-indicator-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--OP-spokes-phase1-color);
  z-index: -2;
}

@property --OP-spokes-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-spokes-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6sz {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@keyframes u1qz6t3 {
  100%, 0% {
    background-color: var(--OP-spokes-phase1-color);
  }
  22% {
    background-color: var(--OP-spokes-phase1-color);
  }
  25% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  42% {
    background-color: var(--OP-spokes-phase2-color, var(--OP-spokes-phase1-color));
  }
  50% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  72% {
    background-color: var(--OP-spokes-phase3-color, var(--OP-spokes-phase1-color));
  }
  75% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
  97% {
    background-color: var(--OP-spokes-phase4-color, var(--OP-spokes-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--OP-spokes-phase".concat(e+1,"-color")});pt(`.OP-annulus-dual-sectors-rli-bounding-box {
  --OP-annulus-dual-sectors-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator {
  width: 5em;
  height: 5em;
  display: inline-block;
  position: relative;
  z-index: 0;
  color: var(--OP-annulus-dual-sectors-phase1-color);
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .annulus-sectors {
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border-width: 0.34em;
  border-style: solid;
  border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent var(--OP-annulus-dual-sectors-phase1-color) transparent;
  background-color: transparent;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) infinite u1qz6t5, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) infinite u1qz6uw;
}
.OP-annulus-dual-sectors-rli-bounding-box .OP-annulus-dual-sectors-indicator .OP-annulus-dual-sectors-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-dual-sectors-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-dual-sectors-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6t5 {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@keyframes u1qz6uw {
  100%, 0% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  20% {
    border-color: var(--OP-annulus-dual-sectors-phase1-color) transparent;
  }
  25% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  45% {
    border-color: var(--OP-annulus-dual-sectors-phase2-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  50% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  70% {
    border-color: var(--OP-annulus-dual-sectors-phase3-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  75% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
  95% {
    border-color: var(--OP-annulus-dual-sectors-phase4-color, var(--OP-annulus-dual-sectors-phase1-color)) transparent;
  }
}`);Array.from({length:4},function(t,e){return"--OP-annulus-dual-sectors-phase".concat(e+1,"-color")});pt(`.OP-annulus-sector-track-rli-bounding-box {
  --OP-annulus-track-phase1-color: rgba(50, 205, 50, 0.22);
  --OP-annulus-sector-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator {
  width: 5em;
  height: 5em;
  color: var(--OP-annulus-sector-phase1-color);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .annulus-track-ring {
  width: 100%;
  height: 100%;
  border-width: 0.34em;
  border-style: solid;
  border-radius: 50%;
  box-sizing: border-box;
  border-color: var(--OP-annulus-track-phase1-color);
  border-top-color: var(--OP-annulus-sector-phase1-color);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, linear) infinite u1qz6tq, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, linear) infinite u1qz6v8;
}
.OP-annulus-sector-track-rli-bounding-box .OP-annulus-sector-track-indicator .OP-annulus-sector-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --OP-annulus-track-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-track-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgba(50, 205, 50, 0.22);
}
@property --OP-annulus-sector-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --OP-annulus-sector-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6tq {
  to {
    transform: rotate(1turn);
  }
}
@keyframes u1qz6v8 {
  100%, 0% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  18% {
    border-color: var(--OP-annulus-track-phase1-color);
    border-top-color: var(--OP-annulus-sector-phase1-color);
  }
  25% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  43% {
    border-color: var(--OP-annulus-track-phase2-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase2-color, var(--OP-annulus-sector-phase1-color));
  }
  50% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  68% {
    border-color: var(--OP-annulus-track-phase3-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase3-color, var(--OP-annulus-sector-phase1-color));
  }
  75% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
  93% {
    border-color: var(--OP-annulus-track-phase4-color, var(--OP-annulus-track-phase1-color));
    border-top-color: var(--OP-annulus-sector-phase4-color, var(--OP-annulus-sector-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return["--OP-annulus-track-phase".concat(e+1,"-color"),"--OP-annulus-sector-phase".concat(e+1,"-color")]});pt(`.foursquare-rli-bounding-box {
  --four-square-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  box-sizing: border-box;
  color: var(--four-square-phase1-color);
  display: inline-block;
  overflow: hidden;
}
.foursquare-rli-bounding-box .foursquare-indicator {
  height: 5.3033008589em;
  width: 5.3033008589em;
  position: relative;
  display: block;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container {
  position: absolute;
  z-index: 0;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  height: 2.5em;
  width: 2.5em;
  color: inherit;
  will-change: color, width, height;
  transform: rotate(45deg);
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite u1qz6cv, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite u1qz6e3;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square {
  position: absolute;
  width: 1.25em;
  height: 1.25em;
  border-radius: 0.1875em;
  background-color: currentColor;
  animation: u1qz6cr var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) both infinite;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square1 {
  top: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square2 {
  top: 0;
  right: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square3 {
  bottom: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-indicator .squares-container .square.square4 {
  bottom: 0;
  right: 0;
}

@property --four-square-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --four-square-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6cv {
  0% {
    width: 2.5em;
    height: 2.5em;
  }
  10% {
    width: 2.5em;
    height: 2.5em;
  }
  50% {
    width: 3.75em;
    height: 3.75em;
  }
  90% {
    width: 2.5em;
    height: 2.5em;
  }
  100% {
    width: 2.5em;
    height: 2.5em;
  }
}
@keyframes u1qz6cr {
  0% {
    transform: rotateZ(0deg);
  }
  10% {
    transform: rotateZ(0deg);
  }
  50% {
    transform: rotateZ(90deg);
  }
  90% {
    transform: rotateZ(90deg);
  }
  100% {
    transform: rotateZ(90deg);
  }
}
@keyframes u1qz6e3 {
  100%, 0% {
    color: var(--four-square-phase1-color);
  }
  20% {
    color: var(--four-square-phase1-color);
  }
  25% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  45% {
    color: var(--four-square-phase2-color, var(--four-square-phase1-color));
  }
  50% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  70% {
    color: var(--four-square-phase3-color, var(--four-square-phase1-color));
  }
  75% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
  95% {
    color: var(--four-square-phase4-color, var(--four-square-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--four-square-phase".concat(e+1,"-color")});pt(`.mosaic-rli-bounding-box {
  --mosaic-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  color: var(--mosaic-phase1-color);
}
.mosaic-rli-bounding-box .mosaic-indicator {
  width: 5em;
  height: 5em;
  color: currentColor;
  display: grid;
  gap: 0.125em;
  grid-template-columns: repeat(3, 1fr);
  grid-template-areas: "a b c" "d e f" "g h i";
  position: relative;
  z-index: 0;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 105%;
  left: 50%;
  transform: translateX(-50%);
  z-index: -2;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube {
  background-color: var(--mosaic-phase1-color);
  animation-name: u1qz6bl, u1qz6c9;
  animation-duration: var(--rli-animation-duration, 1.5s), calc(var(--rli-animation-duration, 1.5s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in-out);
  animation-iteration-count: infinite;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube1 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
  grid-area: a;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube2 {
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
  grid-area: b;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube3 {
  grid-area: c;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 4);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube4 {
  grid-area: d;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube5 {
  grid-area: e;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube6 {
  grid-area: f;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube7 {
  grid-area: g;
  animation-delay: 0s;
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube8 {
  grid-area: h;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-indicator .mosaic-cube9 {
  grid-area: i;
  animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}

@property --mosaic-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --mosaic-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.5s;
}
@keyframes u1qz6bl {
  0%, 60%, 100% {
    transform: scale3D(1, 1, 1);
  }
  30% {
    transform: scale3D(0, 0, 1);
  }
}
@keyframes u1qz6c9 {
  100%, 0% {
    background-color: var(--mosaic-phase1-color);
  }
  25% {
    background-color: var(--mosaic-phase2-color, var(--mosaic-phase1-color));
  }
  50% {
    background-color: var(--mosaic-phase3-color, var(--mosaic-phase1-color));
  }
  75% {
    background-color: var(--mosaic-phase4-color, var(--mosaic-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--mosaic-phase".concat(e+1,"-color")});pt(`.riple-rli-bounding-box {
  --riple-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--riple-phase1-color);
}
.riple-rli-bounding-box .riple-indicator {
  display: inline-block;
  width: 5em;
  height: 5em;
  position: relative;
  z-index: 0;
}
.riple-rli-bounding-box .riple-indicator .riple-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.riple-rli-bounding-box .riple-indicator .riple {
  --border-width: 0.25em;
  position: absolute;
  border: var(--border-width) solid var(--riple-phase1-color);
  opacity: 1;
  border-radius: 50%;
  will-change: top, right, left, bottom, border-color;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite u1qz6mm, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite u1qz6og;
}
.riple-rli-bounding-box .riple-indicator .riple:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 1s) / 2 * -1);
}

@property --riple-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --riple-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6mm {
  0% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  4.9% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  5% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
  }
}
@keyframes u1qz6og {
  100%, 0% {
    border-color: var(--riple-phase1-color);
  }
  24.9% {
    border-color: var(--riple-phase1-color);
  }
  25% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  49.9% {
    border-color: var(--riple-phase2-color, var(--riple-phase1-color));
  }
  50% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  74.9% {
    border-color: var(--riple-phase3-color, var(--riple-phase1-color));
  }
  75% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
  99.9% {
    border-color: var(--riple-phase4-color, var(--riple-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--riple-phase".concat(e+1,"-color")});pt(`.pulsate-rli-bounding-box {
  --TD-pulsate-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  display: inline-block;
  box-sizing: border-box;
  color: var(--TD-pulsate-phase1-color);
}
.pulsate-rli-bounding-box .pulsate-indicator {
  width: 4.4em;
  height: 1.1em;
  text-align: center;
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: space-between;
  flex-wrap: nowrap;
  align-items: center;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot {
  width: 1.1em;
  height: 1.1em;
  border-radius: 50%;
  background-color: var(--TD-pulsate-phase1-color);
  transform: scale(0);
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, ease-in-out) var(--delay) infinite u1qz6uj, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, ease-in-out) var(--delay) infinite u1qz6vi;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(1) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15 * -1);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(2) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-dot:nth-of-type(3) {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.15);
}
.pulsate-rli-bounding-box .pulsate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 80%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.6em;
  letter-spacing: 0.5px;
  font-family: sans-serif;
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@property --TD-pulsate-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-pulsate-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6uj {
  0%, 90%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}
@keyframes u1qz6vi {
  0%, 100% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  24.9% {
    background-color: var(--TD-pulsate-phase1-color);
  }
  25% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  49.9% {
    background-color: var(--TD-pulsate-phase2-color, var(--TD-pulsate-phase1-color));
  }
  50% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  74.9% {
    background-color: var(--TD-pulsate-phase3-color, var(--TD-pulsate-phase1-color));
  }
  75% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
  99.9% {
    background-color: var(--TD-pulsate-phase4-color, var(--TD-pulsate-phase1-color));
  }
}`);var Fs=Array.from({length:4},function(t,e){return"--TD-pulsate-phase".concat(e+1,"-color")}),t3=function(t){var e,n=Ph(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=kh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Ih(l,Fs.length),f=0;f<c.length&&!(f>=4);f++)u[Fs[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Fs.length;p++)u[Fs[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="pulsate" /> indicator cannot be processed. Using default instead!')),p=0;p<Fs.length;p++)u[Fs[p]]=iu}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return pe.createElement("span",{className:"rli-d-i-b pulsate-rli-bounding-box",style:Re(Re(Re(Re(Re({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},pe.createElement("span",{className:"rli-d-i-b pulsate-indicator"},pe.createElement("span",{className:"rli-d-i-b pulsate-dot"}),pe.createElement("span",{className:"rli-d-i-b pulsate-dot"}),pe.createElement("span",{className:"rli-d-i-b pulsate-dot"})),pe.createElement(Ch,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pt(`.brick-stack-rli-bounding-box {
  --TD-brick-stack-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-brick-stack-phase1-color);
}
.brick-stack-rli-bounding-box .brick-stack-indicator {
  width: 2.8em;
  height: 2.8em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.brick-stack-rli-bounding-box .brick-stack {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 0/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 0 100%/40% 40% no-repeat, radial-gradient(circle closest-side, currentColor 0% 95%, rgba(0, 0, 0, 0) calc(95% + 1px)) 100% 100%/40% 40% no-repeat;
  animation: var(--rli-animation-duration, 1s) var(--rli-animation-function, ease-out) infinite u1qz6w1, calc(var(--rli-animation-duration, 1s) * 4) var(--rli-animation-function, ease-out) infinite u1qz6x5;
}

@property --TD-brick-stack-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-brick-stack-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1s;
}
@keyframes u1qz6w1 {
  0% {
    background-position: 0 0, 0 100%, 100% 100%;
  }
  25% {
    background-position: 100% 0, 0 100%, 100% 100%;
  }
  50% {
    background-position: 100% 0, 0 0, 100% 100%;
  }
  75% {
    background-position: 100% 0, 0 0, 0 100%;
  }
  100% {
    background-position: 100% 100%, 0 0, 0 100%;
  }
}
@keyframes u1qz6x5 {
  100%, 0% {
    color: var(--TD-brick-stack-phase1-color);
  }
  20% {
    color: var(--TD-brick-stack-phase1-color);
  }
  25% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  45% {
    color: var(--TD-brick-stack-phase2-color, var(--TD-brick-stack-phase1-color));
  }
  50% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  70% {
    color: var(--TD-brick-stack-phase3-color, var(--TD-brick-stack-phase1-color));
  }
  75% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
  95% {
    color: var(--TD-brick-stack-phase4-color, var(--TD-brick-stack-phase1-color));
  }
}`);var Bs=Array.from({length:4},function(t,e){return"--TD-brick-stack-phase".concat(e+1,"-color")}),n3=function(t){var e,n=Ph(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=kh(t==null?void 0:t.speedPlus,"1s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Ih(l,Bs.length),f=0;f<c.length&&!(f>=4);f++)u[Bs[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Bs.length;p++)u[Bs[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="brick-stack" /> indicator cannot be processed. Using default instead!')),p=0;p<Bs.length;p++)u[Bs[p]]=iu}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return pe.createElement("span",{className:"rli-d-i-b brick-stack-rli-bounding-box",style:Re(Re(Re(Re(Re({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},pe.createElement("span",{className:"rli-d-i-b brick-stack-indicator"},pe.createElement("span",{className:"rli-d-i-b brick-stack"})),pe.createElement(Ch,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pt(`.bob-rli-bounding-box {
  --TD-bob-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: var(--TD-bob-phase1-color);
}
.bob-rli-bounding-box .bob-indicator {
  width: 4.4em;
  height: 2.2em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bob-rli-bounding-box .bob-indicator .bobbing,
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  width: 1.1em;
  height: 100%;
  display: grid;
  animation: var(--rli-animation-duration, 1.2s) var(--rli-animation-function, linear) var(--delay) infinite u1qz6wd, calc(var(--rli-animation-duration, 1.2s) * 4) var(--rli-animation-function, linear) var(--delay) infinite u1qz6xx;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  content: "";
  grid-area: 1/1;
}
.bob-rli-bounding-box .bob-indicator .bobbing {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12 * -1);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0);
  transform: translateX(150%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  --delay: calc(var(--rli-animation-duration, 1.2s) * 0.12);
  transform: translateX(300%);
  background: radial-gradient(circle closest-side at center, currentColor 0% 92%, rgba(0, 0, 0, 0) calc(92% + 1px)) 50% 50%/100% 50% no-repeat;
}

@property --TD-bob-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bob-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6wd {
  100%, 0% {
    background-position: 50% 50%;
  }
  15% {
    background-position: 50% 10%;
  }
  30% {
    background-position: 50% 100%;
  }
  40% {
    background-position: 50% 0%;
  }
  50% {
    background-position: 50% 90%;
  }
  70% {
    background-position: 50% 10%;
  }
  98% {
    background-position: 50% 50%;
  }
}
@keyframes u1qz6xx {
  100%, 0% {
    color: var(--TD-bob-phase1-color);
  }
  22% {
    color: var(--TD-bob-phase1-color);
  }
  25% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  47% {
    color: var(--TD-bob-phase2-color, var(--TD-bob-phase1-color));
  }
  50% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  72% {
    color: var(--TD-bob-phase3-color, var(--TD-bob-phase1-color));
  }
  75% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
  97% {
    color: var(--TD-bob-phase4-color, var(--TD-bob-phase1-color));
  }
}`);var Us=Array.from({length:4},function(t,e){return"--TD-bob-phase".concat(e+1,"-color")}),r3=function(t){var e,n=Ph(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=kh(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Ih(l,Us.length),f=0;f<c.length&&!(f>=4);f++)u[Us[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<Us.length;p++)u[Us[p]]=l}catch(h){for(h instanceof Error?console.warn("[".concat(h.message,']: Received "').concat(typeof l,'" instead with value, ').concat(JSON.stringify(l))):console.warn("".concat(JSON.stringify(l),' received in <ThreeDot variant="bob" /> indicator cannot be processed. Using default instead!')),p=0;p<Us.length;p++)u[Us[p]]=iu}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return pe.createElement("span",{className:"rli-d-i-b bob-rli-bounding-box",style:Re(Re(Re(Re(Re({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r),role:"status","aria-live":"polite","aria-label":"Loading"},pe.createElement("span",{className:"bob-indicator"},pe.createElement("span",{className:"bobbing"})),pe.createElement(Ch,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pt(`.bounce-rli-bounding-box {
  --TD-bounce-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--TD-bounce-phase1-color);
  display: inline-block;
  padding-bottom: 0.25125em;
}
.bounce-rli-bounding-box .wrapper {
  --dot1-delay: 0s;
  --dot1-x-offset: 0.55em;
  --dot2-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.75) * -1);
  --dot2-x-offset: 2.2em;
  --dot3-delay: calc((var(--rli-animation-duration, 0.5s) + var(--rli-animation-duration, 0.5s) * 0.5) * -1);
  --dot3-x-offset: 3.85em;
  width: 5.5em;
  height: 3.125em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bounce-rli-bounding-box .wrapper .group {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.bounce-rli-bounding-box .wrapper .group .dot {
  width: 1.1em;
  height: 1.1em;
  position: absolute;
  border-radius: 50%;
  background-color: var(--TD-bounce-phase1-color);
  transform-origin: 50%;
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite u1qz6yl, calc(var(--rli-animation-duration, 0.5s) * 4) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) infinite u1qz6zs;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .dot:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay), 0s;
}
.bounce-rli-bounding-box .wrapper .group .shadow {
  width: 1.1em;
  height: 0.22em;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  position: absolute;
  top: 101%;
  transform-origin: 50%;
  z-index: -1;
  filter: blur(1px);
  animation: var(--rli-animation-duration, 0.5s) var(--rli-animation-function, cubic-bezier(0.74, 0.1, 0.74, 1)) alternate infinite u1qz6z4;
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(1) {
  left: var(--dot1-x-offset);
  animation-delay: var(--dot1-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(2) {
  left: var(--dot2-x-offset);
  animation-delay: var(--dot2-delay);
}
.bounce-rli-bounding-box .wrapper .group .shadow:nth-of-type(3) {
  left: var(--dot3-x-offset);
  animation-delay: var(--dot3-delay);
}

@property --TD-bounce-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --TD-bounce-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 0.5s;
}
@keyframes u1qz6yl {
  0% {
    top: 0%;
  }
  60% {
    height: 1.25em;
    border-radius: 50%;
    transform: scaleX(1);
  }
  100% {
    top: 100%;
    height: 0.22em;
    transform: scaleX(1.5);
    filter: blur(0.4px);
  }
}
@keyframes u1qz6z4 {
  0% {
    transform: scaleX(0.2);
    opacity: 0.2;
  }
  60% {
    opacity: 0.4;
  }
  100% {
    transform: scaleX(1.5);
    opacity: 0.6;
  }
}
@keyframes u1qz6zs {
  0%, 100% {
    background-color: var(--TD-bounce-phase1-color);
  }
  20% {
    background-color: var(--TD-bounce-phase1-color);
  }
  25% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  45% {
    background-color: var(--TD-bounce-phase2-color, var(--TD-bounce-phase1-color));
  }
  50% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  70% {
    background-color: var(--TD-bounce-phase3-color, var(--TD-bounce-phase1-color));
  }
  75% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
  95% {
    background-color: var(--TD-bounce-phase4-color, var(--TD-bounce-phase1-color));
  }
}`);var zs=Array.from({length:4},function(t,e){return"--TD-bounce-phase".concat(e+1,"-color")}),i3=function(t){var e,n=Ph(t==null?void 0:t.style,t==null?void 0:t.size),r=n.styles,i=n.fontSize,s=t==null?void 0:t.easing,o=kh(t==null?void 0:t.speedPlus,"0.5s").animationPeriod,a=function(l){var u={};if(l instanceof Array){for(var c=Ih(l,zs.length),f=0;f<c.length&&!(f>=4);f++)u[zs[f]]=c[f];return u}try{if(typeof l!="string")throw new Error("Color String expected");for(var p=0;p<zs.length;p++)u[zs[p]]=l}catch{for(p=0;p<zs.length;p++)u[zs[p]]=iu}return u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"");return pe.createElement("span",{className:"rli-d-i-b bounce-rli-bounding-box",style:Re(Re(Re(Re(Re({},i&&{fontSize:i}),o&&{"--rli-animation-duration":o}),s&&{"--rli-animation-function":s}),a),r)},pe.createElement("span",{className:"wrapper"},pe.createElement("span",{className:"group"},pe.createElement("span",{className:"rli-d-i-b dot"}),pe.createElement("span",{className:"rli-d-i-b dot"}),pe.createElement("span",{className:"rli-d-i-b dot"})),pe.createElement("span",{className:"group"},pe.createElement("span",{className:"rli-d-i-b shadow"}),pe.createElement("span",{className:"rli-d-i-b shadow"}),pe.createElement("span",{className:"rli-d-i-b shadow"}))),pe.createElement(Ch,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor,style:{marginTop:"2px"}}))},Mk=function(t){var e=Object(t).variant,n=e===void 0?"pulsate":e;return n==="pulsate"?pe.createElement(t3,Re({},t)):n==="brick-stack"?pe.createElement(n3,Re({},t)):n==="bob"?pe.createElement(r3,Re({},t)):n==="bounce"?pe.createElement(i3,Re({},t)):null};pt(`.blink-blur-rli-bounding-box {
  --shape-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--shape-phase1-color);
}
.blink-blur-rli-bounding-box .blink-blur-indicator {
  isolation: isolate;
  display: flex;
  flex-direction: row;
  -moz-column-gap: 0.4em;
       column-gap: 0.4em;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape {
  --x-deg: -20deg;
  width: 1.8em;
  height: 2.25em;
  border-radius: 0.25em;
  color: inherit;
  transform: skewX(var(--x-deg));
  background-color: var(--shape-phase1-color);
  animation-name: u1qz6i2, u1qz6js;
  animation-duration: var(--rli-animation-duration, 1.2s), calc(var(--rli-animation-duration, 1.2s) * 4);
  animation-timing-function: var(--rli-animation-function, ease-in);
  animation-iteration-count: infinite;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape1 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.5 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape2 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.4 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape3 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.3 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape4 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.2 * -1);
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape.blink-blur-shape5 {
  animation-delay: calc(var(--rli-animation-duration, 1.2s) * 0.1 * -1);
}

@property --shape-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --shape-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 1.2s;
}
@keyframes u1qz6i2 {
  100%, 0% {
    opacity: 0.3;
    filter: blur(0.0675em) drop-shadow(0 0 0.0625em);
    transform: skewX(var(--x-deg)) scale(1.2, 1.45);
  }
  39% {
    opacity: 0.8;
  }
  40%, 41%, 42% {
    opacity: 0;
  }
  43% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
    filter: blur(0em) drop-shadow(0 0 0em);
    transform: skewX(var(--x-deg)) scale(1, 1);
  }
}
@keyframes u1qz6js {
  100%, 0% {
    color: var(--shape-phase1-color);
    background-color: var(--shape-phase1-color);
  }
  25% {
    color: var(--shape-phase2-color, var(--shape-phase1-color));
    background-color: var(--shape-phase2-color, var(--shape-phase1-color));
  }
  50% {
    color: var(--shape-phase3-color, var(--shape-phase1-color));
    background-color: var(--shape-phase3-color, var(--shape-phase1-color));
  }
  75% {
    color: var(--shape-phase4-color, var(--shape-phase1-color));
    background-color: var(--shape-phase4-color, var(--shape-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--shape-phase".concat(e+1,"-color")});pt(`.trophy-spin-rli-bounding-box {
  --trophySpin-phase1-color: rgb(50, 205, 50);
  box-sizing: border-box;
  font-size: 16px;
  position: relative;
  isolation: isolate;
  color: var(--trophySpin-phase1-color);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator {
  width: 4em;
  perspective: 1000px;
  transform-style: preserve-3d;
  display: block;
  margin: 0 auto;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade {
  display: block;
  width: 4em;
  height: 0.5em;
  background: var(--trophySpin-phase1-color);
  animation: u1qz6nk var(--rli-animation-duration, 2.5s) var(--rli-animation-function, linear) infinite, u1qz6op calc(var(--rli-animation-duration, 2.5s) * 0.5) var(--rli-animation-function, linear) infinite, u1qz6pg calc(var(--rli-animation-duration, 2.5s) * 4) var(--rli-animation-function, linear) infinite;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(8) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 0 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(7) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 1 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(6) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 2 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(5) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 3 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(4) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 4 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(3) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 5 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(2) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 6 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-of-type(1) {
  animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 7 * -1);
}

@property --trophySpin-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --trophySpin-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2.5s;
}
@keyframes u1qz6nk {
  to {
    transform: rotateY(1turn) rotateX(-25deg);
  }
}
@keyframes u1qz6op {
  100%, 0% {
    filter: brightness(1);
    opacity: 1;
  }
  15% {
    filter: brightness(1);
  }
  25% {
    opacity: 0.96;
  }
  30% {
    filter: brightness(0.92);
  }
  50% {
    filter: brightness(0.7);
    opacity: 1;
  }
  75% {
    filter: brightness(0.92);
    opacity: 0.96;
  }
  90% {
    filter: brightness(1);
  }
}
@keyframes u1qz6pg {
  100%, 0% {
    background-color: var(--trophySpin-phase1-color);
  }
  18% {
    background-color: var(--trophySpin-phase1-color);
  }
  25% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  43% {
    background-color: var(--trophySpin-phase2-color, var(--trophySpin-phase1-color));
  }
  50% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  68% {
    background-color: var(--trophySpin-phase3-color, var(--trophySpin-phase1-color));
  }
  75% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
  93% {
    background-color: var(--trophySpin-phase4-color, var(--trophySpin-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--trophySpin-phase".concat(e+1,"-color")});pt(`.slab-rli-bounding-box {
  --slab-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  color: var(--slab-phase1-color);
  position: relative;
}
.slab-rli-bounding-box .slab-indicator {
  position: relative;
  display: block;
  width: 7em;
  height: 4em;
  margin: 0 auto;
  overflow: hidden;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper {
  width: 4em;
  height: 4em;
  transform: perspective(15em) rotateX(66deg) rotateZ(-25deg);
  transform-style: preserve-3d;
  transform-origin: 50% 100%;
  display: block;
  position: absolute;
  bottom: 0;
  right: 0;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--slab-phase1-color);
  opacity: 0;
  box-shadow: -0.08em 0.15em 0 rgba(0, 0, 0, 0.45);
  transform-origin: 0% 0%;
  animation: calc(var(--rli-animation-duration-unitless, 3) * 1s) var(--rli-animation-function, linear) infinite u1qz6km, calc(var(--rli-animation-duration-unitless, 3) * 4s) var(--rli-animation-function, linear) infinite u1qz6lk;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(1) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 3 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(2) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * 2 * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(3) {
  animation-delay: calc(4 / (16 / var(--rli-animation-duration-unitless, 3)) * -1 * 1s);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(4) {
  animation-delay: 0s;
}

@property --slab-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --slab-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration-unitless {
  syntax: "<number>";
  inherits: true;
  initial-value: 3;
}
@keyframes u1qz6km {
  0% {
    transform: translateY(0) rotateX(30deg);
    opacity: 0;
  }
  10% {
    transform: translateY(-40%) rotateX(0deg);
    opacity: 1;
  }
  25% {
    opacity: 1;
  }
  100% {
    transform: translateY(-400%) rotateX(0deg);
    opacity: 0;
  }
}
@keyframes u1qz6lk {
  100%, 0% {
    background-color: var(--slab-phase1-color);
  }
  24.9% {
    background-color: var(--slab-phase1-color);
  }
  25% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  49.9% {
    background-color: var(--slab-phase2-color, var(--slab-phase1-color));
  }
  50% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  74.9% {
    background-color: var(--slab-phase3-color, var(--slab-phase1-color));
  }
  75% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
  99.9% {
    background-color: var(--slab-phase4-color, var(--slab-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--slab-phase".concat(e+1,"-color")});pt(`.lifeline-rli-bounding-box {
  --life-line-phase1-color: rgb(50, 205, 50);
  font-size: 16px;
  isolation: isolate;
  color: var(--life-line-phase1-color);
}
.lifeline-rli-bounding-box .lifeline-indicator {
  position: relative;
  text-align: center;
}
.lifeline-rli-bounding-box .lifeline-indicator path.rli-lifeline {
  stroke-dasharray: 474.7616760254 30.3039367676;
  animation: var(--rli-animation-duration, 2s) var(--rli-animation-function, linear) infinite u1qz6lr, calc(var(--rli-animation-duration, 2s) * 4) var(--rli-animation-function, linear) infinite u1qz6m8;
}
.lifeline-rli-bounding-box .lifeline-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

@property --life-line-phase1-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase2-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase3-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --life-line-phase4-color {
  syntax: "<color>";
  inherits: true;
  initial-value: rgb(50, 205, 50);
}
@property --rli-animation-duration {
  syntax: "<time>";
  inherits: true;
  initial-value: 2s;
}
@keyframes u1qz6lr {
  to {
    stroke-dashoffset: -1010.1312255859;
  }
}
@keyframes u1qz6m8 {
  100%, 0% {
    color: var(--life-line-phase1-color);
  }
  20% {
    color: var(--life-line-phase1-color);
  }
  25% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  45% {
    color: var(--life-line-phase2-color, var(--life-line-phase1-color));
  }
  50% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  70% {
    color: var(--life-line-phase3-color, var(--life-line-phase1-color));
  }
  75% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
  95% {
    color: var(--life-line-phase4-color, var(--life-line-phase1-color));
  }
}`);Array.from({length:4},function(t,e){return"--life-line-phase".concat(e+1,"-color")});function s3(){const t=M.useRef(null),e=M.useRef(null),[n,r]=M.useState(!1),i=M.useRef(null),[s,o]=M.useState(!1),a=M.useRef([]),[l,u]=M.useState(!1),[c,f]=M.useState(""),[p,h]=M.useState([]),m=Ho().state,[v,x]=M.useState(!0),[w,E]=M.useState(m),[R,_]=M.useState(m.boardVisibility),[I,T]=M.useState(m.sharedWith);M.useEffect(()=>{const W=setTimeout(()=>{x(!1)},700);return()=>{clearTimeout(W)}});const[y,S]=M.useState(!1),k=M.useRef(null),C=W=>{k.current&&!k.current.contains(W.target)&&S(!1)};M.useEffect(()=>(document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}),[]),M.useEffect(()=>(document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}),[]),M.useEffect(()=>{const W=jo(rt,ee=>{ee?(async()=>{try{const Q=Ce(be,`users/${ee.uid}/Boards/${m.id}`),fe=await x0(Q);if(fe.exists()){const oe={id:fe.id,data:fe.data()};E(oe),_(oe.data.boardVisibility),T(oe.data.sharedWith)}else console.log("No such board!"),E({})}catch(Q){console.error("Error fetching board:",Q)}})():E({})});return()=>W()},[]);const D=W=>{e.current&&!e.current.contains(W.target)&&o(!1)},N=async()=>{if(R==="shareable"){const W=rt.currentUser;if(W){if(I.length>=2){console.error("Cannot change visibility to private: the board is shared with multiple users.");return}try{_("private"),await Wt(Ce(be,`users/${W.uid}/Boards/${m.id}`),{boardVisibility:"private"})}catch(ee){console.error("Error updating document: ",ee)}}else console.error("User is not authenticated.")}},F=async()=>{if(R==="private"){_("shareable");const W=rt.currentUser;if(W)try{await Wt(Ce(be,`users/${W.uid}/Boards/${m.id}`),{boardVisibility:"shareable"})}catch(ee){console.log("Error updating document: ",ee)}}else console.error("User is not authenticated.")},z=m.background===""?{backgroundImage:`url('${m.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",height:"auto",width:"100%",color:"rgba(255,255,255,0)"}:{},Y=W=>{u(!1),W.stopPropagation(),r(!0)},U=()=>{r(!1)};M.useEffect(()=>{const W=jo(rt,ee=>{ee?(async()=>{const Q=Yo(be,`users/${ee.uid}/Boards/${m.id}/Lists`),oe=(await Zo(Q)).docs.map(ve=>({id:ve.id,title:ve.data().title,order:ve.data().order})).sort((ve,ae)=>ve.order-ae.order);h(oe)})().catch(Q=>console.error("Error fetching lists:",Q)):h([])});return()=>W()},[]),M.useEffect(()=>{if(n)return document.addEventListener("click",B),()=>{document.removeEventListener("click",B)}},[n]);const L=async()=>{const W=rt.currentUser;if(W){U();try{const ee=new Date().getTime().toString(),le={id:ee,title:c};h(oe=>{const ve=[...oe,le],ae=Ce(be,`users/${W.uid}/Boards/${m.id}/Lists`,ee);return ji(ae,{title:c,id:ee,order:ve.length-1}),ve}),console.log(I);const Q=I.map(oe=>{const ve=Ce(be,`users/${oe.id}/Boards/${m.id}/Lists`,ee);return ji(ve,{title:c,id:ee,order:p.length})});if(await Promise.all(Q),window.innerWidth<=650&&a.current.length>0){const oe=a.current[a.current.length-1];oe&&oe.scrollIntoView({behavior:"smooth",block:"start"})}}catch(ee){console.error("Error adding to Firestore: ",ee)}}else console.error("User is not authenticated")},B=W=>{i.current&&!i.current.contains(W.target)&&(console.log("Click was outside, closing input"),U())},H=()=>{u(!0)},Z=async W=>{const{active:ee,over:le}=W;if(u(!1),ee.id&&(le!=null&&le.id)){const Q=rt.currentUser;if(Q){const fe=p.findIndex(ve=>ve.id===ee.id),oe=p.findIndex(ve=>ve.id===le.id);if(fe!==-1&&oe!==-1){const ve=Th(p,fe,oe);try{h(ve);const ae=ve.map((ye,lt)=>Wt(Ce(be,`users/${Q.uid}/Boards/${m.id}/Lists`,ye.id),{order:lt,title:ye.title})),Le=I.map(ye=>ve.map((lt,Xe)=>Wt(Ce(be,`users/${ye.id}/Boards/${m.id}/Lists`,lt.id),{order:Xe,title:lt.title}))).flat();await Promise.all([...ae,...Le])}catch(ae){console.error("Error updating cards:",ae)}}}else console.error("User is not authenticated")}},J=lk(Pd(V0,{activationConstraint:{delay:50,tolerance:5}}),Pd(j0,{activationConstraint:{delay:50,tolerance:5}}));return A.jsxs("div",{children:[v&&A.jsxs("div",{className:"flex h-screen w-screen flex-col justify-center items-center gap-6 p-4 ",children:[A.jsx(Mk,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),A.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!v&&A.jsxs("div",{style:z,className:`h-screen max-h-screen overflow-hidden flex flex-col box-border ${m.background} `,children:[s&&A.jsx("div",{ref:e,className:" absolute top-[5.3em] left-[2.3%]  mt-1.5 shareMenu z-[1000000] w-72 rounded-2xl  bg-zinc-800   ring-black ring-opacity-5 focus:outline-none",children:A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{onClick:N,style:{borderColor:R==="private"?"lightblue":""},className:"block  w-full border-2 border-zinc-800 rounded-2xl text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[A.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),A.jsxs("button",{onClick:F,style:{borderColor:R==="shareable"?"lightblue":""},className:"block border-2 border-zinc-800 w-full text-left px-4 rounded-2xl py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[A.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})}),A.jsx("nav",{className:"bg-gray-400 bg-opacity-55  sm:bg-opacity-50  py-2.5  pl-3.5 pr-2 sm:pr-5 text-md absolute w-screen items-center top-11",children:A.jsxs("div",{className:"flex justify-between  ",children:[A.jsxs("div",{className:"flex gap-5",children:[A.jsx("p",{className:"text-white font-bold text-md sm:text-xl cursor-pointer",children:m.title}),A.jsx("div",{className:"relative inline-block text-left",ref:e,children:A.jsxs("button",{onClick:()=>{o(!s)},className:"sm:text-lg text-slate-100 text-md px-1.5 flex gap-1  hover:text-gray-900 rounded-md hover:bg-slate-100 items-center",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),"Workspace visible"]})})]}),A.jsxs("div",{onClick:()=>{S(!y)},className:"  bg-slate-100 text-zinc-950 flex items-center gap-1 px-1.5 rounded-md  hover:bg-slate-200  cursor-pointer",children:["  ",A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.4",stroke:"currentColor",className:"w-5 h-5",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})}),"Share"]})]})}),y&&A.jsx("div",{ref:k,children:A.jsx(F4,{visibility:R,id:m.id,Board:w,BoardMember:I})}),A.jsxs("div",{ref:t,className:`ml-7 sm:pl-6 md:ml-0 overflow-x-auto BOARDS  overflow-y-hidden   h-screen max-h-screen over px-3    sm:gap-10  flex gap-16 pt-28  ${l?" ":"BordContainer"}`,children:[A.jsx(Tk,{onDragStart:H,sensors:J,collisionDetection:uk,onDragEnd:Z,children:A.jsx(Ik,{items:p,strategy:kk,children:p.map((W,ee)=>A.jsx(j4,{BoardId:m.id,item:W,sharedWith:I,lists:p,id:W.id,Dragging:l,ref:le=>a.current[ee]=le,title:W.title},W.id))})}),!n&&A.jsx("button",{onClick:Y,className:"btn p-4 text-md   py-2.5 rounded-lg bg-zinc-800 bg-opacity-50 text-left text-zinc-50 self-start mt-1",children:"+ Add another list"}),n&&A.jsx("div",{className:"bg-black mr-10  btn p-5 px-3 pt-3 rounded-xl h-fit",children:A.jsxs("div",{className:"mt-1",children:[A.jsx("input",{onChange:W=>{f(W.target.value)},type:"text",placeholder:"Enter List name...",className:"text:xl p-1.5 px-2.5 rounded-md w-full border-solid border-slate-400 focus:border-solid focus:border-blue-500 focus:box-shadow border-2  focus:outline-none bg-gray-800 text-sm text-slate-300"}),A.jsxs("div",{className:"mt-3 flex justify-start gap-1.5",children:[A.jsx("button",{onClick:L,className:"bg-blue-500 hover:bg-blue-600 text-gray-900  py-1 px-2 rounded-md  text-m",children:"Add List"}),A.jsx("button",{onClick:U,className:" justify-self-end  text-slate-300  py-1 px-2  rounded-md  text-md hover:bg-gray-800",children:"✕"})]})]})})]})]})]})}var Cc={},Ok,Lk;Object.defineProperty(Cc,"__esModule",{value:!0});var Oa=A,ar=M,Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Wn.apply(this,arguments)};function o3(t,e){var n,r;switch(e.type){case"TYPE":return Wn(Wn({},t),{speed:e.speed,text:(n=e.payload)===null||n===void 0?void 0:n.substring(0,t.text.length+1)});case"DELAY":return Wn(Wn({},t),{speed:e.payload});case"DELETE":return Wn(Wn({},t),{speed:e.speed,text:(r=e.payload)===null||r===void 0?void 0:r.substring(0,t.text.length-1)});case"COUNT":return Wn(Wn({},t),{count:t.count+1});default:return t}}var Jx=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,u=t.delaySpeed,c=u===void 0?1500:u,f=t.onLoopDone,p=t.onType,h=t.onDelete,g=t.onDelay,m=ar.useReducer(o3,{speed:o,text:"",count:0}),v=m[0],x=v.speed,w=v.text,E=v.count,R=m[1],_=ar.useRef(0),I=ar.useRef(!1),T=ar.useRef(!1),y=ar.useRef(!1),S=ar.useRef(!1),k=ar.useCallback(function(){var C=E%n.length,D=n[C];T.current?(R({type:"DELETE",payload:D,speed:l}),w===""&&(T.current=!1,R({type:"COUNT"}))):(R({type:"TYPE",payload:D,speed:o}),y.current=!0,w===D&&(R({type:"DELAY",payload:c}),y.current=!1,S.current=!0,setTimeout(function(){S.current=!1,T.current=!0},c),i>0&&(_.current+=1,_.current/n.length===i&&(S.current=!1,I.current=!0)))),y.current&&p&&p(_.current),T.current&&h&&h(),S.current&&g&&g()},[E,c,l,i,o,n,w,p,h,g]);return ar.useEffect(function(){var C=setTimeout(k,x);return I.current&&clearTimeout(C),function(){return clearTimeout(C)}},[k,x]),ar.useEffect(function(){f&&I.current&&f()},[f]),[w,{isType:y.current,isDelay:S.current,isDelete:T.current,isDone:I.current}]},a3="styles-module_blinkingCursor__yugAC",l3="styles-module_blinking__9VXRT";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var Zx=ar.memo(function(t){var e=t.cursorBlinking,n=e===void 0||e,r=t.cursorStyle,i=r===void 0?"|":r,s=t.cursorColor,o=s===void 0?"inherit":s;return Oa.jsx("span",Wn({style:{color:o},className:"".concat(a3," ").concat(n?l3:"")},{children:i}))});Lk=Cc.Cursor=Zx,Cc.Typewriter=function(t){var e=t.words,n=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,r=t.loop,i=r===void 0?1:r,s=t.typeSpeed,o=s===void 0?80:s,a=t.deleteSpeed,l=a===void 0?50:a,u=t.delaySpeed,c=u===void 0?1500:u,f=t.cursor,p=f!==void 0&&f,h=t.cursorStyle,g=h===void 0?"|":h,m=t.cursorColor,v=m===void 0?"inherit":m,x=t.cursorBlinking,w=x===void 0||x,E=t.onLoopDone,R=t.onType,_=t.onDelay,I=t.onDelete,T=Jx({words:n,loop:i,typeSpeed:o,deleteSpeed:l,delaySpeed:c,onLoopDone:E,onType:R,onDelay:_,onDelete:I})[0];return Oa.jsxs(Oa.Fragment,{children:[Oa.jsx("span",{children:T}),p&&Oa.jsx(Zx,{cursorStyle:g,cursorColor:v,cursorBlinking:w})]})},Ok=Cc.useTypewriter=Jx;function Vk(){const t=["./BoardBackground/1.jpg","./BoardBackground/2.jpg","./BoardBackground/3.jpg","./BoardBackground/4.jpg","./BoardBackground/5.jpg","./BoardBackground/6.jpg","./BoardBackground/7.jpg","./BoardBackground/8.jpg","./BoardBackground/9.jpg","./BoardBackground/10.jpg","./BoardBackground/11.jpg","./BoardBackground/12.jpg","./BoardBackground/13.jpg","./BoardBackground/14.jpg","./BoardBackground/15.jpg","./BoardBackground/16.jpg","./BoardBackground/17.jpg","./BoardBackground/18.png","./BoardBackground/19.jpg"],e=Wl(),[n,r]=M.useState(!1),[i,s]=M.useState(""),[o,a]=M.useState(""),[l,u]=M.useState(""),c=M.useRef(null),[f,p]=M.useState("Board Visibility"),h=()=>{r(!n)},g=_=>{c.current&&!c.current.contains(_.target)&&r(!1)};M.useEffect(()=>(document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}),[]);const m=n?{borderColor:"lightblue"}:{},v=_=>{w==="Make sure you fill the board title"&&E(""),u(_.target.value)},x=i===""?{backgroundImage:`url('${o}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},[w,E]=M.useState(""),R=async()=>{if(l==="")E("Make sure you fill the board title");else if(i===""&&o==="")E("Make sure you choose a background or images");else if(f==="Board Visibility")E("Make sure you choose a visibility option");else{const _=rt.currentUser;if(_)try{const I=Ce(be,`users/${_.uid}`),T=await x0(I);let y="",S={};if(T.exists()){const F=T.data();y=F.name,S=F.avatar}const k=new Date().getTime().toString(),C=Ce(be,`users/${_.uid}/Boards`,k),N={id:k,title:l,background:i,backgroundImage:o,boardVisibility:f==="Shareable Board"?"shareable":"private",sharedWith:[{id:_.uid,email:_.email,name:y,avatar:S}]};await ji(C,N),e(`/Board/${k}`,{state:N})}catch(I){console.log(I)}else alert("Please Sign In First")}};return A.jsxs("div",{className:"flex  items-center z-10 sm:mt-10  w-screen h-screen px-7  flex-col justify-start ",children:[A.jsx("img",{draggable:!1,style:x,src:"https://trello.com/assets/14cda5dc635d1f13bc48.svg",className:`w-[50%] p-1 px-2 max-w-[210px] mb-5 mt-[-27%]  select-none sm:mt-[-50px] ${i}`}),A.jsxs("div",{className:"flex w-[80%] max-w-[470px] justify-center gap-4 md:gap-10 items-center ",children:[A.jsxs("div",{className:"main",children:[A.jsx("input",{onChange:_=>{v(_)},required:!0,type:"text",className:"input"}),A.jsxs("label",{children:[A.jsx("span",{style:{transitionDelay:"0ms",left:"10px"},children:"B"}),A.jsx("span",{style:{transitionDelay:"75ms",left:"27px"},children:"o"}),A.jsx("span",{style:{transitionDelay:"150ms",left:"42px"},children:"a"}),A.jsx("span",{style:{transitionDelay:"225ms",left:"57px"},children:"r"}),A.jsx("span",{style:{transitionDelay:"300ms",left:"66px"},children:"d"}),A.jsx("span",{style:{transitionDelay:"375ms",left:"88px"},children:"T"}),A.jsx("span",{style:{transitionDelay:"450ms",left:"104px"},children:"i"}),A.jsx("span",{style:{transitionDelay:"525ms",left:"111px"},children:"t"}),A.jsx("span",{style:{transitionDelay:"600ms",left:"120px"},children:"l"}),A.jsx("span",{style:{transitionDelay:"675ms",left:"127px"},children:"e"}),A.jsx("p",{className:" absolute left-[18px]  top-[4px] text-2xl m-2 text-gray-300 transition duration-500 cursor-pointer pointer-events-none",children:"Board Title"})]})]}),A.jsx("div",{children:A.jsxs("div",{className:"relative inline-block text-left text-slate-300",ref:c,children:[A.jsx("button",{onClick:h,className:"button2  ${boardVisibility==='Board Visibility",style:m,children:f}),n&&A.jsx("div",{className:"origin-top-right absolute right-[-10%] sm:right-[-15%]  mt-2 z-[1000] w-72 rounded-2xl shadow-lg bg-zinc-800  ring-1 ring-black ring-opacity-5 focus:outline-none",children:A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{style:{borderColor:f==="Private Board"?"lightblue":""},onClick:()=>{p("Private Board")},className:"block w-full border-2 border-zinc-800 text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[A.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Private Board"})," - A personal board where all tasks and data are private and only visible to you."]}),A.jsxs("button",{style:{borderColor:f==="Shareable Board"?"lightblue":""},onClick:()=>{p("Shareable Board")},className:"block border-2 border-zinc-800 w-full text-left px-4 py-2 text-sm bg-zinc-800 text-gray-300 hover:bg-zinc-700",children:[A.jsx("span",{className:"text-[1.1rem] text-gray-200",children:"Shareable Board"})," - A collaborative board that allows you to share tasks with others for group work."]})]})})]})})]}),A.jsxs("div",{className:" self-center ",children:[A.jsx("h1",{className:"text-xl mt-4 mb-1 opacity-90 text-gray-300  text-center",children:"Background"}),A.jsx("div",{className:"color max-h-[20vh] sm:max-h-[17vh] mb-4 rounded-md px-3 overflow-y-auto  bg-neutral-800",children:A.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:[A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-blue-500"),w==="Make sure you choose a background and images"&&E("")},className:"cursor-pointer bg-gradient-to-r from-teal-400 to-blue-500 py-6 sm:py-7  rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r cursor-pointer from-blue-800 to-blue-400 py-6 sm:py-7rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-500 to-pink-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-purple-500 to-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-purple-400 to-blue-300"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-purple-400 to-blue-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-orange-400 to-yellow-300"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-orange-400 to-yellow-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-pink-400 to-pink-200"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-pink-400 to-pink-200 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-teal-400 to-green-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-teal-400 to-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-blue-800 to-blue-400"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-blue-800 to-blue-400 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gradient-to-r from-red-800 to-brown-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gradient-to-r from-red-800 to-brown-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-blue-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-blue-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-orange-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-orange-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-green-50"),w==="Make sure you choose a background and images"&&E("")},className:"bg-green-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-red-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-red-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-purple-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-purple-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-pink-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-pink-500 py-6 sm:py-7 cursor-pointer rounded-sm",children:"   "}),A.jsx("div",{onClick:()=>{s("bg-green-300"),w==="Make sure you choose a background and images"&&E("")},className:"bg-green-300 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-cyan-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-cyan-500 py-6 sm:py-7 cursor-pointer rounded-sm"}),A.jsx("div",{onClick:()=>{s("bg-gray-500"),w==="Make sure you choose a background and images"&&E("")},className:"bg-gray-500 py-6 sm:py-7 cursor-pointer rounded-sm"})]})}),A.jsx("div",{className:"color max-h-[20vh]  sm:max-h-[17vh]  rounded-md sm:px-3 px-2 overflow-y-scroll  bg-neutral-800",children:A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2  mt-1 md:grid-cols-3 p-1  lg:grid-cols-4 gap-5",children:t.map(_=>A.jsx("div",{style:{backgroundImage:`url('${_}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"},onClick:()=>{s(""),a(_),w==="Make sure you choose a background and images"&&E("")},className:"border-gray-100 cursor-pointer text-opacity-0  bg-black p-4 py-3 sm:py-4 px-5 sm:px-6 select-none  rounded-sm",children:"Board"},_))})}),A.jsx("div",{className:"flex items-center   justify-center",children:A.jsx("button",{onClick:R,type:"submit",className:"bg-blue-600 hover:bg-blue-500 text-gray-100  mb-1 py-1.5 px-20 mt-[6%] sm:mt-8 rounded-lg  text-md",children:"Create"})}),A.jsx("div",{className:"text-red-600 text-sm text-center",children:w})]})]})}function jk(t){const e=Wl(),[n,r]=M.useState(!1),i=M.useRef();M.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(r(!0),a.disconnect())},{threshold:.1});return i.current&&a.observe(i.current),()=>{i.current&&a.unobserve(i.current)}},[i]);const s=n&&t.backgroundImage?{backgroundImage:`url('${t.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",color:"rgba(255,255,255,0)"}:{},o=()=>{e(`/Board/${t.id}`,{state:t})};return A.jsx("div",{ref:i,style:s,onClick:o,className:`p-5 h-[70px]  w-[130px] hover:opacity-85 cursor-pointer rounded-sm ${t.background}`,children:A.jsx("h2",{className:"text-zinc-950 font-bold text-lg truncate whitespace-nowrap overflow-hidden",children:t.title})})}function u3(){const[t,e]=M.useState([]);M.useEffect(()=>{const i=jo(rt,s=>{s?(async()=>{const a=Yo(be,`users/${s.uid}/Boards`),u=(await Zo(a)).docs.map(c=>({id:c.id,data:c.data()})).filter(c=>c.data.boardVisibility==="private");e(u)})().catch(a=>console.error("Error fetching lists:",a)):e([])});return()=>i()},[]);const[n,r]=M.useState(!1);return A.jsxs("div",{children:[n&&A.jsx("button",{onClick:()=>{r(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:"✕"}),!n&&A.jsxs("div",{children:[A.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Your Boards"}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 overflow-y-auto max-h-[65vh] shadow-sm",children:[t.map(i=>A.jsx(jk,{id:i.id,title:i.data.title,background:i.data.background,backgroundImage:i.data.backgroundImage,boardVisibility:i.data.boardVisibility},i.id)),A.jsx("div",{onClick:()=>{r(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:A.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),n&&A.jsx(Vk,{})]})}function c3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Pm=t=>Array.isArray(t);function Fk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ml(t){return typeof t=="string"||Array.isArray(t)}function ew(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function F0(t,e,n,r){if(typeof e=="function"){const[i,s]=ew(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ew(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Rh(t,e,n){const r=t.getProps();return F0(r,e,n!==void 0?n:r.custom,t)}const B0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U0=["initial",...B0],su=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(su),Vr=t=>t*1e3,jr=t=>t/1e3,d3={type:"spring",stiffness:500,damping:25,restSpeed:10},h3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f3={type:"keyframes",duration:.8},p3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m3=(t,{keyframes:e})=>e.length>2?f3:Ns.has(t)?t.startsWith("scale")?h3(e[1]):d3:p3;function z0(t,e){return t?t[e]||t.default||t:void 0}const g3={skipAnimations:!1,useManualTiming:!1},v3=t=>t!==null;function Dh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(v3),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const qt=t=>t;function y3(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const h=f&&r?e:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const ec=["read","resolveKeyframes","update","preRender","render","postRender"],x3=40;function Bk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ec.reduce((x,w)=>(x[w]=y3(s),x),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,h=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,x3),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},g=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:ec.reduce((x,w)=>{const E=o[w];return x[w]=(R,_=!1,I=!1)=>(n||g(),E.schedule(R,_,I)),x},{}),cancel:x=>{for(let w=0;w<ec.length;w++)o[ec[w]].cancel(x)},state:i,steps:o}}const{schedule:Ne,cancel:Fi,state:kt,steps:zf}=Bk(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),Uk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,w3=1e-7,b3=12;function _3(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Uk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>w3&&++a<b3);return o}function ou(t,e,n,r){if(t===e&&n===r)return qt;const i=s=>_3(s,0,1,t,n);return s=>s===0||s===1?s:Uk(i(s),e,r)}const zk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$k=t=>e=>1-t(1-e),Wk=ou(.33,1.53,.69,.99),$0=$k(Wk),Hk=zk($0),qk=t=>(t*=2)<1?.5*$0(t):.5*(2-Math.pow(2,-10*(t-1))),W0=t=>1-Math.sin(Math.acos(t)),Kk=$k(W0),Gk=zk(W0),Qk=t=>/^0[^.\s]+$/u.test(t);function E3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Qk(t):!0}let Cm=qt;const Xk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Yk=t=>e=>typeof e=="string"&&e.startsWith(t),Jk=Yk("--"),T3=Yk("var(--"),H0=t=>T3(t)?S3.test(t.split("/*")[0].trim()):!1,S3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,k3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P3(t){const e=k3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Zk(t,e,n=1){const[r,i]=P3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Xk(o)?parseFloat(o):o}return H0(i)?Zk(i,e,n+1):i}const Bi=(t,e,n)=>n>e?e:n<t?t:n,ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ol={...ia,transform:t=>Bi(0,1,t)},tc={...ia,default:1},au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ii=au("deg"),vr=au("%"),ce=au("px"),C3=au("vh"),I3=au("vw"),tw={...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)},A3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),nw=t=>t===ia||t===ce,rw=(t,e)=>parseFloat(t.split(", ")[e]),iw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return rw(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?rw(s[1],t):0}},R3=new Set(["x","y","z"]),D3=su.filter(t=>!R3.has(t));function N3(t){const e=[];return D3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:iw(4,13),y:iw(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const eP=t=>e=>e.test(t),M3={test:t=>t==="auto",parse:t=>t},tP=[ia,ce,vr,ii,I3,C3,M3],sw=t=>tP.find(eP(t)),ms=new Set;let Im=!1,Am=!1;function nP(){if(Am){const t=Array.from(ms).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=N3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Am=!1,Im=!1,ms.forEach(t=>t.complete()),ms.clear()}function rP(){ms.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Am=!0)})}function O3(){rP(),nP()}class q0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ms.add(this),Im||(Im=!0,Ne.read(rP),Ne.resolveKeyframes(nP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ms.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ms.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tl=t=>Math.round(t*1e5)/1e5,K0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L3(t){return t==null}const V3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G0=(t,e)=>n=>!!(typeof n=="string"&&V3.test(n)&&n.startsWith(t)||e&&!L3(n)&&Object.prototype.hasOwnProperty.call(n,e)),iP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(K0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},j3=t=>Bi(0,255,t),$f={...ia,transform:t=>Math.round(j3(t))},ds={test:G0("rgb","red"),parse:iP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$f.transform(t)+", "+$f.transform(e)+", "+$f.transform(n)+", "+tl(Ol.transform(r))+")"};function F3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Rm={test:G0("#"),parse:F3,transform:ds.transform},oo={test:G0("hsl","hue"),parse:iP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vr.transform(tl(e))+", "+vr.transform(tl(n))+", "+tl(Ol.transform(r))+")"},Bt={test:t=>ds.test(t)||Rm.test(t)||oo.test(t),parse:t=>ds.test(t)?ds.parse(t):oo.test(t)?oo.parse(t):Rm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ds.transform(t):oo.transform(t)},B3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(K0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(B3))===null||n===void 0?void 0:n.length)||0)>0}const sP="number",oP="color",z3="var",$3="var(",ow="${}",W3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ll(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(W3,l=>(Bt.test(l)?(r.color.push(s),i.push(oP),n.push(Bt.parse(l))):l.startsWith($3)?(r.var.push(s),i.push(z3),n.push(l)):(r.number.push(s),i.push(sP),n.push(parseFloat(l))),++s,ow)).split(ow);return{values:n,split:a,indexes:r,types:i}}function aP(t){return Ll(t).values}function lP(t){const{split:e,types:n}=Ll(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===sP?s+=tl(i[o]):a===oP?s+=Bt.transform(i[o]):s+=i[o]}return s}}const H3=t=>typeof t=="number"?0:t;function q3(t){const e=aP(t);return lP(t)(e.map(H3))}const Ui={test:U3,parse:aP,createTransformer:lP,getAnimatableNone:q3},K3=new Set(["brightness","contrast","saturate","opacity"]);function G3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(K0)||[];if(!r)return t;const i=n.replace(r,"");let s=K3.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Q3=/\b([a-z-]*)\(.*?\)/gu,Dm={...Ui,getAnimatableNone:t=>{const e=t.match(Q3);return e?e.map(G3).join(" "):t}},X3={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce},Y3={rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:ii,skewX:ii,skewY:ii,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Ol,originX:tw,originY:tw,originZ:ce},aw={...ia,transform:Math.round},Q0={...X3,...Y3,zIndex:aw,size:ce,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:aw},J3={...Q0,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Dm,WebkitFilter:Dm},X0=t=>J3[t];function uP(t,e){let n=X0(t);return n!==Dm&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z3=new Set(["auto","none","0"]);function ej(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Z3.has(s)&&Ll(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=uP(n,i)}class cP extends q0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),H0(u))){const c=Zk(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!A3.has(r)||e.length!==2)return;const[i,s]=e,o=sw(i),a=sw(s);if(o!==a)if(nw(o)&&nw(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)E3(e[i])&&r.push(i);r.length&&ej(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Fo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Y0(t){return typeof t=="function"}let Ic;function tj(){Ic=void 0}const yr={now:()=>(Ic===void 0&&yr.set(kt.isProcessing||g3.useManualTiming?kt.timestamp:performance.now()),Ic),set:t=>{Ic=t,queueMicrotask(tj)}},lw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function nj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=lw(i,e),a=lw(s,e);return!o||!a?!1:nj(t)||(n==="spring"||Y0(n))&&r}const ij=40;class dP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ij?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&O3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!rj(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Dh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function hP(t,e){return e?t*(1e3/e):0}const sj=5;function fP(t,e,n){const r=Math.max(e-sj,0);return hP(n-t(r),e-r)}const Wf=.001,oj=.01,aj=10,lj=.05,uj=1;function cj({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Bi(lj,uj,o),t=Bi(oj,aj,jr(t)),o<1?(i=u=>{const c=u*o,f=c*t,p=c-n,h=Nm(u,o),g=Math.exp(-f);return Wf-p/h*g},s=u=>{const f=u*o*t,p=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),m=Nm(Math.pow(u,2),o);return(-i(u)+Wf>0?-1:1)*((p-h)*g)/m}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Wf+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=hj(i,s,a);if(t=Vr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const dj=12;function hj(t,e,n){let r=n;for(let i=1;i<dj;i++)r=r-t(r)/e(r);return r}function Nm(t,e){return t*Math.sqrt(1-e*e)}const fj=["duration","bounce"],pj=["stiffness","damping","mass"];function uw(t,e){return e.some(n=>t[n]!==void 0)}function mj(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uw(t,pj)&&uw(t,fj)){const n=cj(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function pP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:p}=mj({...r,velocity:-jr(r.velocity||0)}),h=f||0,g=l/(2*Math.sqrt(a*u)),m=s-i,v=jr(Math.sqrt(a/u)),x=Math.abs(m)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let w;if(g<1){const E=Nm(v,g);w=R=>{const _=Math.exp(-g*v*R);return s-_*((h+g*v*m)/E*Math.sin(E*R)+m*Math.cos(E*R))}}else if(g===1)w=E=>s-Math.exp(-v*E)*(m+(h+v*m)*E);else{const E=v*Math.sqrt(g*g-1);w=R=>{const _=Math.exp(-g*v*R),I=Math.min(E*R,300);return s-_*((h+g*v*m)*Math.sinh(I)+E*m*Math.cosh(I))/E}}return{calculatedDuration:p&&c||null,next:E=>{const R=w(E);if(p)o.done=E>=c;else{let _=0;g<1&&(_=E===0?Vr(h):fP(w,E,R));const I=Math.abs(_)<=n,T=Math.abs(s-R)<=e;o.done=I&&T}return o.value=o.done?s:R,o}}}function cw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],p={done:!1,value:f},h=y=>a!==void 0&&y<a||l!==void 0&&y>l,g=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let m=n*e;const v=f+m,x=o===void 0?v:o(v);x!==v&&(m=x-f);const w=y=>-m*Math.exp(-y/r),E=y=>x+w(y),R=y=>{const S=w(y),k=E(y);p.done=Math.abs(S)<=u,p.value=p.done?x:k};let _,I;const T=y=>{h(p.value)&&(_=y,I=pP({keyframes:[p.value,g(p.value)],velocity:fP(E,y,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:y=>{let S=!1;return!I&&_===void 0&&(S=!0,R(y),T(y)),_!==void 0&&y>=_?I.next(y-_):(!S&&R(y),p)}}}const gj=ou(.42,0,1,1),vj=ou(0,0,.58,1),mP=ou(.42,0,.58,1),yj=t=>Array.isArray(t)&&typeof t[0]!="number",J0=t=>Array.isArray(t)&&typeof t[0]=="number",dw={linear:qt,easeIn:gj,easeInOut:mP,easeOut:vj,circIn:W0,circInOut:Gk,circOut:Kk,backIn:$0,backInOut:Hk,backOut:Wk,anticipate:qk},hw=t=>{if(J0(t)){Cm(t.length===4);const[e,n,r,i]=t;return ou(e,n,r,i)}else if(typeof t=="string")return Cm(dw[t]!==void 0),dw[t];return t},xj=(t,e)=>n=>e(t(n)),Fr=(...t)=>t.reduce(xj),Bo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},qe=(t,e,n)=>t+(e-t)*n;function Hf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Hf(l,a,t+1/3),s=Hf(l,a,t),o=Hf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ad(t,e){return n=>n>0?e:t}const qf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bj=[Rm,ds,oo],_j=t=>bj.find(e=>e.test(t));function fw(t){const e=_j(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=wj(n)),n}const pw=(t,e)=>{const n=fw(t),r=fw(e);if(!n||!r)return Ad(t,e);const i={...n};return s=>(i.red=qf(n.red,r.red,s),i.green=qf(n.green,r.green,s),i.blue=qf(n.blue,r.blue,s),i.alpha=qe(n.alpha,r.alpha,s),ds.transform(i))},Mm=new Set(["none","hidden"]);function Ej(t,e){return Mm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Tj(t,e){return n=>qe(t,e,n)}function Z0(t){return typeof t=="number"?Tj:typeof t=="string"?H0(t)?Ad:Bt.test(t)?pw:Pj:Array.isArray(t)?gP:typeof t=="object"?Bt.test(t)?pw:Sj:Ad}function gP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Z0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Sj(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Z0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function kj(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Pj=(t,e)=>{const n=Ui.createTransformer(e),r=Ll(t),i=Ll(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Mm.has(t)&&!i.values.length||Mm.has(e)&&!r.values.length?Ej(t,e):Fr(gP(kj(r,i),i.values),n):Ad(t,e)};function vP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qe(t,e,n):Z0(t)(t,e)}function Cj(t,e,n){const r=[],i=n||vP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||qt:e;a=Fr(l,a)}r.push(a)}return r}function Ij(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Cm(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Cj(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=Bo(t[c],t[c+1],u);return o[c](f)};return n?u=>l(Bi(t[0],t[s-1],u)):l}function Aj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bo(0,e,r);t.push(qe(n,1,i))}}function Rj(t){const e=[0];return Aj(e,t.length-1),e}function Dj(t,e){return t.map(n=>n*e)}function Nj(t,e){return t.map(()=>e||mP).splice(0,t.length-1)}function Rd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yj(r)?r.map(hw):hw(r),s={done:!1,value:e[0]},o=Dj(n&&n.length===e.length?n:Rj(e),t),a=Ij(o,e,{ease:Array.isArray(i)?i:Nj(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const mw=2e4;function Mj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mw;)e+=n,r=t.next(e);return e>=mw?1/0:e}const Oj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ne.update(e,!0),stop:()=>Fi(e),now:()=>kt.isProcessing?kt.timestamp:yr.now()}},Lj={decay:cw,inertia:cw,tween:Rd,keyframes:Rd,spring:pP},Vj=t=>t/100;class ev extends dP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||q0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Y0(n)?n:Lj[n]||Rd;let l,u;a!==Rd&&typeof e[0]!="number"&&(l=Fr(Vj,vP(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Mj(c));const{calculatedDuration:f}=c,p=f+i,h=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:y}=this.options;return{done:!0,value:y[y.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:h,repeatType:g,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>c;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let E=this.currentTime,R=s;if(h){const y=Math.min(this.currentTime,c)/f;let S=Math.floor(y),k=y%1;!k&&y>=1&&(k=1),k===1&&S--,S=Math.min(S,h+1),!!(S%2)&&(g==="reverse"?(k=1-k,m&&(k-=m/f)):g==="mirror"&&(R=o)),E=Bi(0,1,k)*f}const _=w?{done:!1,value:l[0]}:R.next(E);a&&(_.value=a(_.value));let{done:I}=_;!w&&u!==null&&(I=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return T&&i!==void 0&&(_.value=Dh(l,this.options,i)),v&&v(_.value),T&&this.finish(),_}get duration(){const{resolved:e}=this;return e?jr(e.calculatedDuration):0}get time(){return jr(this.currentTime)}set time(e){e=Vr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Oj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jj=new Set(["opacity","clipPath","filter","transform"]),Fj=10,Bj=(t,e)=>{let n="";const r=Math.max(Math.round(e/Fj),2);for(let i=0;i<r;i++)n+=t(Bo(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uj={linearEasing:void 0};function zj(t,e){const n=tv(t);return()=>{var r;return(r=Uj[e])!==null&&r!==void 0?r:n()}}const Dd=zj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function yP(t){return!!(typeof t=="function"&&Dd()||!t||typeof t=="string"&&(t in Om||Dd())||J0(t)||Array.isArray(t)&&t.every(yP))}const La=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Om={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:La([0,.65,.55,1]),circOut:La([.55,0,1,.45]),backIn:La([.31,.01,.66,-.59]),backOut:La([.33,1.53,.69,.99])};function xP(t,e){if(t)return typeof t=="function"&&Dd()?Bj(t,e):J0(t)?La(t):Array.isArray(t)?t.map(n=>xP(n,e)||Om.easeOut):Om[t]}function $j(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=xP(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gw(t,e){t.timeline=e,t.onfinish=null}const Wj=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nd=10,Hj=2e4;function qj(t){return Y0(t.type)||t.type==="spring"||!yP(t.ease)}function Kj(t,e){const n=new ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Hj;)r=n.sample(s),i.push(r.value),s+=Nd;return{times:void 0,keyframes:i,duration:s-Nd,ease:"linear"}}const wP={anticipate:qk,backInOut:Hk,circInOut:Gk};function Gj(t){return t in wP}class vw extends dP{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new cP(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Dd()&&Gj(o)&&(o=wP[o]),qj(this.options)){const{onComplete:p,onUpdate:h,motionValue:g,element:m,...v}=this.options,x=Kj(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const f=$j(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(gw(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Dh(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return jr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return jr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qt;const{animation:r}=n;gw(r,e)}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...h}=this.options,g=new ev({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Vr(this.time);u.setWithVelocity(g.sample(m-Nd).value,g.sample(m).value,Nd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Wj()&&r&&jj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Qj=tv(()=>window.ScrollTimeline!==void 0);class Xj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Qj()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Yj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const nv=(t,e,n,r={},i,s)=>o=>{const a=z0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vr(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Yj(a)||(c={...c,...m3(t,c)}),c.duration&&(c.duration=Vr(c.duration)),c.repeatDelay&&(c.repeatDelay=Vr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=Dh(c.keyframes,a);if(p!==void 0)return Ne.update(()=>{c.onUpdate(p),c.onComplete()}),new Xj([])}return!s&&vw.supports(c)?new vw(c):new ev(c)},Jj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Zj=t=>Pm(t)?t[t.length-1]||0:t;function rv(t,e){t.indexOf(e)===-1&&t.push(e)}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sv{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>iv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yw=30,e6=t=>!isNaN(parseFloat(t));class t6{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=yr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yw);return hP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(t,e){return new t6(t,e)}function n6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vl(n))}function r6(t,e){const n=Rh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Zj(s[o]);n6(t,o,a)}}const ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i6="framerAppearId",bP="data-"+ov(i6);function _P(t){return t.props[bP]}const Ht=t=>!!(t&&t.getVelocity);function s6(t){return!!(Ht(t)&&t.add)}function Lm(t,e){const n=t.getValue("willChange");if(s6(n))return n.add(e)}function o6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function EP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),h=l[f];if(h===void 0||c&&o6(c,f))continue;const g={delay:n,...z0(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const x=_P(t);if(x){const w=window.MotionHandoffAnimation(x,f,Ne);w!==null&&(g.startTime=w,m=!0)}}Lm(t,f),p.start(nv(f,p,h,t.shouldReduceMotion&&Ns.has(f)?{type:!1}:g,t,m));const v=p.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{Ne.update(()=>{a&&r6(t,a)})}),u}function Vm(t,e,n={}){var r;const i=Rh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(EP(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=s;return a6(t,e,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function a6(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(l6).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Vm(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function l6(t,e){return t.sortNodePosition(e)}function u6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Vm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Vm(t,e,n);else{const i=typeof e=="function"?Rh(t,e,n.custom):e;r=Promise.all(EP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const c6=U0.length;function TP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c6;n++){const r=U0[n],i=t.props[r];(Ml(i)||i===!1)&&(e[r]=i)}return e}const d6=[...B0].reverse(),h6=B0.length;function f6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u6(t,n,r)))}function p6(t){let e=f6(t),n=xw(),r=!0;const i=l=>(u,c)=>{var f;const p=Rh(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:g,...m}=p;u={...u,...m,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=TP(t.parent)||{},f=[],p=new Set;let h={},g=1/0;for(let v=0;v<h6;v++){const x=d6[v],w=n[x],E=u[x]!==void 0?u[x]:c[x],R=Ml(E),_=x===l?w.isActive:null;_===!1&&(g=v);let I=E===c[x]&&E!==u[x]&&R;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...h},!w.isActive&&_===null||!E&&!w.prevProp||Ah(E)||typeof E=="boolean")continue;const T=m6(w.prevProp,E);let y=T||x===l&&w.isActive&&!I&&R||v>g&&R,S=!1;const k=Array.isArray(E)?E:[E];let C=k.reduce(i(x),{});_===!1&&(C={});const{prevResolvedValues:D={}}=w,N={...D,...C},F=U=>{y=!0,p.has(U)&&(S=!0,p.delete(U)),w.needsAnimating[U]=!0;const L=t.getValue(U);L&&(L.liveStyle=!1)};for(const U in N){const L=C[U],B=D[U];if(h.hasOwnProperty(U))continue;let H=!1;Pm(L)&&Pm(B)?H=!Fk(L,B):H=L!==B,H?L!=null?F(U):p.add(U):L!==void 0&&p.has(U)?F(U):w.protectedKeys[U]=!0}w.prevProp=E,w.prevResolvedValues=C,w.isActive&&(h={...h,...C}),r&&t.blockInitialAnimation&&(y=!1),y&&(!(I&&T)||S)&&f.push(...k.map(U=>({animation:U,options:{type:x}})))}if(p.size){const v={};p.forEach(x=>{const w=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),v[x]=w??null}),f.push({animation:v})}let m=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=xw(),r=!0}}}function m6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fk(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xw(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class Qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g6 extends Qi{constructor(e){super(e),e.animationState||(e.animationState=p6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ah(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let v6=0;class y6 extends Qi{constructor(){super(...arguments),this.id=v6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const x6={animation:{Feature:g6},exit:{Feature:y6}},SP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Nh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const w6=t=>e=>SP(e)&&t(e,Nh(e));function Nr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Br(t,e,n,r){return Nr(t,e,w6(n),r)}const ww=(t,e)=>Math.abs(t-e);function b6(t,e){const n=ww(t.x,e.x),r=ww(t.y,e.y);return Math.sqrt(n**2+r**2)}class kP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Gf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=b6(f.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:g}=f,{timestamp:m}=kt;this.history.push({...g,timestamp:m});const{onStart:v,onMove:x}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Kf(p,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gf(f.type==="pointercancel"?this.lastMoveEventInfo:Kf(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),g&&g(f,v)},!SP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Nh(e),a=Kf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=kt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Gf(a,this.history)),this.removeListeners=Fr(Br(this.contextWindow,"pointermove",this.handlePointerMove),Br(this.contextWindow,"pointerup",this.handlePointerUp),Br(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fi(this.updatePoint)}}function Kf(t,e){return e?{point:e(t.point)}:t}function bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gf({point:t},e){return{point:t,delta:bw(t,PP(e)),offset:bw(t,_6(e)),velocity:E6(e,.1)}}function _6(t){return t[0]}function PP(t){return t[t.length-1]}function E6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=PP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vr(e)));)n--;if(!r)return{x:0,y:0};const s=jr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const _w=CP("dragHorizontal"),Ew=CP("dragVertical");function IP(t){let e=!1;if(t==="y")e=Ew();else if(t==="x")e=_w();else{const n=_w(),r=Ew();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function AP(){const t=IP(!0);return t?(t(),!1):!0}function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const RP=1e-4,T6=1-RP,S6=1+RP,DP=.01,k6=0-DP,P6=0+DP;function En(t){return t.max-t.min}function C6(t,e,n){return Math.abs(t-e)<=n}function Tw(t,e,n,r=.5){t.origin=r,t.originPoint=qe(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=T6&&t.scale<=S6||isNaN(t.scale))&&(t.scale=1),(t.translate>=k6&&t.translate<=P6||isNaN(t.translate))&&(t.translate=0)}function nl(t,e,n,r){Tw(t.x,e.x,n.x,r?r.originX:void 0),Tw(t.y,e.y,n.y,r?r.originY:void 0)}function Sw(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function I6(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}function kw(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function rl(t,e,n){kw(t.x,e.x,n.x),kw(t.y,e.y,n.y)}function A6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qe(n,t,r.max):Math.min(t,n)),t}function Pw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R6(t,{top:e,left:n,bottom:r,right:i}){return{x:Pw(t.x,n,i),y:Pw(t.y,e,r)}}function Cw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function D6(t,e){return{x:Cw(t.x,e.x),y:Cw(t.y,e.y)}}function N6(t,e){let n=.5;const r=En(t),i=En(e);return i>r?n=Bo(e.min,e.max-r,t.min):r>i&&(n=Bo(t.min,t.max-i,e.min)),Bi(0,1,n)}function M6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jm=.35;function O6(t=jm){return t===!1?t=0:t===!0&&(t=jm),{x:Iw(t,"left","right"),y:Iw(t,"top","bottom")}}function Iw(t,e,n){return{min:Aw(t,e),max:Aw(t,n)}}function Aw(t,e){return typeof t=="number"?t:t[e]||0}const Rw=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:Rw(),y:Rw()}),Dw=()=>({min:0,max:0}),et=()=>({x:Dw(),y:Dw()});function In(t){return[t("x"),t("y")]}function NP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function L6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function V6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qf(t){return t===void 0||t===1}function Fm({scale:t,scaleX:e,scaleY:n}){return!Qf(t)||!Qf(e)||!Qf(n)}function is(t){return Fm(t)||MP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MP(t){return Nw(t.x)||Nw(t.y)}function Nw(t){return t&&t!=="0%"}function Md(t,e,n){const r=t-n,i=e*r;return n+i}function Mw(t,e,n,r,i){return i!==void 0&&(t=Md(t,i,r)),Md(t,n,r)+e}function Bm(t,e=0,n=1,r,i){t.min=Mw(t.min,e,n,r,i),t.max=Mw(t.max,e,n,r,i)}function OP(t,{x:e,y:n}){Bm(t.x,e.translate,e.scale,e.originPoint),Bm(t.y,n.translate,n.scale,n.originPoint)}const Ow=.999999999999,Lw=1.0000000000001;function j6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&co(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OP(t,o)),r&&is(s.latestValues)&&co(t,s.latestValues))}e.x<Lw&&e.x>Ow&&(e.x=1),e.y<Lw&&e.y>Ow&&(e.y=1)}function uo(t,e){t.min=t.min+e,t.max=t.max+e}function Vw(t,e,n,r,i=.5){const s=qe(t.min,t.max,i);Bm(t,e,n,s,r)}function co(t,e){Vw(t.x,e.x,e.scaleX,e.scale,e.originX),Vw(t.y,e.y,e.scaleY,e.scale,e.originY)}function LP(t,e){return NP(V6(t.getBoundingClientRect(),e))}function F6(t,e,n){const r=LP(t,n),{scroll:i}=e;return i&&(uo(r.x,i.offset.x),uo(r.y,i.offset.y)),r}const VP=({current:t})=>t?t.ownerDocument.defaultView:null,B6=new WeakMap;class U6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nh(c,"page").point)},s=(c,f)=>{const{drag:p,dragPropagation:h,onDragStart:g}=this.getProps();if(p&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=IP(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(v=>{let x=this.getAxisMotionValue(v).get()||0;if(vr.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[v];E&&(x=En(E)*(parseFloat(x)/100))}}this.originPoint[v]=x}),g&&Ne.postRender(()=>g(c,f)),Lm(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:g,onDrag:m}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=z6(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(c,f)},a=(c,f)=>this.stop(c,f),l=()=>In(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:VP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ne.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=A6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=R6(i.layoutBox,n):this.constraints=!1,this.elastic=O6(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&In(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=M6(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=F6(r,i.root,this.visualElement.getTransformPagePoint());let o=D6(i.layout.layoutBox,s);if(n){const a=n(L6(o));this.hasMutatedConstraints=!!a,a&&(o=NP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=In(c=>{if(!nc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lm(this.visualElement,e),r.start(nv(e,r,0,n,this.visualElement,!1))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){In(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};In(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=N6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),In(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(qe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;B6.set(this.visualElement,this);const e=this.visualElement.current,n=Br(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ao(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ne.read(r);const o=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(In(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=jm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function z6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $6 extends Qi{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new U6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const jw=t=>(e,n)=>{t&&Ne.postRender(()=>t(e,n))};class W6 extends Qi{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new kP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jw(e),onStart:jw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ne.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Br(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mh=M.createContext(null);function H6(){const t=M.useContext(Mh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=M.useId();M.useEffect(()=>r(i),[]);const s=M.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const av=M.createContext({}),jP=M.createContext({}),Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=Fw(t,e.target.x),r=Fw(t,e.target.y);return`${n}% ${r}%`}},q6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ui.parse(t);if(i.length>5)return r;const s=Ui.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=qe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Od={};function K6(t){Object.assign(Od,t)}const{schedule:lv,cancel:YB}=Bk(queueMicrotask,!1);class G6 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;K6(Q6),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FP(t){const[e,n]=H6(),r=M.useContext(av);return A.jsx(G6,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(jP),isPresent:e,safeToRemove:n})}const Q6={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:q6},BP=["TopLeft","TopRight","BottomLeft","BottomRight"],X6=BP.length,Bw=t=>typeof t=="string"?parseFloat(t):t,Uw=t=>typeof t=="number"||ce.test(t);function Y6(t,e,n,r,i,s){i?(t.opacity=qe(0,n.opacity!==void 0?n.opacity:1,J6(r)),t.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,Z6(r))):s&&(t.opacity=qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<X6;o++){const a=`border${BP[o]}Radius`;let l=zw(e,a),u=zw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Uw(l)===Uw(u)?(t[a]=Math.max(qe(Bw(l),Bw(u),r),0),(vr.test(u)||vr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=qe(e.rotate||0,n.rotate||0,r))}function zw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J6=UP(0,.5,Kk),Z6=UP(.5,.95,qt);function UP(t,e,n){return r=>r<t?0:r>e?1:n(Bo(t,e,r))}function $w(t,e){t.min=e.min,t.max=e.max}function Cn(t,e){$w(t.x,e.x),$w(t.y,e.y)}function Ww(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hw(t,e,n,r,i){return t-=e,t=Md(t,1/n,r),i!==void 0&&(t=Md(t,1/i,r)),t}function eF(t,e=0,n=1,r=.5,i,s=t,o=t){if(vr.test(e)&&(e=parseFloat(e),e=qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qe(s.min,s.max,r);t===s&&(a-=e),t.min=Hw(t.min,e,n,a,i),t.max=Hw(t.max,e,n,a,i)}function qw(t,e,[n,r,i],s,o){eF(t,e[n],e[r],e[i],e.scale,s,o)}const tF=["x","scaleX","originX"],nF=["y","scaleY","originY"];function Kw(t,e,n,r){qw(t.x,e,tF,n?n.x:void 0,r?r.x:void 0),qw(t.y,e,nF,n?n.y:void 0,r?r.y:void 0)}function Gw(t){return t.translate===0&&t.scale===1}function zP(t){return Gw(t.x)&&Gw(t.y)}function Qw(t,e){return t.min===e.min&&t.max===e.max}function rF(t,e){return Qw(t.x,e.x)&&Qw(t.y,e.y)}function Xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $P(t,e){return Xw(t.x,e.x)&&Xw(t.y,e.y)}function Yw(t){return En(t.x)/En(t.y)}function Jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iF{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sF(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const oF=(t,e)=>t.depth-e.depth;class aF{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oF),this.isDirty=!1,this.children.forEach(e)}}function Rc(t){const e=Ht(t)?t.get():t;return Jj(e)?e.toValue():e}function lF(t,e){const n=yr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Fi(r),t(s-e))};return Ne.read(r,!0),()=>Fi(r)}function uF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function cF(t,e,n){const r=Ht(t)?t:Vl(t);return r.start(nv("",r,e,n)),r.animation}const ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Va=typeof window<"u"&&window.MotionDebug!==void 0,Xf=["","X","Y","Z"],dF={visibility:"hidden"},Zw=1e3;let hF=0;function Yf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_P(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ne,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WP(r)}function HP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=hF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Va&&(ss.totalNodes=ss.resolvedTargetDeltas=ss.recalculatedProjection=0),this.nodes.forEach(mF),this.nodes.forEach(wF),this.nodes.forEach(bF),this.nodes.forEach(gF),Va&&window.MotionDebug.record(ss)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uF(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lF(p,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(tb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||kF,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),w=!this.targetLayout||!$P(this.targetLayout,g)||h,E=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const R={...z0(m,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||tb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_F),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eb);return}this.isUpdating||this.nodes.forEach(yF),this.isUpdating=!1,this.nodes.forEach(xF),this.nodes.forEach(fF),this.nodes.forEach(pF),this.clearAllSnapshots();const a=yr.now();kt.delta=Bi(0,1e3/60,a-kt.timestamp),kt.timestamp=a,kt.isProcessing=!0,zf.update.process(kt),zf.preRender.process(kt),zf.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vF),this.sharedNodes.forEach(EF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||is(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return et();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(CF))){const{scroll:c}=this.root;c&&(uo(l.x,c.offset.x),uo(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=et();if(Cn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Cn(l,o),uo(l.x,f.offset.x),uo(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=et();Cn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&co(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),is(c.latestValues)&&co(l,c.latestValues)}return is(this.latestValues)&&co(l,this.latestValues),l}removeTransform(o){const a=et();Cn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!is(u.latestValues))continue;Fm(u.latestValues)&&u.updateSnapshot();const c=et(),f=u.measurePageBox();Cn(c,f),Kw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return is(this.latestValues)&&Kw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),rl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),OP(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),rl(this.relativeTargetOrigin,this.target,h.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Va&&ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fm(this.parent.latestValues)||MP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Cn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;j6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=et());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ww(this.prevProjectionDelta.x,this.projectionDelta.x),Ww(this.prevProjectionDelta.y,this.projectionDelta.y)),nl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!Jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Va&&ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=et(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=h!==g,v=this.getStack(),x=!v||v.members.length<=1,w=!!(m&&!x&&this.options.crossfade===!0&&!this.path.some(SF));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const _=R/1e3;nb(f.x,o.x,_),nb(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TF(this.relativeTarget,this.relativeTargetOrigin,p,_),E&&rF(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=et()),Cn(E,this.relativeTarget)),m&&(this.animationValues=c,Y6(c,u,this.latestValues,_,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=cF(0,Zw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&qP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||et();const f=En(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=En(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Cn(a,l),co(a,c),nl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iF),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Yf("z",o,u,this.animationValues);for(let c=0;c<Xf.length;c++)Yf(`rotate${Xf[c]}`,o,u,this.animationValues),Yf(`skew${Xf[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dF;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Rc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Rc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!is(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=sF(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const m in Od){if(p[m]===void 0)continue;const{correct:v,applyTo:x}=Od[m],w=u.transform==="none"?p[m]:v(p[m],f);if(x){const E=x.length;for(let R=0;R<E;R++)u[x[R]]=w}else u[m]=w}return this.options.layoutId&&(u.pointerEvents=f===this?Rc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(eb),this.root.sharedNodes.clear()}}}function fF(t){t.updateLayout()}function pF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?In(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=En(p);p.min=r[f].min,p.max=p.min+h}):qP(s,n.layoutBox,r)&&In(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],h=En(r[f]);p.max=p.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=lo();nl(a,r,n.layoutBox);const l=lo();o?nl(l,t.applyTransform(i,!0),n.measuredBox):nl(l,r,n.layoutBox);const u=!zP(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:h}=f;if(p&&h){const g=et();rl(g,n.layoutBox,p.layoutBox);const m=et();rl(m,r,h.layoutBox),$P(g,m)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mF(t){Va&&ss.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vF(t){t.clearSnapshot()}function eb(t){t.clearMeasurements()}function yF(t){t.isLayoutDirty=!1}function xF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wF(t){t.resolveTargetDelta()}function bF(t){t.calcProjection()}function _F(t){t.resetSkewAndRotation()}function EF(t){t.removeLeadSnapshot()}function nb(t,e,n){t.translate=qe(e.translate,0,n),t.scale=qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rb(t,e,n,r){t.min=qe(e.min,n.min,r),t.max=qe(e.max,n.max,r)}function TF(t,e,n,r){rb(t.x,e.x,n.x,r),rb(t.y,e.y,n.y,r)}function SF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kF={duration:.45,ease:[.4,0,.1,1]},ib=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sb=ib("applewebkit/")&&!ib("chrome/")?Math.round:qt;function ob(t){t.min=sb(t.min),t.max=sb(t.max)}function PF(t){ob(t.x),ob(t.y)}function qP(t,e,n){return t==="position"||t==="preserve-aspect"&&!C6(Yw(e),Yw(n),.2)}function CF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const IF=HP({attachResizeListener:(t,e)=>Nr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jf={current:void 0},KP=HP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jf.current){const t=new IF({});t.mount(window),t.setOptions({layoutScroll:!0}),Jf.current=t}return Jf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AF={pan:{Feature:W6},drag:{Feature:$6,ProjectionNode:KP,MeasureLayout:FP}};function ab(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||AP())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ne.postRender(()=>l(s,o))};return Br(t.current,n,i,{passive:!t.getProps()[r]})}class RF extends Qi{mount(){this.unmount=Fr(ab(this.node,!0),ab(this.node,!1))}unmount(){}}class DF extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const GP=(t,e)=>e?t===e?!0:GP(t,e.parentElement):!1;function Zf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Nh(n))}class NF extends Qi{constructor(){super(...arguments),this.removeStartListeners=qt,this.removeEndListeners=qt,this.removeAccessibleListeners=qt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Br(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps(),p=!f&&!GP(this.node.current,a.target)?c:u;p&&Ne.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Br(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Zf("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ne.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",o),Zf("down",(a,l)=>{this.startPress(a,l)})},n=Nr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Zf("cancel",(s,o)=>this.cancelPress(s,o))},i=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=Fr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!AP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Br(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Um=new WeakMap,ep=new WeakMap,MF=t=>{const e=Um.get(t.target);e&&e(t)},OF=t=>{t.forEach(MF)};function LF({root:t,...e}){const n=t||document;ep.has(n)||ep.set(n,{});const r=ep.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(OF,{root:t,...e})),r[i]}function VF(t,e,n){const r=LF(e);return Um.set(t,n),r.observe(t),()=>{Um.delete(t),r.unobserve(t)}}const jF={some:0,all:1};class FF extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jF[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return VF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BF(e,n))&&this.startObserver()}unmount(){}}function BF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UF={inView:{Feature:FF},tap:{Feature:NF},focus:{Feature:DF},hover:{Feature:RF}},zF={layout:{ProjectionNode:KP,MeasureLayout:FP}},uv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Oh=M.createContext({}),cv=typeof window<"u",QP=cv?M.useLayoutEffect:M.useEffect,XP=M.createContext({strict:!1});function $F(t,e,n,r,i){var s,o;const{visualElement:a}=M.useContext(Oh),l=M.useContext(XP),u=M.useContext(Mh),c=M.useContext(uv).reducedMotion,f=M.useRef();r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,h=M.useContext(jP);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&WF(f.current,n,i,h),M.useInsertionEffect(()=>{p&&p.update(n,u)});const g=n[bP],m=M.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return QP(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),lv.render(p.render),m.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),m.current=!1))}),p}function WF(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ao(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function YP(t){if(t)return t.options.allowProjection!==!1?t.projection:YP(t.parent)}function HF(t,e,n){return M.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[e])}function Lh(t){return Ah(t.animate)||U0.some(e=>Ml(t[e]))}function JP(t){return!!(Lh(t)||t.variants)}function qF(t,e){if(Lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ml(n)?n:void 0,animate:Ml(r)?r:void 0}}return t.inherit!==!1?e:{}}function KF(t){const{initial:e,animate:n}=qF(t,M.useContext(Oh));return M.useMemo(()=>({initial:e,animate:n}),[lb(e),lb(n)])}function lb(t){return Array.isArray(t)?t.join(" "):t}const ub={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const t in ub)Uo[t]={isEnabled:e=>ub[t].some(n=>!!e[n])};function GF(t){for(const e in t)Uo[e]={...Uo[e],...t[e]}}const QF=Symbol.for("motionComponentSymbol");function XF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&GF(t);function s(a,l){let u;const c={...M.useContext(uv),...a,layoutId:YF(a)},{isStatic:f}=c,p=KF(a),h=r(a,f);if(!f&&cv){JF();const g=ZF(c);u=g.MeasureLayout,p.visualElement=$F(i,h,c,e,g.ProjectionNode)}return A.jsxs(Oh.Provider,{value:p,children:[u&&p.visualElement?A.jsx(u,{visualElement:p.visualElement,...c}):null,n(i,a,HF(h,p.visualElement,l),h,f,p.visualElement)]})}const o=M.forwardRef(s);return o[QF]=i,o}function YF({layoutId:t}){const e=M.useContext(av).id;return e&&t!==void 0?e+"-"+t:t}function JF(t,e){M.useContext(XP).strict}function ZF(t){const{drag:e,layout:n}=Uo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const eB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(t){return typeof t!="string"||t.includes("-")?!1:!!(eB.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const eC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tC(t,e,n,r){ZP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(eC.has(i)?i:ov(i),e.attrs[i])}function nC(t,{layout:e,layoutId:n}){return Ns.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Od[t]||t==="opacity")}function hv(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ht(i[o])||e.style&&Ht(e.style[o])||nC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function rC(t,e,n){const r=hv(t,e,n);for(const i in t)if(Ht(t[i])||Ht(e[i])){const s=su.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function fv(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}function tB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:nB(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const iC=t=>(e,n)=>{const r=M.useContext(Oh),i=M.useContext(Mh),s=()=>tB(t,e,r,i);return n?s():fv(s)};function nB(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Rc(s[p]);let{initial:o,animate:a}=t;const l=Lh(t),u=JP(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Ah(f)){const p=Array.isArray(f)?f:[f];for(let h=0;h<p.length;h++){const g=F0(t,p[h]);if(g){const{transitionEnd:m,transition:v,...x}=g;for(const w in x){let E=x[w];if(Array.isArray(E)){const R=c?E.length-1:0;E=E[R]}E!==null&&(i[w]=E)}for(const w in m)i[w]=m[w]}}}return i}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),sC=()=>({...pv(),attrs:{}}),oC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=su.length;function sB(t,e,n){let r="",i=!0;for(let s=0;s<iB;s++){const o=su[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=oC(a,Q0[o]);if(!l){i=!1;const c=rB[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function mv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ns.has(l)){o=!0;continue}else if(Jk(l)){i[l]=u;continue}else{const c=oC(u,Q0[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=sB(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function cb(t,e,n){return typeof t=="string"?t:ce.transform(e+n*t)}function oB(t,e,n){const r=cb(e,t.x,t.width),i=cb(n,t.y,t.height);return`${r} ${i}`}const aB={offset:"stroke-dashoffset",array:"stroke-dasharray"},lB={offset:"strokeDashoffset",array:"strokeDasharray"};function uB(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?aB:lB;t[s.offset]=ce.transform(-r);const o=ce.transform(e),a=ce.transform(n);t[s.array]=`${o} ${a}`}function gv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(mv(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:h,dimensions:g}=t;p.transform&&(g&&(h.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=oB(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&uB(p,o,a,l,!1)}const vv=t=>typeof t=="string"&&t.toLowerCase()==="svg",cB={useVisualState:iC({scrapeMotionValuesFromProps:rC,createRenderState:sC,onMount:(t,e,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{gv(n,r,vv(e.tagName),t.transformTemplate),tC(e,n)})}})},dB={useVisualState:iC({scrapeMotionValuesFromProps:hv,createRenderState:pv})};function aC(t,e,n){for(const r in e)!Ht(e[r])&&!nC(r,n)&&(t[r]=e[r])}function hB({transformTemplate:t},e){return M.useMemo(()=>{const n=pv();return mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fB(t,e){const n=t.style||{},r={};return aC(r,n,t),Object.assign(r,hB(t,e)),r}function pB(t,e){const n={},r=fB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mB.has(t)}let lC=t=>!Ld(t);function gB(t){t&&(lC=e=>e.startsWith("on")?!Ld(e):t(e))}try{gB(require("@emotion/is-prop-valid").default)}catch{}function vB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lC(i)||n===!0&&Ld(i)||!e&&!Ld(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function yB(t,e,n,r){const i=M.useMemo(()=>{const s=sC();return gv(s,e,vv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aC(s,t.style,t),i.style={...s,...i.style}}return i}function xB(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(dv(n)?yB:pB)(r,s,o,n),u=vB(r,typeof n=="string",t),c=n!==M.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=M.useMemo(()=>Ht(f)?f.get():f,[f]);return M.createElement(n,{...c,children:p})}}function wB(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...dv(r)?cB:dB,preloadedFeatures:t,useRender:xB(i),createVisualElement:e,Component:r};return XF(o)}}const zm={current:null},uC={current:!1};function bB(){if(uC.current=!0,!!cv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zm.current=t.matches;t.addListener(e),e()}else zm.current=!1}function _B(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ht(i))t.addValue(r,i);else if(Ht(s))t.addValue(r,Vl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Vl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const db=new WeakMap,EB=[...tP,Bt,Ui],TB=t=>EB.find(eP(t)),hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=yr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ne.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Lh(n),this.isVariantNode=JP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const h=f[p];l[p]!==void 0&&Ht(h)&&h.set(l[p],!1)}}mount(e){this.current=e,db.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uC.current||bB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){db.delete(this.current),this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ns.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uo){const n=Uo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hb.length;r++){const i=hb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=_B(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Xk(i)||Qk(i))?i=parseFloat(i):!TB(i)&&Ui.test(n)&&(i=uP(e,n)),this.setBaseTarget(e,Ht(i)?i.get():i)),Ht(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=F0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ht(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cC extends SB{constructor(){super(...arguments),this.KeyframeResolver=cP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function kB(t){return window.getComputedStyle(t)}class PB extends cC{constructor(){super(...arguments),this.type="html",this.renderInstance=ZP}readValueFromInstance(e,n){if(Ns.has(n)){const r=X0(n);return r&&r.default||0}else{const r=kB(e),i=(Jk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LP(e,n)}build(e,n,r){mv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class CB extends cC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ns.has(n)){const r=X0(n);return r&&r.default||0}return n=eC.has(n)?n:ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rC(e,n,r)}build(e,n,r){gv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){tC(e,n,r,i)}mount(e){this.isSVGTag=vv(e.tagName),super.mount(e)}}const IB=(t,e)=>dv(t)?new CB(e):new PB(e,{allowProjection:t!==M.Fragment}),AB=wB({...x6,...UF,...AF,...zF},IB),tp=c3(AB);class RB extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function DB({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=M.useContext(uv);return M.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),A.jsx(RB,{isPresent:e,childRef:r,sizeRef:i,children:M.cloneElement(t,{ref:r})})}const NB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=fv(MB),l=M.useId(),u=M.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),c=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return M.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=A.jsx(DB,{isPresent:n,children:t})),A.jsx(Mh.Provider,{value:c,children:t})};function MB(){return new Map}const rc=t=>t.key||"";function fb(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const OB=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=M.useMemo(()=>fb(t),[t]),l=a.map(rc),u=M.useRef(!0),c=M.useRef(a),f=fv(()=>new Map),[p,h]=M.useState(a),[g,m]=M.useState(a);QP(()=>{u.current=!1,c.current=a;for(let w=0;w<g.length;w++){const E=rc(g[w]);l.includes(E)?f.delete(E):f.get(E)!==!0&&f.set(E,!1)}},[g,l.length,l.join("-")]);const v=[];if(a!==p){let w=[...a];for(let E=0;E<g.length;E++){const R=g[E],_=rc(R);l.includes(_)||(w.splice(E,0,R),v.push(R))}o==="wait"&&v.length&&(w=v),m(fb(w)),h(a);return}const{forceRender:x}=M.useContext(av);return A.jsx(A.Fragment,{children:g.map(w=>{const E=rc(w),R=a===g||l.includes(E),_=()=>{if(f.has(E))f.set(E,!0);else return;let I=!0;f.forEach(T=>{T||(I=!1)}),I&&(x==null||x(),m(c.current),i&&i())};return A.jsx(NB,{isPresent:R,initial:!u.current||r?void 0:!1,custom:R?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:R?void 0:_,children:w},E)})})};function LB(){const[t,e]=M.useState(!1),[n,r]=M.useState([]);M.useEffect(()=>{const o=jo(rt,a=>{a?(async()=>{e(!0);const u=Yo(be,`users/${a.uid}/Boards`),f=(await Zo(u)).docs.map(p=>({id:p.id,data:p.data()})).filter(p=>p.data.boardVisibility==="shareable");r(f)})().catch(u=>console.error("Error fetching lists:",u)):r([])});return()=>o()},[]);const[i,s]=M.useState(!1);return A.jsxs("div",{children:[i&&A.jsx("button",{onClick:()=>{s(!1)},className:"  absolute  text-slate-300  py-1 px-2 left-[90%] sm:left-[70%] sm:top-[-5%] top-[-10%] rounded-xl    text-2xl hover:bg-zinc-900",children:"✕"}),!i&&A.jsxs("div",{children:[A.jsx("h1",{className:"text-gray-300 mt-2 mb-2  p-1 rounded-md text-xl flex justify-center items-center gap-4",children:"Shared Boards"}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 px-0 sm:px-7  md:grid-cols-3 mt-7 mx-4 lg:grid-cols-4 gap-6 max-h-[62vh] shadow-sm",children:[n.map(o=>A.jsx(jk,{id:o.id,title:o.data.title,background:o.data.background,backgroundImage:o.data.backgroundImage,boardVisibility:o.data.boardVisibility},o.id)),A.jsx("div",{onClick:()=>{s(!0)},className:" h-[70px] flex justify-center items-center w-[130px] bg-neutral-700 opacity-90 cursor-pointer hover:opacity-70 border-gray-200 p-5  rounded-sm",children:A.jsx("h2",{className:"text-zinc-300  text-center text-sm ",children:"Create new board"})})]})]}),i&&A.jsx(Vk,{})]})}var dC={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(t,e){(function(r,i){t.exports=i()})(Xh,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)i.d(a,l,(function(u){return s[u]}).bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=20)}([function(n,r){var i={};n.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(o,a){var l,u;typeof a=="boolean"?(l=2,u=a):(l=1,u=!0);for(var c=l;c<arguments.length;c++){var f=arguments[c];if(f)for(var p in f)u&&f[p]&&f[p].constructor===Object&&(!o[p]||o[p].constructor===Object)?(o[p]=o[p]||{},i.extend(o[p],u,f[p])):o[p]=f[p]}return o},i.clone=function(o,a){return i.extend({},a,o)},i.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var l in o)a.push(l);return a},i.values=function(o){var a=[];if(Object.keys){for(var l=Object.keys(o),u=0;u<l.length;u++)a.push(o[l[u]]);return a}for(var c in o)a.push(o[c]);return a},i.get=function(o,a,l,u){a=a.split(".").slice(l,u);for(var c=0;c<a.length;c+=1)o=o[a[c]];return o},i.set=function(o,a,l,u,c){var f=a.split(".").slice(u,c);return i.get(o,a,0,-1)[f[f.length-1]]=l,l},i.shuffle=function(o){for(var a=o.length-1;a>0;a--){var l=Math.floor(i.random()*(a+1)),u=o[a];o[a]=o[l],o[l]=u}return o},i.choose=function(o){return o[Math.floor(i.random()*o.length)]},i.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},i.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},i.isFunction=function(o){return typeof o=="function"},i.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},i.isString=function(o){return toString.call(o)==="[object String]"},i.clamp=function(o,a,l){return o<a?a:o>l?l:o},i.sign=function(o){return o<0?-1:1},i.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+s()*(a-o)};var s=function(){return i._seed=(i._seed*9301+49297)%233280,i._seed/233280};i.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[o]||(i.warn(o),i._warnedOnce[o]=!0)},i.deprecated=function(o,a,l){o[a]=i.chain(function(){i.warnOnce("🔅 deprecated 🔅",l)},o[a])},i.nextId=function(){return i._nextId++},i.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var l=0;l<o.length;l++)if(o[l]===a)return l;return-1},i.map=function(o,a){if(o.map)return o.map(a);for(var l=[],u=0;u<o.length;u+=1)l.push(a(o[u]));return l},i.topologicalSort=function(o){var a=[],l=[],u=[];for(var c in o)!l[c]&&!u[c]&&i._topologicalSort(c,l,u,o,a);return a},i._topologicalSort=function(o,a,l,u,c){var f=u[o]||[];l[o]=!0;for(var p=0;p<f.length;p+=1){var h=f[p];l[h]||a[h]||i._topologicalSort(h,a,l,u,c)}l[o]=!1,a[o]=!0,c.push(o)},i.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var l=arguments[a];l._chained?o.push.apply(o,l._chained):o.push(l)}var u=function(){for(var c,f=new Array(arguments.length),p=0,h=arguments.length;p<h;p++)f[p]=arguments[p];for(p=0;p<o.length;p+=1){var g=o[p].apply(c,f);typeof g<"u"&&(c=g)}return c};return u._chained=o,u},i.chainPathBefore=function(o,a,l){return i.set(o,a,i.chain(l,i.get(o,a)))},i.chainPathAfter=function(o,a,l){return i.set(o,a,i.chain(i.get(o,a),l))},i.setDecomp=function(o){i._decomp=o},i.getDecomp=function(){var o=i._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof Xh<"u"&&(o=Xh.decomp)}catch{o=null}return o}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&i.update(o,s),o},i.update=function(s,o,a){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var l=0;l<o.length;l++){var u=o[l];u.x>s.max.x&&(s.max.x=u.x),u.x<s.min.x&&(s.min.x=u.x),u.y>s.max.y&&(s.max.y=u.y),u.y<s.min.y&&(s.min.y=u.y)}a&&(a.x>0?s.max.x+=a.x:s.min.x+=a.x,a.y>0?s.max.y+=a.y:s.min.y+=a.y)},i.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},i.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},i.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},i.shift=function(s,o){var a=s.max.x-s.min.x,l=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+a,s.min.y=o.y,s.max.y=o.y+l}}()},function(n,r){var i={};n.exports=i,function(){i.create=function(s,o){return{x:s||0,y:o||0}},i.clone=function(s){return{x:s.x,y:s.y}},i.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},i.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},i.rotate=function(s,o,a){var l=Math.cos(o),u=Math.sin(o);a||(a={});var c=s.x*l-s.y*u;return a.y=s.x*u+s.y*l,a.x=c,a},i.rotateAbout=function(s,o,a,l){var u=Math.cos(o),c=Math.sin(o);l||(l={});var f=a.x+((s.x-a.x)*u-(s.y-a.y)*c);return l.y=a.y+((s.x-a.x)*c+(s.y-a.y)*u),l.x=f,l},i.normalise=function(s){var o=i.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},i.dot=function(s,o){return s.x*o.x+s.y*o.y},i.cross=function(s,o){return s.x*o.y-s.y*o.x},i.cross3=function(s,o,a){return(o.x-s.x)*(a.y-s.y)-(o.y-s.y)*(a.x-s.x)},i.add=function(s,o,a){return a||(a={}),a.x=s.x+o.x,a.y=s.y+o.y,a},i.sub=function(s,o,a){return a||(a={}),a.x=s.x-o.x,a.y=s.y-o.y,a},i.mult=function(s,o){return{x:s.x*o,y:s.y*o}},i.div=function(s,o){return{x:s.x/o,y:s.y/o}},i.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},i.neg=function(s){return{x:-s.x,y:-s.y}},i.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.create=function(l,u){for(var c=[],f=0;f<l.length;f++){var p=l[f],h={x:p.x,y:p.y,index:f,body:u,isInternal:!1};c.push(h)}return c},s.fromPath=function(l,u){var c=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(c,function(p,h,g){f.push({x:parseFloat(h),y:parseFloat(g)})}),s.create(f,u)},s.centre=function(l){for(var u=s.area(l,!0),c={x:0,y:0},f,p,h,g=0;g<l.length;g++)h=(g+1)%l.length,f=o.cross(l[g],l[h]),p=o.mult(o.add(l[g],l[h]),f),c=o.add(c,p);return o.div(c,6*u)},s.mean=function(l){for(var u={x:0,y:0},c=0;c<l.length;c++)u.x+=l[c].x,u.y+=l[c].y;return o.div(u,l.length)},s.area=function(l,u){for(var c=0,f=l.length-1,p=0;p<l.length;p++)c+=(l[f].x-l[p].x)*(l[f].y+l[p].y),f=p;return u?c/2:Math.abs(c)/2},s.inertia=function(l,u){for(var c=0,f=0,p=l,h,g,m=0;m<p.length;m++)g=(m+1)%p.length,h=Math.abs(o.cross(p[g],p[m])),c+=h*(o.dot(p[g],p[g])+o.dot(p[g],p[m])+o.dot(p[m],p[m])),f+=h;return u/6*(c/f)},s.translate=function(l,u,c){c=typeof c<"u"?c:1;var f=l.length,p=u.x*c,h=u.y*c,g;for(g=0;g<f;g++)l[g].x+=p,l[g].y+=h;return l},s.rotate=function(l,u,c){if(u!==0){var f=Math.cos(u),p=Math.sin(u),h=c.x,g=c.y,m=l.length,v,x,w,E;for(E=0;E<m;E++)v=l[E],x=v.x-h,w=v.y-g,v.x=h+(x*f-w*p),v.y=g+(x*p+w*f);return l}},s.contains=function(l,u){for(var c=u.x,f=u.y,p=l.length,h=l[p-1],g,m=0;m<p;m++){if(g=l[m],(c-h.x)*(g.y-h.y)+(f-h.y)*(h.x-g.x)>0)return!1;h=g}return!0},s.scale=function(l,u,c,f){if(u===1&&c===1)return l;f=f||s.centre(l);for(var p,h,g=0;g<l.length;g++)p=l[g],h=o.sub(p,f),l[g].x=f.x+h.x*u,l[g].y=f.y+h.y*c;return l},s.chamfer=function(l,u,c,f,p){typeof u=="number"?u=[u]:u=u||[8],c=typeof c<"u"?c:-1,f=f||2,p=p||14;for(var h=[],g=0;g<l.length;g++){var m=l[g-1>=0?g-1:l.length-1],v=l[g],x=l[(g+1)%l.length],w=u[g<u.length?g:u.length-1];if(w===0){h.push(v);continue}var E=o.normalise({x:v.y-m.y,y:m.x-v.x}),R=o.normalise({x:x.y-v.y,y:v.x-x.x}),_=Math.sqrt(2*Math.pow(w,2)),I=o.mult(a.clone(E),w),T=o.normalise(o.mult(o.add(E,R),.5)),y=o.sub(v,o.mult(T,_)),S=c;c===-1&&(S=Math.pow(w,.32)*1.75),S=a.clamp(S,f,p),S%2===1&&(S+=1);for(var k=Math.acos(o.dot(E,R)),C=k/S,D=0;D<S;D++)h.push(o.add(o.rotate(I,C*D),y))}return h},s.clockwiseSort=function(l){var u=s.mean(l);return l.sort(function(c,f){return o.angle(u,c)-o.angle(u,f)}),l},s.isConvex=function(l){var u=0,c=l.length,f,p,h,g;if(c<3)return null;for(f=0;f<c;f++)if(p=(f+1)%c,h=(f+2)%c,g=(l[p].x-l[f].x)*(l[h].y-l[p].y),g-=(l[p].y-l[f].y)*(l[h].x-l[p].x),g<0?u|=1:g>0&&(u|=2),u===3)return!1;return u!==0?!0:null},s.hull=function(l){var u=[],c=[],f,p;for(l=l.slice(0),l.sort(function(h,g){var m=h.x-g.x;return m!==0?m:h.y-g.y}),p=0;p<l.length;p+=1){for(f=l[p];c.length>=2&&o.cross3(c[c.length-2],c[c.length-1],f)<=0;)c.pop();c.push(f)}for(p=l.length-1;p>=0;p-=1){for(f=l[p];u.length>=2&&o.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),c.pop(),u.concat(c)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),u=i(0),c=i(1),f=i(11);(function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(h){var g={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},m=u.extend(g,h);return p(m,h),m},s.nextGroup=function(h){return h?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var p=function(h,g){g=g||{},s.set(h,{bounds:h.bounds||c.create(h.vertices),positionPrev:h.positionPrev||a.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),o.rotate(h.vertices,h.angle,h.position),f.rotate(h.axes,h.angle),c.update(h.bounds,h.vertices,h.velocity),s.set(h,{axes:g.axes||h.axes,area:g.area||h.area,mass:g.mass||h.mass,inertia:g.inertia||h.inertia});var m=h.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=h.isStatic?"#555":"#ccc",x=h.isStatic&&h.render.fillStyle===null?1:0;h.render.fillStyle=h.render.fillStyle||m,h.render.strokeStyle=h.render.strokeStyle||v,h.render.lineWidth=h.render.lineWidth||x,h.render.sprite.xOffset+=-(h.bounds.min.x-h.position.x)/(h.bounds.max.x-h.bounds.min.x),h.render.sprite.yOffset+=-(h.bounds.min.y-h.position.y)/(h.bounds.max.y-h.bounds.min.y)};s.set=function(h,g,m){var v;typeof g=="string"&&(v=g,g={},g[v]=m);for(v in g)if(Object.prototype.hasOwnProperty.call(g,v))switch(m=g[v],v){case"isStatic":s.setStatic(h,m);break;case"isSleeping":l.set(h,m);break;case"mass":s.setMass(h,m);break;case"density":s.setDensity(h,m);break;case"inertia":s.setInertia(h,m);break;case"vertices":s.setVertices(h,m);break;case"position":s.setPosition(h,m);break;case"angle":s.setAngle(h,m);break;case"velocity":s.setVelocity(h,m);break;case"angularVelocity":s.setAngularVelocity(h,m);break;case"speed":s.setSpeed(h,m);break;case"angularSpeed":s.setAngularSpeed(h,m);break;case"parts":s.setParts(h,m);break;case"centre":s.setCentre(h,m);break;default:h[v]=m}},s.setStatic=function(h,g){for(var m=0;m<h.parts.length;m++){var v=h.parts[m];g?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=g}},s.setMass=function(h,g){var m=h.inertia/(h.mass/6);h.inertia=m*(g/6),h.inverseInertia=1/h.inertia,h.mass=g,h.inverseMass=1/h.mass,h.density=h.mass/h.area},s.setDensity=function(h,g){s.setMass(h,g*h.area),h.density=g},s.setInertia=function(h,g){h.inertia=g,h.inverseInertia=1/h.inertia},s.setVertices=function(h,g){g[0].body===h?h.vertices=g:h.vertices=o.create(g,h),h.axes=f.fromVertices(h.vertices),h.area=o.area(h.vertices),s.setMass(h,h.density*h.area);var m=o.centre(h.vertices);o.translate(h.vertices,m,-1),s.setInertia(h,s._inertiaScale*o.inertia(h.vertices,h.mass)),o.translate(h.vertices,h.position),c.update(h.bounds,h.vertices,h.velocity)},s.setParts=function(h,g,m){var v;for(g=g.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,v=0;v<g.length;v++){var x=g[v];x!==h&&(x.parent=h,h.parts.push(x))}if(h.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var w=[];for(v=0;v<g.length;v++)w=w.concat(g[v].vertices);o.clockwiseSort(w);var E=o.hull(w),R=o.centre(E);s.setVertices(h,E),o.translate(h.vertices,R)}var _=s._totalProperties(h);h.area=_.area,h.parent=h,h.position.x=_.centre.x,h.position.y=_.centre.y,h.positionPrev.x=_.centre.x,h.positionPrev.y=_.centre.y,s.setMass(h,_.mass),s.setInertia(h,_.inertia),s.setPosition(h,_.centre)}},s.setCentre=function(h,g,m){m?(h.positionPrev.x+=g.x,h.positionPrev.y+=g.y,h.position.x+=g.x,h.position.y+=g.y):(h.positionPrev.x=g.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=g.y-(h.position.y-h.positionPrev.y),h.position.x=g.x,h.position.y=g.y)},s.setPosition=function(h,g,m){var v=a.sub(g,h.position);m?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=v.x,h.velocity.y=v.y,h.speed=a.magnitude(v)):(h.positionPrev.x+=v.x,h.positionPrev.y+=v.y);for(var x=0;x<h.parts.length;x++){var w=h.parts[x];w.position.x+=v.x,w.position.y+=v.y,o.translate(w.vertices,v),c.update(w.bounds,w.vertices,h.velocity)}},s.setAngle=function(h,g,m){var v=g-h.angle;m?(h.anglePrev=h.angle,h.angularVelocity=v,h.angularSpeed=Math.abs(v)):h.anglePrev+=v;for(var x=0;x<h.parts.length;x++){var w=h.parts[x];w.angle+=v,o.rotate(w.vertices,v,h.position),f.rotate(w.axes,v),c.update(w.bounds,w.vertices,h.velocity),x>0&&a.rotateAbout(w.position,v,h.position,w.position)}},s.setVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.positionPrev.x=h.position.x-g.x*m,h.positionPrev.y=h.position.y-g.y*m,h.velocity.x=(h.position.x-h.positionPrev.x)/m,h.velocity.y=(h.position.y-h.positionPrev.y)/m,h.speed=a.magnitude(h.velocity)},s.getVelocity=function(h){var g=s._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*g,y:(h.position.y-h.positionPrev.y)*g}},s.getSpeed=function(h){return a.magnitude(s.getVelocity(h))},s.setSpeed=function(h,g){s.setVelocity(h,a.mult(a.normalise(s.getVelocity(h)),g))},s.setAngularVelocity=function(h,g){var m=h.deltaTime/s._baseDelta;h.anglePrev=h.angle-g*m,h.angularVelocity=(h.angle-h.anglePrev)/m,h.angularSpeed=Math.abs(h.angularVelocity)},s.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*s._baseDelta/h.deltaTime},s.getAngularSpeed=function(h){return Math.abs(s.getAngularVelocity(h))},s.setAngularSpeed=function(h,g){s.setAngularVelocity(h,u.sign(s.getAngularVelocity(h))*g)},s.translate=function(h,g,m){s.setPosition(h,a.add(h.position,g),m)},s.rotate=function(h,g,m,v){if(!m)s.setAngle(h,h.angle+g,v);else{var x=Math.cos(g),w=Math.sin(g),E=h.position.x-m.x,R=h.position.y-m.y;s.setPosition(h,{x:m.x+(E*x-R*w),y:m.y+(E*w+R*x)},v),s.setAngle(h,h.angle+g,v)}},s.scale=function(h,g,m,v){var x=0,w=0;v=v||h.position;for(var E=0;E<h.parts.length;E++){var R=h.parts[E];o.scale(R.vertices,g,m,v),R.axes=f.fromVertices(R.vertices),R.area=o.area(R.vertices),s.setMass(R,h.density*R.area),o.translate(R.vertices,{x:-R.position.x,y:-R.position.y}),s.setInertia(R,s._inertiaScale*o.inertia(R.vertices,R.mass)),o.translate(R.vertices,{x:R.position.x,y:R.position.y}),E>0&&(x+=R.area,w+=R.inertia),R.position.x=v.x+(R.position.x-v.x)*g,R.position.y=v.y+(R.position.y-v.y)*m,c.update(R.bounds,R.vertices,h.velocity)}h.parts.length>1&&(h.area=x,h.isStatic||(s.setMass(h,h.density*x),s.setInertia(h,w))),h.circleRadius&&(g===m?h.circleRadius*=g:h.circleRadius=null)},s.update=function(h,g){g=(typeof g<"u"?g:1e3/60)*h.timeScale;var m=g*g,v=s._timeCorrection?g/(h.deltaTime||g):1,x=1-h.frictionAir*(g/u._baseDelta),w=(h.position.x-h.positionPrev.x)*v,E=(h.position.y-h.positionPrev.y)*v;h.velocity.x=w*x+h.force.x/h.mass*m,h.velocity.y=E*x+h.force.y/h.mass*m,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=g,h.angularVelocity=(h.angle-h.anglePrev)*x*v+h.torque/h.inertia*m,h.anglePrev=h.angle,h.angle+=h.angularVelocity;for(var R=0;R<h.parts.length;R++){var _=h.parts[R];o.translate(_.vertices,h.velocity),R>0&&(_.position.x+=h.velocity.x,_.position.y+=h.velocity.y),h.angularVelocity!==0&&(o.rotate(_.vertices,h.angularVelocity,h.position),f.rotate(_.axes,h.angularVelocity),R>0&&a.rotateAbout(_.position,h.angularVelocity,h.position,_.position)),c.update(_.bounds,_.vertices,h.velocity)}},s.updateVelocities=function(h){var g=s._baseDelta/h.deltaTime,m=h.velocity;m.x=(h.position.x-h.positionPrev.x)*g,m.y=(h.position.y-h.positionPrev.y)*g,h.speed=Math.sqrt(m.x*m.x+m.y*m.y),h.angularVelocity=(h.angle-h.anglePrev)*g,h.angularSpeed=Math.abs(h.angularVelocity)},s.applyForce=function(h,g,m){var v={x:g.x-h.position.x,y:g.y-h.position.y};h.force.x+=m.x,h.force.y+=m.y,h.torque+=v.x*m.y-v.y*m.x},s._totalProperties=function(h){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=h.parts.length===1?0:1;m<h.parts.length;m++){var v=h.parts[m],x=v.mass!==1/0?v.mass:1;g.mass+=x,g.area+=v.area,g.inertia+=v.inertia,g.centre=a.add(g.centre,a.mult(v.position,x))}return g.centre=a.div(g.centre,g.mass),g}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.on=function(a,l,u){for(var c=l.split(" "),f,p=0;p<c.length;p++)f=c[p],a.events=a.events||{},a.events[f]=a.events[f]||[],a.events[f].push(u);return u},s.off=function(a,l,u){if(!l){a.events={};return}typeof l=="function"&&(u=l,l=o.keys(a.events).join(" "));for(var c=l.split(" "),f=0;f<c.length;f++){var p=a.events[c[f]],h=[];if(u&&p)for(var g=0;g<p.length;g++)p[g]!==u&&h.push(p[g]);a.events[c[f]]=h}},s.trigger=function(a,l,u){var c,f,p,h,g=a.events;if(g&&o.keys(g).length>0){u||(u={}),c=l.split(" ");for(var m=0;m<c.length;m++)if(f=c[m],p=g[f],p){h=o.clone(u,!1),h.name=f,h.source=a;for(var v=0;v<p.length;v++)p[v].apply(a,[h])}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(0),l=i(1),u=i(4);(function(){s.create=function(c){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},s.setModified=function(c,f,p,h){if(c.isModified=f,f&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),p&&c.parent&&s.setModified(c.parent,f,p,h),h)for(var g=0;g<c.composites.length;g++){var m=c.composites[g];s.setModified(m,f,p,h)}},s.add=function(c,f){var p=[].concat(f);o.trigger(c,"beforeAdd",{object:f});for(var h=0;h<p.length;h++){var g=p[h];switch(g.type){case"body":if(g.parent!==g){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(c,g);break;case"constraint":s.addConstraint(c,g);break;case"composite":s.addComposite(c,g);break;case"mouseConstraint":s.addConstraint(c,g.constraint);break}}return o.trigger(c,"afterAdd",{object:f}),c},s.remove=function(c,f,p){var h=[].concat(f);o.trigger(c,"beforeRemove",{object:f});for(var g=0;g<h.length;g++){var m=h[g];switch(m.type){case"body":s.removeBody(c,m,p);break;case"constraint":s.removeConstraint(c,m,p);break;case"composite":s.removeComposite(c,m,p);break;case"mouseConstraint":s.removeConstraint(c,m.constraint);break}}return o.trigger(c,"afterRemove",{object:f}),c},s.addComposite=function(c,f){return c.composites.push(f),f.parent=c,s.setModified(c,!0,!0,!1),c},s.removeComposite=function(c,f,p){var h=a.indexOf(c.composites,f);if(h!==-1){var g=s.allBodies(f);s.removeCompositeAt(c,h);for(var m=0;m<g.length;m++)g[m].sleepCounter=0}if(p)for(var m=0;m<c.composites.length;m++)s.removeComposite(c.composites[m],f,!0);return c},s.removeCompositeAt=function(c,f){return c.composites.splice(f,1),s.setModified(c,!0,!0,!1),c},s.addBody=function(c,f){return c.bodies.push(f),s.setModified(c,!0,!0,!1),c},s.removeBody=function(c,f,p){var h=a.indexOf(c.bodies,f);if(h!==-1&&(s.removeBodyAt(c,h),f.sleepCounter=0),p)for(var g=0;g<c.composites.length;g++)s.removeBody(c.composites[g],f,!0);return c},s.removeBodyAt=function(c,f){return c.bodies.splice(f,1),s.setModified(c,!0,!0,!1),c},s.addConstraint=function(c,f){return c.constraints.push(f),s.setModified(c,!0,!0,!1),c},s.removeConstraint=function(c,f,p){var h=a.indexOf(c.constraints,f);if(h!==-1&&s.removeConstraintAt(c,h),p)for(var g=0;g<c.composites.length;g++)s.removeConstraint(c.composites[g],f,!0);return c},s.removeConstraintAt=function(c,f){return c.constraints.splice(f,1),s.setModified(c,!0,!0,!1),c},s.clear=function(c,f,p){if(p)for(var h=0;h<c.composites.length;h++)s.clear(c.composites[h],f,!0);return f?c.bodies=c.bodies.filter(function(g){return g.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,s.setModified(c,!0,!0,!1),c},s.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var f=[].concat(c.bodies),p=0;p<c.composites.length;p++)f=f.concat(s.allBodies(c.composites[p]));return c.cache&&(c.cache.allBodies=f),f},s.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var f=[].concat(c.constraints),p=0;p<c.composites.length;p++)f=f.concat(s.allConstraints(c.composites[p]));return c.cache&&(c.cache.allConstraints=f),f},s.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var f=[].concat(c.composites),p=0;p<c.composites.length;p++)f=f.concat(s.allComposites(c.composites[p]));return c.cache&&(c.cache.allComposites=f),f},s.get=function(c,f,p){var h,g;switch(p){case"body":h=s.allBodies(c);break;case"constraint":h=s.allConstraints(c);break;case"composite":h=s.allComposites(c).concat(c);break}return h?(g=h.filter(function(m){return m.id.toString()===f.toString()}),g.length===0?null:g[0]):null},s.move=function(c,f,p){return s.remove(c,f),s.add(p,f),c},s.rebase=function(c){for(var f=s.allBodies(c).concat(s.allConstraints(c)).concat(s.allComposites(c)),p=0;p<f.length;p++)f[p].id=a.nextId();return c},s.translate=function(c,f,p){for(var h=p?s.allBodies(c):c.bodies,g=0;g<h.length;g++)u.translate(h[g],f);return c},s.rotate=function(c,f,p,h){for(var g=Math.cos(f),m=Math.sin(f),v=h?s.allBodies(c):c.bodies,x=0;x<v.length;x++){var w=v[x],E=w.position.x-p.x,R=w.position.y-p.y;u.setPosition(w,{x:p.x+(E*g-R*m),y:p.y+(E*m+R*g)}),u.rotate(w,f)}return c},s.scale=function(c,f,p,h,g){for(var m=g?s.allBodies(c):c.bodies,v=0;v<m.length;v++){var x=m[v],w=x.position.x-h.x,E=x.position.y-h.y;u.setPosition(x,{x:h.x+w*f,y:h.y+E*p}),u.scale(x,f,p)}return c},s.bounds=function(c){for(var f=s.allBodies(c),p=[],h=0;h<f.length;h+=1){var g=f[h];p.push(g.bounds.min,g.bounds.max)}return l.create(p)}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(5),l=i(0);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(u,c){for(var f=c/l._baseDelta,p=s._motionSleepThreshold,h=0;h<u.length;h++){var g=u[h],m=o.getSpeed(g),v=o.getAngularSpeed(g),x=m*m+v*v;if(g.force.x!==0||g.force.y!==0){s.set(g,!1);continue}var w=Math.min(g.motion,x),E=Math.max(g.motion,x);g.motion=s._minBias*w+(1-s._minBias)*E,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/f&&s.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},s.afterCollisions=function(u){for(var c=s._motionSleepThreshold,f=0;f<u.length;f++){var p=u[f];if(p.isActive){var h=p.collision,g=h.bodyA.parent,m=h.bodyB.parent;if(!(g.isSleeping&&m.isSleeping||g.isStatic||m.isStatic)&&(g.isSleeping||m.isSleeping)){var v=g.isSleeping&&!g.isStatic?g:m,x=v===g?m:g;!v.isStatic&&x.motion>c&&s.set(v,!1)}}}},s.set=function(u,c){var f=u.isSleeping;c?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||a.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&a.trigger(u,"sleepEnd"))}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(9);(function(){var l=[],u={overlap:0,axis:null},c={overlap:0,axis:null};s.create=function(f,p){return{pair:null,collided:!1,bodyA:f,bodyB:p,parentA:f.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(f,p,h){if(s._overlapAxes(u,f.vertices,p.vertices,f.axes),u.overlap<=0||(s._overlapAxes(c,p.vertices,f.vertices,p.axes),c.overlap<=0))return null;var g=h&&h.table[a.id(f,p)],m;g?m=g.collision:(m=s.create(f,p),m.collided=!0,m.bodyA=f.id<p.id?f:p,m.bodyB=f.id<p.id?p:f,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),f=m.bodyA,p=m.bodyB;var v;u.overlap<c.overlap?v=u:v=c;var x=m.normal,w=m.tangent,E=m.penetration,R=m.supports,_=v.overlap,I=v.axis,T=I.x,y=I.y,S=p.position.x-f.position.x,k=p.position.y-f.position.y;T*S+y*k>=0&&(T=-T,y=-y),x.x=T,x.y=y,w.x=-y,w.y=T,E.x=T*_,E.y=y*_,m.depth=_;var C=s._findSupports(f,p,x,1),D=0;if(o.contains(f.vertices,C[0])&&(R[D++]=C[0]),o.contains(f.vertices,C[1])&&(R[D++]=C[1]),D<2){var N=s._findSupports(p,f,x,-1);o.contains(p.vertices,N[0])&&(R[D++]=N[0]),D<2&&o.contains(p.vertices,N[1])&&(R[D++]=N[1])}return D===0&&(R[D++]=C[0]),m.supportCount=D,m},s._overlapAxes=function(f,p,h,g){var m=p.length,v=h.length,x=p[0].x,w=p[0].y,E=h[0].x,R=h[0].y,_=g.length,I=Number.MAX_VALUE,T=0,y,S,k,C,D,N;for(D=0;D<_;D++){var F=g[D],z=F.x,Y=F.y,U=x*z+w*Y,L=E*z+R*Y,B=U,H=L;for(N=1;N<m;N+=1)C=p[N].x*z+p[N].y*Y,C>B?B=C:C<U&&(U=C);for(N=1;N<v;N+=1)C=h[N].x*z+h[N].y*Y,C>H?H=C:C<L&&(L=C);if(S=B-L,k=H-U,y=S<k?S:k,y<I&&(I=y,T=D,y<=0))break}f.axis=g[T],f.overlap=I},s._findSupports=function(f,p,h,g){var m=p.vertices,v=m.length,x=f.position.x,w=f.position.y,E=h.x*g,R=h.y*g,_=m[0],I=_,T=E*(x-I.x)+R*(w-I.y),y,S,k;for(k=1;k<v;k+=1)I=m[k],S=E*(x-I.x)+R*(w-I.y),S<T&&(T=S,_=I);return y=m[(v+_.index-1)%v],T=E*(x-y.x)+R*(w-y.y),I=m[(_.index+1)%v],E*(x-I.x)+R*(w-I.y)<T?(l[0]=_,l[1]=I,l):(l[0]=_,l[1]=y,l)}})()},function(n,r,i){var s={};n.exports=s;var o=i(16);(function(){s.create=function(a,l){var u=a.bodyA,c=a.bodyB,f={id:s.id(u,c),bodyA:u,bodyB:c,collision:a,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||c.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(f,a,l),f},s.update=function(a,l,u){var c=l.supports,f=l.supportCount,p=a.contacts,h=l.parentA,g=l.parentB;a.isActive=!0,a.timeUpdated=u,a.collision=l,a.separation=l.depth,a.inverseMass=h.inverseMass+g.inverseMass,a.friction=h.friction<g.friction?h.friction:g.friction,a.frictionStatic=h.frictionStatic>g.frictionStatic?h.frictionStatic:g.frictionStatic,a.restitution=h.restitution>g.restitution?h.restitution:g.restitution,a.slop=h.slop>g.slop?h.slop:g.slop,a.contactCount=f,l.pair=a;var m=c[0],v=p[0],x=c[1],w=p[1];(w.vertex===m||v.vertex===x)&&(p[1]=v,p[0]=v=w,w=p[1]),v.vertex=m,w.vertex=x},s.setActive=function(a,l,u){l?(a.isActive=!0,a.timeUpdated=u):(a.isActive=!1,a.contactCount=0)},s.id=function(a,l){return a.id<l.id?a.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+a.id.toString(36)}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(2),l=i(7),u=i(1),c=i(11),f=i(0);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(p){var h=p;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var g=h.bodyA?a.add(h.bodyA.position,h.pointA):h.pointA,m=h.bodyB?a.add(h.bodyB.position,h.pointB):h.pointB,v=a.magnitude(a.sub(g,m));h.length=typeof h.length<"u"?h.length:v,h.id=h.id||f.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return h.length===0&&h.stiffness>.1?(x.type="pin",x.anchors=!1):h.stiffness<.9&&(x.type="spring"),h.render=f.extend(x,h.render),h},s.preSolveAll=function(p){for(var h=0;h<p.length;h+=1){var g=p[h],m=g.constraintImpulse;g.isStatic||m.x===0&&m.y===0&&m.angle===0||(g.position.x+=m.x,g.position.y+=m.y,g.angle+=m.angle)}},s.solveAll=function(p,h){for(var g=f.clamp(h/f._baseDelta,0,1),m=0;m<p.length;m+=1){var v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,w=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(x||w)&&s.solve(p[m],g)}for(m=0;m<p.length;m+=1)v=p[m],x=!v.bodyA||v.bodyA&&v.bodyA.isStatic,w=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!x&&!w&&s.solve(p[m],g)},s.solve=function(p,h){var g=p.bodyA,m=p.bodyB,v=p.pointA,x=p.pointB;if(!(!g&&!m)){g&&!g.isStatic&&(a.rotate(v,g.angle-p.angleA,v),p.angleA=g.angle),m&&!m.isStatic&&(a.rotate(x,m.angle-p.angleB,x),p.angleB=m.angle);var w=v,E=x;if(g&&(w=a.add(g.position,v)),m&&(E=a.add(m.position,x)),!(!w||!E)){var R=a.sub(w,E),_=a.magnitude(R);_<s._minLength&&(_=s._minLength);var I=(_-p.length)/_,T=p.stiffness>=1||p.length===0,y=T?p.stiffness*h:p.stiffness*h*h,S=p.damping*h,k=a.mult(R,I*y),C=(g?g.inverseMass:0)+(m?m.inverseMass:0),D=(g?g.inverseInertia:0)+(m?m.inverseInertia:0),N=C+D,F,z,Y,U,L;if(S>0){var B=a.create();Y=a.div(R,_),L=a.sub(m&&a.sub(m.position,m.positionPrev)||B,g&&a.sub(g.position,g.positionPrev)||B),U=a.dot(Y,L)}g&&!g.isStatic&&(z=g.inverseMass/C,g.constraintImpulse.x-=k.x*z,g.constraintImpulse.y-=k.y*z,g.position.x-=k.x*z,g.position.y-=k.y*z,S>0&&(g.positionPrev.x-=S*Y.x*U*z,g.positionPrev.y-=S*Y.y*U*z),F=a.cross(v,k)/N*s._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=F,g.angle-=F),m&&!m.isStatic&&(z=m.inverseMass/C,m.constraintImpulse.x+=k.x*z,m.constraintImpulse.y+=k.y*z,m.position.x+=k.x*z,m.position.y+=k.y*z,S>0&&(m.positionPrev.x+=S*Y.x*U*z,m.positionPrev.y+=S*Y.y*U*z),F=a.cross(x,k)/N*s._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle+=F,m.angle+=F)}}},s.postSolveAll=function(p){for(var h=0;h<p.length;h++){var g=p[h],m=g.constraintImpulse;if(!(g.isStatic||m.x===0&&m.y===0&&m.angle===0)){l.set(g,!1);for(var v=0;v<g.parts.length;v++){var x=g.parts[v];o.translate(x.vertices,m),v>0&&(x.position.x+=m.x,x.position.y+=m.y),m.angle!==0&&(o.rotate(x.vertices,m.angle,g.position),c.rotate(x.axes,m.angle),v>0&&a.rotateAbout(x.position,m.angle,g.position,x.position)),u.update(x.bounds,x.vertices,g.velocity)}m.angle*=s._warming,m.x*=s._warming,m.y*=s._warming}}},s.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},s.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},s.currentLength=function(p){var h=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),g=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),m=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),v=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),x=h-m,w=g-v;return Math.sqrt(x*x+w*w)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(0);(function(){s.fromVertices=function(l){for(var u={},c=0;c<l.length;c++){var f=(c+1)%l.length,p=o.normalise({x:l[f].y-l[c].y,y:l[c].x-l[f].x}),h=p.y===0?1/0:p.x/p.y;h=h.toFixed(3).toString(),u[h]=p}return a.values(u)},s.rotate=function(l,u){if(u!==0)for(var c=Math.cos(u),f=Math.sin(u),p=0;p<l.length;p++){var h=l[p],g;g=h.x*c-h.y*f,h.y=h.x*f+h.y*c,h.x=g}}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(4),u=i(1),c=i(2);(function(){s.rectangle=function(f,p,h,g,m){m=m||{};var v={label:"Rectangle Body",position:{x:f,y:p},vertices:o.fromPath("L 0 0 L "+h+" 0 L "+h+" "+g+" L 0 "+g)};if(m.chamfer){var x=m.chamfer;v.vertices=o.chamfer(v.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return l.create(a.extend({},v,m))},s.trapezoid=function(f,p,h,g,m,v){v=v||{},m>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var x=(1-m*2)*h,w=h*m,E=w+x,R=E+w,_;m<.5?_="L 0 0 L "+w+" "+-g+" L "+E+" "+-g+" L "+R+" 0":_="L 0 0 L "+E+" "+-g+" L "+R+" 0";var I={label:"Trapezoid Body",position:{x:f,y:p},vertices:o.fromPath(_)};if(v.chamfer){var T=v.chamfer;I.vertices=o.chamfer(I.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete v.chamfer}return l.create(a.extend({},I,v))},s.circle=function(f,p,h,g,m){g=g||{};var v={label:"Circle Body",circleRadius:h};m=m||25;var x=Math.ceil(Math.max(10,Math.min(m,h)));return x%2===1&&(x+=1),s.polygon(f,p,x,h,a.extend({},v,g))},s.polygon=function(f,p,h,g,m){if(m=m||{},h<3)return s.circle(f,p,g,m);for(var v=2*Math.PI/h,x="",w=v*.5,E=0;E<h;E+=1){var R=w+E*v,_=Math.cos(R)*g,I=Math.sin(R)*g;x+="L "+_.toFixed(3)+" "+I.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:f,y:p},vertices:o.fromPath(x)};if(m.chamfer){var y=m.chamfer;T.vertices=o.chamfer(T.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete m.chamfer}return l.create(a.extend({},T,m))},s.fromVertices=function(f,p,h,g,m,v,x,w){var E=a.getDecomp(),R,_,I,T,y,S,k,C,D,N,F;for(R=!!(E&&E.quickDecomp),g=g||{},I=[],m=typeof m<"u"?m:!1,v=typeof v<"u"?v:.01,x=typeof x<"u"?x:10,w=typeof w<"u"?w:.01,a.isArray(h[0])||(h=[h]),N=0;N<h.length;N+=1)if(S=h[N],T=o.isConvex(S),y=!T,y&&!R&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!R)T?S=o.clockwiseSort(S):S=o.hull(S),I.push({position:{x:f,y:p},vertices:S});else{var z=S.map(function(Q){return[Q.x,Q.y]});E.makeCCW(z),v!==!1&&E.removeCollinearPoints(z,v),w!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(z,w);var Y=E.quickDecomp(z);for(k=0;k<Y.length;k++){var U=Y[k],L=U.map(function(Q){return{x:Q[0],y:Q[1]}});x>0&&o.area(L)<x||I.push({position:o.centre(L),vertices:L})}}for(k=0;k<I.length;k++)I[k]=l.create(a.extend(I[k],g));if(m){var B=5;for(k=0;k<I.length;k++){var H=I[k];for(C=k+1;C<I.length;C++){var Z=I[C];if(u.overlaps(H.bounds,Z.bounds)){var J=H.vertices,W=Z.vertices;for(D=0;D<H.vertices.length;D++)for(F=0;F<Z.vertices.length;F++){var ee=c.magnitudeSquared(c.sub(J[(D+1)%J.length],W[F])),le=c.magnitudeSquared(c.sub(J[D],W[(F+1)%W.length]));ee<B&&le<B&&(J[D].isInternal=!0,W[F].isInternal=!0)}}}}}return I.length>1?(_=l.create(a.extend({parts:I.slice(0)},g)),l.setPosition(_,{x:f,y:p}),_):I[0]}})()},function(n,r,i){var s={};n.exports=s;var o=i(0),a=i(8);(function(){s.create=function(l){var u={bodies:[],collisions:[],pairs:null};return o.extend(u,l)},s.setBodies=function(l,u){l.bodies=u.slice(0)},s.clear=function(l){l.bodies=[],l.collisions=[]},s.collisions=function(l){var u=l.pairs,c=l.bodies,f=c.length,p=s.canCollide,h=a.collides,g=l.collisions,m=0,v,x;for(c.sort(s._compareBoundsX),v=0;v<f;v++){var w=c[v],E=w.bounds,R=w.bounds.max.x,_=w.bounds.max.y,I=w.bounds.min.y,T=w.isStatic||w.isSleeping,y=w.parts.length,S=y===1;for(x=v+1;x<f;x++){var k=c[x],C=k.bounds;if(C.min.x>R)break;if(!(_<C.min.y||I>C.max.y)&&!(T&&(k.isStatic||k.isSleeping))&&p(w.collisionFilter,k.collisionFilter)){var D=k.parts.length;if(S&&D===1){var N=h(w,k,u);N&&(g[m++]=N)}else for(var F=y>1?1:0,z=D>1?1:0,Y=F;Y<y;Y++)for(var U=w.parts[Y],E=U.bounds,L=z;L<D;L++){var B=k.parts[L],C=B.bounds;if(!(E.min.x>C.max.x||E.max.x<C.min.x||E.max.y<C.min.y||E.min.y>C.max.y)){var N=h(U,B,u);N&&(g[m++]=N)}}}}}return g.length!==m&&(g.length=m),g},s.canCollide=function(l,u){return l.group===u.group&&l.group!==0?l.group>0:(l.mask&u.category)!==0&&(u.mask&l.category)!==0},s._compareBoundsX=function(l,u){return l.bounds.min.x-u.bounds.min.x}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s.create=function(a){var l={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=a||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f&&(l.button=0,u.preventDefault()),l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=u},l.mousedown=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f?(l.button=0,u.preventDefault()):l.button=u.button,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=u},l.mouseup=function(u){var c=s._getRelativeMousePosition(u,l.element,l.pixelRatio),f=u.changedTouches;f&&u.preventDefault(),l.button=-1,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=u},l.mousewheel=function(u){l.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),l.sourceEvents.mousewheel=u},s.setElement(l,l.element),l},s.setElement=function(a,l){a.element=l,l.addEventListener("mousemove",a.mousemove,{passive:!0}),l.addEventListener("mousedown",a.mousedown,{passive:!0}),l.addEventListener("mouseup",a.mouseup,{passive:!0}),l.addEventListener("wheel",a.mousewheel,{passive:!1}),l.addEventListener("touchmove",a.mousemove,{passive:!1}),l.addEventListener("touchstart",a.mousedown,{passive:!1}),l.addEventListener("touchend",a.mouseup,{passive:!1})},s.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},s.setOffset=function(a,l){a.offset.x=l.x,a.offset.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s.setScale=function(a,l){a.scale.x=l.x,a.scale.y=l.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},s._getRelativeMousePosition=function(a,l,u){var c=l.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,p=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,h=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,g=a.changedTouches,m,v;return g?(m=g[0].pageX-c.left-p,v=g[0].pageY-c.top-h):(m=a.pageX-c.left-p,v=a.pageY-c.top-h),{x:m/(l.clientWidth/(l.width||l.clientWidth)*u),y:v/(l.clientHeight/(l.height||l.clientHeight)*u)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(0);(function(){s._registry={},s.register=function(a){if(s.isPlugin(a)||o.warn("Plugin.register:",s.toString(a),"does not implement all required fields."),a.name in s._registry){var l=s._registry[a.name],u=s.versionParse(a.version).number,c=s.versionParse(l.version).number;u>c?(o.warn("Plugin.register:",s.toString(l),"was upgraded to",s.toString(a)),s._registry[a.name]=a):u<c?o.warn("Plugin.register:",s.toString(l),"can not be downgraded to",s.toString(a)):a!==l&&o.warn("Plugin.register:",s.toString(a),"is already registered to different plugin object")}else s._registry[a.name]=a;return a},s.resolve=function(a){return s._registry[s.dependencyParse(a).name]},s.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},s.isPlugin=function(a){return a&&a.name&&a.version&&a.install},s.isUsed=function(a,l){return a.used.indexOf(l)>-1},s.isFor=function(a,l){var u=a.for&&s.dependencyParse(a.for);return!a.for||l.name===u.name&&s.versionSatisfies(l.version,u.range)},s.use=function(a,l){if(a.uses=(a.uses||[]).concat(l||[]),a.uses.length===0){o.warn("Plugin.use:",s.toString(a),"does not specify any dependencies to install.");return}for(var u=s.dependencies(a),c=o.topologicalSort(u),f=[],p=0;p<c.length;p+=1)if(c[p]!==a.name){var h=s.resolve(c[p]);if(!h){f.push("❌ "+c[p]);continue}s.isUsed(a,h.name)||(s.isFor(h,a)||(o.warn("Plugin.use:",s.toString(h),"is for",h.for,"but installed on",s.toString(a)+"."),h._warned=!0),h.install?h.install(a):(o.warn("Plugin.use:",s.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(f.push("🔶 "+s.toString(h)),delete h._warned):f.push("✅ "+s.toString(h)),a.used.push(h.name))}f.length>0&&o.info(f.join("  "))},s.dependencies=function(a,l){var u=s.dependencyParse(a),c=u.name;if(l=l||{},!(c in l)){a=s.resolve(a)||a,l[c]=o.map(a.uses||[],function(p){s.isPlugin(p)&&s.register(p);var h=s.dependencyParse(p),g=s.resolve(p);return g&&!s.versionSatisfies(g.version,h.range)?(o.warn("Plugin.dependencies:",s.toString(g),"does not satisfy",s.toString(h),"used by",s.toString(u)+"."),g._warned=!0,a._warned=!0):g||(o.warn("Plugin.dependencies:",s.toString(p),"used by",s.toString(u),"could not be resolved."),a._warned=!0),h.name});for(var f=0;f<l[c].length;f+=1)s.dependencies(l[c][f],l);return l}},s.dependencyParse=function(a){if(o.isString(a)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},s.versionParse=function(a){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var u=l.exec(a),c=Number(u[4]),f=Number(u[5]),p=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:a,operator:u[1]||u[2]||"",major:c,minor:f,patch:p,parts:[c,f,p],prerelease:u[7],number:c*1e8+f*1e4+p}},s.versionSatisfies=function(a,l){l=l||"*";var u=s.versionParse(l),c=s.versionParse(a);if(u.isRange){if(u.operator==="*"||a==="*")return!0;if(u.operator===">")return c.number>u.number;if(u.operator===">=")return c.number>=u.number;if(u.operator==="~")return c.major===u.major&&c.minor===u.minor&&c.patch>=u.patch;if(u.operator==="^")return u.major>0?c.major===u.major&&c.number>=u.number:u.minor>0?c.minor===u.minor&&c.patch>=u.patch:c.patch===u.patch}return a===l||a==="*"}})()},function(n,r){var i={};n.exports=i,function(){i.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},function(n,r,i){var s={};n.exports=s;var o=i(7),a=i(18),l=i(13),u=i(19),c=i(5),f=i(6),p=i(10),h=i(0),g=i(4);(function(){s._deltaMax=1e3/60,s.create=function(m){m=m||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=h.extend(v,m);return x.world=m.world||f.create({label:"World"}),x.pairs=m.pairs||u.create(),x.detector=m.detector||l.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},s.update=function(m,v){var x=h.now(),w=m.world,E=m.detector,R=m.pairs,_=m.timing,I=_.timestamp,T;v>s._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",s._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:h._baseDelta,v*=_.timeScale,_.timestamp+=v,_.lastDelta=v;var y={timestamp:_.timestamp,delta:v};c.trigger(m,"beforeUpdate",y);var S=f.allBodies(w),k=f.allConstraints(w);for(w.isModified&&(l.setBodies(E,S),f.setModified(w,!1,!1,!0)),m.enableSleeping&&o.update(S,v),s._bodiesApplyGravity(S,m.gravity),v>0&&s._bodiesUpdate(S,v),c.trigger(m,"beforeSolve",y),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);p.postSolveAll(S);var C=l.collisions(E);u.update(R,C,I),m.enableSleeping&&o.afterCollisions(R.list),R.collisionStart.length>0&&c.trigger(m,"collisionStart",{pairs:R.collisionStart,timestamp:_.timestamp,delta:v});var D=h.clamp(20/m.positionIterations,0,1);for(a.preSolvePosition(R.list),T=0;T<m.positionIterations;T++)a.solvePosition(R.list,v,D);for(a.postSolvePosition(S),p.preSolveAll(S),T=0;T<m.constraintIterations;T++)p.solveAll(k,v);for(p.postSolveAll(S),a.preSolveVelocity(R.list),T=0;T<m.velocityIterations;T++)a.solveVelocity(R.list,v);return s._bodiesUpdateVelocities(S),R.collisionActive.length>0&&c.trigger(m,"collisionActive",{pairs:R.collisionActive,timestamp:_.timestamp,delta:v}),R.collisionEnd.length>0&&c.trigger(m,"collisionEnd",{pairs:R.collisionEnd,timestamp:_.timestamp,delta:v}),s._bodiesClearForces(S),c.trigger(m,"afterUpdate",y),m.timing.lastElapsed=h.now()-x,m},s.merge=function(m,v){if(h.extend(m,v),v.world){m.world=v.world,s.clear(m);for(var x=f.allBodies(m.world),w=0;w<x.length;w++){var E=x[w];o.set(E,!1),E.id=h.nextId()}}},s.clear=function(m){u.clear(m.pairs),l.clear(m.detector)},s._bodiesClearForces=function(m){for(var v=m.length,x=0;x<v;x++){var w=m[x];w.force.x=0,w.force.y=0,w.torque=0}},s._bodiesApplyGravity=function(m,v){var x=typeof v.scale<"u"?v.scale:.001,w=m.length;if(!(v.x===0&&v.y===0||x===0))for(var E=0;E<w;E++){var R=m[E];R.isStatic||R.isSleeping||(R.force.y+=R.mass*v.y*x,R.force.x+=R.mass*v.x*x)}},s._bodiesUpdate=function(m,v){for(var x=m.length,w=0;w<x;w++){var E=m[w];E.isStatic||E.isSleeping||g.update(E,v)}},s._bodiesUpdateVelocities=function(m){for(var v=m.length,x=0;x<v;x++)g.updateVelocities(m[x])}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(0),l=i(1);(function(){s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(u){var c,f,p,h=u.length;for(c=0;c<h;c++)f=u[c],f.isActive&&(p=f.contactCount,f.collision.parentA.totalContacts+=p,f.collision.parentB.totalContacts+=p)},s.solvePosition=function(u,c,f){var p,h,g,m,v,x,w,E,R=s._positionDampen*(f||1),_=a.clamp(c/a._baseDelta,0,1),I=u.length;for(p=0;p<I;p++)h=u[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,h.separation=g.depth+x.x*(v.positionImpulse.x-m.positionImpulse.x)+x.y*(v.positionImpulse.y-m.positionImpulse.y));for(p=0;p<I;p++)h=u[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,v=g.parentB,x=g.normal,E=h.separation-h.slop*_,(m.isStatic||v.isStatic)&&(E*=2),m.isStatic||m.isSleeping||(w=R/m.totalContacts,m.positionImpulse.x+=x.x*E*w,m.positionImpulse.y+=x.y*E*w),v.isStatic||v.isSleeping||(w=R/v.totalContacts,v.positionImpulse.x-=x.x*E*w,v.positionImpulse.y-=x.y*E*w))},s.postSolvePosition=function(u){for(var c=s._positionWarming,f=u.length,p=o.translate,h=l.update,g=0;g<f;g++){var m=u[g],v=m.positionImpulse,x=v.x,w=v.y,E=m.velocity;if(m.totalContacts=0,x!==0||w!==0){for(var R=0;R<m.parts.length;R++){var _=m.parts[R];p(_.vertices,v),h(_.bounds,_.vertices,E),_.position.x+=x,_.position.y+=w}m.positionPrev.x+=x,m.positionPrev.y+=w,x*E.x+w*E.y<0?(v.x=0,v.y=0):(v.x*=c,v.y*=c)}}},s.preSolveVelocity=function(u){var c=u.length,f,p;for(f=0;f<c;f++){var h=u[f];if(!(!h.isActive||h.isSensor)){var g=h.contacts,m=h.contactCount,v=h.collision,x=v.parentA,w=v.parentB,E=v.normal,R=v.tangent;for(p=0;p<m;p++){var _=g[p],I=_.vertex,T=_.normalImpulse,y=_.tangentImpulse;if(T!==0||y!==0){var S=E.x*T+R.x*y,k=E.y*T+R.y*y;x.isStatic||x.isSleeping||(x.positionPrev.x+=S*x.inverseMass,x.positionPrev.y+=k*x.inverseMass,x.anglePrev+=x.inverseInertia*((I.x-x.position.x)*k-(I.y-x.position.y)*S)),w.isStatic||w.isSleeping||(w.positionPrev.x-=S*w.inverseMass,w.positionPrev.y-=k*w.inverseMass,w.anglePrev-=w.inverseInertia*((I.x-w.position.x)*k-(I.y-w.position.y)*S))}}}}},s.solveVelocity=function(u,c){var f=c/a._baseDelta,p=f*f,h=p*f,g=-s._restingThresh*f,m=s._restingThreshTangent,v=s._frictionNormalMultiplier*f,x=s._frictionMaxStatic,w=u.length,E,R,_,I;for(_=0;_<w;_++){var T=u[_];if(!(!T.isActive||T.isSensor)){var y=T.collision,S=y.parentA,k=y.parentB,C=y.normal.x,D=y.normal.y,N=y.tangent.x,F=y.tangent.y,z=T.inverseMass,Y=T.friction*T.frictionStatic*v,U=T.contacts,L=T.contactCount,B=1/L,H=S.position.x-S.positionPrev.x,Z=S.position.y-S.positionPrev.y,J=S.angle-S.anglePrev,W=k.position.x-k.positionPrev.x,ee=k.position.y-k.positionPrev.y,le=k.angle-k.anglePrev;for(I=0;I<L;I++){var Q=U[I],fe=Q.vertex,oe=fe.x-S.position.x,ve=fe.y-S.position.y,ae=fe.x-k.position.x,Le=fe.y-k.position.y,ye=H-ve*J,lt=Z+oe*J,Xe=W-Le*le,en=ee+ae*le,tn=ye-Xe,tr=lt-en,nr=C*tn+D*tr,mt=N*tn+F*tr,gt=T.separation+nr,pn=Math.min(gt,1);pn=gt<0?0:pn;var Vn=pn*Y;mt<-Vn||mt>Vn?(R=mt>0?mt:-mt,E=T.friction*(mt>0?1:-1)*h,E<-R?E=-R:E>R&&(E=R)):(E=mt,R=x);var jn=oe*D-ve*C,Fn=ae*D-Le*C,_r=B/(z+S.inverseInertia*jn*jn+k.inverseInertia*Fn*Fn),q=(1+T.restitution)*nr*_r;if(E*=_r,nr<g)Q.normalImpulse=0;else{var re=Q.normalImpulse;Q.normalImpulse+=q,Q.normalImpulse>0&&(Q.normalImpulse=0),q=Q.normalImpulse-re}if(mt<-m||mt>m)Q.tangentImpulse=0;else{var Pe=Q.tangentImpulse;Q.tangentImpulse+=E,Q.tangentImpulse<-R&&(Q.tangentImpulse=-R),Q.tangentImpulse>R&&(Q.tangentImpulse=R),E=Q.tangentImpulse-Pe}var $e=C*q+N*E,it=D*q+F*E;S.isStatic||S.isSleeping||(S.positionPrev.x+=$e*S.inverseMass,S.positionPrev.y+=it*S.inverseMass,S.anglePrev+=(oe*it-ve*$e)*S.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=$e*k.inverseMass,k.positionPrev.y-=it*k.inverseMass,k.anglePrev-=(ae*it-Le*$e)*k.inverseInertia)}}}}})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0);(function(){s.create=function(l){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},s.update=function(l,u,c){var f=o.update,p=o.create,h=o.setActive,g=l.table,m=l.list,v=m.length,x=v,w=l.collisionStart,E=l.collisionEnd,R=l.collisionActive,_=u.length,I=0,T=0,y=0,S,k,C;for(C=0;C<_;C++)S=u[C],k=S.pair,k?(k.isActive&&(R[y++]=k),f(k,S,c)):(k=p(S,c),g[k.id]=k,w[I++]=k,m[x++]=k);for(x=0,v=m.length,C=0;C<v;C++)k=m[C],k.timeUpdated>=c?m[x++]=k:(h(k,!1,c),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?m[x++]=k:(E[T++]=k,delete g[k.id]));m.length!==x&&(m.length=x),w.length!==I&&(w.length=I),E.length!==T&&(E.length=T),R.length!==y&&(R.length=y)},s.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(n,r,i){var s=n.exports=i(21);s.Axes=i(11),s.Bodies=i(12),s.Body=i(4),s.Bounds=i(1),s.Collision=i(8),s.Common=i(0),s.Composite=i(6),s.Composites=i(22),s.Constraint=i(10),s.Contact=i(16),s.Detector=i(13),s.Engine=i(17),s.Events=i(5),s.Grid=i(23),s.Mouse=i(14),s.MouseConstraint=i(24),s.Pair=i(9),s.Pairs=i(19),s.Plugin=i(15),s.Query=i(25),s.Render=i(26),s.Resolver=i(18),s.Runner=i(27),s.SAT=i(28),s.Sleeping=i(7),s.Svg=i(29),s.Vector=i(2),s.Vertices=i(3),s.World=i(30),s.Engine.run=s.Runner.run,s.Common.deprecated(s.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(n,r,i){var s={};n.exports=s;var o=i(15),a=i(0);(function(){s.name="matter-js",s.version="0.20.0",s.uses=[],s.used=[],s.use=function(){o.use(s,Array.prototype.slice.call(arguments))},s.before=function(l,u){return l=l.replace(/^Matter./,""),a.chainPathBefore(s,l,u)},s.after=function(l,u){return l=l.replace(/^Matter./,""),a.chainPathAfter(s,l,u)}})()},function(n,r,i){var s={};n.exports=s;var o=i(6),a=i(10),l=i(0),u=i(4),c=i(12),f=l.deprecated;(function(){s.stack=function(p,h,g,m,v,x,w){for(var E=o.create({label:"Stack"}),R=p,_=h,I,T=0,y=0;y<m;y++){for(var S=0,k=0;k<g;k++){var C=w(R,_,k,y,I,T);if(C){var D=C.bounds.max.y-C.bounds.min.y,N=C.bounds.max.x-C.bounds.min.x;D>S&&(S=D),u.translate(C,{x:N*.5,y:D*.5}),R=C.bounds.max.x+v,o.addBody(E,C),I=C,T+=1}else R+=v}_+=S+x,R=p}return E},s.chain=function(p,h,g,m,v,x){for(var w=p.bodies,E=1;E<w.length;E++){var R=w[E-1],_=w[E],I=R.bounds.max.y-R.bounds.min.y,T=R.bounds.max.x-R.bounds.min.x,y=_.bounds.max.y-_.bounds.min.y,S=_.bounds.max.x-_.bounds.min.x,k={bodyA:R,pointA:{x:T*h,y:I*g},bodyB:_,pointB:{x:S*m,y:y*v}},C=l.extend(k,x);o.addConstraint(p,a.create(C))}return p.label+=" Chain",p},s.mesh=function(p,h,g,m,v){var x=p.bodies,w,E,R,_,I;for(w=0;w<g;w++){for(E=1;E<h;E++)R=x[E-1+w*h],_=x[E+w*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:_},v)));if(w>0)for(E=0;E<h;E++)R=x[E+(w-1)*h],_=x[E+w*h],o.addConstraint(p,a.create(l.extend({bodyA:R,bodyB:_},v))),m&&E>0&&(I=x[E-1+(w-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:I,bodyB:_},v)))),m&&E<h-1&&(I=x[E+1+(w-1)*h],o.addConstraint(p,a.create(l.extend({bodyA:I,bodyB:_},v))))}return p.label+=" Mesh",p},s.pyramid=function(p,h,g,m,v,x,w){return s.stack(p,h,g,m,v,x,function(E,R,_,I,T,y){var S=Math.min(m,Math.ceil(g/2)),k=T?T.bounds.max.x-T.bounds.min.x:0;if(!(I>S)){I=S-I;var C=I,D=g-1-I;if(!(_<C||_>D)){y===1&&u.translate(T,{x:(_+(g%2===1?1:-1))*k,y:0});var N=T?_*k:0;return w(p+N+_*v,R,_,I,T,y)}}})},s.newtonsCradle=function(p,h,g,m,v){for(var x=o.create({label:"Newtons Cradle"}),w=0;w<g;w++){var E=1.9,R=c.circle(p+w*(m*E),h+v,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),_=a.create({pointA:{x:p+w*(m*E),y:h},bodyB:R});o.addBody(x,R),o.addConstraint(x,_)}return x},f(s,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),s.car=function(p,h,g,m,v){var x=u.nextGroup(!0),w=20,E=-g*.5+w,R=g*.5-w,_=0,I=o.create({label:"Car"}),T=c.rectangle(p,h,g,m,{collisionFilter:{group:x},chamfer:{radius:m*.5},density:2e-4}),y=c.circle(p+E,h+_,v,{collisionFilter:{group:x},friction:.8}),S=c.circle(p+R,h+_,v,{collisionFilter:{group:x},friction:.8}),k=a.create({bodyB:T,pointB:{x:E,y:_},bodyA:y,stiffness:1,length:0}),C=a.create({bodyB:T,pointB:{x:R,y:_},bodyA:S,stiffness:1,length:0});return o.addBody(I,T),o.addBody(I,y),o.addBody(I,S),o.addConstraint(I,k),o.addConstraint(I,C),I},f(s,"car","Composites.car ➤ moved to car example"),s.softBody=function(p,h,g,m,v,x,w,E,R,_){R=l.extend({inertia:1/0},R),_=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},_);var I=s.stack(p,h,g,m,v,x,function(T,y){return c.circle(T,y,E,R)});return s.mesh(I,g,m,w,_),I.label="Soft Body",I},f(s,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(n,r,i){var s={};n.exports=s;var o=i(9),a=i(0),l=a.deprecated;(function(){s.create=function(u){var c={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(c,u)},s.update=function(u,c,f,p){var h,g,m,v=f.world,x=u.buckets,w,E,R=!1;for(h=0;h<c.length;h++){var _=c[h];if(!(_.isSleeping&&!p)&&!(v.bounds&&(_.bounds.max.x<v.bounds.min.x||_.bounds.min.x>v.bounds.max.x||_.bounds.max.y<v.bounds.min.y||_.bounds.min.y>v.bounds.max.y))){var I=s._getRegion(u,_);if(!_.region||I.id!==_.region.id||p){(!_.region||p)&&(_.region=I);var T=s._regionUnion(I,_.region);for(g=T.startCol;g<=T.endCol;g++)for(m=T.startRow;m<=T.endRow;m++){E=s._getBucketId(g,m),w=x[E];var y=g>=I.startCol&&g<=I.endCol&&m>=I.startRow&&m<=I.endRow,S=g>=_.region.startCol&&g<=_.region.endCol&&m>=_.region.startRow&&m<=_.region.endRow;!y&&S&&S&&w&&s._bucketRemoveBody(u,w,_),(_.region===I||y&&!S||p)&&(w||(w=s._createBucket(x,E)),s._bucketAddBody(u,w,_))}_.region=I,R=!0}}}R&&(u.pairsList=s._createActivePairsList(u))},l(s,"update","Grid.update ➤ replaced by Matter.Detector"),s.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},l(s,"clear","Grid.clear ➤ replaced by Matter.Detector"),s._regionUnion=function(u,c){var f=Math.min(u.startCol,c.startCol),p=Math.max(u.endCol,c.endCol),h=Math.min(u.startRow,c.startRow),g=Math.max(u.endRow,c.endRow);return s._createRegion(f,p,h,g)},s._getRegion=function(u,c){var f=c.bounds,p=Math.floor(f.min.x/u.bucketWidth),h=Math.floor(f.max.x/u.bucketWidth),g=Math.floor(f.min.y/u.bucketHeight),m=Math.floor(f.max.y/u.bucketHeight);return s._createRegion(p,h,g,m)},s._createRegion=function(u,c,f,p){return{id:u+","+c+","+f+","+p,startCol:u,endCol:c,startRow:f,endRow:p}},s._getBucketId=function(u,c){return"C"+u+"R"+c},s._createBucket=function(u,c){var f=u[c]=[];return f},s._bucketAddBody=function(u,c,f){var p=u.pairs,h=o.id,g=c.length,m;for(m=0;m<g;m++){var v=c[m];if(!(f.id===v.id||f.isStatic&&v.isStatic)){var x=h(f,v),w=p[x];w?w[2]+=1:p[x]=[f,v,1]}}c.push(f)},s._bucketRemoveBody=function(u,c,f){var p=u.pairs,h=o.id,g;c.splice(a.indexOf(c,f),1);var m=c.length;for(g=0;g<m;g++){var v=p[h(f,c[g])];v&&(v[2]-=1)}},s._createActivePairsList=function(u){var c,f=u.pairs,p=a.keys(f),h=p.length,g=[],m;for(m=0;m<h;m++)c=f[p[m]],c[2]>0?g.push(c):delete f[p[m]];return g}})()},function(n,r,i){var s={};n.exports=s;var o=i(3),a=i(7),l=i(14),u=i(5),c=i(13),f=i(10),p=i(6),h=i(0),g=i(1);(function(){s.create=function(m,v){var x=(m?m.mouse:null)||(v?v.mouse:null);x||(m&&m.render&&m.render.canvas?x=l.create(m.render.canvas):v&&v.element?x=l.create(v.element):(x=l.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=f.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},R=h.extend(E,v);return u.on(m,"beforeUpdate",function(){var _=p.allBodies(m.world);s.update(R,_),s._triggerEvents(R)}),R},s.update=function(m,v){var x=m.mouse,w=m.constraint,E=m.body;if(x.button===0){if(w.bodyB)a.set(w.bodyB,!1),w.pointA=x.position;else for(var R=0;R<v.length;R++)if(E=v[R],g.contains(E.bounds,x.position)&&c.canCollide(E.collisionFilter,m.collisionFilter))for(var _=E.parts.length>1?1:0;_<E.parts.length;_++){var I=E.parts[_];if(o.contains(I.vertices,x.position)){w.pointA=x.position,w.bodyB=m.body=E,w.pointB={x:x.position.x-E.position.x,y:x.position.y-E.position.y},w.angleB=E.angle,a.set(E,!1),u.trigger(m,"startdrag",{mouse:x,body:E});break}}}else w.bodyB=m.body=null,w.pointB=null,E&&u.trigger(m,"enddrag",{mouse:x,body:E})},s._triggerEvents=function(m){var v=m.mouse,x=v.sourceEvents;x.mousemove&&u.trigger(m,"mousemove",{mouse:v}),x.mousedown&&u.trigger(m,"mousedown",{mouse:v}),x.mouseup&&u.trigger(m,"mouseup",{mouse:v}),l.clearSourceEvents(v)}})()},function(n,r,i){var s={};n.exports=s;var o=i(2),a=i(8),l=i(1),u=i(12),c=i(3);(function(){s.collides=function(f,p){for(var h=[],g=p.length,m=f.bounds,v=a.collides,x=l.overlaps,w=0;w<g;w++){var E=p[w],R=E.parts.length,_=R===1?0:1;if(x(E.bounds,m))for(var I=_;I<R;I++){var T=E.parts[I];if(x(T.bounds,m)){var y=v(T,f);if(y){h.push(y);break}}}}return h},s.ray=function(f,p,h,g){g=g||1e-100;for(var m=o.angle(p,h),v=o.magnitude(o.sub(p,h)),x=(h.x+p.x)*.5,w=(h.y+p.y)*.5,E=u.rectangle(x,w,v,g,{angle:m}),R=s.collides(E,f),_=0;_<R.length;_+=1){var I=R[_];I.body=I.bodyB=I.bodyA}return R},s.region=function(f,p,h){for(var g=[],m=0;m<f.length;m++){var v=f[m],x=l.overlaps(v.bounds,p);(x&&!h||!x&&h)&&g.push(v)}return g},s.point=function(f,p){for(var h=[],g=0;g<f.length;g++){var m=f[g];if(l.contains(m.bounds,p))for(var v=m.parts.length===1?0:1;v<m.parts.length;v++){var x=m.parts[v];if(l.contains(x.bounds,p)&&c.contains(x.vertices,p)){h.push(m);break}}}return h}})()},function(n,r,i){var s={};n.exports=s;var o=i(4),a=i(0),l=i(6),u=i(1),c=i(5),f=i(2),p=i(14);(function(){var h,g;typeof window<"u"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(_){window.setTimeout(function(){_(a.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s._goodFps=30,s._goodDelta=1e3/60,s.create=function(_){var I={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!_.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},T=a.extend(I,_);return T.canvas&&(T.canvas.width=T.options.width||T.canvas.width,T.canvas.height=T.options.height||T.canvas.height),T.mouse=_.mouse,T.engine=_.engine,T.canvas=T.canvas||x(T.options.width,T.options.height),T.context=T.canvas.getContext("2d"),T.textures={},T.bounds=T.bounds||{min:{x:0,y:0},max:{x:T.canvas.width,y:T.canvas.height}},T.controller=s,T.options.showBroadphase=!1,T.options.pixelRatio!==1&&s.setPixelRatio(T,T.options.pixelRatio),a.isElement(T.element)&&T.element.appendChild(T.canvas),T},s.run=function(_){(function I(T){_.frameRequestId=h(I),m(_,T),s.world(_,T),_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0),(_.options.showStats||_.options.showDebug)&&s.stats(_,_.context,T),(_.options.showPerformance||_.options.showDebug)&&s.performance(_,_.context,T),_.context.setTransform(1,0,0,1,0,0)})()},s.stop=function(_){g(_.frameRequestId)},s.setPixelRatio=function(_,I){var T=_.options,y=_.canvas;I==="auto"&&(I=w(y)),T.pixelRatio=I,y.setAttribute("data-pixel-ratio",I),y.width=T.width*I,y.height=T.height*I,y.style.width=T.width+"px",y.style.height=T.height+"px"},s.setSize=function(_,I,T){_.options.width=I,_.options.height=T,_.bounds.max.x=_.bounds.min.x+I,_.bounds.max.y=_.bounds.min.y+T,_.options.pixelRatio!==1?s.setPixelRatio(_,_.options.pixelRatio):(_.canvas.width=I,_.canvas.height=T)},s.lookAt=function(_,I,T,y){y=typeof y<"u"?y:!0,I=a.isArray(I)?I:[I],T=T||{x:0,y:0};for(var S={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},k=0;k<I.length;k+=1){var C=I[k],D=C.bounds?C.bounds.min:C.min||C.position||C,N=C.bounds?C.bounds.max:C.max||C.position||C;D&&N&&(D.x<S.min.x&&(S.min.x=D.x),N.x>S.max.x&&(S.max.x=N.x),D.y<S.min.y&&(S.min.y=D.y),N.y>S.max.y&&(S.max.y=N.y))}var F=S.max.x-S.min.x+2*T.x,z=S.max.y-S.min.y+2*T.y,Y=_.canvas.height,U=_.canvas.width,L=U/Y,B=F/z,H=1,Z=1;B>L?Z=B/L:H=L/B,_.options.hasBounds=!0,_.bounds.min.x=S.min.x,_.bounds.max.x=S.min.x+F*H,_.bounds.min.y=S.min.y,_.bounds.max.y=S.min.y+z*Z,y&&(_.bounds.min.x+=F*.5-F*H*.5,_.bounds.max.x+=F*.5-F*H*.5,_.bounds.min.y+=z*.5-z*Z*.5,_.bounds.max.y+=z*.5-z*Z*.5),_.bounds.min.x-=T.x,_.bounds.max.x-=T.x,_.bounds.min.y-=T.y,_.bounds.max.y-=T.y,_.mouse&&(p.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.canvas.width,y:(_.bounds.max.y-_.bounds.min.y)/_.canvas.height}),p.setOffset(_.mouse,_.bounds.min))},s.startViewTransform=function(_){var I=_.bounds.max.x-_.bounds.min.x,T=_.bounds.max.y-_.bounds.min.y,y=I/_.options.width,S=T/_.options.height;_.context.setTransform(_.options.pixelRatio/y,0,0,_.options.pixelRatio/S,0,0),_.context.translate(-_.bounds.min.x,-_.bounds.min.y)},s.endViewTransform=function(_){_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0)},s.world=function(_,I){var T=a.now(),y=_.engine,S=y.world,k=_.canvas,C=_.context,D=_.options,N=_.timing,F=l.allBodies(S),z=l.allConstraints(S),Y=D.wireframes?D.wireframeBackground:D.background,U=[],L=[],B,H={timestamp:y.timing.timestamp};if(c.trigger(_,"beforeRender",H),_.currentBackground!==Y&&R(_,Y),C.globalCompositeOperation="source-in",C.fillStyle="transparent",C.fillRect(0,0,k.width,k.height),C.globalCompositeOperation="source-over",D.hasBounds){for(B=0;B<F.length;B++){var Z=F[B];u.overlaps(Z.bounds,_.bounds)&&U.push(Z)}for(B=0;B<z.length;B++){var J=z[B],W=J.bodyA,ee=J.bodyB,le=J.pointA,Q=J.pointB;W&&(le=f.add(W.position,J.pointA)),ee&&(Q=f.add(ee.position,J.pointB)),!(!le||!Q)&&(u.contains(_.bounds,le)||u.contains(_.bounds,Q))&&L.push(J)}s.startViewTransform(_),_.mouse&&(p.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.options.width,y:(_.bounds.max.y-_.bounds.min.y)/_.options.height}),p.setOffset(_.mouse,_.bounds.min))}else L=z,U=F,_.options.pixelRatio!==1&&_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0);!D.wireframes||y.enableSleeping&&D.showSleeping?s.bodies(_,U,C):(D.showConvexHulls&&s.bodyConvexHulls(_,U,C),s.bodyWireframes(_,U,C)),D.showBounds&&s.bodyBounds(_,U,C),(D.showAxes||D.showAngleIndicator)&&s.bodyAxes(_,U,C),D.showPositions&&s.bodyPositions(_,U,C),D.showVelocity&&s.bodyVelocity(_,U,C),D.showIds&&s.bodyIds(_,U,C),D.showSeparations&&s.separations(_,y.pairs.list,C),D.showCollisions&&s.collisions(_,y.pairs.list,C),D.showVertexNumbers&&s.vertexNumbers(_,U,C),D.showMousePosition&&s.mousePosition(_,_.mouse,C),s.constraints(L,C),D.hasBounds&&s.endViewTransform(_),c.trigger(_,"afterRender",H),N.lastElapsed=a.now()-T},s.stats=function(_,I,T){for(var y=_.engine,S=y.world,k=l.allBodies(S),C=0,D=55,N=44,F=0,z=0,Y=0;Y<k.length;Y+=1)C+=k[Y].parts.length;var U={Part:C,Body:k.length,Cons:l.allConstraints(S).length,Comp:l.allComposites(S).length,Pair:y.pairs.list.length};I.fillStyle="#0e0f19",I.fillRect(F,z,D*5.5,N),I.font="12px Arial",I.textBaseline="top",I.textAlign="right";for(var L in U){var B=U[L];I.fillStyle="#aaa",I.fillText(L,F+D,z+8),I.fillStyle="#eee",I.fillText(B,F+D,z+26),F+=D}},s.performance=function(_,I){var T=_.engine,y=_.timing,S=y.deltaHistory,k=y.elapsedHistory,C=y.timestampElapsedHistory,D=y.engineDeltaHistory,N=y.engineUpdatesHistory,F=y.engineElapsedHistory,z=T.timing.lastUpdatesPerFrame,Y=T.timing.lastDelta,U=v(S),L=v(k),B=v(D),H=v(N),Z=v(F),J=v(C),W=J/U||0,ee=Math.round(U/Y),le=1e3/U||0,Q=4,fe=12,oe=60,ve=34,ae=10,Le=69;I.fillStyle="#0e0f19",I.fillRect(0,50,fe*5+oe*6+22,ve),s.status(I,ae,Le,oe,Q,S.length,Math.round(le)+" fps",le/s._goodFps,function(ye){return S[ye]/U-1}),s.status(I,ae+fe+oe,Le,oe,Q,D.length,Y.toFixed(2)+" dt",s._goodDelta/Y,function(ye){return D[ye]/B-1}),s.status(I,ae+(fe+oe)*2,Le,oe,Q,N.length,z+" upf",Math.pow(a.clamp(H/ee||1,0,1),4),function(ye){return N[ye]/H-1}),s.status(I,ae+(fe+oe)*3,Le,oe,Q,F.length,Z.toFixed(2)+" ut",1-z*Z/s._goodFps,function(ye){return F[ye]/Z-1}),s.status(I,ae+(fe+oe)*4,Le,oe,Q,k.length,L.toFixed(2)+" rt",1-L/s._goodFps,function(ye){return k[ye]/L-1}),s.status(I,ae+(fe+oe)*5,Le,oe,Q,C.length,W.toFixed(2)+" x",W*W*W,function(ye){return(C[ye]/S[ye]/W||0)-1})},s.status=function(_,I,T,y,S,k,C,D,N){_.strokeStyle="#888",_.fillStyle="#444",_.lineWidth=1,_.fillRect(I,T+7,y,1),_.beginPath(),_.moveTo(I,T+7-S*a.clamp(.4*N(0),-2,2));for(var F=0;F<y;F+=1)_.lineTo(I+F,T+7-(F<k?S*a.clamp(.4*N(F),-2,2):0));_.stroke(),_.fillStyle="hsl("+a.clamp(25+95*D,0,120)+",100%,60%)",_.fillRect(I,T-7,4,4),_.font="12px Arial",_.textBaseline="middle",_.textAlign="right",_.fillStyle="#eee",_.fillText(C,I+y,T-5)},s.constraints=function(_,I){for(var T=I,y=0;y<_.length;y++){var S=_[y];if(!(!S.render.visible||!S.pointA||!S.pointB)){var k=S.bodyA,C=S.bodyB,D,N;if(k?D=f.add(k.position,S.pointA):D=S.pointA,S.render.type==="pin")T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.closePath();else{if(C?N=f.add(C.position,S.pointB):N=S.pointB,T.beginPath(),T.moveTo(D.x,D.y),S.render.type==="spring")for(var F=f.sub(N,D),z=f.perp(f.normalise(F)),Y=Math.ceil(a.clamp(S.length/5,12,20)),U,L=1;L<Y;L+=1)U=L%2===0?1:-1,T.lineTo(D.x+F.x*(L/Y)+z.x*U*4,D.y+F.y*(L/Y)+z.y*U*4);T.lineTo(N.x,N.y)}S.render.lineWidth&&(T.lineWidth=S.render.lineWidth,T.strokeStyle=S.render.strokeStyle,T.stroke()),S.render.anchors&&(T.fillStyle=S.render.strokeStyle,T.beginPath(),T.arc(D.x,D.y,3,0,2*Math.PI),T.arc(N.x,N.y,3,0,2*Math.PI),T.closePath(),T.fill())}}},s.bodies=function(_,I,T){var y=T;_.engine;var S=_.options,k=S.showInternalEdges||!S.wireframes,C,D,N,F;for(N=0;N<I.length;N++)if(C=I[N],!!C.render.visible){for(F=C.parts.length>1?1:0;F<C.parts.length;F++)if(D=C.parts[F],!!D.render.visible){if(S.showSleeping&&C.isSleeping?y.globalAlpha=.5*D.render.opacity:D.render.opacity!==1&&(y.globalAlpha=D.render.opacity),D.render.sprite&&D.render.sprite.texture&&!S.wireframes){var z=D.render.sprite,Y=E(_,z.texture);y.translate(D.position.x,D.position.y),y.rotate(D.angle),y.drawImage(Y,Y.width*-z.xOffset*z.xScale,Y.height*-z.yOffset*z.yScale,Y.width*z.xScale,Y.height*z.yScale),y.rotate(-D.angle),y.translate(-D.position.x,-D.position.y)}else{if(D.circleRadius)y.beginPath(),y.arc(D.position.x,D.position.y,D.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(D.vertices[0].x,D.vertices[0].y);for(var U=1;U<D.vertices.length;U++)!D.vertices[U-1].isInternal||k?y.lineTo(D.vertices[U].x,D.vertices[U].y):y.moveTo(D.vertices[U].x,D.vertices[U].y),D.vertices[U].isInternal&&!k&&y.moveTo(D.vertices[(U+1)%D.vertices.length].x,D.vertices[(U+1)%D.vertices.length].y);y.lineTo(D.vertices[0].x,D.vertices[0].y),y.closePath()}S.wireframes?(y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=D.render.fillStyle,D.render.lineWidth&&(y.lineWidth=D.render.lineWidth,y.strokeStyle=D.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},s.bodyWireframes=function(_,I,T){var y=T,S=_.options.showInternalEdges,k,C,D,N,F;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.render.visible)for(F=k.parts.length>1?1:0;F<k.parts.length;F++){for(C=k.parts[F],y.moveTo(C.vertices[0].x,C.vertices[0].y),N=1;N<C.vertices.length;N++)!C.vertices[N-1].isInternal||S?y.lineTo(C.vertices[N].x,C.vertices[N].y):y.moveTo(C.vertices[N].x,C.vertices[N].y),C.vertices[N].isInternal&&!S&&y.moveTo(C.vertices[(N+1)%C.vertices.length].x,C.vertices[(N+1)%C.vertices.length].y);y.lineTo(C.vertices[0].x,C.vertices[0].y)}y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()},s.bodyConvexHulls=function(_,I,T){var y=T,S,k,C;for(y.beginPath(),k=0;k<I.length;k++)if(S=I[k],!(!S.render.visible||S.parts.length===1)){for(y.moveTo(S.vertices[0].x,S.vertices[0].y),C=1;C<S.vertices.length;C++)y.lineTo(S.vertices[C].x,S.vertices[C].y);y.lineTo(S.vertices[0].x,S.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},s.vertexNumbers=function(_,I,T){var y=T,S,k,C;for(S=0;S<I.length;S++){var D=I[S].parts;for(C=D.length>1?1:0;C<D.length;C++){var N=D[C];for(k=0;k<N.vertices.length;k++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(S+"_"+k,N.position.x+(N.vertices[k].x-N.position.x)*.8,N.position.y+(N.vertices[k].y-N.position.y)*.8)}}},s.mousePosition=function(_,I,T){var y=T;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(I.position.x+"  "+I.position.y,I.position.x+5,I.position.y-5)},s.bodyBounds=function(_,I,T){var y=T;_.engine;var S=_.options;y.beginPath();for(var k=0;k<I.length;k++){var C=I[k];if(C.render.visible)for(var D=I[k].parts,N=D.length>1?1:0;N<D.length;N++){var F=D[N];y.rect(F.bounds.min.x,F.bounds.min.y,F.bounds.max.x-F.bounds.min.x,F.bounds.max.y-F.bounds.min.y)}}S.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},s.bodyAxes=function(_,I,T){var y=T;_.engine;var S=_.options,k,C,D,N;for(y.beginPath(),C=0;C<I.length;C++){var F=I[C],z=F.parts;if(F.render.visible)if(S.showAxes)for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++){var Y=k.axes[N];y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+Y.x*20,k.position.y+Y.y*20)}else for(D=z.length>1?1:0;D<z.length;D++)for(k=z[D],N=0;N<k.axes.length;N++)y.moveTo(k.position.x,k.position.y),y.lineTo((k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}S.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},s.bodyPositions=function(_,I,T){var y=T;_.engine;var S=_.options,k,C,D,N;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.render.visible)for(N=0;N<k.parts.length;N++)C=k.parts[N],y.arc(C.position.x,C.position.y,3,0,2*Math.PI,!1),y.closePath();for(S.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),D=0;D<I.length;D++)k=I[D],k.render.visible&&(y.arc(k.positionPrev.x,k.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},s.bodyVelocity=function(_,I,T){var y=T;y.beginPath();for(var S=0;S<I.length;S++){var k=I[S];if(k.render.visible){var C=o.getVelocity(k);y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x+C.x,k.position.y+C.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},s.bodyIds=function(_,I,T){var y=T,S,k;for(S=0;S<I.length;S++)if(I[S].render.visible){var C=I[S].parts;for(k=C.length>1?1:0;k<C.length;k++){var D=C[k];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(D.id,D.position.x+10,D.position.y-10)}}},s.collisions=function(_,I,T){var y=T,S=_.options,k,C,D,N;for(y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.isActive)for(C=k.collision,N=0;N<k.contactCount;N++){var F=k.contacts[N],z=F.vertex;y.rect(z.x-1.5,z.y-1.5,3.5,3.5)}for(S.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),D=0;D<I.length;D++)if(k=I[D],!!k.isActive&&(C=k.collision,k.contactCount>0)){var Y=k.contacts[0].vertex.x,U=k.contacts[0].vertex.y;k.contactCount===2&&(Y=(k.contacts[0].vertex.x+k.contacts[1].vertex.x)/2,U=(k.contacts[0].vertex.y+k.contacts[1].vertex.y)/2),C.bodyB===C.supports[0].body||C.bodyA.isStatic===!0?y.moveTo(Y-C.normal.x*8,U-C.normal.y*8):y.moveTo(Y+C.normal.x*8,U+C.normal.y*8),y.lineTo(Y,U)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},s.separations=function(_,I,T){var y=T,S=_.options,k,C,D,N,F;for(y.beginPath(),F=0;F<I.length;F++)if(k=I[F],!!k.isActive){C=k.collision,D=C.bodyA,N=C.bodyB;var z=1;!N.isStatic&&!D.isStatic&&(z=.5),N.isStatic&&(z=0),y.moveTo(N.position.x,N.position.y),y.lineTo(N.position.x-C.penetration.x*z,N.position.y-C.penetration.y*z),z=1,!N.isStatic&&!D.isStatic&&(z=.5),D.isStatic&&(z=0),y.moveTo(D.position.x,D.position.y),y.lineTo(D.position.x+C.penetration.x*z,D.position.y+C.penetration.y*z)}S.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},s.inspector=function(_,I){_.engine;var T=_.selected,y=_.render,S=y.options,k;if(S.hasBounds){var C=y.bounds.max.x-y.bounds.min.x,D=y.bounds.max.y-y.bounds.min.y,N=C/y.options.width,F=D/y.options.height;I.scale(1/N,1/F),I.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var z=0;z<T.length;z++){var Y=T[z].data;switch(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.9)",I.setLineDash([1,2]),Y.type){case"body":k=Y.bounds,I.beginPath(),I.rect(Math.floor(k.min.x-3),Math.floor(k.min.y-3),Math.floor(k.max.x-k.min.x+6),Math.floor(k.max.y-k.min.y+6)),I.closePath(),I.stroke();break;case"constraint":var U=Y.pointA;Y.bodyA&&(U=Y.pointB),I.beginPath(),I.arc(U.x,U.y,10,0,2*Math.PI),I.closePath(),I.stroke();break}I.setLineDash([]),I.translate(-.5,-.5)}_.selectStart!==null&&(I.translate(.5,.5),I.lineWidth=1,I.strokeStyle="rgba(255,165,0,0.6)",I.fillStyle="rgba(255,165,0,0.1)",k=_.selectBounds,I.beginPath(),I.rect(Math.floor(k.min.x),Math.floor(k.min.y),Math.floor(k.max.x-k.min.x),Math.floor(k.max.y-k.min.y)),I.closePath(),I.stroke(),I.fill(),I.translate(-.5,-.5)),S.hasBounds&&I.setTransform(1,0,0,1,0,0)};var m=function(_,I){var T=_.engine,y=_.timing,S=y.historySize,k=T.timing.timestamp;y.delta=I-y.lastTime||s._goodDelta,y.lastTime=I,y.timestampElapsed=k-y.lastTimestamp||0,y.lastTimestamp=k,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,S),y.engineDeltaHistory.unshift(T.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,S),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,S),y.engineUpdatesHistory.unshift(T.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,S),y.engineElapsedHistory.unshift(T.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,S),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,S)},v=function(_){for(var I=0,T=0;T<_.length;T+=1)I+=_[T];return I/_.length||0},x=function(_,I){var T=document.createElement("canvas");return T.width=_,T.height=I,T.oncontextmenu=function(){return!1},T.onselectstart=function(){return!1},T},w=function(_){var I=_.getContext("2d"),T=window.devicePixelRatio||1,y=I.webkitBackingStorePixelRatio||I.mozBackingStorePixelRatio||I.msBackingStorePixelRatio||I.oBackingStorePixelRatio||I.backingStorePixelRatio||1;return T/y},E=function(_,I){var T=_.textures[I];return T||(T=_.textures[I]=new Image,T.src=I,T)},R=function(_,I){var T=I;/(jpg|gif|png)$/.test(I)&&(T="url("+I+")"),_.canvas.style.background=T,_.canvas.style.backgroundSize="contain",_.currentBackground=I}})()},function(n,r,i){var s={};n.exports=s;var o=i(5),a=i(17),l=i(0);(function(){s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(c){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},p=l.extend(f,c);return p.fps=0,p},s.run=function(c,f){return c.timeBuffer=s._frameDeltaFallback,function p(h){c.frameRequestId=s._onNextFrame(c,p),h&&c.enabled&&s.tick(c,f,h)}(),c},s.tick=function(c,f,p){var h=l.now(),g=c.delta,m=0,v=p-c.timeLastTick;if((!v||!c.timeLastTick||v>Math.max(s._maxFrameDelta,c.maxFrameTime))&&(v=c.frameDelta||s._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(v),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var x=c.frameDeltaHistory.slice(0).sort(),w=c.frameDeltaHistory.slice(x.length*s._smoothingLowerBound,x.length*s._smoothingUpperBound),E=u(w);v=E||v}c.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),c.frameDelta=v,c.timeLastTick=p,c.timeBuffer+=c.frameDelta,c.timeBuffer=l.clamp(c.timeBuffer,0,c.frameDelta+g*s._timeBufferMargin),c.lastUpdatesDeferred=0;var R=c.maxUpdates||Math.ceil(c.maxFrameTime/g),_={timestamp:f.timing.timestamp};o.trigger(c,"beforeTick",_),o.trigger(c,"tick",_);for(var I=l.now();g>0&&c.timeBuffer>=g*s._timeBufferMargin;){o.trigger(c,"beforeUpdate",_),a.update(f,g),o.trigger(c,"afterUpdate",_),c.timeBuffer-=g,m+=1;var T=l.now()-h,y=l.now()-I,S=T+s._elapsedNextEstimate*y/m;if(m>=R||S>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/g-s._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=m,o.trigger(c,"afterTick",_),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/g)>R?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),c.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(c){s._cancelNextFrame(c)},s._onNextFrame=function(c,f){if(typeof window<"u"&&window.requestAnimationFrame)c.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId},s._cancelNextFrame=function(c){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(c.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(c){for(var f=0,p=c.length,h=0;h<p;h+=1)f+=c[h];return f/p||0}})()},function(n,r,i){var s={};n.exports=s;var o=i(8),a=i(0),l=a.deprecated;(function(){s.collides=function(u,c){return o.collides(u,c)},l(s,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(n,r,i){var s={};n.exports=s,i(1);var o=i(0);(function(){s.pathToVertices=function(a,l){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,c,f,p,h,g,m,v,x,w,E=[],R,_,I=0,T=0,y=0;l=l||15;var S=function(C,D,N){var F=N%2===1&&N>1;if(!x||C!=x.x||D!=x.y){x&&F?(R=x.x,_=x.y):(R=0,_=0);var z={x:R+C,y:_+D};(F||!x)&&(x=z),E.push(z),T=R+C,y=_+D}},k=function(C){var D=C.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":T=C.x,y=C.y;break;case"H":T=C.x;break;case"V":y=C.y;break}S(T,y,C.pathSegType)}};for(s._svgPathToAbsolute(a),f=a.getTotalLength(),g=[],u=0;u<a.pathSegList.numberOfItems;u+=1)g.push(a.pathSegList.getItem(u));for(m=g.concat();I<f;){if(w=a.getPathSegAtLength(I),h=g[w],h!=v){for(;m.length&&m[0]!=h;)k(m.shift());v=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=a.getPointAtLength(I),S(p.x,p.y,0);break}I+=l}for(u=0,c=m.length;u<c;++u)k(m[u]);return E},s._svgPathToAbsolute=function(a){for(var l,u,c,f,p,h,g=a.pathSegList,m=0,v=0,x=g.numberOfItems,w=0;w<x;++w){var E=g.getItem(w),R=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(R))"x"in E&&(m=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(c=m+E.x1),"x2"in E&&(p=m+E.x2),"y1"in E&&(f=v+E.y1),"y2"in E&&(h=v+E.y2),"x"in E&&(m+=E.x),"y"in E&&(v+=E.y),R){case"m":g.replaceItem(a.createSVGPathSegMovetoAbs(m,v),w);break;case"l":g.replaceItem(a.createSVGPathSegLinetoAbs(m,v),w);break;case"h":g.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(m),w);break;case"v":g.replaceItem(a.createSVGPathSegLinetoVerticalAbs(v),w);break;case"c":g.replaceItem(a.createSVGPathSegCurvetoCubicAbs(m,v,c,f,p,h),w);break;case"s":g.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(m,v,p,h),w);break;case"q":g.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(m,v,c,f),w);break;case"t":g.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(m,v),w);break;case"a":g.replaceItem(a.createSVGPathSegArcAbs(m,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),w);break;case"z":case"Z":m=l,v=u;break}(R=="M"||R=="m")&&(l=m,u=v)}}})()},function(n,r,i){var s={};n.exports=s;var o=i(6);i(0),function(){s.create=o.create,s.add=o.add,s.remove=o.remove,s.clear=o.clear,s.addComposite=o.addComposite,s.addBody=o.addBody,s.addConstraint=o.addConstraint}()}])})})(dC);var VB=dC.exports;const pb=mb(VB),jB=()=>{const t=M.useRef(null);return M.useEffect(()=>{const{Engine:e,Render:n,Runner:r,Body:i,Composite:s,Mouse:o,MouseConstraint:a,World:l,Bodies:u,Constraint:c}=pb,f=e.create(),p=f.world,h=window.innerWidth<700?window.innerWidth:600,g=pb.Render.create({element:t.current,engine:f,options:{width:h+150,height:900,wireframes:!1,background:"transparent"}});n.run(g);const m=r.create();r.run(m,f);const v=[];let x=0;const w=(D,N,F)=>u.circle(D,N,F,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,render:{fillStyle:"hsl(340, 100%, 70%)",strokeStyle:"rgb(220, 220, 220)",lineWidth:2}}),E=(D,N,F,z,Y)=>{const U=s.create({label:"NewtonsCradle"}),L=z*2;for(let B=0;B<F;B++){const H=w(D+B*L,N+Y,z),Z=c.create({pointA:{x:D+B*L,y:N},bodyB:H,pointB:{x:0,y:0},length:Y,stiffness:.9,render:{strokeStyle:"rgb(220, 220, 220,1)",lineWidth:1.5}});s.addBody(U,H),s.addConstraint(U,Z),v.push(H)}return U},R=5,_=21,I=_*2*R,T=h/2-I/2,y=E(T,135,R,_,175);l.add(p,y),i.translate(y.bodies[0],{x:-140,y:-60});const S=o.create(g.canvas),k=a.create(f,{mouse:S,constraint:{stiffness:.2,render:{visible:!1}}});l.add(p,k),g.mouse=S,n.lookAt(g,{min:{x:0,y:0},max:{x:h-50,y:700}});const C=()=>{x=(x+1)%360;const D=`hsl(340, 100%, ${70+Math.sin(x*.1)*7}%)`,N=`hsl(320, 100%, ${40+Math.sin(x*.1)*7}%)`;v.forEach(F=>{F.render.fillStyle=D,F.render.strokeStyle=N}),setTimeout(()=>{requestAnimationFrame(C)},200)};return C(),()=>{n.stop(g),r.stop(m),e.clear(f),g.canvas.remove(),g.canvas=null,g.context=null,g.textures={}}},[]),A.jsx("div",{ref:t,style:{backgroundColor:"rgba(0, 0, 0, 0)"}})},FB=()=>A.jsx("div",{className:"graph__wrapper",children:A.jsxs("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:[A.jsx("defs",{children:A.jsx("path",{id:"textPath",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81",fill:"none"})}),A.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[A.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),A.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),A.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:A.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:A.jsx("mpath",{href:"#Path-1"})})}),A.jsxs("text",{className:"pointer-events-none arrowText",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"translate(0,-10)",children:[A.jsx("textPath",{href:"#textPath",startOffset:"24%",textAnchor:"middle",children:"My Board"}),A.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})]})]})}),BB=()=>A.jsx("div",{className:"graph__wrapper2",children:A.jsx("svg",{width:"80%",viewBox:"0 0 315 107",version:"1.1",style:{overflow:"visible"},children:A.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[A.jsx("path",{id:"Path-1",className:"path",fill:"none",stroke:"#ea2088",strokeWidth:"3",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),A.jsx("path",{className:"dashed",fill:"none",stroke:"#E0E0E0",strokeWidth:"4",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M1.4,2.1c0,0,86,57,211.5,41.5s172.5-24.5,289,81"}),A.jsx("polyline",{id:"arrow",points:"0,-9 18,0 0,9 5,0",fill:"#db5862",children:A.jsx("animateMotion",{rotate:"auto",begin:"1s",dur:"1.6s",repeatCount:"1",fill:"freeze",children:A.jsx("mpath",{href:"#Path-1"})})}),A.jsx("text",{className:"pointer-events-none",fill:"#E0E0E0",fontSize:"33",fontFamily:"Arial",transform:"rotate(180, 227.5, 43.5) translate(0,-7)",children:A.jsxs("textPath",{href:"#Path-1",startOffset:"64%",textAnchor:"middle",children:["Shared Boards",A.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"4s",repeatCount:"indefinite"})]})})]})})});function UB(){const[t]=Ok({words:["Manage Your Tasks","Organize Your Projects","Boost Your Productivity","Plan,Execute,Succeed","Track Your Progress","Collaborate Effortlessly","Get Things Done","Your Work Simplified"],loop:!0,typeSpeed:120,deleteSpeed:90,delaySpeed:3e3}),[e,n]=M.useState(!1),[r,i]=M.useState(1),s=()=>{n(!0),i(a=>(a+1)%3)},o=()=>{n(!1),i(a=>(a-1+3)%3)};return A.jsx("div",{className:"bg-zinc-800 overflow-x-hidden box-border   h-screen flex  overflow-y-hidden p-5 justify-center homecontiner",children:A.jsxs("div",{className:"flex sm:w-[100%] mb-2  items-center  mt-[40%] sm:shadow-xl  max-w-[900px] flex-col sm:mt-[10%]",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:o,className:"size-9 fixed top-[55%] leftarrow  flex self-start ml-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",onClick:s,className:"size-9 fixed top-[55%] rightarrow  flex self-end mr-.5 cursor-pointer hover:stroke-gray-300 z-10 ",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),A.jsx("div",{className:"workSpaceContainer ",children:A.jsxs(OB,{mode:"wait",children:[r===0&&A.jsx(tp.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:A.jsx(LB,{})},"workSpace0"),r===1&&A.jsx(tp.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:"0",opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:A.jsxs("div",{className:"flex justify-center relative",children:[A.jsxs("h1",{className:" absolute ml-1.5 text-center text-gray-300 top-[13.8%] sm:top-[13.1%] pointer-events-none  text-2xl sm:text-3xl  ",children:[t,A.jsx(Lk,{})]}),A.jsx("hr",{className:"NewtonsCradleHr "}),A.jsx(FB,{className:!0}),A.jsx(BB,{}),A.jsx(jB,{className:" absolute"})]})},"yourBoards"),r===2&&A.jsx(tp.div,{className:"Your-Board",initial:{x:e?window.innerWidth<800?"100%":"70%":window.innerWidth<800?"-100%":"-70%",opacity:0},animate:{x:0,opacity:1},exit:{x:e?window.innerWidth<800?"-100%":"-70%":window.innerWidth<800?"100%":"70%",opacity:0},transition:{duration:.4},children:A.jsx(u3,{})},"workSpace2")]})})]})})}const zB=()=>A.jsx("div",{id:"box",children:A.jsxs("div",{className:"cat",children:[A.jsxs("div",{className:"head",children:[A.jsxs("div",{className:"ears",children:[A.jsx("div",{className:"ear left"}),A.jsx("div",{className:"ear right"})]}),A.jsxs("div",{className:"eyes",children:[A.jsx("div",{className:"eye left"}),A.jsx("div",{className:"eye right"})]}),A.jsx("div",{className:"muzzle",children:A.jsx("div",{className:"nose"})})]}),A.jsx("div",{className:"body",children:A.jsx("div",{className:"paw"})}),A.jsx("div",{className:"tail absolute",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment",children:A.jsx("div",{className:"tail-segment"})})})})})})})})})})})})})})})})})})})})]})});function $B({avatarColor:t,avatarIn:e,userEmail:n,userName:r}){const i=Wl(),s=async()=>{try{await qO(rt),i("/")}catch(a){console.error("Error logging out:",a)}},o=()=>{i("/")};return A.jsxs("div",{style:{backgroundColor:"#37393C"},className:"h-fit  gap-2 flex flex-col w-64 text-gray-300   py-4  shadow-xl  fixed z-[10000] rounded-md top-12 right-1",children:[A.jsx("p",{className:"text-sm mb-2 px-5",children:"ACCOUNT"}),A.jsxs("div",{className:"flex px-4",children:[A.jsx("div",{className:"flex   justify-center items-center  hover:opacity-85 cursor-pointer ",children:A.jsx("div",{className:" pointer-events-none mr-2 select-none  mb-1 ",style:{backgroundColor:`${t}`,color:"rgb(39, 39, 42)",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"1px solid #555"},children:e.toUpperCase()})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-md mb-[-4px]",children:r}),A.jsx("p",{className:"text-sm opacity-90",children:n})]})]}),A.jsxs("div",{className:"flex items-center cursor-pointer px-5 py-2 hover:bg-zinc-800  w-full justify-between",children:[A.jsx("p",{className:"text-[.9rem]",children:"Manage account"}),A.jsx("div",{className:"flex items-center",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),A.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:A.jsx("p",{className:"text-[.9rem]",children:"Cards Archive"})}),A.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:A.jsx("p",{className:"text-[.9rem]",children:"Settings"})}),A.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:A.jsx("p",{className:"text-[.9rem]",children:"Theme"})}),A.jsx("div",{className:"flex justify-center",children:A.jsx("hr",{className:"border-0 border-b w-[95%]  opacity-25 "})}),r!=="Guest"&&A.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:A.jsx("p",{onClick:s,className:"text-[.9rem]",children:"Log out"})}),r==="Guest"&&A.jsx("div",{className:"flex items-center cursor-pointer px-5 py-1.5 hover:bg-zinc-800  w-full justify-between",children:A.jsx("p",{onClick:o,className:"text-[.9rem]",children:"Sign in"})})]})}function WB(){const t=M.useRef(null),[e,n]=M.useState({}),[r,i]=M.useState(!1),s=c=>{t.current&&!t.current.contains(c.target)&&i(!1)};M.useEffect(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}),[]),M.useEffect(()=>{const c=jo(rt,f=>{f&&(async()=>{try{const h=Ce(be,"users",f.uid),g=await x0(h);if(g.exists()){const m={id:g.id,data:g.data()};n(m.data)}else console.log("No such board!")}catch(h){console.error("Error fetching board:",h)}})()});return()=>c()},[]);const o=e.avatar?e.avatar.color:"#111827",a=e.avatar?e.avatar.initials:"A",l=e.name||"Guest",u=e.email||"example@example.com";return A.jsxs("div",{children:[r&&A.jsxs("div",{ref:t,children:[" ",A.jsx($B,{avatarColor:o,avatarIn:a,userName:l,userEmail:u})]}),A.jsx("nav",{className:"border-b-2 border-gray-500 h-[46px] sm:h-[47.5px] bg-zinc-800 text-lg absolute w-screen z-10",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("div",{className:"flex items-center gap-5",children:A.jsx(rR,{to:"/Home",children:A.jsxs("div",{className:"text-zinc-50 cursor-pointer flex gap-5 cat catlogo items-center font-bold",children:[A.jsx(zB,{}),"KittyTask"]})})}),A.jsx("div",{onClick:()=>{i(!r)},className:"flex mr-2 justify-center items-center hover:opacity-85 cursor-pointer",children:A.jsx("div",{className:"select-none mb-1 border-2",style:{backgroundColor:o,color:"rgb(39, 39, 42)",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"20px",border:"0 solid #555"},children:a.toUpperCase()})})]})})]})}function HB(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState(""),l=Wl(),[u,c]=M.useState(""),[f,p]=M.useState(""),[h,g]=M.useState(""),[m,v]=M.useState(""),[x,w]=M.useState(!1),E=dS(),R=async S=>{if(S.preventDefault(),a(""),w(!0),!n||!i){a("Please fill in both email and password."),w(!1);return}try{const k=await $O(rt,n,i);l("/Home")}catch(k){console.error("Login error:",k),a("Error logging in: "+k.message)}finally{w(!1)}},_=S=>{let k=0;for(let D=0;D<S.length;D++)k=S.charCodeAt(D)+((k<<5)-k);return`hsl(${k%360}, 70%, 80%)`},I=S=>S.split(" ").map(k=>k[0]).join(""),T=async S=>{if(S.preventDefault(),v(""),!u||!f||!h){v("Please fill in all fields (name, email, and password).");return}w(!0);const k=rk();try{const D=(await zO(k,f,h)).user,N=_(u),F=I(u);await ji(Ce(E,"users",D.uid),{name:u,email:f,createdAt:new Date,avatar:{color:N,initials:F}}),l("/Home")}catch(C){console.error("Error creating account:",C),v("Error creating account: "+C.message)}finally{w(!1)}},y=()=>{e(!t)};return A.jsxs("div",{className:"h-screen w-screen  flex justify-center items-center overflow-y-hidden  ",children:[x&&A.jsxs("div",{className:"flex flex-col justify-center items-center gap-6 p-4 ",children:[A.jsx(Mk,{variant:"bounce",color:"#d33dad",size:"large",text:"",textColor:"#f8f8f8"}),A.jsx("p",{className:"text-[1.3rem] font-bold text-center text-gray-900",style:{maxWidth:"350px"},children:"Hang tight! We're preparing everything for you..."})]}),!x&&A.jsxs("div",{className:`flex mx-52 my-auto  p-20 py-52 shadow-2xl justify-center rounded-xl  items-center gap-[17%] sm:gap-40 logincontainer ${t?"animate-right":""}`,children:[A.jsxs("div",{className:" flex flex-col justify-center items-center  ",children:[A.jsxs("div",{className:"signinmode flex flex-col justify-start items-center",children:[A.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"Already have an account?"}),A.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Welcome back! Sign in to continue organizing and making progress."}),A.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign in"}),A.jsx("img",{src:"./cat.svg",className:" hover:scale-110 w-[80%] max-w-[440px] hover:transform-cpu",alt:"cat"})]}),A.jsxs("form",{className:"singinfrom flex flex-col justify-center items-center",onSubmit:R,children:[A.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign in"}),A.jsxs("div",{className:"flex relative",children:[A.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),A.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>r(S.target.value)})]}),A.jsxs("div",{className:"flex relative",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),A.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>s(S.target.value)})]}),A.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4 sm:mt-5   py-1.5 px-9 rounded-2xl  text-m",children:"Sign in"}),o&&A.jsx("p",{className:"text-center text-xs  text-red-600",children:"Oops! It looks like your email or password is incorrect. Please try again."})]})]}),A.jsxs("div",{className:"flex flex-col justify-center items-center  justify-self-end",children:[A.jsxs("div",{className:"signupmode flex flex-col justify-center items-center",children:[A.jsx("h1",{className:" text-center text-2xl sm:text-2xl text-gray-100 mb-1 ",children:"New to KittyTask??"}),A.jsx("p",{className:" text-center text-lg text-gray-100 ",children:"Start organizing your life today! Sign up to manage your tasks, projects, and ideas all in one place."}),A.jsx("button",{onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-gray-100 m-4  py-1.5 px-20 rounded-2xl  text-m",children:"Sign up"}),A.jsx("img",{src:"./cat2.svg",className:" hover:scale-110 hover:transform-cpu w-[80%] max-w-[440px]",alt:"cat"})]}),A.jsxs("form",{className:"signupfrom flex flex-col  items-center",onSubmit:T,children:[A.jsx("h1",{className:" text-2xl text-black font-bold opacity-85 ",children:"Sign up"}),A.jsxs("div",{className:"flex relative",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),A.jsx("input",{type:"text",placeholder:"Username",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>c(S.target.value)})]}),A.jsxs("div",{className:"flex relative",children:[A.jsx("svg",{className:"size-6 absolute top-4 left-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})}),A.jsx("input",{type:"email",placeholder:"Email",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 text-black  rounded-2xl w-72",onChange:S=>p(S.target.value)})]}),A.jsxs("div",{className:"flex relative",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"size-6 absolute top-4 left-4",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),A.jsx("input",{type:"password",placeholder:"Password",className:"bg-neutral-300 bg-opacity-70 p-2 px-9 m-2 mb-2 text-black  rounded-2xl w-72",onChange:S=>g(S.target.value)})]}),A.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-gray-100 fm-4  sm:mt-5  py-1.5 px-9 rounded-2xl  text-m",children:"Sign up"}),m&&A.jsx("p",{className:"text-center text-xs  text-red-600",children:m})]})]})]})]})}function qB(){return A.jsx(eR,{children:A.jsx(KB,{})})}function KB(){const t=Ho();return A.jsxs("div",{className:"app",children:[t.pathname!=="/"&&A.jsx(WB,{}),A.jsxs(KA,{children:[A.jsx(gc,{path:"/Home",element:A.jsx(UB,{})}),A.jsx(gc,{path:"/",element:A.jsx(HB,{})}),A.jsx(gc,{path:"/Board/:id",element:A.jsx(s3,{})})]})]})}CE(document.getElementById("root")).render(A.jsx(M.StrictMode,{children:A.jsx(sA,{children:A.jsx(qB,{})})}));
